(self.webpackChunkLetsgoPwa=self.webpackChunkLetsgoPwa||[]).push([[179],{6217:(He,we,L)=>{"use strict";L.d(we,{nm:()=>un});var w=L(263);L(4650),L(259);var dt=L(5861),Mt=L(9681),Tt=L(4859),Ut=L(2090),ze=L(1877);const ht=new Map,Ft={activated:!1,tokenObservers:[]},Yt={initialized:!1,enabled:!1};function zt(De){return ht.get(De)||Object.assign({},Ft)}function fn(){return Yt}class _n{constructor(Te,Ze,Ot,tn,On){if(this.operation=Te,this.retryPolicy=Ze,this.getWaitDuration=Ot,this.lowerBound=tn,this.upperBound=On,this.pending=null,this.nextErrorWaitInterval=tn,tn>On)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var Ze=this;return(0,dt.Z)(function*(){Ze.stop();try{Ze.pending=new Ut.BH,yield function an(De){return new Promise(Te=>{setTimeout(Te,De)})}(Ze.getNextRun(Te)),Ze.pending.resolve(),yield Ze.pending.promise,Ze.pending=new Ut.BH,yield Ze.operation(),Ze.pending.resolve(),yield Ze.pending.promise,Ze.process(!0).catch(()=>{})}catch(Ot){Ze.retryPolicy(Ot)?Ze.process(!1).catch(()=>{}):Ze.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ze=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ze}}}const dn=new Ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bn(De){if(!zt(De).activated)throw dn.create("use-before-activation",{appName:De.name})}function br(De,Te){return gr.apply(this,arguments)}function gr(){return(gr=(0,dt.Z)(function*({url:De,body:Te},Ze){const Ot={"Content-Type":"application/json"},tn=Ze.getImmediate({optional:!0});if(tn){const Qe=yield tn.getHeartbeatsHeader();Qe&&(Ot["X-Firebase-Client"]=Qe)}const On={method:"POST",body:JSON.stringify(Te),headers:Ot};let Nn,Sr;try{Nn=yield fetch(De,On)}catch(Qe){throw dn.create("fetch-network-error",{originalErrorMessage:Qe?.message})}if(200!==Nn.status)throw dn.create("fetch-status-error",{httpStatus:Nn.status});try{Sr=yield Nn.json()}catch(Qe){throw dn.create("fetch-parse-error",{originalErrorMessage:Qe?.message})}const Nr=Sr.ttl.match(/^([\d.]+)(s)$/);if(!Nr||!Nr[2]||isNaN(Number(Nr[1])))throw dn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Sr.ttl}`});const $i=1e3*Number(Nr[1]),ds=Date.now();return{token:Sr.token,expireTimeMillis:ds+$i,issuedAtTimeMillis:ds}})).apply(this,arguments)}function Gr(De,Te){const{projectId:Ze,appId:Ot,apiKey:tn}=De.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ze}/apps/${Ot}:exchangeDebugToken?key=${tn}`,body:{debug_token:Te}}}const ar="firebase-app-check-store";let Qr=null;function mn(){return Qr||(Qr=new Promise((De,Te)=>{try{const Ze=indexedDB.open("firebase-app-check-database",1);Ze.onsuccess=Ot=>{De(Ot.target.result)},Ze.onerror=Ot=>{var tn;Te(dn.create("storage-open",{originalErrorMessage:null===(tn=Ot.target.error)||void 0===tn?void 0:tn.message}))},Ze.onupgradeneeded=Ot=>{0===Ot.oldVersion&&Ot.target.result.createObjectStore(ar,{keyPath:"compositeKey"})}}catch(Ze){Te(dn.create("storage-open",{originalErrorMessage:Ze?.message}))}}),Qr)}function xt(){return(xt=(0,dt.Z)(function*(De,Te){const Ot=(yield mn()).transaction(ar,"readwrite"),On=Ot.objectStore(ar).put({compositeKey:De,value:Te});return new Promise((Nn,Sr)=>{On.onsuccess=Nr=>{Nn()},Ot.onerror=Nr=>{var $i;Sr(dn.create("storage-set",{originalErrorMessage:null===($i=Nr.target.error)||void 0===$i?void 0:$i.message}))}})})).apply(this,arguments)}const Wn=new ze.Yd("@firebase/app-check");function In(De,Te){return(0,Ut.hl)()?function Vi(De,Te){return function qr(De,Te){return xt.apply(this,arguments)}(function Fn(De){return`${De.options.appId}-${De.name}`}(De),Te)}(De,Te).catch(Ze=>{Wn.warn(`Failed to write token to IndexedDB. Error: ${Ze}`)}):Promise.resolve()}function ys(){return fn().enabled}function fr(){return ls.apply(this,arguments)}function ls(){return(ls=(0,dt.Z)(function*(){const De=fn();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rn={error:"UNKNOWN_ERROR"};function jt(De){return Ut.US.encodeString(JSON.stringify(De),!1)}function wn(De){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,dt.Z)(function*(De,Te=!1){const Ze=De.app;bn(Ze);const Ot=zt(Ze);let On,tn=Ot.token;if(tn&&!Ce(tn)&&(Ot.token=void 0,tn=void 0),!tn){const Nr=yield Ot.cachedTokenPromise;Nr&&(Ce(Nr)?tn=Nr:yield In(Ze,void 0))}if(!Te&&tn&&Ce(tn))return{token:tn.token};let Sr,Nn=!1;if(ys()){Ot.exchangeTokenPromise||(Ot.exchangeTokenPromise=br(Gr(Ze,yield fr()),De.heartbeatServiceProvider).finally(()=>{Ot.exchangeTokenPromise=void 0}),Nn=!0);const Nr=yield Ot.exchangeTokenPromise;return yield In(Ze,Nr),Ot.token=Nr,{token:Nr.token}}try{Ot.exchangeTokenPromise||(Ot.exchangeTokenPromise=Ot.provider.getToken().finally(()=>{Ot.exchangeTokenPromise=void 0}),Nn=!0),tn=yield zt(Ze).exchangeTokenPromise}catch(Nr){"appCheck/throttled"===Nr.code?Wn.warn(Nr.message):Wn.error(Nr),On=Nr}return tn?On?Sr=Ce(tn)?{token:tn.token,internalError:On}:ae(On):(Sr={token:tn.token},Ot.token=tn,yield In(Ze,tn)):Sr=ae(On),Nn&&je(Ze,Sr),Sr})).apply(this,arguments)}function Mr(De,Te){const Ze=zt(De),Ot=Ze.tokenObservers.filter(tn=>tn.next!==Te);0===Ot.length&&Ze.tokenRefresher&&Ze.tokenRefresher.isRunning()&&Ze.tokenRefresher.stop(),Ze.tokenObservers=Ot}function Ve(De){const{app:Te}=De,Ze=zt(Te);let Ot=Ze.tokenRefresher;Ot||(Ot=function Ae(De){const{app:Te}=De;return new _n((0,dt.Z)(function*(){let Ot;if(Ot=zt(Te).token?yield wn(De,!0):yield wn(De),Ot.error)throw Ot.error;if(Ot.internalError)throw Ot.internalError}),()=>!0,()=>{const Ze=zt(Te);if(Ze.token){let Ot=Ze.token.issuedAtTimeMillis+.5*(Ze.token.expireTimeMillis-Ze.token.issuedAtTimeMillis)+3e5;return Ot=Math.min(Ot,Ze.token.expireTimeMillis-3e5),Math.max(0,Ot-Date.now())}return 0},3e4,96e4)}(De),Ze.tokenRefresher=Ot),!Ot.isRunning()&&Ze.isTokenAutoRefreshEnabled&&Ot.start()}function je(De,Te){const Ze=zt(De).tokenObservers;for(const Ot of Ze)try{"EXTERNAL"===Ot.type&&null!=Te.error?Ot.error(Te.error):Ot.next(Te)}catch{}}function Ce(De){return De.expireTimeMillis-Date.now()>0}function ae(De){return{token:jt(rn),error:De}}class Ie{constructor(Te,Ze){this.app=Te,this.heartbeatServiceProvider=Ze}_delete(){const{tokenObservers:Te}=zt(this.app);for(const Ze of Te)Mr(this.app,Ze.next);return Promise.resolve()}}const mr="app-check-internal";!function Ti(){(0,Mt._registerComponent)(new Tt.wA("app-check",De=>function Et(De,Te){return new Ie(De,Te)}(De.getProvider("app").getImmediate(),De.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,Te,Ze)=>{De.getProvider(mr).initialize()})),(0,Mt._registerComponent)(new Tt.wA(mr,De=>function Zt(De){return{getToken:Te=>wn(De,Te),addTokenListener:Te=>function Ht(De,Te,Ze,Ot){const{app:tn}=De,On=zt(tn);if(On.tokenObservers=[...On.tokenObservers,{next:Ze,error:Ot,type:Te}],On.token&&Ce(On.token)){const Sr=On.token;Promise.resolve().then(()=>{Ze({token:Sr.token}),Ve(De)}).catch(()=>{})}On.cachedTokenPromise.then(()=>Ve(De))}(De,"INTERNAL",Te),removeTokenListener:Te=>Mr(De.app,Te)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mt.registerVersion)("@firebase/app-check","0.6.1")}();class un{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},1041:(He,we,L)=>{"use strict";L.d(we,{zQ:()=>fn,ww:()=>_t,rT:()=>Ft,f7:()=>zt,L6:()=>ze,_Q:()=>ht,lh:()=>Yt,Qv:()=>Ut,nw:()=>Qn});var w=L(4650),M=L(7579),u=L(9646),fe=L(9751),_e=L(8996),Me=L(6451),Se=L(5363),ge=L(3900),Ee=L(4004),pe=L(4707),be=L(3099);function Ne(ot,It,Bt){let qt,Kt=!1;return ot&&"object"==typeof ot?({bufferSize:qt=1/0,windowTime:It=1/0,refCount:Kt=!1,scheduler:Bt}=ot):qt=ot??1/0,(0,be.B)({connector:()=>new pe.t(qt,It,Bt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Kt})}var ut=L(590),Je=L(576);function bt(ot,It){return(0,Je.m)(It)?(0,ge.w)(()=>ot,It):(0,ge.w)(()=>ot)}var ct=L(9468),Ye=L(9300),at=L(263),st=L(2011),Ct=L(6895),dt=L(6217),Mt=L(9260);const Ut=new w.OlP("angularfire2.auth.use-emulator"),ze=new w.OlP("angularfire2.auth.settings"),ht=new w.OlP("angularfire2.auth.tenant-id"),Ft=new w.OlP("angularfire2.auth.langugage-code"),Yt=new w.OlP("angularfire2.auth.use-device-language"),zt=new w.OlP("angularfire.auth.persistence"),Qn=(ot,It,Bt,qt,Kt,_n,an,An)=>(0,st.cc)(`${ot.name}.auth`,"AngularFireAuth",ot.name,()=>{const dn=It.runOutsideAngular(()=>ot.auth());if(Bt&&dn.useEmulator(...Bt),qt&&(dn.tenantId=qt),dn.languageCode=Kt,_n&&dn.useDeviceLanguage(),an)for(const[Ln,bn]of Object.entries(an))dn.settings[Ln]=bn;return An&&dn.setPersistence(An),dn},[Bt,qt,Kt,_n,an,An]);let fn=(()=>{class ot{constructor(Bt,qt,Kt,_n,an,An,dn,Ln,bn,Or,kr,br){const gr=new M.x,Xn=(0,u.of)(void 0).pipe((0,Se.Q)(an.outsideAngular),(0,ge.w)(()=>_n.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Ee.U)(()=>(0,st.on)(Bt,_n,qt)),(0,Ee.U)(Jr=>Qn(Jr,_n,An,Ln,bn,Or,dn,kr)),Ne({bufferSize:1,refCount:!1}));if((0,Ct.PM)(Kt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,u.of)(null);else{Xn.pipe((0,ut.P)()).subscribe();const Gr=Xn.pipe((0,ge.w)(ar=>ar.getRedirectResult().then(er=>er,()=>null)),at.iC,Ne({bufferSize:1,refCount:!1})),Cr=Xn.pipe((0,ge.w)(ar=>new fe.y(er=>({unsubscribe:_n.runOutsideAngular(()=>ar.onAuthStateChanged(Qr=>er.next(Qr),Qr=>er.error(Qr),()=>er.complete()))})))),vi=Xn.pipe((0,ge.w)(ar=>new fe.y(er=>({unsubscribe:_n.runOutsideAngular(()=>ar.onIdTokenChanged(Qr=>er.next(Qr),Qr=>er.error(Qr),()=>er.complete()))}))));this.authState=Gr.pipe(bt(Cr),(0,ct.R)(an.outsideAngular),(0,Se.Q)(an.insideAngular)),this.user=Gr.pipe(bt(vi),(0,ct.R)(an.outsideAngular),(0,Se.Q)(an.insideAngular)),this.idToken=this.user.pipe((0,ge.w)(ar=>ar?(0,_e.D)(ar.getIdToken()):(0,u.of)(null))),this.idTokenResult=this.user.pipe((0,ge.w)(ar=>ar?(0,_e.D)(ar.getIdTokenResult()):(0,u.of)(null))),this.credential=(0,Me.T)(Gr,gr,this.authState.pipe((0,Ye.h)(ar=>!ar))).pipe((0,Ee.U)(ar=>ar?.user?ar:null),(0,ct.R)(an.outsideAngular),(0,Se.Q)(an.insideAngular))}return(0,st.pX)(this,Xn,_n,{spy:{apply:(Jr,Gr,Cr)=>{(Jr.startsWith("signIn")||Jr.startsWith("createUser"))&&Cr.then(vi=>gr.next(vi))}}})}}return ot.\u0275fac=function(Bt){return new(Bt||ot)(w.LFG(st.Dh),w.LFG(st.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(at.HU),w.LFG(Ut,8),w.LFG(ze,8),w.LFG(ht,8),w.LFG(Ft,8),w.LFG(Yt,8),w.LFG(zt,8),w.LFG(dt.nm,8))},ot.\u0275prov=w.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"any"}),ot})(),_t=(()=>{class ot{constructor(){Mt.Z.registerVersion("angularfire",at.q4.full,"auth-compat")}}return ot.\u0275fac=function(Bt){return new(Bt||ot)},ot.\u0275mod=w.oAB({type:ot}),ot.\u0275inj=w.cJS({providers:[fn]}),ot})()},2011:(He,we,L)=>{"use strict";L.d(we,{Dh:()=>ge,GT:()=>Me,cc:()=>Je,hO:()=>ut,on:()=>pe,pX:()=>_e,xv:()=>Ee});var w=L(4650),M=L(9260),u=L(263);He=L.hmd(He);const fe=["ngOnDestroy"],_e=(at,st,Ct,dt={})=>new Proxy(at,{get:(Mt,Tt)=>Ct.runOutsideAngular(()=>{var Ut;if(at[Tt])return!(null===(Ut=dt?.spy)||void 0===Ut)&&Ut.get&&dt.spy.get(Tt,at[Tt]),at[Tt];if(fe.indexOf(Tt)>-1)return()=>{};const ze=st.toPromise().then(ht=>{const Ft=ht&&ht[Tt];return"function"==typeof Ft?Ft.bind(ht):Ft&&Ft.then?Ft.then(Yt=>Ct.run(()=>Yt)):Ct.run(()=>Ft)});return new Proxy(()=>{},{get:(ht,Ft)=>ze[Ft],apply:(ht,Ft,Yt)=>ze.then(zt=>{var Qn;const fn=zt&&zt(...Yt);return!(null===(Qn=dt?.spy)||void 0===Qn)&&Qn.apply&&dt.spy.apply(Tt,Yt,fn),fn})})})}),Me=(at,st)=>{st.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(dt=>{Object.defineProperty(at.prototype,dt,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,dt))})})};class Se{constructor(st){return st}}const ge=new w.OlP("angularfire2.app.options"),Ee=new w.OlP("angularfire2.app.name");function pe(at,st,Ct){const Mt="object"==typeof Ct&&Ct||{};Mt.name=Mt.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const Ut=M.Z.apps.filter(ze=>ze&&ze.name===Mt.name)[0]||st.runOutsideAngular(()=>M.Z.initializeApp(at,Mt));try{JSON.stringify(at)!==JSON.stringify(Ut.options)&&be("error",`${Ut.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Ut)}const be=(at,...st)=>{(0,w.X6Q)()&&typeof console<"u"&&console[at](...st)},Ne={provide:Se,useFactory:pe,deps:[ge,w.R0b,[new w.FiY,Ee]]};let ut=(()=>{class at{constructor(Ct){M.Z.registerVersion("angularfire",u.q4.full,"core"),M.Z.registerVersion("angularfire",u.q4.full,"app-compat"),M.Z.registerVersion("angular",w.q4F.full,Ct.toString())}static initializeApp(Ct,dt){return{ngModule:at,providers:[{provide:ge,useValue:Ct},{provide:Ee,useValue:dt}]}}}return at.\u0275fac=function(Ct){return new(Ct||at)(w.LFG(w.Lbi))},at.\u0275mod=w.oAB({type:at}),at.\u0275inj=w.cJS({providers:[Ne]}),at})();function Je(at,st,Ct,dt,Mt){const[,Tt,Ut]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===at)||[];if(Tt)return function bt(at,st){try{return at.toString()===st.toString()}catch{return at===st}}(Mt,Ut)||(Ye("error",`${st} was already initialized on the ${Ct} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:Mt,was:Ut})),Tt;{const ze=dt();return globalThis.\u0275AngularfireInstanceCache.push([at,ze,Mt]),ze}}const ct=!!He.hot,Ye=(at,...st)=>{(0,w.X6Q)()&&typeof console<"u"&&console[at](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(He,we,L)=>{"use strict";L.d(we,{q4:()=>Ca,iC:()=>Vo,HU:()=>Pn,vb:()=>ce,JM:()=>re});var w=L(4650),M=L(259),u=L(5861),fe=L(9681),_e=L(2090),Me=L(4859),Se=L(1877),ge=L(8766);const Ee="@firebase/installations",pe="0.6.1",Ne=`w:${pe}`,ut="FIS_v2",st=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(z){return z instanceof _e.ZR&&z.code.includes("request-failed")}function dt({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function Mt(z){return{token:z.token,requestStatus:2,expiresIn:zt(z.expiresIn),creationTime:Date.now()}}function Tt(z,Z){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,u.Z)(function*(z,Z){const Le=(yield Z.json()).error;return st.create("request-failed",{requestName:z,serverCode:Le.code,serverMessage:Le.message,serverStatus:Le.status})})).apply(this,arguments)}function ze({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function ht(z,{refreshToken:Z}){const oe=ze(z);return oe.append("Authorization",function Qn(z){return`${ut} ${z}`}(Z)),oe}function Ft(z){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(z){const Z=yield z();return Z.status>=500&&Z.status<600?z():Z})).apply(this,arguments)}function zt(z){return Number(z.replace("s","000"))}function fn(z,Z){return _t.apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*({appConfig:z,heartbeatServiceProvider:Z},{fid:oe}){const Le=dt(z),tt=ze(z),Dt=Z.getImmediate({optional:!0});if(Dt){const cr=yield Dt.getHeartbeatsHeader();cr&&tt.append("x-firebase-client",cr)}const Zn={method:"POST",headers:tt,body:JSON.stringify({fid:oe,authVersion:ut,appId:z.appId,sdkVersion:Ne})},or=yield Ft(()=>fetch(Le,Zn));if(or.ok){const cr=yield or.json();return{fid:cr.fid||oe,registrationStatus:2,refreshToken:cr.refreshToken,authToken:Mt(cr.authToken)}}throw yield Tt("Create Installation",or)})).apply(this,arguments)}function ot(z){return new Promise(Z=>{setTimeout(Z,z)})}const Bt=/^[cdef][\w-]{21}$/;function Kt(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const oe=function _n(z){return function It(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return Bt.test(oe)?oe:""}catch{return""}}function an(z){return`${z.appName}!${z.appId}`}const An=new Map;function dn(z,Z){const oe=an(z);Or(oe,Z),function kr(z,Z){const oe=function gr(){return!br&&"BroadcastChannel"in self&&(br=new BroadcastChannel("[Firebase] FID Change"),br.onmessage=z=>{Or(z.data.key,z.data.fid)}),br}();oe&&oe.postMessage({key:z,fid:Z}),function Xn(){0===An.size&&br&&(br.close(),br=null)}()}(oe,Z)}function Or(z,Z){const oe=An.get(z);if(oe)for(const Le of oe)Le(Z)}let br=null;const Cr="firebase-installations-store";let vi=null;function ar(){return vi||(vi=(0,ge.X3)("firebase-installations-database",1,{upgrade:(z,Z)=>{0===Z&&z.createObjectStore(Cr)}})),vi}function er(z,Z){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(z,Z){const oe=an(z),tt=(yield ar()).transaction(Cr,"readwrite"),Dt=tt.objectStore(Cr),en=yield Dt.get(oe);return yield Dt.put(Z,oe),yield tt.done,(!en||en.fid!==Z.fid)&&dn(z,Z.fid),Z})).apply(this,arguments)}function mn(z){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(z){const Z=an(z),Le=(yield ar()).transaction(Cr,"readwrite");yield Le.objectStore(Cr).delete(Z),yield Le.done})).apply(this,arguments)}function Vi(z,Z){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(z,Z){const oe=an(z),tt=(yield ar()).transaction(Cr,"readwrite"),Dt=tt.objectStore(Cr),en=yield Dt.get(oe),Zn=Z(en);return void 0===Zn?yield Dt.delete(oe):yield Dt.put(Zn,oe),yield tt.done,Zn&&(!en||en.fid!==Zn.fid)&&dn(z,Zn.fid),Zn})).apply(this,arguments)}function si(z){return qr.apply(this,arguments)}function qr(){return(qr=(0,u.Z)(function*(z){let Z;const oe=yield Vi(z.appConfig,Le=>{const tt=xt(Le),Dt=kn(z,tt);return Z=Dt.registrationPromise,Dt.installationEntry});return""===oe.fid?{installationEntry:yield Z}:{installationEntry:oe,registrationPromise:Z}})).apply(this,arguments)}function xt(z){return In(z||{fid:Kt(),registrationStatus:0})}function kn(z,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(st.create("app-offline"))};const oe={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},Le=function cn(z,Z){return Fn.apply(this,arguments)}(z,oe);return{installationEntry:oe,registrationPromise:Le}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:Wn(z)}:{installationEntry:Z}}function Fn(){return(Fn=(0,u.Z)(function*(z,Z){try{const oe=yield fn(z,Z);return er(z.appConfig,oe)}catch(oe){throw Ct(oe)&&409===oe.customData.serverCode?yield mn(z.appConfig):yield er(z.appConfig,{fid:Z.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function Wn(z){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(z){let Z=yield es(z.appConfig);for(;1===Z.registrationStatus;)yield ot(100),Z=yield es(z.appConfig);if(0===Z.registrationStatus){const{installationEntry:oe,registrationPromise:Le}=yield si(z);return Le||oe}return Z})).apply(this,arguments)}function es(z){return Vi(z,Z=>{if(!Z)throw st.create("installation-not-found");return In(Z)})}function In(z){return function us(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function yr(z,Z){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*({appConfig:z,heartbeatServiceProvider:Z},oe){const Le=fr(z,oe),tt=ht(z,oe),Dt=Z.getImmediate({optional:!0});if(Dt){const cr=yield Dt.getHeartbeatsHeader();cr&&tt.append("x-firebase-client",cr)}const Zn={method:"POST",headers:tt,body:JSON.stringify({installation:{sdkVersion:Ne,appId:z.appId}})},or=yield Ft(()=>fetch(Le,Zn));if(or.ok)return Mt(yield or.json());throw yield Tt("Generate Auth Token",or)})).apply(this,arguments)}function fr(z,{fid:Z}){return`${dt(z)}/${Z}/authTokens:generate`}function ls(z){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(z,Z=!1){let oe;const Le=yield Vi(z.appConfig,Dt=>{if(!Mr(Dt))throw st.create("not-registered");const en=Dt.authToken;if(!Z&&Ve(en))return Dt;if(1===en.requestStatus)return oe=rn(z,Z),Dt;{if(!navigator.onLine)throw st.create("app-offline");const Zn=je(Dt);return oe=Kn(z,Zn),Zn}});return oe?yield oe:Le.authToken})).apply(this,arguments)}function rn(z,Z){return jt.apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(z,Z){let oe=yield wn(z.appConfig);for(;1===oe.authToken.requestStatus;)yield ot(100),oe=yield wn(z.appConfig);const Le=oe.authToken;return 0===Le.requestStatus?ls(z,Z):Le})).apply(this,arguments)}function wn(z){return Vi(z,Z=>{if(!Mr(Z))throw st.create("not-registered");return function Ce(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function Kn(z,Z){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(z,Z){try{const oe=yield yr(z,Z),Le=Object.assign(Object.assign({},Z),{authToken:oe});return yield er(z.appConfig,Le),oe}catch(oe){if(!Ct(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const Le=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield er(z.appConfig,Le)}else yield mn(z.appConfig);throw oe}})).apply(this,arguments)}function Mr(z){return void 0!==z&&2===z.registrationStatus}function Ve(z){return 2===z.requestStatus&&!function Ae(z){const Z=Date.now();return Z<z.creationTime||z.creationTime+z.expiresIn<Z+36e5}(z)}function je(z){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:Z})}function Ie(){return(Ie=(0,u.Z)(function*(z){const Z=z,{installationEntry:oe,registrationPromise:Le}=yield si(Z);return Le?Le.catch(console.error):ls(Z).catch(console.error),oe.fid})).apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(z,Z=!1){const oe=z;return yield Tn(oe),(yield ls(oe,Z)).token})).apply(this,arguments)}function Tn(z){return $e.apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(z){const{registrationPromise:Z}=yield si(z);Z&&(yield Z)})).apply(this,arguments)}function Es(z){return st.create("missing-app-config-values",{valueName:z})}const Wr="installations",Rs=z=>{const Z=z.getProvider("app").getImmediate(),oe=function ci(z){if(!z||!z.options)throw Es("App Configuration");if(!z.name)throw Es("App Name");const Z=["projectId","apiKey","appId"];for(const oe of Z)if(!z.options[oe])throw Es(oe);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(Z);return{app:Z,appConfig:oe,heartbeatServiceProvider:(0,fe._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},$s=z=>{const Z=z.getProvider("app").getImmediate(),oe=(0,fe._getProvider)(Z,Wr).getImmediate();return{getId:()=>function ae(z){return Ie.apply(this,arguments)}(oe),getToken:tt=>function Et(z){return Zt.apply(this,arguments)}(oe,tt)}};(function Ds(){(0,fe._registerComponent)(new Me.wA(Wr,Rs,"PUBLIC")),(0,fe._registerComponent)(new Me.wA("installations-internal",$s,"PRIVATE"))})(),(0,fe.registerVersion)(Ee,pe),(0,fe.registerVersion)(Ee,pe,"esm2017");const di="@firebase/remote-config",wi=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ke{constructor(Z,oe,Le,tt){this.client=Z,this.storage=oe,this.storageCache=Le,this.logger=tt}isCachedDataFresh(Z,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Le=Date.now()-oe,tt=Le<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Le}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${tt}.`),tt}fetch(Z){var oe=this;return(0,u.Z)(function*(){const[Le,tt]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(tt&&oe.isCachedDataFresh(Z.cacheMaxAgeMillis,Le))return tt;Z.eTag=tt&&tt.eTag;const Dt=yield oe.client.fetch(Z),en=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Dt.status&&en.push(oe.storage.setLastSuccessfulFetchResponse(Dt)),yield Promise.all(en),Dt})()}}function vt(z=navigator){return z.languages&&z.languages[0]||z.language}class rt{constructor(Z,oe,Le,tt,Dt,en){this.firebaseInstallations=Z,this.sdkVersion=oe,this.namespace=Le,this.projectId=tt,this.apiKey=Dt,this.appId=en}fetch(Z){var oe=this;return(0,u.Z)(function*(){const[Le,tt]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),en=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},or={sdk_version:oe.sdkVersion,app_instance_id:Le,app_instance_id_token:tt,app_id:oe.appId,language_code:vt()},cr={method:"POST",headers:Zn,body:JSON.stringify(or)},Ur=fetch(en,cr),zr=new Promise((Oo,Eo)=>{Z.signal.addEventListener(()=>{const oc=new Error("The operation was aborted.");oc.name="AbortError",Eo(oc)})});let ws;try{yield Promise.race([Ur,zr]),ws=yield Ur}catch(Oo){let Eo="fetch-client-network";throw"AbortError"===Oo?.name&&(Eo="fetch-timeout"),wi.create(Eo,{originalErrorMessage:Oo?.message})}let uo=ws.status;const za=ws.headers.get("ETag")||void 0;let Uo,Su;if(200===ws.status){let Oo;try{Oo=yield ws.json()}catch(Eo){throw wi.create("fetch-client-parse",{originalErrorMessage:Eo?.message})}Uo=Oo.entries,Su=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===Su?uo=500:"NO_CHANGE"===Su?uo=304:("NO_TEMPLATE"===Su||"EMPTY_CONFIG"===Su)&&(Uo={}),304!==uo&&200!==uo)throw wi.create("fetch-status",{httpStatus:uo});return{status:uo,eTag:za,config:Uo}})()}}class Te{constructor(Z,oe){this.client=Z,this.storage=oe}fetch(Z){var oe=this;return(0,u.Z)(function*(){const Le=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(Z,Le)})()}attemptFetch(Z,{throttleEndTimeMillis:oe,backoffCount:Le}){var tt=this;return(0,u.Z)(function*(){yield function kt(z,Z){return new Promise((oe,Le)=>{const tt=Math.max(Z-Date.now(),0),Dt=setTimeout(oe,tt);z.addEventListener(()=>{clearTimeout(Dt),Le(wi.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,oe);try{const Dt=yield tt.client.fetch(Z);return yield tt.storage.deleteThrottleMetadata(),Dt}catch(Dt){if(!function De(z){if(!(z instanceof _e.ZR&&z.customData))return!1;const Z=Number(z.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(Dt))throw Dt;const en={throttleEndTimeMillis:Date.now()+(0,_e.$s)(Le),backoffCount:Le+1};return yield tt.storage.setThrottleMetadata(en),tt.attemptFetch(Z,en)}})()}}class tn{constructor(Z,oe,Le,tt,Dt){this.app=Z,this._client=oe,this._storageCache=Le,this._storage=tt,this._logger=Dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function On(z,Z){const oe=z.target.error||void 0;return wi.create(Z,{originalErrorMessage:oe&&oe?.message})}const Nn="app_namespace_store";class ds{constructor(Z,oe,Le,tt=function $i(){return new Promise((z,Z)=>{try{const oe=indexedDB.open("firebase_remote_config",1);oe.onerror=Le=>{Z(On(Le,"storage-open"))},oe.onsuccess=Le=>{z(Le.target.result)},oe.onupgradeneeded=Le=>{0===Le.oldVersion&&Le.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(oe){Z(wi.create("storage-open",{originalErrorMessage:oe?.message}))}})}()){this.appId=Z,this.appName=oe,this.namespace=Le,this.openDbPromise=tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var oe=this;return(0,u.Z)(function*(){const Le=yield oe.openDbPromise;return new Promise((tt,Dt)=>{const Zn=Le.transaction([Nn],"readonly").objectStore(Nn),or=oe.createCompositeKey(Z);try{const cr=Zn.get(or);cr.onerror=Ur=>{Dt(On(Ur,"storage-get"))},cr.onsuccess=Ur=>{const zr=Ur.target.result;tt(zr?zr.value:void 0)}}catch(cr){Dt(wi.create("storage-get",{originalErrorMessage:cr?.message}))}})})()}set(Z,oe){var Le=this;return(0,u.Z)(function*(){const tt=yield Le.openDbPromise;return new Promise((Dt,en)=>{const or=tt.transaction([Nn],"readwrite").objectStore(Nn),cr=Le.createCompositeKey(Z);try{const Ur=or.put({compositeKey:cr,value:oe});Ur.onerror=zr=>{en(On(zr,"storage-set"))},Ur.onsuccess=()=>{Dt()}}catch(Ur){en(wi.create("storage-set",{originalErrorMessage:Ur?.message}))}})})()}delete(Z){var oe=this;return(0,u.Z)(function*(){const Le=yield oe.openDbPromise;return new Promise((tt,Dt)=>{const Zn=Le.transaction([Nn],"readwrite").objectStore(Nn),or=oe.createCompositeKey(Z);try{const cr=Zn.delete(or);cr.onerror=Ur=>{Dt(On(Ur,"storage-delete"))},cr.onsuccess=()=>{tt()}}catch(cr){Dt(wi.create("storage-delete",{originalErrorMessage:cr?.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class Qe{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,u.Z)(function*(){const oe=Z.storage.getLastFetchStatus(),Le=Z.storage.getLastSuccessfulFetchTimestampMillis(),tt=Z.storage.getActiveConfig(),Dt=yield oe;Dt&&(Z.lastFetchStatus=Dt);const en=yield Le;en&&(Z.lastSuccessfulFetchTimestampMillis=en);const Zn=yield tt;Zn&&(Z.activeConfig=Zn)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function To(){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function Pe(){(0,fe._registerComponent)(new Me.wA("remote-config",function z(Z,{instanceIdentifier:oe}){const Le=Z.getProvider("app").getImmediate(),tt=Z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wi.create("registration-window");if(!(0,_e.hl)())throw wi.create("indexed-db-unavailable");const{projectId:Dt,apiKey:en,appId:Zn}=Le.options;if(!Dt)throw wi.create("registration-project-id");if(!en)throw wi.create("registration-api-key");if(!Zn)throw wi.create("registration-app-id");const or=new ds(Zn,Le.name,oe=oe||"firebase"),cr=new Qe(or),Ur=new Se.Yd(di);Ur.logLevel=Se.in.ERROR;const zr=new rt(tt,fe.SDK_VERSION,oe,Dt,en,Zn),ws=new Te(zr,or),uo=new ke(ws,or,cr,Ur),za=new tn(Le,uo,cr,or,Ur);return function wr(z){const Z=(0,_e.m9)(z);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(za),za},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(di,"0.4.1"),(0,fe.registerVersion)(di,"0.4.1","esm2017")}();const Qs="/firebase-messaging-sw.js",Qa="/firebase-cloud-messaging-push-scope",Co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Di="google.c.a.c_id",Hi="google.c.a.c_l",Ju="google.c.a.ts",ho="google.c.a.e";var Do=(()=>{return(z=Do||(Do={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",Do;var z})();function fo(z){const Z=new Uint8Array(z);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ml(z){const oe=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Le=atob(oe),tt=new Uint8Array(Le.length);for(let Dt=0;Dt<Le.length;++Dt)tt[Dt]=Le.charCodeAt(Dt);return tt}const Eu="fcm_token_details_db",ps="fcm_token_object_Store";function Xa(z){return so.apply(this,arguments)}function so(){return so=(0,u.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Dt=>Dt.name).includes(Eu))return null;let Z=null;return(yield(0,ge.X3)(Eu,5,{upgrade:(Le=(0,u.Z)(function*(tt,Dt,en,Zn){var or;if(Dt<2||!tt.objectStoreNames.contains(ps))return;const cr=Zn.objectStore(ps),Ur=yield cr.index("fcmSenderId").get(z);if(yield cr.clear(),Ur)if(2===Dt){const zr=Ur;if(!zr.auth||!zr.p256dh||!zr.endpoint)return;Z={token:zr.fcmToken,createTime:null!==(or=zr.createTime)&&void 0!==or?or:Date.now(),subscriptionOptions:{auth:zr.auth,p256dh:zr.p256dh,endpoint:zr.endpoint,swScope:zr.swScope,vapidKey:"string"==typeof zr.vapidKey?zr.vapidKey:fo(zr.vapidKey)}}}else if(3===Dt){const zr=Ur;Z={token:zr.fcmToken,createTime:zr.createTime,subscriptionOptions:{auth:fo(zr.auth),p256dh:fo(zr.p256dh),endpoint:zr.endpoint,swScope:zr.swScope,vapidKey:fo(zr.vapidKey)}}}else if(4===Dt){const zr=Ur;Z={token:zr.fcmToken,createTime:zr.createTime,subscriptionOptions:{auth:fo(zr.auth),p256dh:fo(zr.p256dh),endpoint:zr.endpoint,swScope:zr.swScope,vapidKey:fo(zr.vapidKey)}}}}),function(Dt,en,Zn,or){return Le.apply(this,arguments)})})).close(),yield(0,ge.Lj)(Eu),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),Lu(Z)?Z:null;var Le}),so.apply(this,arguments)}function Lu(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:Z}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const ya="firebase-messaging-store";let So=null;function xs(){return So||(So=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(z,Z)=>{0===Z&&z.createObjectStore(ya)}})),So}function po(z){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,u.Z)(function*(z){const Z=eu(z),Le=yield(yield xs()).transaction(ya).objectStore(ya).get(Z);if(Le)return Le;{const tt=yield Xa(z.appConfig.senderId);if(tt)return yield oo(z,tt),tt}})).apply(this,arguments)}function oo(z,Z){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(z,Z){const oe=eu(z),tt=(yield xs()).transaction(ya,"readwrite");return yield tt.objectStore(ya).put(Z,oe),yield tt.done,Z})).apply(this,arguments)}function ba(z){return Io.apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(z){const Z=eu(z),Le=(yield xs()).transaction(ya,"readwrite");yield Le.objectStore(ya).delete(Z),yield Le.done})).apply(this,arguments)}function eu({appConfig:z}){return z.appId}const Si=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ls(z,Z){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(z,Z){const oe=yield tr(z),Le=Gs(Z),tt={method:"POST",headers:oe,body:JSON.stringify(Le)};let Dt;try{Dt=yield(yield fetch(Wo(z.appConfig),tt)).json()}catch(en){throw Si.create("token-subscribe-failed",{errorInfo:en?.toString()})}if(Dt.error)throw Si.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Si.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function Un(z,Z){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(z,Z){const oe=yield tr(z),Le=Gs(Z.subscriptionOptions),tt={method:"PATCH",headers:oe,body:JSON.stringify(Le)};let Dt;try{Dt=yield(yield fetch(`${Wo(z.appConfig)}/${Z.token}`,tt)).json()}catch(en){throw Si.create("token-update-failed",{errorInfo:en?.toString()})}if(Dt.error)throw Si.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Si.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function qi(z,Z){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(z,Z){const Le={method:"DELETE",headers:yield tr(z)};try{const Dt=yield(yield fetch(`${Wo(z.appConfig)}/${Z}`,Le)).json();if(Dt.error)throw Si.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(tt){throw Si.create("token-unsubscribe-failed",{errorInfo:tt?.toString()})}})).apply(this,arguments)}function Wo({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function tr(z){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*({appConfig:z,installations:Z}){const oe=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function Gs({p256dh:z,auth:Z,endpoint:oe,vapidKey:Le}){const tt={web:{endpoint:oe,auth:Z,p256dh:z}};return Le!==Co&&(tt.web.applicationPubKey=Le),tt}const go=6048e5;function _l(z){return ao.apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(z){const Z=yield Ma(z.swRegistration,z.vapidKey),oe={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:Z.endpoint,auth:fo(Z.getKey("auth")),p256dh:fo(Z.getKey("p256dh"))},Le=yield po(z.firebaseDependencies);if(Le){if(Qu(Le.subscriptionOptions,oe))return Date.now()>=Le.createTime+go?Fr(z,{token:Le.token,createTime:Date.now(),subscriptionOptions:oe}):Le.token;try{yield qi(z.firebaseDependencies,Le.token)}catch(tt){console.warn(tt)}return wu(z.firebaseDependencies,oe)}return wu(z.firebaseDependencies,oe)})).apply(this,arguments)}function tu(z){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(z){const Z=yield po(z.firebaseDependencies);Z&&(yield qi(z.firebaseDependencies,Z.token),yield ba(z.firebaseDependencies));const oe=yield z.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function Fr(z,Z){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(z,Z){try{const oe=yield Un(z.firebaseDependencies,Z),Le=Object.assign(Object.assign({},Z),{token:oe,createTime:Date.now()});return yield oo(z.firebaseDependencies,Le),oe}catch(oe){throw yield tu(z),oe}})).apply(this,arguments)}function wu(z,Z){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(z,Z){const Le={token:yield Ls(z,Z),createTime:Date.now(),subscriptionOptions:Z};return yield oo(z,Le),Le.token})).apply(this,arguments)}function Ma(z,Z){return nu.apply(this,arguments)}function nu(){return(nu=(0,u.Z)(function*(z,Z){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ml(Z)})})).apply(this,arguments)}function Qu(z,Z){return Z.vapidKey===z.vapidKey&&Z.endpoint===z.endpoint&&Z.auth===z.auth&&Z.p256dh===z.p256dh}function ru(z){const Z={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function iu(z,Z){if(!Z.notification)return;z.notification={};const oe=Z.notification.title;oe&&(z.notification.title=oe);const Le=Z.notification.body;Le&&(z.notification.body=Le);const tt=Z.notification.image;tt&&(z.notification.image=tt);const Dt=Z.notification.icon;Dt&&(z.notification.icon=Dt)}(Z,z),function B(z,Z){Z.data&&(z.data=Z.data)}(Z,z),function j(z,Z){var oe,Le,tt,Dt,en;if(!(Z.fcmOptions||null!==(oe=Z.notification)&&void 0!==oe&&oe.click_action))return;z.fcmOptions={};const Zn=null!==(tt=null===(Le=Z.fcmOptions)||void 0===Le?void 0:Le.link)&&void 0!==tt?tt:null===(Dt=Z.notification)||void 0===Dt?void 0:Dt.click_action;Zn&&(z.fcmOptions.link=Zn);const or=null===(en=Z.fcmOptions)||void 0===en?void 0:en.analytics_label;or&&(z.fcmOptions.analyticsLabel=or)}(Z,z),Z}function H(z){return"object"==typeof z&&!!z&&Di in z}function le(z,Z){const oe=[];for(let Le=0;Le<z.length;Le++)oe.push(z.charAt(Le)),Le<Z.length&&oe.push(Z.charAt(Le));return oe.join("")}function Bn(z){return Si.create("missing-app-config-values",{valueName:z})}le("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),le("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ti{constructor(Z,oe,Le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const tt=function gt(z){if(!z||!z.options)throw Bn("App Configuration Object");if(!z.name)throw Bn("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=z;for(const Le of Z)if(!oe[Le])throw Bn(Le);return{appName:z.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:tt,installations:oe,analyticsProvider:Le}}_delete(){return Promise.resolve()}}function gs(z){return wa.apply(this,arguments)}function wa(){return(wa=(0,u.Z)(function*(z){try{z.swRegistration=yield navigator.serviceWorker.register(Qs,{scope:Qa}),z.swRegistration.update().catch(()=>{})}catch(Z){throw Si.create("failed-service-worker-registration",{browserErrorMessage:Z?.message})}})).apply(this,arguments)}function js(z,Z){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(z,Z){if(!Z&&!z.swRegistration&&(yield gs(z)),Z||!z.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw Si.create("invalid-sw-registration");z.swRegistration=Z}})).apply(this,arguments)}function qo(z,Z){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(z,Z){Z?z.vapidKey=Z:z.vapidKey||(z.vapidKey=Co)})).apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(z,Z){if(!navigator)throw Si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Si.create("permission-blocked");return yield qo(z,Z?.vapidKey),yield js(z,Z?.serviceWorkerRegistration),_l(z)})).apply(this,arguments)}function _o(z,Z,oe){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(z,Z,oe){const Le=Ko(Z);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(Le,{message_id:oe[Di],message_name:oe[Hi],message_time:oe[Ju],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ko(z){switch(z){case Do.NOTIFICATION_CLICKED:return"notification_open";case Do.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xu(){return(Xu=(0,u.Z)(function*(z,Z){const oe=Z.data;if(!oe.isFirebaseMessaging)return;z.onMessageHandler&&oe.messageType===Do.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(ru(oe)):z.onMessageHandler.next(ru(oe)));const Le=oe.data;H(Le)&&"1"===Le[ho]&&(yield _o(z,oe.messageType,Le))})).apply(this,arguments)}const Bu="@firebase/messaging",$a=z=>{const Z=new ti(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function Ec(z,Z){return Xu.apply(this,arguments)}(Z,oe)),Z},Vu=z=>{const Z=z.getProvider("messaging").getImmediate();return{getToken:Le=>function ts(z,Z){return Bs.apply(this,arguments)}(Z,Le)}};function su(){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ec(){(0,fe._registerComponent)(new Me.wA("messaging",$a,"PUBLIC")),(0,fe._registerComponent)(new Me.wA("messaging-internal",Vu,"PRIVATE")),(0,fe.registerVersion)(Bu,"0.12.1"),(0,fe.registerVersion)(Bu,"0.12.1","esm2017")}();const Ms="analytics",Vr="firebase_id",Zo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kl="https://www.googletagmanager.com/gtag/js",xo=new Se.Yd("@firebase/analytics");function $u(z){return Promise.all(z.map(Z=>Z.catch(oe=>oe)))}function tc(z,Z){const oe=document.createElement("script");oe.src=`${kl}?l=${z}&id=${Z}`,oe.async=!0,document.head.appendChild(oe)}function gi(z,Z,oe,Le,tt,Dt){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(z,Z,oe,Le,tt,Dt){const en=Le[tt];try{if(en)yield Z[en];else{const or=(yield $u(oe)).find(cr=>cr.measurementId===tt);or&&(yield Z[or.appId])}}catch(Zn){xo.error(Zn)}z("config",tt,Dt)})).apply(this,arguments)}function X(z,Z,oe,Le,tt){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(z,Z,oe,Le,tt){try{let Dt=[];if(tt&&tt.send_to){let en=tt.send_to;Array.isArray(en)||(en=[en]);const Zn=yield $u(oe);for(const or of en){const cr=Zn.find(zr=>zr.measurementId===or),Ur=cr&&Z[cr.appId];if(!Ur){Dt=[];break}Dt.push(Ur)}}0===Dt.length&&(Dt=Object.values(Z)),yield Promise.all(Dt),z("event",Le,tt||{})}catch(Dt){xo.error(Dt)}})).apply(this,arguments)}function yt(z){const Z=window.document.getElementsByTagName("script");for(const oe of Object.values(Z))if(oe.src&&oe.src.includes(kl)&&oe.src.includes(z))return oe;return null}const yn=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ai=new class Fi{constructor(Z={},oe=1e3){this.throttleMetadata=Z,this.intervalMillis=oe}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,oe){this.throttleMetadata[Z]=oe}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function rs(z){return new Headers({Accept:"application/json","x-goog-api-key":z})}function Li(z){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(z){var Z;const{appId:oe,apiKey:Le}=z,tt={method:"GET",headers:rs(Le)},Dt=Zo.replace("{app-id}",oe),en=yield fetch(Dt,tt);if(200!==en.status&&304!==en.status){let Zn="";try{const or=yield en.json();null!==(Z=or.error)&&void 0!==Z&&Z.message&&(Zn=or.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:en.status,responseMessage:Zn})}return en.json()})).apply(this,arguments)}function Lo(z){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(z,Z=ai,oe){const{appId:Le,apiKey:tt,measurementId:Dt}=z.options;if(!Le)throw yn.create("no-app-id");if(!tt){if(Dt)return{measurementId:Dt,appId:Le};throw yn.create("no-api-key")}const en=Z.getThrottleMetadata(Le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Zn=new Ga;return setTimeout((0,u.Z)(function*(){Zn.abort()}),void 0!==oe?oe:6e4),vo({appId:Le,apiKey:tt,measurementId:Dt},en,Zn,Z)})).apply(this,arguments)}function vo(z,Z,oe){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,u.Z)(function*(z,{throttleEndTimeMillis:Z,backoffCount:oe},Le,tt=ai){var Dt;const{appId:en,measurementId:Zn}=z;try{yield ou(Le,Z)}catch(or){if(Zn)return xo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${or?.message}]`),{appId:en,measurementId:Zn};throw or}try{const or=yield Li(z);return tt.deleteThrottleMetadata(en),or}catch(or){const cr=or;if(!Cu(cr)){if(tt.deleteThrottleMetadata(en),Zn)return xo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${cr?.message}]`),{appId:en,measurementId:Zn};throw or}const Ur=503===Number(null===(Dt=cr?.customData)||void 0===Dt?void 0:Dt.httpStatus)?(0,_e.$s)(oe,tt.intervalMillis,30):(0,_e.$s)(oe,tt.intervalMillis),zr={throttleEndTimeMillis:Date.now()+Ur,backoffCount:oe+1};return tt.setThrottleMetadata(en,zr),xo.debug(`Calling attemptFetch again in ${Ur} millis`),vo(z,zr,Le,tt)}})).apply(this,arguments)}function ou(z,Z){return new Promise((oe,Le)=>{const tt=Math.max(Z-Date.now(),0),Dt=setTimeout(oe,tt);z.addEventListener(()=>{clearTimeout(Dt),Le(yn.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function Cu(z){if(!(z instanceof _e.ZR&&z.customData))return!1;const Z=Number(z.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class Ga{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}let vl,Fl;function ua(){return(ua=(0,u.Z)(function*(z,Z,oe,Le,tt){if(tt&&tt.global)z("event",oe,Le);else{const Dt=yield Z;z("event",oe,Object.assign(Object.assign({},Le),{send_to:Dt}))}})).apply(this,arguments)}function eo(z){Fl=z}function Os(z){vl=z}function Du(){return uu.apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(){if(!(0,_e.hl)())return xo.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(z){return xo.warn(yn.create("indexeddb-unavailable",{errorInfo:z?.toString()}).message),!1}return!0})).apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(z,Z,oe,Le,tt,Dt,en){var Zn;const or=Lo(z);or.then(uo=>{oe[uo.measurementId]=uo.appId,z.options.measurementId&&uo.measurementId!==z.options.measurementId&&xo.warn(`The measurement ID in the local Firebase config (${z.options.measurementId}) does not match the measurement ID fetched from the server (${uo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(uo=>xo.error(uo)),Z.push(or);const cr=Du().then(uo=>{if(uo)return Le.getId()}),[Ur,zr]=yield Promise.all([or,cr]);yt(Dt)||tc(Dt,Ur.measurementId),Fl&&(tt("consent","default",Fl),eo(void 0)),tt("js",new Date);const ws=null!==(Zn=en?.config)&&void 0!==Zn?Zn:{};return ws.origin="firebase",ws.update=!0,null!=zr&&(ws[Vr]=zr),tt("config",Ur.measurementId,ws),vl&&(tt("set",vl),Os(void 0)),Ur.measurementId})).apply(this,arguments)}class Ws{constructor(Z){this.app=Z}_delete(){return delete is[this.app.options.appId],Promise.resolve()}}let is={},nl=[];const Ta={};let bc,Mo,la="dataLayer",No=!1;function to(z,Z,oe){!function de(){const z=[];if((0,_e.ru)()&&z.push("This is a browser extension environment."),(0,_e.zI)()||z.push("Cookies are not available."),z.length>0){const Z=z.map((Le,tt)=>`(${tt+1}) ${Le}`).join(" "),oe=yn.create("invalid-analytics-context",{errorInfo:Z});xo.warn(oe.message)}}();const Le=z.options.appId;if(!Le)throw yn.create("no-app-id");if(!z.options.apiKey){if(!z.options.measurementId)throw yn.create("no-api-key");xo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=is[Le])throw yn.create("already-exists",{id:Le});if(!No){!function Tu(z){let Z=[];Array.isArray(window[z])?Z=window[z]:window[z]=Z}(la);const{wrappedGtag:Dt,gtagCore:en}=function Be(z,Z,oe,Le,tt){let Dt=function(...en){window[Le].push(arguments)};return window[tt]&&"function"==typeof window[tt]&&(Dt=window[tt]),window[tt]=function se(z,Z,oe,Le){function Dt(){return(Dt=(0,u.Z)(function*(en,Zn,or){try{"event"===en?yield X(z,Z,oe,Zn,or):"config"===en?yield gi(z,Z,oe,Le,Zn,or):"consent"===en?z("consent","update",or):z("set",Zn)}catch(cr){xo.error(cr)}})).apply(this,arguments)}return function tt(en,Zn,or){return Dt.apply(this,arguments)}}(Dt,z,Z,oe),{gtagCore:Dt,wrappedGtag:window[tt]}}(is,nl,Ta,la,"gtag");Mo=Dt,bc=en,No=!0}return is[Le]=function tl(z,Z,oe,Le,tt,Dt,en){return ja.apply(this,arguments)}(z,nl,Ta,Z,bc,la,oe),new Ws(z)}function Kr(){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const ji="@firebase/analytics";!function Bl(){(0,fe._registerComponent)(new Me.wA(Ms,(Z,{options:oe})=>to(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,fe._registerComponent)(new Me.wA("analytics-internal",function z(Z){try{const oe=Z.getProvider(Ms).getImmediate();return{logEvent:(Le,tt,Dt)=>function ic(z,Z,oe,Le){z=(0,_e.m9)(z),function au(z,Z,oe,Le,tt){return ua.apply(this,arguments)}(Mo,is[z.app.options.appId],Z,oe,Le).catch(tt=>xo.error(tt))}(oe,Le,tt,Dt)}}catch(oe){throw yn.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,fe.registerVersion)(ji,"0.9.1"),(0,fe.registerVersion)(ji,"0.9.1","esm2017")}();var Vl=L(233),sl=L(4986),Wa=L(8505),$c=L(9468),ol=L(5363);const Ca=new w.GfV("7.5.0"),sc="__angularfire_symbol__analyticsIsSupportedValue",Oa="__angularfire_symbol__analyticsIsSupported",Qi="__angularfire_symbol__remoteConfigIsSupportedValue",Bo="__angularfire_symbol__remoteConfigIsSupported",_s="__angularfire_symbol__messagingIsSupportedValue",x="__angularfire_symbol__messagingIsSupported";function re(z,Z,oe){if(Z){if(1===Z.length)return Z[0];const Dt=Z.filter(en=>en.app===oe);if(1===Dt.length)return Dt[0]}return oe.container.getProvider(z).getImmediate({optional:!0})}globalThis[Oa]||(globalThis[Oa]=Kr().then(z=>globalThis[sc]=z).catch(()=>globalThis[sc]=!1)),globalThis[x]||(globalThis[x]=su().then(z=>globalThis[_s]=z).catch(()=>globalThis[_s]=!1)),globalThis[Bo]||(globalThis[Bo]=To().then(z=>globalThis[Qi]=z).catch(()=>globalThis[Qi]=!1));const ce=(z,Z)=>{const oe=Z?[Z]:(0,M.C6)(),Le=[];return oe.forEach(tt=>{tt.container.getProvider(z).instances.forEach(en=>{Le.includes(en)||Le.push(en)})}),Le};function Xe(){}class Jt{constructor(Z,oe=Vl.N){this.zone=Z,this.delegate=oe}now(){return this.delegate.now()}schedule(Z,oe,Le){const tt=this.zone;return this.delegate.schedule(function(en){tt.runGuarded(()=>{Z.apply(this,[en])})},oe,Le)}}class Jn{constructor(Z){this.zone=Z,this.task=null}call(Z,oe){const Le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xe,{},Xe,Xe)),oe.pipe((0,Wa.b)({next:Le,complete:Le,error:Le})).subscribe(Z).add(Le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pn=(()=>{class z{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new Jt(Zone.current)),this.insideAngular=oe.run(()=>new Jt(Zone.current,sl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(oe){return new(oe||z)(w.LFG(w.R0b))},z.\u0275prov=w.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function hi(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function Vo(z){return hi(),function ul(z){return function(oe){return(oe=oe.lift(new Jn(z.ngZone))).pipe((0,$c.R)(z.outsideAngular),(0,ol.Q)(z.insideAngular))}}(hi())(z)}},1808:(He,we,L)=>{"use strict";L.d(we,{$:()=>Wo,A:()=>be,B:()=>Je,D:()=>Ye,G:()=>$s,H:()=>Ei,J:()=>Te,L:()=>Ve,M:()=>Ua,N:()=>Xl,P:()=>sc,Q:()=>Di,R:()=>rc,T:()=>Hi,U:()=>Co,V:()=>Do,W:()=>fo,X:()=>Xa,Y:()=>$t,Z:()=>Ls,_:()=>Un,a:()=>_i,a0:()=>_l,a1:()=>tu,a2:()=>Fr,a3:()=>wu,a4:()=>Ma,a5:()=>Qu,a6:()=>iu,a7:()=>B,a8:()=>H,a9:()=>le,aA:()=>Ae,aB:()=>uo,aC:()=>pd,aD:()=>ca,aE:()=>zi,aI:()=>rs,aL:()=>ho,aa:()=>gs,ab:()=>js,ac:()=>qo,af:()=>_o,ag:()=>Ko,ah:()=>Ec,ak:()=>ya,al:()=>Uu,an:()=>kl,ao:()=>U,ap:()=>Ft,aq:()=>ye,ar:()=>Tn,as:()=>Ct,at:()=>Ul,au:()=>Rh,av:()=>nt,aw:()=>dt,ax:()=>ze,ay:()=>Eo,az:()=>zt,b:()=>yn,c:()=>J,d:()=>Jt,e:()=>ce,f:()=>oe,g:()=>or,h:()=>Dt,i:()=>uu,j:()=>zr,k:()=>ta,l:()=>cu,m:()=>Ed,o:()=>ge,r:()=>Vl,s:()=>Oh,u:()=>ol});var w=L(5861),M=L(2090),u=L(9681),fe=L(1877),_e=L(655),Me=L(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},be={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Je=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},bt=function ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},at=new fe.Yd("@firebase/auth");function st(N,...b){at.logLevel<=fe.in.ERROR&&at.error(`Auth (${u.SDK_VERSION}): ${N}`,...b)}function Ct(N,...b){throw Ut(N,...b)}function dt(N,...b){return Ut(N,...b)}function Mt(N,b,D){const k=Object.assign(Object.assign({},bt()),{[b]:D});return new M.LL("auth","Firebase",k).create(b,{appName:N.name})}function Tt(N,b,D){if(!(b instanceof D))throw D.name!==b.constructor.name&&Ct(N,"argument-error"),Mt(N,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(N,...b){if("string"!=typeof N){const D=b[0],k=[...b.slice(1)];return k[0]&&(k[0].appName=N.name),N._errorFactory.create(D,...k)}return ct.create(N,...b)}function ze(N,b,...D){if(!N)throw Ut(b,...D)}function ht(N){const b="INTERNAL ASSERTION FAILED: "+N;throw st(b),new Error(b)}function Ft(N,b){N||ht(b)}const Yt=new Map;function zt(N){Ft(N instanceof Function,"Expected a class definition");let b=Yt.get(N);return b?(Ft(b instanceof N,"Instance stored in cache mismatched with class"),b):(b=new N,Yt.set(N,b),b)}function _t(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function ot(){return"http:"===It()||"https:"===It()}function It(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class Kt{constructor(b,D){this.shortDelay=b,this.longDelay=D,Ft(D>b,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _n(N,b){Ft(N.emulator,"Emulator should always be set here");const{url:D}=N.emulator;return b?`${D}${b.startsWith("/")?b.slice(1):b}`:D}class an{static initialize(b,D,k){this.fetchImpl=b,D&&(this.headersImpl=D),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const An={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dn=new Kt(3e4,6e4);function Ln(N,b){return N.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:N.tenantId}):b}function bn(N,b,D,k){return Or.apply(this,arguments)}function Or(){return(Or=(0,w.Z)(function*(N,b,D,k,ne={}){return kr(N,ne,(0,w.Z)(function*(){let me={},mt={};k&&("GET"===b?mt=k:me={body:JSON.stringify(k)});const qe=(0,M.xO)(Object.assign({key:N.config.apiKey},mt)).slice(1),En=yield N._getAdditionalHeaders();return En["Content-Type"]="application/json",N.languageCode&&(En["X-Firebase-Locale"]=N.languageCode),an.fetch()(Jr(N,N.config.apiHost,D,qe),Object.assign({method:b,headers:En,referrerPolicy:"no-referrer"},me))}))})).apply(this,arguments)}function kr(N,b,D){return br.apply(this,arguments)}function br(){return(br=(0,w.Z)(function*(N,b,D){N._canInitEmulator=!1;const k=Object.assign(Object.assign({},An),b);try{const ne=new Gr(N),me=yield Promise.race([D(),ne.promise]);ne.clearNetworkTimeout();const mt=yield me.json();if("needConfirmation"in mt)throw Cr(N,"account-exists-with-different-credential",mt);if(me.ok&&!("errorMessage"in mt))return mt;{const qe=me.ok?mt.errorMessage:mt.error.message,[En,nr]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===En)throw Cr(N,"credential-already-in-use",mt);if("EMAIL_EXISTS"===En)throw Cr(N,"email-already-in-use",mt);if("USER_DISABLED"===En)throw Cr(N,"user-disabled",mt);const Rr=k[En]||En.toLowerCase().replace(/[_\s]+/g,"-");if(nr)throw Mt(N,Rr,nr);Ct(N,Rr)}}catch(ne){if(ne instanceof M.ZR)throw ne;Ct(N,"network-request-failed")}})).apply(this,arguments)}function gr(N,b,D,k){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,w.Z)(function*(N,b,D,k,ne={}){const me=yield bn(N,b,D,k,ne);return"mfaPendingCredential"in me&&Ct(N,"multi-factor-auth-required",{_serverResponse:me}),me})).apply(this,arguments)}function Jr(N,b,D,k){const ne=`${b}${D}?${k}`;return N.config.emulator?_n(N.config,ne):`${N.config.apiScheme}://${ne}`}class Gr{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((D,k)=>{this.timer=setTimeout(()=>k(dt(this.auth,"network-request-failed")),dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cr(N,b,D){const k={appName:N.name};D.email&&(k.email=D.email),D.phoneNumber&&(k.phoneNumber=D.phoneNumber);const ne=dt(N,b,k);return ne.customData._tokenResponse=D,ne}function ar(){return(ar=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function er(N,b){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function mn(N,b){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function Vi(N){if(N)try{const b=new Date(Number(N));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function qr(){return(qr=(0,w.Z)(function*(N,b=!1){const D=(0,M.m9)(N),k=yield D.getIdToken(b),ne=kn(k);ze(ne&&ne.exp&&ne.auth_time&&ne.iat,D.auth,"internal-error");const me="object"==typeof ne.firebase?ne.firebase:void 0,mt=me?.sign_in_provider;return{claims:ne,token:k,authTime:Vi(xt(ne.auth_time)),issuedAtTime:Vi(xt(ne.iat)),expirationTime:Vi(xt(ne.exp)),signInProvider:mt||null,signInSecondFactor:me?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(N){return 1e3*Number(N)}function kn(N){const[b,D,k]=N.split(".");if(void 0===b||void 0===D||void 0===k)return st("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,M.tV)(D);return ne?JSON.parse(ne):(st("Failed to decode base64 JWT payload"),null)}catch(ne){return st("Caught error parsing JWT payload as JSON",ne?.toString()),null}}function Fn(N,b){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,w.Z)(function*(N,b,D=!1){if(D)return b;try{return yield b}catch(k){throw k instanceof M.ZR&&jr(k)&&N.auth.currentUser===N&&(yield N.auth.signOut()),k}})).apply(this,arguments)}function jr({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}class es{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var D;if(b){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const ne=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(b=!1){var D=this;if(!this.isRunning)return;const k=this.getInterval(b);this.timerId=setTimeout((0,w.Z)(function*(){yield D.iteration()}),k)}iteration(){var b=this;return(0,w.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===D?.code&&b.schedule(!0))}b.schedule()})()}}class In{constructor(b,D){this.createdAt=b,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function us(N){return yr.apply(this,arguments)}function yr(){return(yr=(0,w.Z)(function*(N){var b;const D=N.auth,k=yield N.getIdToken(),ne=yield Fn(N,mn(D,{idToken:k}));ze(ne?.users.length,D,"internal-error");const me=ne.users[0];N._notifyReloadListener(me);const mt=null!==(b=me.providerUserInfo)&&void 0!==b&&b.length?yi(me.providerUserInfo):[],qe=ls(N.providerData,mt),Rr=!!N.isAnonymous&&!(N.email&&me.passwordHash||qe?.length),hn={uid:me.localId,displayName:me.displayName||null,photoURL:me.photoUrl||null,email:me.email||null,emailVerified:me.emailVerified||!1,phoneNumber:me.phoneNumber||null,tenantId:me.tenantId||null,providerData:qe,metadata:new In(me.createdAt,me.lastLoginAt),isAnonymous:Rr};Object.assign(N,hn)})).apply(this,arguments)}function fr(){return(fr=(0,w.Z)(function*(N){const b=(0,M.m9)(N);yield us(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function ls(N,b){return[...N.filter(k=>!b.some(ne=>ne.providerId===k.providerId)),...b]}function yi(N){return N.map(b=>{var{providerId:D}=b,k=(0,_e._T)(b,["providerId"]);return{providerId:D,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function jt(){return(jt=(0,w.Z)(function*(N,b){const D=yield kr(N,{},(0,w.Z)(function*(){const k=(0,M.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:ne,apiKey:me}=N.config,mt=Jr(N,ne,"/v1/token",`key=${me}`),qe=yield N._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",an.fetch()(mt,{method:"POST",headers:qe,body:k})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class wn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){ze(b.idToken,"internal-error"),ze(typeof b.idToken<"u","internal-error"),ze(typeof b.refreshToken<"u","internal-error");const D="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function cn(N){const b=kn(N);return ze(b,"internal-error"),ze(typeof b.exp<"u","internal-error"),ze(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,D)}getToken(b,D=!1){var k=this;return(0,w.Z)(function*(){return ze(!k.accessToken||k.refreshToken,b,"user-token-expired"),D||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(b,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,D){var k=this;return(0,w.Z)(function*(){const{accessToken:ne,refreshToken:me,expiresIn:mt}=yield function rn(N,b){return jt.apply(this,arguments)}(b,D);k.updateTokensAndExpiration(ne,me,Number(mt))})()}updateTokensAndExpiration(b,D,k){this.refreshToken=D||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(b,D){const{refreshToken:k,accessToken:ne,expirationTime:me}=D,mt=new wn;return k&&(ze("string"==typeof k,"internal-error",{appName:b}),mt.refreshToken=k),ne&&(ze("string"==typeof ne,"internal-error",{appName:b}),mt.accessToken=ne),me&&(ze("number"==typeof me,"internal-error",{appName:b}),mt.expirationTime=me),mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new wn,this.toJSON())}_performRefresh(){return ht("not implemented")}}function Kn(N,b){ze("string"==typeof N||typeof N>"u","internal-error",{appName:b})}class Ht{constructor(b){var{uid:D,auth:k,stsTokenManager:ne}=b,me=(0,_e._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=k,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=me.displayName||null,this.email=me.email||null,this.emailVerified=me.emailVerified||!1,this.phoneNumber=me.phoneNumber||null,this.photoURL=me.photoURL||null,this.isAnonymous=me.isAnonymous||!1,this.tenantId=me.tenantId||null,this.providerData=me.providerData?[...me.providerData]:[],this.metadata=new In(me.createdAt||void 0,me.lastLoginAt||void 0)}getIdToken(b){var D=this;return(0,w.Z)(function*(){const k=yield Fn(D,D.stsTokenManager.getToken(D.auth,b));return ze(k,D.auth,"internal-error"),D.accessToken!==k&&(D.accessToken=k,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),k})()}getIdTokenResult(b){return function si(N){return qr.apply(this,arguments)}(this,b)}reload(){return function ys(N){return fr.apply(this,arguments)}(this)}_assign(b){this!==b&&(ze(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(D=>Object.assign({},D)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new Ht(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,D=!1){var k=this;return(0,w.Z)(function*(){let ne=!1;b.idToken&&b.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(b),ne=!0),D&&(yield us(k)),yield k.auth._persistUserIfCurrent(k),ne&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var b=this;return(0,w.Z)(function*(){const D=yield b.getIdToken();return yield Fn(b,function vi(N,b){return ar.apply(this,arguments)}(b.auth,{idToken:D})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,D){var k,ne,me,mt,qe,En,nr,Rr;const hn=null!==(k=D.displayName)&&void 0!==k?k:void 0,Yn=null!==(ne=D.email)&&void 0!==ne?ne:void 0,qa=null!==(me=D.phoneNumber)&&void 0!==me?me:void 0,Vn=null!==(mt=D.photoURL)&&void 0!==mt?mt:void 0,Pt=null!==(qe=D.tenantId)&&void 0!==qe?qe:void 0,sn=null!==(En=D._redirectEventId)&&void 0!==En?En:void 0,Ro=null!==(nr=D.createdAt)&&void 0!==nr?nr:void 0,fu=null!==(Rr=D.lastLoginAt)&&void 0!==Rr?Rr:void 0,{uid:qd,emailVerified:lp,isAnonymous:If,providerData:$h,stsTokenManager:cp}=D;ze(qd&&cp,b,"internal-error");const dp=wn.fromJSON(this.name,cp);ze("string"==typeof qd,b,"internal-error"),Kn(hn,b.name),Kn(Yn,b.name),ze("boolean"==typeof lp,b,"internal-error"),ze("boolean"==typeof If,b,"internal-error"),Kn(qa,b.name),Kn(Vn,b.name),Kn(Pt,b.name),Kn(sn,b.name),Kn(Ro,b.name),Kn(fu,b.name);const pu=new Ht({uid:qd,auth:b,email:Yn,emailVerified:lp,displayName:hn,isAnonymous:If,photoURL:Vn,phoneNumber:qa,tenantId:Pt,stsTokenManager:dp,createdAt:Ro,lastLoginAt:fu});return $h&&Array.isArray($h)&&(pu.providerData=$h.map($l=>Object.assign({},$l))),sn&&(pu._redirectEventId=sn),pu}static _fromIdTokenResponse(b,D,k=!1){return(0,w.Z)(function*(){const ne=new wn;ne.updateFromServerResponse(D);const me=new Ht({uid:D.localId,auth:b,stsTokenManager:ne,isAnonymous:k});return yield us(me),me})()}}const Ve=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(D,k){var ne=this;return(0,w.Z)(function*(){ne.storage[D]=k})()}_get(D){var k=this;return(0,w.Z)(function*(){const ne=k.storage[D];return void 0===ne?null:ne})()}_remove(D){var k=this;return(0,w.Z)(function*(){delete k.storage[D]})()}_addListener(D,k){}_removeListener(D,k){}}return N.type="NONE",N})();function Ae(N,b,D){return`firebase:${N}:${b}:${D}`}class je{constructor(b,D,k){this.persistence=b,this.auth=D,this.userKey=k;const{config:ne,name:me}=this.auth;this.fullUserKey=Ae(this.userKey,ne.apiKey,me),this.fullPersistenceKey=Ae("persistence",ne.apiKey,me),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,w.Z)(function*(){const D=yield b.persistence._get(b.fullUserKey);return D?Ht._fromJSON(b.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var D=this;return(0,w.Z)(function*(){if(D.persistence===b)return;const k=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=b,k?D.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,D,k="authUser"){return(0,w.Z)(function*(){if(!D.length)return new je(zt(Ve),b,k);const ne=(yield Promise.all(D.map(function(){var nr=(0,w.Z)(function*(Rr){if(yield Rr._isAvailable())return Rr});return function(Rr){return nr.apply(this,arguments)}}()))).filter(nr=>nr);let me=ne[0]||zt(Ve);const mt=Ae(k,b.config.apiKey,b.name);let qe=null;for(const nr of D)try{const Rr=yield nr._get(mt);if(Rr){const hn=Ht._fromJSON(b,Rr);nr!==me&&(qe=hn),me=nr;break}}catch{}const En=ne.filter(nr=>nr._shouldAllowMigration);return me._shouldAllowMigration&&En.length?(me=En[0],qe&&(yield me._set(mt,qe.toJSON())),yield Promise.all(D.map(function(){var nr=(0,w.Z)(function*(Rr){if(Rr!==me)try{yield Rr._remove(mt)}catch{}});return function(Rr){return nr.apply(this,arguments)}}())),new je(me,b,k)):new je(me,b,k)})()}}function Ce(N){const b=N.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(Zt(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(ae(b))return"Firefox";if(b.includes("silk/"))return"Silk";if($e(b))return"Blackberry";if(Fe(b))return"Webos";if(Ie(b))return"Safari";if((b.includes("chrome/")||Et(b))&&!b.includes("edge/"))return"Chrome";if(Tn(b))return"Android";{const k=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function ae(N=(0,M.z$)()){return/firefox\//i.test(N)}function Ie(N=(0,M.z$)()){const b=N.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Et(N=(0,M.z$)()){return/crios\//i.test(N)}function Zt(N=(0,M.z$)()){return/iemobile/i.test(N)}function Tn(N=(0,M.z$)()){return/android/i.test(N)}function $e(N=(0,M.z$)()){return/blackberry/i.test(N)}function Fe(N=(0,M.z$)()){return/webos/i.test(N)}function ye(N=(0,M.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function nt(N=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}function xn(N=(0,M.z$)()){return ye(N)||Tn(N)||Fe(N)||$e(N)||/windows phone/i.test(N)||Zt(N)}function ci(N,b=[]){let D;switch(N){case"Browser":D=Ce((0,M.z$)());break;case"Worker":D=`${Ce((0,M.z$)())}-${N}`;break;default:D=N}const k=b.length?b.join(","):"FirebaseCore-web";return`${D}/JsCore/${u.SDK_VERSION}/${k}`}class Es{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,D){const k=me=>new Promise((mt,qe)=>{try{mt(b(me))}catch(En){qe(En)}});k.onAbort=D,this.queue.push(k);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(b){var D=this;return(0,w.Z)(function*(){if(D.auth.currentUser===b)return;const k=[];try{for(const ne of D.queue)yield ne(b),ne.onAbort&&k.push(ne.onAbort)}catch(ne){k.reverse();for(const me of k)try{me()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:ne?.message})}})()}}class Wr{constructor(b,D,k){this.app=b,this.heartbeatServiceProvider=D,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rs(this),this.idTokenSubscription=new Rs(this),this.beforeStateQueue=new Es(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(b,D){var k=this;return D&&(this._popupRedirectResolver=zt(D)),this._initializationPromise=this.queue((0,w.Z)(function*(){var ne,me;if(!k._deleted&&(k.persistenceManager=yield je.create(k,b),!k._deleted)){if(null!==(ne=k._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(D),k.lastNotifiedUid=(null===(me=k.currentUser)||void 0===me?void 0:me.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,w.Z)(function*(){if(b._deleted)return;const D=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||D){if(b.currentUser&&D&&b.currentUser.uid===D.uid)return b._currentUser._assign(D),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(D,!0)}})()}initializeCurrentUser(b){var D=this;return(0,w.Z)(function*(){var k;const ne=yield D.assertedPersistence.getCurrentUser();let me=ne,mt=!1;if(b&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const qe=null===(k=D.redirectUser)||void 0===k?void 0:k._redirectEventId,En=me?._redirectEventId,nr=yield D.tryRedirectSignIn(b);(!qe||qe===En)&&nr?.user&&(me=nr.user,mt=!0)}if(!me)return D.directlySetCurrentUser(null);if(!me._redirectEventId){if(mt)try{yield D.beforeStateQueue.runMiddleware(me)}catch(qe){me=ne,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(qe))}return me?D.reloadAndSetCurrentUserOrClear(me):D.directlySetCurrentUser(null)}return ze(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===me._redirectEventId?D.directlySetCurrentUser(me):D.reloadAndSetCurrentUserOrClear(me)})()}tryRedirectSignIn(b){var D=this;return(0,w.Z)(function*(){let k=null;try{k=yield D._popupRedirectResolver._completeRedirectFn(D,b,!0)}catch{yield D._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(b){var D=this;return(0,w.Z)(function*(){try{yield us(b)}catch(k){if("auth/network-request-failed"!==k?.code)return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var b=this;return(0,w.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var D=this;return(0,w.Z)(function*(){const k=b?(0,M.m9)(b):null;return k&&ze(k.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(k&&k._clone(D))})()}_updateCurrentUser(b,D=!1){var k=this;return(0,w.Z)(function*(){if(!k._deleted)return b&&ze(k.tenantId===b.tenantId,k,"tenant-id-mismatch"),D||(yield k.beforeStateQueue.runMiddleware(b)),k.queue((0,w.Z)(function*(){yield k.directlySetCurrentUser(b),k.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,w.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var D=this;return this.queue((0,w.Z)(function*(){yield D.assertedPersistence.setPersistence(zt(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new M.LL("auth","Firebase",b())}onAuthStateChanged(b,D,k){return this.registerStateListener(this.authStateSubscription,b,D,k)}beforeAuthStateChanged(b,D){return this.beforeStateQueue.pushCallback(b,D)}onIdTokenChanged(b,D,k){return this.registerStateListener(this.idTokenSubscription,b,D,k)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,D){var k=this;return(0,w.Z)(function*(){const ne=yield k.getOrInitRedirectPersistenceManager(D);return null===b?ne.removeCurrentUser():ne.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var D=this;return(0,w.Z)(function*(){if(!D.redirectPersistenceManager){const k=b&&zt(b)||D._popupRedirectResolver;ze(k,D,"argument-error"),D.redirectPersistenceManager=yield je.create(D,[zt(k._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(b){var D=this;return(0,w.Z)(function*(){var k,ne;return D._isInitialized&&(yield D.queue((0,w.Z)(function*(){}))),(null===(k=D._currentUser)||void 0===k?void 0:k._redirectEventId)===b?D._currentUser:(null===(ne=D.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===b?D.redirectUser:null})()}_persistUserIfCurrent(b){var D=this;return(0,w.Z)(function*(){if(b===D.currentUser)return D.queue((0,w.Z)(function*(){return D.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(D=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,D,k,ne){if(this._deleted)return()=>{};const me="function"==typeof D?D:D.next.bind(D),mt=this._isInitialized?Promise.resolve():this._initializationPromise;return ze(mt,this,"internal-error"),mt.then(()=>me(this.currentUser)),"function"==typeof D?b.addObserver(D,k,ne):b.addObserver(D)}directlySetCurrentUser(b){var D=this;return(0,w.Z)(function*(){D.currentUser&&D.currentUser!==b&&D._currentUser._stopProactiveRefresh(),b&&D.isProactiveRefreshEnabled&&b._startProactiveRefresh(),D.currentUser=b,b?yield D.assertedPersistence.setCurrentUser(b):yield D.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,w.Z)(function*(){var D;const k={"X-Client-Version":b.clientVersion};b.app.options.appId&&(k["X-Firebase-gmpid"]=b.app.options.appId);const ne=yield null===(D=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return ne&&(k["X-Firebase-Client"]=ne),k})()}}function zi(N){return(0,M.m9)(N)}class Rs{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,M.ne)(D=>this.observer=D)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $s(N,b,D){const k=zi(N);ze(k._canInitEmulator,k,"emulator-config-failed"),ze(/^https?:\/\//.test(b),k,"invalid-emulator-scheme");const ne=!!D?.disableWarnings,me=Ds(b),{host:mt,port:qe}=function di(N){const b=Ds(N),D=/(\/\/)?([^?#/]+)/.exec(N.substr(b.length));if(!D)return{host:"",port:null};const k=D[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(k);if(ne){const me=ne[1];return{host:me,port:Js(k.substr(me.length+1))}}{const[me,mt]=k.split(":");return{host:me,port:Js(mt)}}}(b);k.config.emulator={url:`${me}//${mt}${null===qe?"":`:${qe}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:mt,port:qe,protocol:me.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Xr(){function N(){const b=document.createElement("p"),D=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}function Ds(N){const b=N.indexOf(":");return b<0?"":N.substr(0,b+1)}function Js(N){if(!N)return null;const b=Number(N);return isNaN(b)?null:b}class Ei{constructor(b,D){this.providerId=b,this.signInMethod=D}toJSON(){return ht("not implemented")}_getIdTokenResponse(b){return ht("not implemented")}_linkToIdToken(b,D){return ht("not implemented")}_getReauthenticationResolver(b){return ht("not implemented")}}function Pi(N,b){return wi.apply(this,arguments)}function wi(){return(wi=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:resetPassword",Ln(N,b))})).apply(this,arguments)}function ki(N,b){return oi.apply(this,arguments)}function oi(){return(oi=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function Rn(N,b){return mr.apply(this,arguments)}function mr(){return(mr=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:update",Ln(N,b))})).apply(this,arguments)}function fs(){return(fs=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signInWithPassword",Ln(N,b))})).apply(this,arguments)}function ir(N,b){return un.apply(this,arguments)}function un(){return(un=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:sendOobCode",Ln(N,b))})).apply(this,arguments)}function Ps(N,b){return wr.apply(this,arguments)}function wr(){return(wr=(0,w.Z)(function*(N,b){return ir(N,b)})).apply(this,arguments)}function va(N,b){return _r.apply(this,arguments)}function _r(){return(_r=(0,w.Z)(function*(N,b){return ir(N,b)})).apply(this,arguments)}function sr(N,b){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,w.Z)(function*(N,b){return ir(N,b)})).apply(this,arguments)}function oa(N,b){return cs.apply(this,arguments)}function cs(){return(cs=(0,w.Z)(function*(N,b){return ir(N,b)})).apply(this,arguments)}function Ui(){return(Ui=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signInWithEmailLink",Ln(N,b))})).apply(this,arguments)}function ke(){return(ke=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signInWithEmailLink",Ln(N,b))})).apply(this,arguments)}class vt extends Ei{constructor(b,D,k,ne=null){super("password",k),this._email=b,this._password=D,this._tenantId=ne}static _fromEmailAndPassword(b,D){return new vt(b,D,"password")}static _fromEmailAndCode(b,D,k=null){return new vt(b,D,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b;if(D?.email&&D?.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(b){var D=this;return(0,w.Z)(function*(){switch(D.signInMethod){case"password":return function Ti(N,b){return fs.apply(this,arguments)}(b,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function co(N,b){return Ui.apply(this,arguments)}(b,{email:D._email,oobCode:D._password});default:Ct(b,"internal-error")}})()}_linkToIdToken(b,D){var k=this;return(0,w.Z)(function*(){switch(k.signInMethod){case"password":return ki(b,{idToken:D,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function wt(N,b){return ke.apply(this,arguments)}(b,{idToken:D,email:k._email,oobCode:k._password});default:Ct(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function rt(N,b){return kt.apply(this,arguments)}function kt(){return(kt=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signInWithIdp",Ln(N,b))})).apply(this,arguments)}class Te extends Ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const D=new Te(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(D.idToken=b.idToken),b.accessToken&&(D.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(D.nonce=b.nonce),b.pendingToken&&(D.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(D.accessToken=b.oauthToken,D.secret=b.oauthTokenSecret):Ct("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:k,signInMethod:ne}=D,me=(0,_e._T)(D,["providerId","signInMethod"]);if(!k||!ne)return null;const mt=new Te(k,ne);return mt.idToken=me.idToken||void 0,mt.accessToken=me.accessToken||void 0,mt.secret=me.secret,mt.nonce=me.nonce,mt.pendingToken=me.pendingToken||null,mt}_getIdTokenResponse(b){return rt(b,this.buildRequest())}_linkToIdToken(b,D){const k=this.buildRequest();return k.idToken=D,rt(b,k)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,rt(b,D)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),b.postBody=(0,M.xO)(D)}return b}}function Ze(N,b){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:sendVerificationCode",Ln(N,b))})).apply(this,arguments)}function On(){return(On=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signInWithPhoneNumber",Ln(N,b))})).apply(this,arguments)}function Sr(){return(Sr=(0,w.Z)(function*(N,b){const D=yield gr(N,"POST","/v1/accounts:signInWithPhoneNumber",Ln(N,b));if(D.temporaryProof)throw Cr(N,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const Nr={USER_NOT_FOUND:"user-not-found"};function ds(){return(ds=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signInWithPhoneNumber",Ln(N,Object.assign(Object.assign({},b),{operation:"REAUTH"})),Nr)})).apply(this,arguments)}class Qe extends Ei{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,D){return new Qe({verificationId:b,verificationCode:D})}static _fromTokenResponse(b,D){return new Qe({phoneNumber:b,temporaryProof:D})}_getIdTokenResponse(b){return function tn(N,b){return On.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,D){return function Nn(N,b){return Sr.apply(this,arguments)}(b,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function $i(N,b){return ds.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:D,verificationId:k,verificationCode:ne}=this.params;return b&&D?{temporaryProof:b,phoneNumber:D}:{sessionInfo:k,code:ne}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:D,verificationCode:k,phoneNumber:ne,temporaryProof:me}=b;return k||D||ne||me?new Qe({verificationId:D,verificationCode:k,phoneNumber:ne,temporaryProof:me}):null}}class Ci{constructor(b){var D,k,ne,me,mt,qe;const En=(0,M.zd)((0,M.pd)(b)),nr=null!==(D=En.apiKey)&&void 0!==D?D:null,Rr=null!==(k=En.oobCode)&&void 0!==k?k:null,hn=function Pe(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=En.mode)&&void 0!==ne?ne:null);ze(nr&&Rr&&hn,"argument-error"),this.apiKey=nr,this.operation=hn,this.code=Rr,this.continueUrl=null!==(me=En.continueUrl)&&void 0!==me?me:null,this.languageCode=null!==(mt=En.languageCode)&&void 0!==mt?mt:null,this.tenantId=null!==(qe=En.tenantId)&&void 0!==qe?qe:null}static parseLink(b){const D=function Rl(N){const b=(0,M.zd)((0,M.pd)(N)).link,D=b?(0,M.zd)((0,M.pd)(b)).deep_link_id:null,k=(0,M.zd)((0,M.pd)(N)).deep_link_id;return(k?(0,M.zd)((0,M.pd)(k)).link:null)||k||D||b||N}(b);try{return new Ci(D)}catch{return null}}}let Ua=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(D,k){return vt._fromEmailAndPassword(D,k)}static credentialWithLink(D,k){const ne=Ci.parseLink(k);return ze(ne,"argument-error"),vt._fromEmailAndCode(D,ne.code,ne.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class Qs{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Qa extends Qs{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class Co extends Qa{static credentialFromJSON(b){const D="string"==typeof b?JSON.parse(b):b;return ze("providerId"in D&&"signInMethod"in D,"argument-error"),Te._fromParams(D)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return ze(b.idToken||b.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return Co.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return Co.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:D,oauthAccessToken:k,oauthTokenSecret:ne,pendingToken:me,nonce:mt,providerId:qe}=b;if(!k&&!ne&&!D&&!me||!qe)return null;try{return new Co(qe)._credential({idToken:D,accessToken:k,nonce:mt,pendingToken:me})}catch{return null}}}let Xl=(()=>{class N extends Qa{constructor(){super("facebook.com")}static credential(D){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return N.credential(D.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),Di=(()=>{class N extends Qa{constructor(){super("google.com"),this.addScope("profile")}static credential(D,k){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:k})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:k,oauthAccessToken:ne}=D;if(!k&&!ne)return null;try{return N.credential(k,ne)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),Hi=(()=>{class N extends Qa{constructor(){super("github.com")}static credential(D){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return N.credential(D.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class ho extends Ei{constructor(b,D){super(b,b),this.pendingToken=D}_getIdTokenResponse(b){return rt(b,this.buildRequest())}_linkToIdToken(b,D){const k=this.buildRequest();return k.idToken=D,rt(b,k)}_getReauthenticationResolver(b){const D=this.buildRequest();return D.autoCreate=!1,rt(b,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const D="string"==typeof b?JSON.parse(b):b,{providerId:k,signInMethod:ne,pendingToken:me}=D;return k&&ne&&me&&k===ne?new ho(k,me):null}static _create(b,D){return new ho(b,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Do extends Qs{constructor(b){ze(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return Do.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return Do.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const D=ho.fromJSON(b);return ze(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:D,providerId:k}=b;if(!D||!k)return null;try{return ho._create(k,D)}catch{return null}}}let fo=(()=>{class N extends Qa{constructor(){super("twitter.com")}static credential(D,k){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:k})}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:k,oauthTokenSecret:ne}=D;if(!k||!ne)return null;try{return N.credential(k,ne)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function ml(N,b){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signUp",Ln(N,b))})).apply(this,arguments)}class ks{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,D,k,ne=!1){return(0,w.Z)(function*(){const me=yield Ht._fromIdTokenResponse(b,k,ne),mt=ps(k);return new ks({user:me,providerId:mt,_tokenResponse:k,operationType:D})})()}static _forOperation(b,D,k){return(0,w.Z)(function*(){yield b._updateTokensIfNecessary(k,!0);const ne=ps(k);return new ks({user:b,providerId:ne,_tokenResponse:k,operationType:D})})()}}function ps(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function Xa(N){return so.apply(this,arguments)}function so(){return(so=(0,w.Z)(function*(N){var b;const D=zi(N);if(yield D._initializationPromise,null!==(b=D.currentUser)&&void 0!==b&&b.isAnonymous)return new ks({user:D.currentUser,providerId:null,operationType:"signIn"});const k=yield ml(D,{returnSecureToken:!0}),ne=yield ks._fromIdTokenResponse(D,"signIn",k,!0);return yield D._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Lu extends M.ZR{constructor(b,D,k,ne){var me;super(D.code,D.message),this.operationType=k,this.user=ne,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:b.name,tenantId:null!==(me=b.tenantId)&&void 0!==me?me:void 0,_serverResponse:D.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(b,D,k,ne){return new Lu(b,D,k,ne)}}function bu(N,b,D,k){return("reauthenticate"===b?D._getReauthenticationResolver(N):D._getIdTokenResponse(N)).catch(me=>{throw"auth/multi-factor-auth-required"===me.code?Lu._fromErrorAndOperation(N,me,b,k):me})}function Hs(N){return new Set(N.map(({providerId:b})=>b).filter(b=>!!b))}function ya(N,b){return So.apply(this,arguments)}function So(){return(So=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N);yield Ea(!0,D,b);const{providerUserInfo:k}=yield er(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[b]}),ne=Hs(k||[]);return D.providerData=D.providerData.filter(me=>ne.has(me.providerId)),ne.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function xs(N,b){return po.apply(this,arguments)}function po(){return(po=(0,w.Z)(function*(N,b,D=!1){const k=yield Fn(N,b._linkToIdToken(N.auth,yield N.getIdToken()),D);return ks._forOperation(N,"link",k)})).apply(this,arguments)}function Ea(N,b,D){return oo.apply(this,arguments)}function oo(){return(oo=(0,w.Z)(function*(N,b,D){yield us(b);const ne=!1===N?"provider-already-linked":"no-such-provider";ze(Hs(b.providerData).has(D)===N,b.auth,ne)})).apply(this,arguments)}function Fs(N,b){return ba.apply(this,arguments)}function ba(){return(ba=(0,w.Z)(function*(N,b,D=!1){const{auth:k}=N,ne="reauthenticate";try{const me=yield Fn(N,bu(k,ne,b,N),D);ze(me.idToken,k,"internal-error");const mt=kn(me.idToken);ze(mt,k,"internal-error");const{sub:qe}=mt;return ze(N.uid===qe,k,"user-mismatch"),ks._forOperation(N,ne,me)}catch(me){throw"auth/user-not-found"===me?.code&&Ct(k,"user-mismatch"),me}})).apply(this,arguments)}function Io(N,b){return eu.apply(this,arguments)}function eu(){return(eu=(0,w.Z)(function*(N,b,D=!1){const k="signIn",ne=yield bu(N,k,b),me=yield ks._fromIdTokenResponse(N,k,ne);return D||(yield N._updateCurrentUser(me.user)),me})).apply(this,arguments)}function $t(N,b){return Si.apply(this,arguments)}function Si(){return(Si=(0,w.Z)(function*(N,b){return Io(zi(N),b)})).apply(this,arguments)}function Ls(N,b){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N);return yield Ea(!1,D,b.providerId),xs(D,b)})).apply(this,arguments)}function Un(N,b){return ns.apply(this,arguments)}function ns(){return(ns=(0,w.Z)(function*(N,b){return Fs((0,M.m9)(N),b)})).apply(this,arguments)}function qi(N,b){return $n.apply(this,arguments)}function $n(){return($n=(0,w.Z)(function*(N,b){return gr(N,"POST","/v1/accounts:signInWithCustomToken",Ln(N,b))})).apply(this,arguments)}function Wo(N,b){return tr.apply(this,arguments)}function tr(){return(tr=(0,w.Z)(function*(N,b){const D=zi(N),k=yield qi(D,{token:b,returnSecureToken:!0}),ne=yield ks._fromIdTokenResponse(D,"signIn",k);return yield D._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Ai{constructor(b,D){this.factorId=b,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(b,D){return"phoneInfo"in D?Gs._fromServerResponse(b,D):Ct(b,"internal-error")}}class Gs extends Ai{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,D){return new Gs(D)}}function go(N,b,D){var k;ze((null===(k=D.url)||void 0===k?void 0:k.length)>0,N,"invalid-continue-uri"),ze(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),b.continueUrl=D.url,b.dynamicLinkDomain=D.dynamicLinkDomain,b.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(ze(D.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),b.iOSBundleId=D.iOS.bundleId),D.android&&(ze(D.android.packageName.length>0,N,"missing-android-pkg-name"),b.androidInstallApp=D.android.installApp,b.androidMinimumVersionCode=D.android.minimumVersion,b.androidPackageName=D.android.packageName)}function _l(N,b,D){return ao.apply(this,arguments)}function ao(){return(ao=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N),ne={requestType:"PASSWORD_RESET",email:b};D&&go(k,ne,D),yield va(k,ne)})).apply(this,arguments)}function tu(N,b,D){return zo.apply(this,arguments)}function zo(){return(zo=(0,w.Z)(function*(N,b,D){yield Pi((0,M.m9)(N),{oobCode:b,newPassword:D})})).apply(this,arguments)}function Fr(N,b){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,w.Z)(function*(N,b){yield Rn((0,M.m9)(N),{oobCode:b})})).apply(this,arguments)}function wu(N,b){return Is.apply(this,arguments)}function Is(){return(Is=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N),k=yield Pi(D,{oobCode:b}),ne=k.requestType;switch(ze(ne,D,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ze(k.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ze(k.mfaInfo,D,"internal-error");default:ze(k.email,D,"internal-error")}let me=null;return k.mfaInfo&&(me=Ai._fromServerResponse(zi(D),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:me},operation:ne}})).apply(this,arguments)}function Ma(N,b){return nu.apply(this,arguments)}function nu(){return(nu=(0,w.Z)(function*(N,b){const{data:D}=yield wu((0,M.m9)(N),b);return D.email})).apply(this,arguments)}function Qu(N,b,D){return ru.apply(this,arguments)}function ru(){return(ru=(0,w.Z)(function*(N,b,D){const k=zi(N),ne=yield ml(k,{returnSecureToken:!0,email:b,password:D}),me=yield ks._fromIdTokenResponse(k,"signIn",ne);return yield k._updateCurrentUser(me.user),me})).apply(this,arguments)}function iu(N,b,D){return $t((0,M.m9)(N),Ua.credential(b,D))}function B(N,b,D){return j.apply(this,arguments)}function j(){return(j=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N),ne={requestType:"EMAIL_SIGNIN",email:b};ze(D.handleCodeInApp,k,"argument-error"),D&&go(k,ne,D),yield sr(k,ne)})).apply(this,arguments)}function H(N,b){return"EMAIL_SIGNIN"===Ci.parseLink(b)?.operation}function le(N,b,D){return gt.apply(this,arguments)}function gt(){return(gt=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N),ne=Ua.credentialWithLink(b,D||_t());return ze(ne._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),$t(k,ne)})).apply(this,arguments)}function Bn(N,b){return ti.apply(this,arguments)}function ti(){return(ti=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:createAuthUri",Ln(N,b))})).apply(this,arguments)}function gs(N,b){return wa.apply(this,arguments)}function wa(){return(wa=(0,w.Z)(function*(N,b){const k={identifier:b,continueUri:ot()?_t():"http://localhost"},{signinMethods:ne}=yield Bn((0,M.m9)(N),k);return ne||[]})).apply(this,arguments)}function js(N,b){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,w.Z)(function*(N,b){const D=(0,M.m9)(N),ne={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};b&&go(D.auth,ne,b);const{email:me}=yield Ps(D.auth,ne);me!==N.email&&(yield N.reload())})).apply(this,arguments)}function qo(N,b,D){return mo.apply(this,arguments)}function mo(){return(mo=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N),me={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:b};D&&go(k.auth,me,D);const{email:mt}=yield oa(k.auth,me);mt!==N.email&&(yield N.reload())})).apply(this,arguments)}function ts(N,b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,w.Z)(function*(N,b){return bn(N,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function _o(N,b){return ms.apply(this,arguments)}function ms(){return(ms=(0,w.Z)(function*(N,{displayName:b,photoURL:D}){if(void 0===b&&void 0===D)return;const k=(0,M.m9)(N),me={idToken:yield k.getIdToken(),displayName:b,photoUrl:D,returnSecureToken:!0},mt=yield Fn(k,ts(k.auth,me));k.displayName=mt.displayName||null,k.photoURL=mt.photoUrl||null;const qe=k.providerData.find(({providerId:En})=>"password"===En);qe&&(qe.displayName=k.displayName,qe.photoURL=k.photoURL),yield k._updateTokensIfNecessary(mt)})).apply(this,arguments)}function Ko(N,b){return Xu((0,M.m9)(N),b,null)}function Ec(N,b){return Xu((0,M.m9)(N),null,b)}function Xu(N,b,D){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,w.Z)(function*(N,b,D){const{auth:k}=N,me={idToken:yield N.getIdToken(),returnSecureToken:!0};b&&(me.email=b),D&&(me.password=D);const mt=yield Fn(N,ki(k,me));yield N._updateTokensIfNecessary(mt,!0)})).apply(this,arguments)}class $a{constructor(b,D,k={}){this.isNewUser=b,this.providerId=D,this.profile=k}}class Vu extends $a{constructor(b,D,k,ne){super(b,D,k),this.username=ne}}class ec extends $a{constructor(b,D){super(b,"facebook.com",D)}}class su extends Vu{constructor(b,D){super(b,"github.com",D,"string"==typeof D?.login?D?.login:null)}}class Pl extends $a{constructor(b,D){super(b,"google.com",D)}}class Ha extends Vu{constructor(b,D,k){super(b,"twitter.com",D,k)}}function Uu(N){const{user:b,_tokenResponse:D}=N;return b.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function aa(N){var b,D;if(!N)return null;const{providerId:k}=N,ne=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},me=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!k&&N?.idToken){const mt=null===(D=null===(b=kn(N.idToken))||void 0===b?void 0:b.firebase)||void 0===D?void 0:D.sign_in_provider;if(mt)return new $a(me,"anonymous"!==mt&&"custom"!==mt?mt:null)}if(!k)return null;switch(k){case"facebook.com":return new ec(me,ne);case"github.com":return new su(me,ne);case"google.com":return new Pl(me,ne);case"twitter.com":return new Ha(me,ne,N.screenName||null);case"custom":case"anonymous":return new $a(me,null);default:return new $a(me,k,ne)}}(D)}class Ji{constructor(b,D,k){this.type=b,this.credential=D,this.auth=k}static _fromIdtoken(b,D){return new Ji("enroll",b,D)}static _fromMfaPendingCredential(b){return new Ji("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var D,k;if(b?.multiFactorSession){if(null!==(D=b.multiFactorSession)&&void 0!==D&&D.pendingCredential)return Ji._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(k=b.multiFactorSession)&&void 0!==k&&k.idToken)return Ji._fromIdtoken(b.multiFactorSession.idToken)}return null}}class Zo{constructor(b,D,k){this.session=b,this.hints=D,this.signInResolver=k}static _fromError(b,D){const k=zi(b),ne=D.customData._serverResponse,me=(ne.mfaInfo||[]).map(qe=>Ai._fromServerResponse(k,qe));ze(ne.mfaPendingCredential,k,"internal-error");const mt=Ji._fromMfaPendingCredential(ne.mfaPendingCredential);return new Zo(mt,me,function(){var qe=(0,w.Z)(function*(En){const nr=yield En._process(k,mt);delete ne.mfaInfo,delete ne.mfaPendingCredential;const Rr=Object.assign(Object.assign({},ne),{idToken:nr.idToken,refreshToken:nr.refreshToken});switch(D.operationType){case"signIn":const hn=yield ks._fromIdTokenResponse(k,D.operationType,Rr);return yield k._updateCurrentUser(hn.user),hn;case"reauthenticate":return ze(D.user,k,"internal-error"),ks._forOperation(D.user,D.operationType,Rr);default:Ct(k,"internal-error")}});return function(En){return qe.apply(this,arguments)}}())}resolveSignIn(b){var D=this;return(0,w.Z)(function*(){return D.signInResolver(b)})()}}function kl(N,b){var D;const k=(0,M.m9)(N),ne=b;return ze(b.customData.operationType,k,"argument-error"),ze(null===(D=ne.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,k,"argument-error"),Zo._fromError(k,ne)}function xo(N,b){return bn(N,"POST","/v2/accounts/mfaEnrollment:start",Ln(N,b))}class Tu{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(k=>Ai._fromServerResponse(b.auth,k)))})}static _fromUser(b){return new Tu(b)}getSession(){var b=this;return(0,w.Z)(function*(){return Ji._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,D){var k=this;return(0,w.Z)(function*(){const ne=b,me=yield k.getSession(),mt=yield Fn(k.user,ne._process(k.user.auth,me,D));return yield k.user._updateTokensIfNecessary(mt),k.user.reload()})()}unenroll(b){var D=this;return(0,w.Z)(function*(){const k="string"==typeof b?b:b.uid,ne=yield D.user.getIdToken(),me=yield Fn(D.user,function tc(N,b){return bn(N,"POST","/v2/accounts/mfaEnrollment:withdraw",Ln(N,b))}(D.user.auth,{idToken:ne,mfaEnrollmentId:k}));D.enrolledFactors=D.enrolledFactors.filter(({uid:mt})=>mt!==k),yield D.user._updateTokensIfNecessary(me);try{yield D.user.reload()}catch(mt){if("auth/user-token-expired"!==mt?.code)throw mt}})()}}const gi=new WeakMap;function U(N){const b=(0,M.m9)(N);return gi.has(b)||gi.set(b,Tu._fromUser(b)),gi.get(b)}const X="__sak";class W{constructor(b,D){this.storageRetriever=b,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(X,"1"),this.storage.removeItem(X),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,D){return this.storage.setItem(b,JSON.stringify(D)),Promise.resolve()}_get(b){const D=this.storage.getItem(b);return Promise.resolve(D?JSON.parse(D):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const yn=(()=>{class N extends W{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,k)=>this.onStorageEvent(D,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function se(){const N=(0,M.z$)();return Ie(N)||ye(N)}()&&function li(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xn(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const k of Object.keys(this.listeners)){const ne=this.storage.getItem(k),me=this.localCache[k];ne!==me&&D(k,me,ne)}}onStorageEvent(D,k=!1){if(!D.key)return void this.forAllChangedKeys((qe,En,nr)=>{this.notifyListeners(qe,nr)});const ne=D.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem(ne);if(D.newValue!==qe)null!==D.newValue?this.storage.setItem(ne,D.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===D.newValue&&!k)return}const me=()=>{const qe=this.storage.getItem(ne);!k&&this.localCache[ne]===qe||this.notifyListeners(ne,qe)},mt=this.storage.getItem(ne);!function Qt(){return(0,M.w1)()&&10===document.documentMode}()||mt===D.newValue||D.newValue===D.oldValue?me():setTimeout(me,10)}notifyListeners(D,k){this.localCache[D]=k;const ne=this.listeners[D];if(ne)for(const me of Array.from(ne))me(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,k,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:k,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(k)}_removeListener(D,k){this.listeners[D]&&(this.listeners[D].delete(k),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,k){var ne=()=>super._set,me=this;return(0,w.Z)(function*(){yield ne().call(me,D,k),me.localCache[D]=JSON.stringify(k)})()}_get(D){var k=()=>super._get,ne=this;return(0,w.Z)(function*(){const me=yield k().call(ne,D);return ne.localCache[D]=JSON.stringify(me),me})()}_remove(D){var k=()=>super._remove,ne=this;return(0,w.Z)(function*(){yield k().call(ne,D),delete ne.localCache[D]})()}}return N.type="LOCAL",N})(),_i=(()=>{class N extends W{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,k){}_removeListener(D,k){}}return N.type="SESSION",N})();let ai=(()=>{class N{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const k=this.receivers.find(me=>me.isListeningto(D));if(k)return k;const ne=new N(D);return this.receivers.push(ne),ne}isListeningto(D){return this.eventTarget===D}handleEvent(D){var k=this;return(0,w.Z)(function*(){const ne=D,{eventId:me,eventType:mt,data:qe}=ne.data,En=k.handlersMap[mt];if(!En?.size)return;ne.ports[0].postMessage({status:"ack",eventId:me,eventType:mt});const nr=Array.from(En).map(function(){var hn=(0,w.Z)(function*(Yn){return Yn(ne.origin,qe)});return function(Yn){return hn.apply(this,arguments)}}()),Rr=yield function Fi(N){return Promise.all(N.map(function(){var b=(0,w.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(k){return{fulfilled:!1,reason:k}}});return function(D){return b.apply(this,arguments)}}()))}(nr);ne.ports[0].postMessage({status:"done",eventId:me,eventType:mt,response:Rr})})()}_subscribe(D,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(k)}_unsubscribe(D,k){this.handlersMap[D]&&k&&this.handlersMap[D].delete(k),(!k||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function rs(N="",b=10){let D="";for(let k=0;k<b;k++)D+=Math.floor(10*Math.random());return N+D}class Li{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,D,k=50){var ne=this;return(0,w.Z)(function*(){const me=typeof MessageChannel<"u"?new MessageChannel:null;if(!me)throw new Error("connection_unavailable");let mt,qe;return new Promise((En,nr)=>{const Rr=rs("",20);me.port1.start();const hn=setTimeout(()=>{nr(new Error("unsupported_event"))},k);qe={messageChannel:me,onMessage(Yn){const qa=Yn;if(qa.data.eventId===Rr)switch(qa.data.status){case"ack":clearTimeout(hn),mt=setTimeout(()=>{nr(new Error("timeout"))},3e3);break;case"done":clearTimeout(mt),En(qa.data.response);break;default:clearTimeout(hn),clearTimeout(mt),nr(new Error("invalid_response"))}}},ne.handlers.add(qe),me.port1.addEventListener("message",qe.onMessage),ne.target.postMessage({eventType:b,eventId:Rr,data:D},[me.port2])}).finally(()=>{qe&&ne.removeMessageHandler(qe)})})()}}function ni(){return window}function bs(){return typeof ni().WorkerGlobalScope<"u"&&"function"==typeof ni().importScripts}function Vs(){return(Vs=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ga="firebaseLocalStorageDb",au="firebaseLocalStorage",ua="fbase_key";class Yo{constructor(b){this.request=b}toPromise(){return new Promise((b,D)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function el(N,b){return N.transaction([au],b?"readwrite":"readonly").objectStore(au)}function Ns(){const N=indexedDB.open(Ga,1);return new Promise((b,D)=>{N.addEventListener("error",()=>{D(N.error)}),N.addEventListener("upgradeneeded",()=>{const k=N.result;try{k.createObjectStore(au,{keyPath:ua})}catch(ne){D(ne)}}),N.addEventListener("success",(0,w.Z)(function*(){const k=N.result;k.objectStoreNames.contains(au)?b(k):(k.close(),yield function fd(){const N=indexedDB.deleteDatabase(Ga);return new Yo(N).toPromise()}(),b(yield Ns()))}))})}function Xs(N,b,D){return Na.apply(this,arguments)}function Na(){return(Na=(0,w.Z)(function*(N,b,D){const k=el(N,!0).put({[ua]:b,value:D});return new Yo(k).toPromise()})).apply(this,arguments)}function yo(){return(yo=(0,w.Z)(function*(N,b){const D=el(N,!1).get(b),k=yield new Yo(D).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Fl(N,b){const D=el(N,!0).delete(b);return new Yo(D).toPromise()}const uu=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,w.Z)(function*(){return D.db||(D.db=yield Ns()),D.db})()}_withRetries(D){var k=this;return(0,w.Z)(function*(){let ne=0;for(;;)try{const me=yield k._openDb();return yield D(me)}catch(me){if(ne++>3)throw me;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,w.Z)(function*(){return bs()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,w.Z)(function*(){D.receiver=ai._getInstance(function Cu(){return bs()?self:null}()),D.receiver._subscribe("keyChanged",function(){var k=(0,w.Z)(function*(ne,me){return{keyProcessed:(yield D._poll()).includes(me.key)}});return function(ne,me){return k.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var k=(0,w.Z)(function*(ne,me){return["keyChanged"]});return function(ne,me){return k.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,w.Z)(function*(){var k,ne;if(D.activeServiceWorker=yield function vo(){return Vs.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new Li(D.activeServiceWorker);const me=yield D.sender._send("ping",{},800);me&&null!==(k=me[0])&&void 0!==k&&k.fulfilled&&null!==(ne=me[0])&&void 0!==ne&&ne.value.includes("keyChanged")&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var k=this;return(0,w.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function ou(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:D},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const D=yield Ns();return yield Xs(D,X,"1"),yield Fl(D,X),!0}catch{}return!1})()}_withPendingWrite(D){var k=this;return(0,w.Z)(function*(){k.pendingWrites++;try{yield D()}finally{k.pendingWrites--}})()}_set(D,k){var ne=this;return(0,w.Z)(function*(){return ne._withPendingWrite((0,w.Z)(function*(){return yield ne._withRetries(me=>Xs(me,D,k)),ne.localCache[D]=k,ne.notifyServiceWorker(D)}))})()}_get(D){var k=this;return(0,w.Z)(function*(){const ne=yield k._withRetries(me=>function Nh(N,b){return yo.apply(this,arguments)}(me,D));return k.localCache[D]=ne,ne})()}_remove(D){var k=this;return(0,w.Z)(function*(){return k._withPendingWrite((0,w.Z)(function*(){return yield k._withRetries(ne=>Fl(ne,D)),delete k.localCache[D],k.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,w.Z)(function*(){const k=yield D._withRetries(mt=>{const qe=el(mt,!1).getAll();return new Yo(qe).toPromise()});if(!k)return[];if(0!==D.pendingWrites)return[];const ne=[],me=new Set;for(const{fbase_key:mt,value:qe}of k)me.add(mt),JSON.stringify(D.localCache[mt])!==JSON.stringify(qe)&&(D.notifyListeners(mt,qe),ne.push(mt));for(const mt of Object.keys(D.localCache))D.localCache[mt]&&!me.has(mt)&&(D.notifyListeners(mt,null),ne.push(mt));return ne})()}notifyListeners(D,k){this.localCache[D]=k;const ne=this.listeners[D];if(ne)for(const me of Array.from(ne))me(k)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(k)}_removeListener(D,k){this.listeners[D]&&(this.listeners[D].delete(k),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})();function tl(N,b){return bn(N,"POST","/v2/accounts/mfaSignIn:start",Ln(N,b))}function is(){return(is=(0,w.Z)(function*(N){return(yield bn(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ta(N){return new Promise((b,D)=>{const k=document.createElement("script");k.setAttribute("src",N),k.onload=b,k.onerror=ne=>{const me=dt("internal-error");me.customData=ne,D(me)},k.type="text/javascript",k.charset="UTF-8",function nl(){var N,b;return null!==(b=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==b?b:document}().appendChild(k)})}function la(N){return`__${N}${Math.floor(1e6*Math.random())}`}const Mo=1e12;class No{constructor(b){this.auth=b,this.counter=Mo,this._widgets=new Map}render(b,D){const k=this.counter;return this._widgets.set(k,new Ll(b,this.auth.name,D||{})),this.counter++,k}reset(b){var D;const k=b||Mo;null===(D=this._widgets.get(k))||void 0===D||D.delete(),this._widgets.delete(k)}getResponse(b){var D;return(null===(D=this._widgets.get(b||Mo))||void 0===D?void 0:D.getResponse())||""}execute(b){var D=this;return(0,w.Z)(function*(){var k;return null===(k=D._widgets.get(b||Mo))||void 0===k||k.execute(),""})()}}class Ll{constructor(b,D,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof b?document.getElementById(b):b;ze(ne,"argument-error",{appName:D}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function de(N){const b=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<N;k++)b.push(D.charAt(Math.floor(Math.random()*D.length)));return b.join("")}(50);const{callback:b,"expired-callback":D}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const to=la("rcb"),Jo=new Kt(3e4,6e4);class Kr{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=ni().grecaptcha)||void 0===b||!b.render)}load(b,D=""){return ze(function Xo(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(D),b,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(ni().grecaptcha):new Promise((k,ne)=>{const me=ni().setTimeout(()=>{ne(dt(b,"network-request-failed"))},Jo.get());ni()[to]=()=>{ni().clearTimeout(me),delete ni()[to];const qe=ni().grecaptcha;if(!qe)return void ne(dt(b,"internal-error"));const En=qe.render;qe.render=(nr,Rr)=>{const hn=En(nr,Rr);return this.counter++,hn},this.hostLanguage=D,k(qe)},Ta(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:to,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(me),ne(dt(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var D;return!(null===(D=ni().grecaptcha)||void 0===D||!D.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nc{load(b){return(0,w.Z)(function*(){return new No(b)})()}clearedOneInstance(){}}const il="recaptcha",lu={theme:"light",type:"image"};class rc{constructor(b,D=Object.assign({},lu),k){this.parameters=D,this.type=il,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zi(k),this.isInvisible="invisible"===this.parameters.size,ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof b?document.getElementById(b):b;ze(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nc:new Kr,this.validateStartingState()}verify(){var b=this;return(0,w.Z)(function*(){b.assertNotDestroyed();const D=yield b.render(),k=b.getAssertedRecaptcha();return k.getResponse(D)||new Promise(me=>{const mt=qe=>{qe&&(b.tokenChangeListeners.delete(mt),me(qe))};b.tokenChangeListeners.add(mt),b.isInvisible&&k.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){ze(!this.parameters.sitekey,this.auth,"argument-error"),ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return D=>{if(this.tokenChangeListeners.forEach(k=>k(D)),"function"==typeof b)b(D);else if("string"==typeof b){const k=ni()[b];"function"==typeof k&&k(D)}}}assertNotDestroyed(){ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,w.Z)(function*(){if(yield b.init(),!b.widgetId){let D=b.container;if(!b.isInvisible){const k=document.createElement("div");D.appendChild(k),D=k}b.widgetId=b.getAssertedRecaptcha().render(D,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,w.Z)(function*(){ze(ot()&&!bs(),b.auth,"internal-error"),yield function yl(){let N=null;return new Promise(b=>{"complete"!==document.readyState?(N=()=>b(),window.addEventListener("load",N)):b()}).catch(b=>{throw N&&window.removeEventListener("load",N),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const D=yield function Ws(N){return is.apply(this,arguments)}(b.auth);ze(D,b.auth,"internal-error"),b.parameters.sitekey=D})()}getAssertedRecaptcha(){return ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ic{constructor(b,D){this.verificationId=b,this.onConfirmation=D}confirm(b){const D=Qe._fromVerification(this.verificationId,b);return this.onConfirmation(D)}}function Oh(N,b,D){return ji.apply(this,arguments)}function ji(){return(ji=(0,w.Z)(function*(N,b,D){const k=zi(N),ne=yield Wa(k,b,(0,M.m9)(D));return new ic(ne,me=>$t(k,me))})).apply(this,arguments)}function cu(N,b,D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N);yield Ea(!1,k,"phone");const ne=yield Wa(k.auth,b,(0,M.m9)(D));return new ic(ne,me=>Ls(k,me))})).apply(this,arguments)}function Vl(N,b,D){return sl.apply(this,arguments)}function sl(){return(sl=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N),ne=yield Wa(k.auth,b,(0,M.m9)(D));return new ic(ne,me=>Un(k,me))})).apply(this,arguments)}function Wa(N,b,D){return $c.apply(this,arguments)}function $c(){return($c=(0,w.Z)(function*(N,b,D){var k;const ne=yield D.verify();try{let me;if(ze("string"==typeof ne,N,"argument-error"),ze(D.type===il,N,"argument-error"),me="string"==typeof b?{phoneNumber:b}:b,"session"in me){const mt=me.session;if("phoneNumber"in me)return ze("enroll"===mt.type,N,"internal-error"),(yield xo(N,{idToken:mt.credential,phoneEnrollmentInfo:{phoneNumber:me.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{ze("signin"===mt.type,N,"internal-error");const qe=(null===(k=me.multiFactorHint)||void 0===k?void 0:k.uid)||me.multiFactorUid;return ze(qe,N,"missing-multi-factor-info"),(yield tl(N,{mfaPendingCredential:mt.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:mt}=yield Ze(N,{phoneNumber:me.phoneNumber,recaptchaToken:ne});return mt}}finally{D._reset()}})).apply(this,arguments)}function ol(N,b){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,w.Z)(function*(N,b){yield xs((0,M.m9)(N),b)})).apply(this,arguments)}let sc=(()=>{class N{constructor(D){this.providerId=N.PROVIDER_ID,this.auth=zi(D)}verifyPhoneNumber(D,k){return Wa(this.auth,D,(0,M.m9)(k))}static credential(D,k){return Qe._fromVerification(D,k)}static credentialFromResult(D){return N.credentialFromTaggedObject(D)}static credentialFromError(D){return N.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:k,temporaryProof:ne}=D;return k&&ne?Qe._fromTokenResponse(k,ne):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function Oa(N,b){return b?zt(b):(ze(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class Qi extends Ei{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return rt(b,this._buildIdpRequest())}_linkToIdToken(b,D){return rt(b,this._buildIdpRequest(D))}_getReauthenticationResolver(b){return rt(b,this._buildIdpRequest())}_buildIdpRequest(b){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(D.idToken=b),D}}function Bo(N){return Io(N.auth,new Qi(N),N.bypassAuthState)}function _s(N){const{auth:b,user:D}=N;return ze(D,b,"internal-error"),Fs(D,new Qi(N),N.bypassAuthState)}function x(N){return R.apply(this,arguments)}function R(){return(R=(0,w.Z)(function*(N){const{auth:b,user:D}=N;return ze(D,b,"internal-error"),xs(D,new Qi(N),N.bypassAuthState)})).apply(this,arguments)}class S{constructor(b,D,k,ne,me=!1){this.auth=b,this.resolver=k,this.user=ne,this.bypassAuthState=me,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var b=this;return new Promise(function(){var D=(0,w.Z)(function*(k,ne){b.pendingPromise={resolve:k,reject:ne};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(me){b.reject(me)}});return function(k,ne){return D.apply(this,arguments)}}())}onAuthEvent(b){var D=this;return(0,w.Z)(function*(){const{urlResponse:k,sessionId:ne,postBody:me,tenantId:mt,error:qe,type:En}=b;if(qe)return void D.reject(qe);const nr={auth:D.auth,requestUri:k,sessionId:ne,tenantId:mt||void 0,postBody:me||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(En)(nr))}catch(Rr){D.reject(Rr)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return Bo;case"linkViaPopup":case"linkViaRedirect":return x;case"reauthViaPopup":case"reauthViaRedirect":return _s;default:Ct(this.auth,"internal-error")}}resolve(b){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){Ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const V=new Kt(2e3,1e4);function J(N,b,D){return re.apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(N,b,D){const k=zi(N);Tt(N,b,Qs);const ne=Oa(k,D);return new Pn(k,"signInViaPopup",b,ne).executeNotNull()})).apply(this,arguments)}function ce(N,b,D){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N);Tt(k.auth,b,Qs);const ne=Oa(k.auth,D);return new Pn(k.auth,"reauthViaPopup",b,ne,k).executeNotNull()})).apply(this,arguments)}function Jt(N,b,D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N);Tt(k.auth,b,Qs);const ne=Oa(k.auth,D);return new Pn(k.auth,"linkViaPopup",b,ne,k).executeNotNull()})).apply(this,arguments)}let Pn=(()=>{class N extends S{constructor(D,k,ne,me,mt){super(D,k,me,mt),this.provider=ne,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var D=this;return(0,w.Z)(function*(){const k=yield D.execute();return ze(k,D.auth,"internal-error"),k})()}onExecution(){var D=this;return(0,w.Z)(function*(){Ft(1===D.filter.length,"Popup operations only handle one event");const k=rs();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],k),D.authWindow.associatedEvent=k,D.resolver._originValidation(D.auth).catch(ne=>{D.reject(ne)}),D.resolver._isIframeWebStorageSupported(D.auth,ne=>{ne||D.reject(dt(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const D=()=>{var k,ne;this.pollId=null!==(ne=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(dt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,V.get())};D()}}return N.currentPopupAction=null,N})();const Ki=new Map;class zs extends S{constructor(b,D,k=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,k),this.eventId=null}execute(){var b=()=>super.execute,D=this;return(0,w.Z)(function*(){let k=Ki.get(D.auth._key());if(!k){try{const me=(yield function qs(N,b){return al.apply(this,arguments)}(D.resolver,D.auth))?yield b().call(D):null;k=()=>Promise.resolve(me)}catch(ne){k=()=>Promise.reject(ne)}Ki.set(D.auth._key(),k)}return D.bypassAuthState||Ki.set(D.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(b){var D=()=>super.onAuthEvent,k=this;return(0,w.Z)(function*(){if("signInViaRedirect"===b.type)return D().call(k,b);if("unknown"!==b.type){if(b.eventId){const ne=yield k.auth._redirectUserForId(b.eventId);if(ne)return k.user=ne,D().call(k,b);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function al(){return(al=(0,w.Z)(function*(N,b){const D=Z(b),k=z(N);if(!(yield k._isAvailable()))return!1;const ne="true"===(yield k._get(D));return yield k._remove(D),ne})).apply(this,arguments)}function Vo(N,b){return ul.apply(this,arguments)}function ul(){return(ul=(0,w.Z)(function*(N,b){return z(N)._set(Z(b),"true")})).apply(this,arguments)}function ca(){Ki.clear()}function pd(N,b){Ki.set(N._key(),b)}function z(N){return zt(N._redirectPersistence)}function Z(N){return Ae("pendingRedirect",N.config.apiKey,N.name)}function oe(N,b,D){return function Le(N,b,D){return tt.apply(this,arguments)}(N,b,D)}function tt(){return(tt=(0,w.Z)(function*(N,b,D){const k=zi(N);Tt(N,b,Qs),yield k._initializationPromise;const ne=Oa(k,D);return yield Vo(ne,k),ne._openRedirect(k,b,"signInViaRedirect")})).apply(this,arguments)}function Dt(N,b,D){return function en(N,b,D){return Zn.apply(this,arguments)}(N,b,D)}function Zn(){return(Zn=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N);Tt(k.auth,b,Qs),yield k.auth._initializationPromise;const ne=Oa(k.auth,D);yield Vo(ne,k.auth);const me=yield Uo(k);return ne._openRedirect(k.auth,b,"reauthViaRedirect",me)})).apply(this,arguments)}function or(N,b,D){return function cr(N,b,D){return Ur.apply(this,arguments)}(N,b,D)}function Ur(){return(Ur=(0,w.Z)(function*(N,b,D){const k=(0,M.m9)(N);Tt(k.auth,b,Qs),yield k.auth._initializationPromise;const ne=Oa(k.auth,D);yield Ea(!1,k,b.providerId),yield Vo(ne,k.auth);const me=yield Uo(k);return ne._openRedirect(k.auth,b,"linkViaRedirect",me)})).apply(this,arguments)}function zr(N,b){return ws.apply(this,arguments)}function ws(){return(ws=(0,w.Z)(function*(N,b){return yield zi(N)._initializationPromise,uo(N,b,!1)})).apply(this,arguments)}function uo(N,b){return za.apply(this,arguments)}function za(){return(za=(0,w.Z)(function*(N,b,D=!1){const k=zi(N),ne=Oa(k,b),mt=yield new zs(k,ne,D).execute();return mt&&!D&&(delete mt.user._redirectEventId,yield k._persistUserIfCurrent(mt.user),yield k._setRedirectUser(null,b)),mt})).apply(this,arguments)}function Uo(N){return Su.apply(this,arguments)}function Su(){return(Su=(0,w.Z)(function*(N){const b=rs(`${N.uid}:::`);return N._redirectEventId=b,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),b})).apply(this,arguments)}class Eo{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let D=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(b,k)&&(D=!0,this.sendToConsumer(b,k),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function lo(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return du(N);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=b,D=!0)),D}sendToConsumer(b,D){var k;if(b.error&&!du(b)){const ne=(null===(k=b.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";D.onError(dt(this.auth,ne))}else D.onAuthEvent(b)}isEventForConsumer(b,D){const k=null===D.eventId||!!b.eventId&&b.eventId===D.eventId;return D.filter.includes(b.type)&&k}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oc(b))}saveEventToCache(b){this.cachedEventUids.add(oc(b)),this.lastProcessedEventTime=Date.now()}}function oc(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(b=>b).join("-")}function du({type:N,error:b}){return"unknown"===N&&"auth/no-auth-event"===b?.code}function Rh(N){return wc.apply(this,arguments)}function wc(){return(wc=(0,w.Z)(function*(N,b={}){return bn(N,"GET","/v1/projects",b)})).apply(this,arguments)}const jd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ea=/^https?/;function ll(){return(ll=(0,w.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:b}=yield Rh(N);for(const D of b)try{if(ug(D))return}catch{}Ct(N,"unauthorized-domain")})).apply(this,arguments)}function ug(N){const b=_t(),{protocol:D,hostname:k}=new URL(b);if(N.startsWith("chrome-extension://")){const mt=new URL(N);return""===mt.hostname&&""===k?"chrome-extension:"===D&&N.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===D&&mt.hostname===k}if(!ea.test(D))return!1;if(jd.test(N))return k===N;const ne=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(k)}const Ph=new Kt(3e4,6e4);function lg(){const N=ni().___jsl;if(N?.H)for(const b of Object.keys(N.H))if(N.H[b].r=N.H[b].r||[],N.H[b].L=N.H[b].L||[],N.H[b].r=[...N.H[b].L],N.CP)for(let D=0;D<N.CP.length;D++)N.CP[D]=null}let Wd=null;function Tf(N){return Wd=Wd||function Ra(N){return new Promise((b,D)=>{var k,ne,me;function mt(){lg(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{lg(),D(dt(N,"network-request-failed"))},timeout:Ph.get()})}if(null!==(ne=null===(k=ni().gapi)||void 0===k?void 0:k.iframes)&&void 0!==ne&&ne.Iframe)b(gapi.iframes.getContext());else{if(null===(me=ni().gapi)||void 0===me||!me.load){const qe=la("iframefcb");return ni()[qe]=()=>{gapi.load?mt():D(dt(N,"network-request-failed"))},Ta(`https://apis.google.com/js/api.js?onload=${qe}`).catch(En=>D(En))}mt()}}).catch(b=>{throw Wd=null,b})}(N),Wd}const gd=new Kt(5e3,15e3),op={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ap=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cg(N){const b=N.config;ze(b.authDomain,N,"auth-domain-config-required");const D=b.emulator?_n(b,"emulator/auth/iframe"):`https://${N.config.authDomain}/__/auth/iframe`,k={apiKey:b.apiKey,appName:N.name,v:u.SDK_VERSION},ne=ap.get(N.config.apiHost);ne&&(k.eid=ne);const me=N._getFrameworks();return me.length&&(k.fw=me.join(",")),`${D}?${(0,M.xO)(k).slice(1)}`}function up(){return up=(0,w.Z)(function*(N){const b=yield Tf(N),D=ni().gapi;return ze(D,N,"internal-error"),b.open({where:document.body,url:cg(N),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:op,dontclear:!0},k=>new Promise(function(){var ne=(0,w.Z)(function*(me,mt){yield k.restyle({setHideOnLeave:!1});const qe=dt(N,"network-request-failed"),En=ni().setTimeout(()=>{mt(qe)},gd.get());function nr(){ni().clearTimeout(En),me(k)}k.ping(nr).then(nr,()=>{mt(qe)})});return function(me,mt){return ne.apply(this,arguments)}}()))}),up.apply(this,arguments)}const Lh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zd{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ul(N,b,D,k,ne,me){ze(N.config.authDomain,N,"auth-domain-config-required"),ze(N.config.apiKey,N,"invalid-api-key");const mt={apiKey:N.config.apiKey,appName:N.name,authType:D,redirectUrl:k,v:u.SDK_VERSION,eventId:ne};if(b instanceof Qs){b.setDefaultLanguage(N.languageCode),mt.providerId=b.providerId||"",(0,M.xb)(b.getCustomParameters())||(mt.customParameters=JSON.stringify(b.getCustomParameters()));for(const[En,nr]of Object.entries(me||{}))mt[En]=nr}if(b instanceof Qa){const En=b.getScopes().filter(nr=>""!==nr);En.length>0&&(mt.scopes=En.join(","))}N.tenantId&&(mt.tid=N.tenantId);const qe=mt;for(const En of Object.keys(qe))void 0===qe[En]&&delete qe[En];return`${function da({config:N}){return N.emulator?_n(N,"emulator/auth/handler"):`https://${N.authDomain}/__/auth/handler`}(N)}?${(0,M.xO)(qe).slice(1)}`}const yd="webStorageSupport",ta=class Hc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_i,this._completeRedirectFn=uo,this._overrideRedirectResult=pd}_openPopup(b,D,k,ne){var me=this;return(0,w.Z)(function*(){var mt;Ft(null===(mt=me.eventManagers[b._key()])||void 0===mt?void 0:mt.manager,"_initialize() not called before _openPopup()");const qe=Ul(b,D,k,_t(),ne);return function El(N,b,D,k=500,ne=600){const me=Math.max((window.screen.availHeight-ne)/2,0).toString(),mt=Math.max((window.screen.availWidth-k)/2,0).toString();let qe="";const En=Object.assign(Object.assign({},Lh),{width:k.toString(),height:ne.toString(),top:me,left:mt}),nr=(0,M.z$)().toLowerCase();D&&(qe=Et(nr)?"_blank":D),ae(nr)&&(b=b||"http://localhost",En.scrollbars="yes");const Rr=Object.entries(En).reduce((Yn,[qa,Vn])=>`${Yn}${qa}=${Vn},`,"");if(function Wt(N=(0,M.z$)()){var b;return ye(N)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(nr)&&"_self"!==qe)return function vd(N,b){const D=document.createElement("a");D.href=N,D.target=b;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(k)}(b||"",qe),new zd(null);const hn=window.open(b||"",qe,Rr);ze(hn,N,"popup-blocked");try{hn.focus()}catch{}return new zd(hn)}(b,qe,rs())})()}_openRedirect(b,D,k,ne){var me=this;return(0,w.Z)(function*(){return yield me._originValidation(b),function Lo(N){ni().location.href=N}(Ul(b,D,k,_t(),ne)),new Promise(()=>{})})()}_initialize(b){const D=b._key();if(this.eventManagers[D]){const{manager:ne,promise:me}=this.eventManagers[D];return ne?Promise.resolve(ne):(Ft(me,"If manager is not set, promise should be"),me)}const k=this.initAndGetManager(b);return this.eventManagers[D]={promise:k},k.catch(()=>{delete this.eventManagers[D]}),k}initAndGetManager(b){var D=this;return(0,w.Z)(function*(){const k=yield function Fh(N){return up.apply(this,arguments)}(b),ne=new Eo(b);return k.register("authEvent",me=>(ze(me?.authEvent,b,"invalid-auth-event"),{status:ne.onEvent(me.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[b._key()]={manager:ne},D.iframes[b._key()]=k,ne})()}_isIframeWebStorageSupported(b,D){this.iframes[b._key()].send(yd,{type:yd},ne=>{var me;const mt=null===(me=ne?.[0])||void 0===me?void 0:me[yd];void 0!==mt&&D(!!mt),Ct(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const D=b._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Iu(N){return ll.apply(this,arguments)}(b)),this.originValidationPromises[D]}get _shouldInitProactively(){return xn()||Ie()||ye()}};class ac{constructor(b){this.factorId=b}_process(b,D,k){switch(D.type){case"enroll":return this._finalizeEnroll(b,D.credential,k);case"signin":return this._finalizeSignIn(b,D.credential);default:return ht("unexpected MultiFactorSessionType")}}}class dr extends ac{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new dr(b)}_finalizeEnroll(b,D,k){return function $u(N,b){return bn(N,"POST","/v2/accounts/mfaEnrollment:finalize",Ln(N,b))}(b,{idToken:D,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,D){return function ja(N,b){return bn(N,"POST","/v2/accounts/mfaSignIn:finalize",Ln(N,b))}(b,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ed=(()=>{class N{constructor(){}static assertion(D){return dr._fromCredential(D)}}return N.FACTOR_ID="phone",N})();var Pa="@firebase/auth";class Bh{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var D=this;return(0,w.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const D=this.auth.onIdTokenChanged(k=>{b(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(b,D),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const D=this.internalListeners.get(b);D&&(this.internalListeners.delete(b),D(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function ha(N){(0,u._registerComponent)(new Me.wA("auth",(b,{options:D})=>{const k=b.getProvider("app").getImmediate(),ne=b.getProvider("heartbeat"),{apiKey:me,authDomain:mt}=k.options;return((qe,En)=>{ze(me&&!me.includes(":"),"invalid-api-key",{appName:qe.name}),ze(!mt?.includes(":"),"argument-error",{appName:qe.name});const nr={apiKey:me,authDomain:mt,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ci(N)},Rr=new Wr(qe,En,nr);return function fn(N,b){const D=b?.persistence||[],k=(Array.isArray(D)?D:[D]).map(zt);b?.errorMap&&N._updateErrorMap(b.errorMap),N._initializeWithPersistence(k,b?.popupRedirectResolver)}(Rr,D),Rr})(k,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,D,k)=>{b.getProvider("auth-internal").initialize()})),(0,u._registerComponent)(new Me.wA("auth-internal",b=>{const D=zi(b.getProvider("auth").getImmediate());return new Bh(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)(Pa,"0.21.1",function uc(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,u.registerVersion)(Pa,"0.21.1","esm2017")}("Browser")},2090:(He,we,L)=>{"use strict";L.d(we,{$s:()=>wn,BH:()=>Mt,G6:()=>It,L:()=>ge,LL:()=>An,Pz:()=>dt,Sg:()=>Tt,UG:()=>ht,US:()=>Me,ZB:()=>be,ZR:()=>an,aH:()=>Ct,b$:()=>zt,eu:()=>qt,hl:()=>Bt,jU:()=>Ft,m9:()=>Mr,ne:()=>qr,pd:()=>Ri,r3:()=>Gr,ru:()=>Yt,tV:()=>Ee,uI:()=>ze,vZ:()=>er,w1:()=>fn,xO:()=>Ar,xb:()=>vi,z$:()=>Ut,zI:()=>Kt,zd:()=>Vi});const fe=function(Ve){const Ae=[];let je=0;for(let Ce=0;Ce<Ve.length;Ce++){let ae=Ve.charCodeAt(Ce);ae<128?Ae[je++]=ae:ae<2048?(Ae[je++]=ae>>6|192,Ae[je++]=63&ae|128):55296==(64512&ae)&&Ce+1<Ve.length&&56320==(64512&Ve.charCodeAt(Ce+1))?(ae=65536+((1023&ae)<<10)+(1023&Ve.charCodeAt(++Ce)),Ae[je++]=ae>>18|240,Ae[je++]=ae>>12&63|128,Ae[je++]=ae>>6&63|128,Ae[je++]=63&ae|128):(Ae[je++]=ae>>12|224,Ae[je++]=ae>>6&63|128,Ae[je++]=63&ae|128)}return Ae},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ve,Ae){if(!Array.isArray(Ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ae=0;ae<Ve.length;ae+=3){const Ie=Ve[ae],Et=ae+1<Ve.length,Zt=Et?Ve[ae+1]:0,Tn=ae+2<Ve.length,$e=Tn?Ve[ae+2]:0;let nt=(15&Zt)<<2|$e>>6,Wt=63&$e;Tn||(Wt=64,Et||(nt=64)),Ce.push(je[Ie>>2],je[(3&Ie)<<4|Zt>>4],je[nt],je[Wt])}return Ce.join("")},encodeString(Ve,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(Ve):this.encodeByteArray(fe(Ve),Ae)},decodeString(Ve,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(Ve):function(Ve){const Ae=[];let je=0,Ce=0;for(;je<Ve.length;){const ae=Ve[je++];if(ae<128)Ae[Ce++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const Ie=Ve[je++];Ae[Ce++]=String.fromCharCode((31&ae)<<6|63&Ie)}else if(ae>239&&ae<365){const Tn=((7&ae)<<18|(63&Ve[je++])<<12|(63&Ve[je++])<<6|63&Ve[je++])-65536;Ae[Ce++]=String.fromCharCode(55296+(Tn>>10)),Ae[Ce++]=String.fromCharCode(56320+(1023&Tn))}else{const Ie=Ve[je++],Et=Ve[je++];Ae[Ce++]=String.fromCharCode((15&ae)<<12|(63&Ie)<<6|63&Et)}}return Ae.join("")}(this.decodeStringToByteArray(Ve,Ae))},decodeStringToByteArray(Ve,Ae){this.init_();const je=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ae=0;ae<Ve.length;){const Ie=je[Ve.charAt(ae++)],Zt=ae<Ve.length?je[Ve.charAt(ae)]:0;++ae;const $e=ae<Ve.length?je[Ve.charAt(ae)]:64;++ae;const ye=ae<Ve.length?je[Ve.charAt(ae)]:64;if(++ae,null==Ie||null==Zt||null==$e||null==ye)throw Error();Ce.push(Ie<<2|Zt>>4),64!==$e&&(Ce.push(Zt<<4&240|$e>>2),64!==ye&&Ce.push($e<<6&192|ye))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ve=0;Ve<this.ENCODED_VALS.length;Ve++)this.byteToCharMap_[Ve]=this.ENCODED_VALS.charAt(Ve),this.charToByteMap_[this.byteToCharMap_[Ve]]=Ve,this.byteToCharMapWebSafe_[Ve]=this.ENCODED_VALS_WEBSAFE.charAt(Ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ve]]=Ve,Ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ve)]=Ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ve)]=Ve)}}},ge=function(Ve){return function(Ve){const Ae=fe(Ve);return Me.encodeByteArray(Ae,!0)}(Ve).replace(/\./g,"")},Ee=function(Ve){try{return Me.decodeString(Ve,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function be(Ve,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===Ve&&(Ve={});break;case Array:Ve=[];break;default:return Ae}for(const je in Ae)!Ae.hasOwnProperty(je)||!Ne(je)||(Ve[je]=be(Ve[je],Ae[je]));return Ve}function Ne(Ve){return"__proto__"!==Ve}const Ye=()=>{try{return function ut(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ve=process.env.__FIREBASE_DEFAULTS__;return Ve?JSON.parse(Ve):void 0})()||(()=>{if(typeof document>"u")return;let Ve;try{Ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ae=Ve&&Ee(Ve[1]);return Ae&&JSON.parse(Ae)})()}catch(Ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ve}`)}},Ct=()=>{var Ve;return null===(Ve=Ye())||void 0===Ve?void 0:Ve.config},dt=Ve=>{var Ae;return null===(Ae=Ye())||void 0===Ae?void 0:Ae[`_${Ve}`]};class Mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,je)=>{this.resolve=Ae,this.reject=je})}wrapCallback(Ae){return(je,Ce)=>{je?this.reject(je):this.resolve(Ce),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(je):Ae(je,Ce))}}}function Tt(Ve,Ae){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=Ae||"demo-project",ae=Ve.iat||0,Ie=Ve.sub||Ve.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ae,exp:ae+3600,auth_time:ae,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Ve);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Et)),""].join(".")}function Ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function ht(){var Ve;const Ae=null===(Ve=Ye())||void 0===Ve?void 0:Ve.forceEnvironment;if("node"===Ae)return!0;if("browser"===Ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ft(){return"object"==typeof self&&self.self===self}function Yt(){const Ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ve&&void 0!==Ve.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fn(){const Ve=Ut();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function It(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bt(){try{return"object"==typeof indexedDB}catch{return!1}}function qt(){return new Promise((Ve,Ae)=>{try{let je=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Ce);ae.onsuccess=()=>{ae.result.close(),je||self.indexedDB.deleteDatabase(Ce),Ve(!0)},ae.onupgradeneeded=()=>{je=!1},ae.onerror=()=>{var Ie;Ae((null===(Ie=ae.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(je){Ae(je)}})}function Kt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class an extends Error{constructor(Ae,je,Ce){super(je),this.code=Ae,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}}class An{constructor(Ae,je,Ce){this.service=Ae,this.serviceName=je,this.errors=Ce}create(Ae,...je){const Ce=je[0]||{},ae=`${this.service}/${Ae}`,Ie=this.errors[Ae],Et=Ie?function dn(Ve,Ae){return Ve.replace(Ln,(je,Ce)=>{const ae=Ae[Ce];return null!=ae?String(ae):`<${Ce}?>`})}(Ie,Ce):"Error";return new an(ae,`${this.serviceName}: ${Et} (${ae}).`,Ce)}}const Ln=/\{\$([^}]+)}/g;function Gr(Ve,Ae){return Object.prototype.hasOwnProperty.call(Ve,Ae)}function vi(Ve){for(const Ae in Ve)if(Object.prototype.hasOwnProperty.call(Ve,Ae))return!1;return!0}function er(Ve,Ae){if(Ve===Ae)return!0;const je=Object.keys(Ve),Ce=Object.keys(Ae);for(const ae of je){if(!Ce.includes(ae))return!1;const Ie=Ve[ae],Et=Ae[ae];if(Qr(Ie)&&Qr(Et)){if(!er(Ie,Et))return!1}else if(Ie!==Et)return!1}for(const ae of Ce)if(!je.includes(ae))return!1;return!0}function Qr(Ve){return null!==Ve&&"object"==typeof Ve}function Ar(Ve){const Ae=[];for(const[je,Ce]of Object.entries(Ve))Array.isArray(Ce)?Ce.forEach(ae=>{Ae.push(encodeURIComponent(je)+"="+encodeURIComponent(ae))}):Ae.push(encodeURIComponent(je)+"="+encodeURIComponent(Ce));return Ae.length?"&"+Ae.join("&"):""}function Vi(Ve){const Ae={};return Ve.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ae,Ie]=Ce.split("=");Ae[decodeURIComponent(ae)]=decodeURIComponent(Ie)}}),Ae}function Ri(Ve){const Ae=Ve.indexOf("?");if(!Ae)return"";const je=Ve.indexOf("#",Ae);return Ve.substring(Ae,je>0?je:void 0)}function qr(Ve,Ae){const je=new xt(Ve,Ae);return je.subscribe.bind(je)}class xt{constructor(Ae,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Ae(this)}).catch(Ce=>{this.error(Ce)})}next(Ae){this.forEachObserver(je=>{je.next(Ae)})}error(Ae){this.forEachObserver(je=>{je.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,je,Ce){let ae;if(void 0===Ae&&void 0===je&&void 0===Ce)throw new Error("Missing Observer.");ae=function cn(Ve,Ae){if("object"!=typeof Ve||null===Ve)return!1;for(const je of Ae)if(je in Ve&&"function"==typeof Ve[je])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:je,complete:Ce},void 0===ae.next&&(ae.next=Fn),void 0===ae.error&&(ae.error=Fn),void 0===ae.complete&&(ae.complete=Fn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch{}}),this.observers.push(ae),Ie}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Ae)}sendOne(Ae,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{je(this.observers[Ae])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}function wn(Ve,Ae=1e3,je=2){const Ce=Ae*Math.pow(je,Ve),ae=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+ae)}function Mr(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}},5356:(He,we,L)=>{"use strict";L.d(we,{G:()=>w});var w=(()=>{return(M=w||(w={})).Success="success",M.Info="info",M.Warning="warning",M.Error="error",w;var M})()},5574:(He,we,L)=>{"use strict";L.d(we,{e:()=>Ne});var w=L(5861),M=L(1808),Se=(L(2090),L(9681),L(1877),L(4859),L(4650)),ge=L(1041);class Ee{constructor(){}setUserLoggedIn(Je){localStorage.setItem("user",JSON.stringify(Je))}getUserLoggedIn(){return localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null}clearUser(){localStorage.removeItem("user")}}Ee.\u0275fac=function(Je){return new(Je||Ee)},Ee.\u0275prov=Se.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"});var pe=L(4258),be=L(4465);class Ne{constructor(Je,bt,ct,Ye,at){this.afAuth=Je,this.localStoreageService=bt,this.ngZone=ct,this.router=Ye,this.toastService=at,this.user=this.localStoreageService.getUserLoggedIn(),this.afAuth.authState.subscribe(st=>{st&&st.emailVerified?(this.user=st,this.localStoreageService.setUserLoggedIn(this.user),this.ngZone.run(()=>{this.router.navigate(["trip"])})):(this.user=null,this.localStoreageService.clearUser(),this.ngZone.run(()=>{this.router.navigate(["login"])}))})}SignIn(Je,bt){var ct=this;return(0,w.Z)(function*(){return ct.afAuth.signInWithEmailAndPassword(Je,bt).then(Ye=>{Ye.user&&!Ye.user.emailVerified&&(ct.SignOut(),ct.toastService.showWarningToast("Login failed","Email not verified. Please find the email in your inbox/junk/spam and do verify by click on the link."))},Ye=>{switch(Ye.code){case M.D.INVALID_PASSWORD:ct.toastService.showWarningToast("Login failed","Invalid Password.");break;case M.D.INVALID_EMAIL:ct.toastService.showWarningToast("Login failed","Invalid Email.");break;case M.D.INVALID_IDP_RESPONSE:ct.toastService.showWarningToast("Login failed","Invalid Email or Password.");break;case M.D.USER_MISMATCH:case M.D.USER_DELETED:ct.toastService.showWarningToast("Login failed","User not found.");break;case M.D.USER_DISABLED:ct.toastService.showWarningToast("Login failed","The user account has been disabled by an administrator.");break;case M.D.UNVERIFIED_EMAIL:ct.toastService.showWarningToast("Login failed","Email not verified. Please find the email in your inbox/junk/spam and do verify by click on the link.")}}).catch(Ye=>{console.log(Ye.message),ct.toastService.showWarningToast("Login failed","Something went Wrong. Please report using feedback feature.")})})()}SignUp(Je,bt,ct){var Ye=this;return(0,w.Z)(function*(){return Ye.afAuth.createUserWithEmailAndPassword(Je,bt).then(at=>{at.user&&at.user.updateProfile({displayName:ct}).then(()=>at.user?.sendEmailVerification().then(()=>{Ye.toastService.showSuccessToast("Email verification sent!","Check out your Mailbox to verify the mail, If you did not find the email, check the junk folder, Spam."),Ye.SignOut()}))},at=>{switch(at.code){case M.D.EMAIL_EXISTS:Ye.toastService.showWarningToast("Registration failed","Email already exists.");break;case M.D.WEAK_PASSWORD:Ye.toastService.showWarningToast("Registration failed","Weak Password (Should be at least 6 characters long).")}}).catch(at=>{console.log(at.message),Ye.toastService.showWarningToast("Registration failed","Something went Wrong. Please report using feedback feature.")})})()}ForgotPassword(Je){var bt=this;return(0,w.Z)(function*(){return bt.afAuth.sendPasswordResetEmail(Je).then(()=>{bt.toastService.showWarningToast("Password reset","Password reset email sent. Please check your mailbox."),bt.ngZone.run(()=>{bt.router.navigate(["login"])})},ct=>{ct.code===M.D.USER_DELETED&&bt.toastService.showWarningToast("Password reset","Email not found.")})})()}SignOut(){var Je=this;return(0,w.Z)(function*(){return Je.afAuth.signOut()})()}}Ne.\u0275fac=function(Je){return new(Je||Ne)(Se.LFG(ge.zQ),Se.LFG(Ee),Se.LFG(Se.R0b),Se.LFG(pe.F0),Se.LFG(be.k))},Ne.\u0275prov=Se.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})},4465:(He,we,L)=>{"use strict";L.d(we,{k:()=>fe});var w=L(7579),M=L(5356),u=L(4650);class fe{constructor(){this._toastEvents=new w.x,this.toastEvents=this._toastEvents.asObservable()}showSuccessToast(Me,Se){this._toastEvents.next({message:Se,title:Me,type:M.G.Success})}showInfoToast(Me,Se){this._toastEvents.next({message:Se,title:Me,type:M.G.Info})}showWarningToast(Me,Se){this._toastEvents.next({message:Se,title:Me,type:M.G.Warning})}showErrorToast(Me,Se){this._toastEvents.next({message:Se,title:Me,type:M.G.Error})}}fe.\u0275fac=function(Me){return new(Me||fe)},fe.\u0275prov=u.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})},9313:(He,we,L)=>{"use strict";var w={};L.r(w),L.d(w,{afterMain:()=>aC,afterRead:()=>Jy,afterWrite:()=>tD,applyStyles:()=>ei,arrow:()=>yC,auto:()=>Yy,basePlacements:()=>Uv,beforeMain:()=>Qy,beforeRead:()=>Xb,beforeWrite:()=>uC,bottom:()=>Ud,clippingParents:()=>Jb,computeStyles:()=>Mn,createPopper:()=>ND,createPopperBase:()=>E,createPopperLite:()=>Oi,detectOverflow:()=>hm,end:()=>Hv,eventListeners:()=>G,flip:()=>cw,hide:()=>GI,left:()=>Bc,main:()=>tw,modifierPhases:()=>nD,offset:()=>EC,placements:()=>vE,popper:()=>dm,popperGenerator:()=>m,popperOffsets:()=>ue,preventOverflow:()=>dw,read:()=>ew,reference:()=>Qb,right:()=>$d,start:()=>$v,top:()=>Lc,variationPlacements:()=>_E,viewport:()=>oC,write:()=>lC});var M=L(6895),u=L(4650),fe=L(9646),_e=L(9751),Me=L(4351),Se=L(9300),ge=L(4004);class Ee{}class pe{}class be{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),d=o.toLowerCase(),_=t.slice(i+1).trim();this.maybeSetNormalizedName(o,d),this.headers.has(d)?this.headers.get(d).push(_):this.headers.set(d,[_])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const o=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new be;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof be?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const d=e.value;if(d){let _=this.headers.get(t);if(!_)return;_=_.filter(C=>-1===d.indexOf(C)),0===_.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,_)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ut{encodeKey(e){return Ye(e)}encodeValue(e){return Ye(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bt=/%(\d[a-f0-9])/gi,ct={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye(n){return encodeURIComponent(n).replace(bt,(e,t)=>ct[t]??e)}function at(n){return`${n}`}class st{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ut,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Je(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const d=o.indexOf("="),[_,C]=-1==d?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,d)),e.decodeValue(o.slice(d+1))],O=t.get(_)||[];O.push(C),t.set(_,O)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],o=Array.isArray(i)?i.map(at):[at(i)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)?o.forEach(d=>{t.push({param:i,value:d,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new st({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(at(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const o=i.indexOf(at(e.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class dt{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Tt(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ut(n){return typeof Blob<"u"&&n instanceof Blob}function ze(n){return typeof FormData<"u"&&n instanceof FormData}class Ft{constructor(e,t,i,o){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Mt(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,d=o):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new be),this.context||(this.context=new dt),this.params){const _=this.params.toString();if(0===_.length)this.urlWithParams=t;else{const C=t.indexOf("?");this.urlWithParams=t+(-1===C?"?":C<t.length-1?"&":"")+_}}else this.params=new st,this.urlWithParams=t}serializeBody(){return null===this.body?null:Tt(this.body)||Ut(this.body)||ze(this.body)||function ht(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof st?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:Ut(this.body)?this.body.type||null:Tt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof st?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,C=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let O=e.headers||this.headers,$=e.params||this.params;const Y=e.context??this.context;return void 0!==e.setHeaders&&(O=Object.keys(e.setHeaders).reduce((he,xe)=>he.set(xe,e.setHeaders[xe]),O)),e.setParams&&($=Object.keys(e.setParams).reduce((he,xe)=>he.set(xe,e.setParams[xe]),$)),new Ft(t,i,d,{params:$,headers:O,context:Y,reportProgress:C,responseType:o,withCredentials:_})}}var Yt=(()=>((Yt=Yt||{})[Yt.Sent=0]="Sent",Yt[Yt.UploadProgress=1]="UploadProgress",Yt[Yt.ResponseHeader=2]="ResponseHeader",Yt[Yt.DownloadProgress=3]="DownloadProgress",Yt[Yt.Response=4]="Response",Yt[Yt.User=5]="User",Yt))();class zt{constructor(e,t=200,i="OK"){this.headers=e.headers||new be,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Qn extends zt{constructor(e={}){super(e),this.type=Yt.ResponseHeader}clone(e={}){return new Qn({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fn extends zt{constructor(e={}){super(e),this.type=Yt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fn({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _t extends zt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ot(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let It=(()=>{class n{constructor(t){this.handler=t}request(t,i,o={}){let d;if(t instanceof Ft)d=t;else{let O,$;O=o.headers instanceof be?o.headers:new be(o.headers),o.params&&($=o.params instanceof st?o.params:new st({fromObject:o.params})),d=new Ft(t,i,void 0!==o.body?o.body:null,{headers:O,context:o.context,params:$,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const _=(0,fe.of)(d).pipe((0,Me.b)(O=>this.handler.handle(O)));if(t instanceof Ft||"events"===o.observe)return _;const C=_.pipe((0,Se.h)(O=>O instanceof fn));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return C.pipe((0,ge.U)(O=>{if(null!==O.body&&!(O.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return O.body}));case"blob":return C.pipe((0,ge.U)(O=>{if(null!==O.body&&!(O.body instanceof Blob))throw new Error("Response is not a Blob.");return O.body}));case"text":return C.pipe((0,ge.U)(O=>{if(null!==O.body&&"string"!=typeof O.body)throw new Error("Response is not a string.");return O.body}));default:return C.pipe((0,ge.U)(O=>O.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new st).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,ot(o,i))}post(t,i,o={}){return this.request("POST",t,ot(o,i))}put(t,i,o={}){return this.request("PUT",t,ot(o,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Bt(n,e){return e(n)}function qt(n,e){return(t,i)=>e.intercept(t,{handle:o=>n(o,i)})}const _n=new u.OlP("HTTP_INTERCEPTORS"),an=new u.OlP("HTTP_INTERCEPTOR_FNS");function An(){let n=null;return(e,t)=>(null===n&&(n=((0,u.f3M)(_n,{optional:!0})??[]).reduceRight(qt,Bt)),n(e,t))}let dn=(()=>{class n extends Ee{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(an)));this.chain=i.reduceRight((o,d)=>function Kt(n,e,t){return(i,o)=>t.runInContext(()=>e(i,d=>n(d,o)))}(o,d,this.injector),Bt)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ar=/^\)\]\}',?\n/;let Qr=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _e.y(i=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((We,ft)=>o.setRequestHeader(We,ft.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const We=t.detectContentTypeHeader();null!==We&&o.setRequestHeader("Content-Type",We)}if(t.responseType){const We=t.responseType.toLowerCase();o.responseType="json"!==We?We:"text"}const d=t.serializeBody();let _=null;const C=()=>{if(null!==_)return _;const We=o.statusText||"OK",ft=new be(o.getAllResponseHeaders()),Lt=function er(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return _=new Qn({headers:ft,status:o.status,statusText:We,url:Lt}),_},O=()=>{let{headers:We,status:ft,statusText:Lt,url:ln}=C(),jn=null;204!==ft&&(jn=typeof o.response>"u"?o.responseText:o.response),0===ft&&(ft=jn?200:0);let lr=ft>=200&&ft<300;if("json"===t.responseType&&"string"==typeof jn){const Pr=jn;jn=jn.replace(ar,"");try{jn=""!==jn?JSON.parse(jn):null}catch(Hr){jn=Pr,lr&&(lr=!1,jn={error:Hr,text:jn})}}lr?(i.next(new fn({body:jn,headers:We,status:ft,statusText:Lt,url:ln||void 0})),i.complete()):i.error(new _t({error:jn,headers:We,status:ft,statusText:Lt,url:ln||void 0}))},$=We=>{const{url:ft}=C(),Lt=new _t({error:We,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ft||void 0});i.error(Lt)};let Y=!1;const he=We=>{Y||(i.next(C()),Y=!0);let ft={type:Yt.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),"text"===t.responseType&&o.responseText&&(ft.partialText=o.responseText),i.next(ft)},xe=We=>{let ft={type:Yt.UploadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),i.next(ft)};return o.addEventListener("load",O),o.addEventListener("error",$),o.addEventListener("timeout",$),o.addEventListener("abort",$),t.reportProgress&&(o.addEventListener("progress",he),null!==d&&o.upload&&o.upload.addEventListener("progress",xe)),o.send(d),i.next({type:Yt.Sent}),()=>{o.removeEventListener("error",$),o.removeEventListener("abort",$),o.removeEventListener("load",O),o.removeEventListener("timeout",$),t.reportProgress&&(o.removeEventListener("progress",he),null!==d&&o.upload&&o.upload.removeEventListener("progress",xe)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(M.JF))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mn=new u.OlP("XSRF_ENABLED"),Ar="XSRF-TOKEN",Vi=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Ar}),Ri="X-XSRF-TOKEN",si=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Ri});class qr{}let xt=(()=>{class n{constructor(t,i,o){this.doc=t,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,M.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(M.K0),u.LFG(u.Lbi),u.LFG(Vi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function kn(n,e){const t=n.url.toLowerCase();if(!(0,u.f3M)(mn)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,u.f3M)(qr).getToken(),o=(0,u.f3M)(si);return null!=i&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),e(n)}var Fn=(()=>((Fn=Fn||{})[Fn.Interceptors=0]="Interceptors",Fn[Fn.LegacyInterceptors=1]="LegacyInterceptors",Fn[Fn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fn[Fn.NoXsrfProtection=3]="NoXsrfProtection",Fn[Fn.JsonpSupport=4]="JsonpSupport",Fn[Fn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fn))();function Wn(n,e){return{\u0275kind:n,\u0275providers:e}}function jr(...n){const e=[It,Qr,dn,{provide:Ee,useExisting:dn},{provide:pe,useExisting:Qr},{provide:an,useValue:kn,multi:!0},{provide:mn,useValue:!0},{provide:qr,useClass:xt}];for(const t of n)e.push(...t.\u0275providers);return(0,u.MR2)(e)}const In=new u.OlP("LEGACY_INTERCEPTOR_FN");function yr({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:Vi,useValue:n}),void 0!==e&&t.push({provide:si,useValue:e}),Wn(Fn.CustomXsrfConfiguration,t)}let rn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jr(Wn(Fn.LegacyInterceptors,[{provide:In,useFactory:An},{provide:an,useExisting:In,multi:!0}]),yr({cookieName:Ar,headerName:Ri}))]}),n})();var Kn=L(1481),Ht=L(9653),Mr=L(825),Ve=L(6451),Ae=L(7579),je=L(4482),Ce=L(5403),ae=L(5032);function Ie(){return(0,je.e)((n,e)=>{n.subscribe((0,Ce.x)(e,ae.Z))})}var Et=L(515),Zt=L(2843),Tn=L(576);class Fe{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return ye(this,e)}do(e,t,i){const{kind:o,value:d,error:_}=this;return"N"===o?e?.(d):"E"===o?t?.(_):i?.()}accept(e,t,i){var o;return(0,Tn.m)(null===(o=e)||void 0===o?void 0:o.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,o="N"===e?(0,fe.of)(t):"E"===e?(0,Zt._)(()=>i):"C"===e?Et.E:0;if(!o)throw new TypeError(`Unexpected notification kind ${e}`);return o}static createNext(e){return new Fe("N",e)}static createError(e){return new Fe("E",void 0,e)}static createComplete(){return Fe.completeNotification}}function ye(n,e){var t,i,o;const{kind:d,value:_,error:C}=n;if("string"!=typeof d)throw new TypeError('Invalid notification, missing "kind"');"N"===d?null===(t=e.next)||void 0===t||t.call(e,_):"E"===d?null===(i=e.error)||void 0===i||i.call(e,C):null===(o=e.complete)||void 0===o||o.call(e)}Fe.completeNotification=new Fe("C");var Wt=L(262),Qt=L(8421);function xn(n,e,t,i){return(0,je.e)((o,d)=>{let _;e&&"function"!=typeof e?({duration:t,element:_,connector:i}=e):_=e;const C=new Map,O=ft=>{C.forEach(ft),ft(d)},$=ft=>O(Lt=>Lt.error(ft));let Y=0,he=!1;const xe=new Ce.Q(d,ft=>{try{const Lt=n(ft);let ln=C.get(Lt);if(!ln){C.set(Lt,ln=i?i():new Ae.x);const jn=function We(ft,Lt){const ln=new _e.y(jn=>{Y++;const lr=Lt.subscribe(jn);return()=>{lr.unsubscribe(),0==--Y&&he&&xe.unsubscribe()}});return ln.key=ft,ln}(Lt,ln);if(d.next(jn),t){const lr=(0,Ce.x)(ln,()=>{ln.complete(),lr?.unsubscribe()},void 0,void 0,()=>C.delete(Lt));xe.add((0,Qt.Xf)(t(jn)).subscribe(lr))}}ln.next(_?_(ft):ft)}catch(Lt){$(Lt)}},()=>O(ft=>ft.complete()),$,()=>C.clear(),()=>(he=!0,0===Y));o.subscribe(xe)})}var li=L(5577);function ci(n,e){return e?t=>t.pipe(ci((i,o)=>(0,Qt.Xf)(n(i,o)).pipe((0,ge.U)((d,_)=>e(i,d,o,_))))):(0,je.e)((t,i)=>{let o=0,d=null,_=!1;t.subscribe((0,Ce.x)(i,C=>{d||(d=(0,Ce.x)(i,void 0,()=>{d=null,_&&i.complete()}),(0,Qt.Xf)(n(C,o++)).subscribe(d))},()=>{_=!0,!d&&i.complete()}))})}var Wr=L(5698);const zi={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Rs="__@ngrx/effects_create__";function $s(n,e={}){const t=e.functional?n:n(),i={...zi,...e};return Object.defineProperty(t,Rs,{value:i}),t}function Xr(n){return Object.getPrototypeOf(n)}function Pi(n){return"function"==typeof n}function ki(n,e,t){const i=Xr(n).constructor.name,o=function Js(n){return function Ds(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(Rs))&&n[i][Rs].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][Rs]}))}(n)}(n).map(({propertyName:d,dispatch:_,useEffectsErrorHandler:C})=>{const O="function"==typeof n[d]?n[d]():n[d],$=C?t(O,e):O;return!1===_?$.pipe(Ie()):$.pipe(function nt(){return(0,je.e)((n,e)=>{n.subscribe((0,Ce.x)(e,t=>{e.next(Fe.createNext(t))},()=>{e.next(Fe.createComplete()),e.complete()},t=>{e.next(Fe.createError(t)),e.complete()}))})}()).pipe((0,ge.U)(he=>({effect:n[d],notification:he,propertyName:d,sourceName:i,sourceInstance:n})))});return(0,Ve.T)(...o)}function Rn(n,e,t=10){return n.pipe((0,Wt.K)(i=>(e&&e.handleError(i),t<=1?n:Rn(n,e,t-1))))}let mr=(()=>{class n extends _e.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ht.Y$))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ti(...n){return(0,Se.h)(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}new u.OlP("@ngrx/effects Internal Root Guard"),new u.OlP("@ngrx/effects User Provided Effects"),new u.OlP("@ngrx/effects Internal Root Effects"),new u.OlP("@ngrx/effects Internal Root Effects Instances"),new u.OlP("@ngrx/effects Internal Feature Effects"),new u.OlP("@ngrx/effects Internal Feature Effects Instance Groups");const _r=new u.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Rn}),Fo=(0,Ht.PH)("@ngrx/effects/init");function De(n){return Te(n,"ngrxOnInitEffects")}function Te(n,e){return n&&e in n&&"function"==typeof n[e]}let Ze=(()=>{class n extends Ae.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(xn(t=>function Ei(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?Xr(t):t),(0,li.z)(t=>t.pipe(xn(Ot))),(0,li.z)(t=>{const i=t.pipe(ci(d=>function tn(n,e){return t=>{const i=ki(t,n,e);return function rt(n){return Te(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(d)),(0,ge.U)(d=>(function oa(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function cs(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function co({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Ui(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(d,this.errorHandler),d.notification)),(0,Se.h)(d=>"N"===d.kind&&null!=d.value),function Es(){return(0,je.e)((n,e)=>{n.subscribe((0,Ce.x)(e,t=>ye(t,e)))})}()),o=t.pipe((0,Wr.q)(1),(0,Se.h)(De),(0,ge.U)(d=>d.ngrxOnInitEffects()));return(0,Ve.T)(i,o)}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.qLn),u.LFG(_r))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ot(n){return function ke(n){return Te(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let On=(()=>{class n{constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ze),u.LFG(Ht.yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ci=L(1365),To=L(3900),Ua=L(8996);const Qs=(0,Ht.PH)("[Trip/API] Get Trips"),Qa=(0,Ht.PH)("[Trip/API] Get Past Trips"),Co=(0,Ht.PH)("[Trip] Get Trips Success",(0,Ht.Ky)()),Xl=(0,Ht.PH)("[Trip/API] New Trip",(0,Ht.Ky)()),Di=(0,Ht.PH)("[Trip] New Trip Success",(0,Ht.Ky)()),Hi=(0,Ht.PH)("[Trip/API] Update Trip",(0,Ht.Ky)()),Ju=(0,Ht.PH)("[Trip/API] Update Place",(0,Ht.Ky)()),ho=(0,Ht.PH)("[Trip/API] Update Bag",(0,Ht.Ky)()),gl=(0,Ht.PH)("[Trip/API] Update PrepareCheck",(0,Ht.Ky)()),Do=(0,Ht.PH)("[Trip] Update Trip Success"),fo=(0,Ht.PH)("[Trip] Get Failure",(0,Ht.Ky)()),ml=(0,Ht.PH)("[Trip] Selected Trip",(0,Ht.Ky)()),Eu=(0,Ht.PH)("[Trip] Clear Trip Selection"),ks=(0,Ht.ZF)("trips"),ps=(0,Ht.P1)(ks,n=>n.isLoading),Xa=(0,Ht.P1)(ks,n=>n.trips),so=(0,Ht.P1)(ks,n=>n.error),bu=((0,Ht.P1)(ks,n=>n.selectedTripId),(0,Ht.P1)(ks,n=>n.tripsChanged)),ya=(0,Ht.P1)(ks,n=>n.trips.find(e=>e.id===n.selectedTripId));var So=L(4986),xs=L(263),po=L(8675);function Ea(){return(0,je.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ce.x)(e,o=>{const d=t;t=o,i&&e.next([d,o]),i=!0}))})}var $n,oo=L(5026),Fs=L(1884),ba=L(2011),eu=(L(9568),L(3942)),$t=L(5861),Si=L(9681),Ls=L(4859),Ii=L(1877),Un=L(2090),ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={},Wo=Wo||{},tr=ns||self;function Ai(){}function Gs(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function go(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ao="closure_uid_"+(1e9*Math.random()>>>0),tu=0;function zo(n,e,t){return n.call.apply(n.bind,arguments)}function Fr(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Ss(n,e,t){return(Ss=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zo:Fr).apply(null,arguments)}function wu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Is(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,o,d){for(var _=Array(arguments.length-2),C=2;C<arguments.length;C++)_[C-2]=arguments[C];return e.prototype[o].apply(i,_)}}function Ma(){this.s=this.s,this.o=this.o}Ma.prototype.s=!1,Ma.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function _l(n){Object.prototype.hasOwnProperty.call(n,ao)&&n[ao]||(n[ao]=++tu)}(this)},Ma.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qu=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ru(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function iu(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Gs(i)){const o=n.length||0,d=i.length||0;n.length=o+d;for(let _=0;_<d;_++)n[o+_]=i[_]}else n.push(i)}}function B(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!tr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tr.addEventListener("test",Ai,e),tr.removeEventListener("test",Ai,e)}catch{}return n}();function H(n){return/^[\s\xa0]*$/.test(n)}var le=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gt(n,e){return n<e?-1:n>e?1:0}function Bn(){var n=tr.navigator;return n&&(n=n.userAgent)?n:""}function ti(n){return-1!=Bn().indexOf(n)}function gs(n){return gs[" "](n),n}gs[" "]=Ai;var ms,n,js=ti("Opera"),Yi=ti("Trident")||ti("MSIE"),qo=ti("Edge"),mo=qo||Yi,ts=ti("Gecko")&&!(-1!=Bn().toLowerCase().indexOf("webkit")&&!ti("Edge"))&&!(ti("Trident")||ti("MSIE"))&&!ti("Edge"),Bs=-1!=Bn().toLowerCase().indexOf("webkit")&&!ti("Edge");function _o(){var n=tr.document;return n?n.documentMode:void 0}e:{var Ko="",Ec=(n=Bn(),ts?/rv:([^\);]+)(\)|;)/.exec(n):qo?/Edge\/([\d\.]+)/.exec(n):Yi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bs?/WebKit\/(\S+)/.exec(n):js?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ec&&(Ko=Ec?Ec[1]:""),Yi){var Xu=_o();if(null!=Xu&&Xu>parseFloat(Ko)){ms=String(Xu);break e}}ms=Ko}var Bu={};var ec=tr.document&&Yi&&(_o()||parseInt(ms,10))||void 0;function su(n,e){if(B.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ts){e:{try{gs(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pl[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&su.X.h.call(this)}}Is(su,B);var Pl={2:"touch",3:"pen",4:"mouse"};su.prototype.h=function(){su.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Uu=0;function Ge(n,e,t,i,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=o,this.key=++Uu,this.ba=this.ea=!1}function At(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function lt(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function zn(n){const e={};for(const t in n)e[t]=n[t];return e}const Lr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gi(n,e){let t,i;for(let o=1;o<arguments.length;o++){for(t in i=arguments[o],i)n[t]=i[t];for(let d=0;d<Lr.length;d++)t=Lr[d],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Ms(n){this.src=n,this.g={},this.h=0}function Vr(n,e){var t=e.type;if(t in n.g){var d,i=n.g[t],o=Qu(i,e);(d=0<=o)&&Array.prototype.splice.call(i,o,1),d&&(At(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ao(n,e,t,i){for(var o=0;o<n.length;++o){var d=n[o];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==i)return o}return-1}Ms.prototype.add=function(n,e,t,i,o){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var _=Ao(n,e,i,o);return-1<_?(e=n[_],t||(e.ea=!1)):((e=new Ge(e,this.src,d,!!i,o)).ea=t,n.push(e)),e};var Ji="closure_lm_"+(1e6*Math.random()|0),Zo={};function kl(n,e,t,i,o){if(i&&i.once)return tc(n,e,t,i,o);if(Array.isArray(e)){for(var d=0;d<e.length;d++)kl(n,e[d],t,i,o);return null}return t=Be(t),n&&n[Ha]?n.N(e,t,go(i)?!!i.capture:!!i,o):xo(n,e,t,!1,i,o)}function xo(n,e,t,i,o,d){if(!e)throw Error("Invalid event type");var _=go(o)?!!o.capture:!!o,C=W(n);if(C||(n[Ji]=C=new Ms(n)),(t=C.add(e,t,i,_,d)).proxy)return t;if(i=function $u(){const e=X;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)j||(o=_),void 0===o&&(o=!1),n.addEventListener(e.toString(),i,o);else if(n.attachEvent)n.attachEvent(U(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function tc(n,e,t,i,o){if(Array.isArray(e)){for(var d=0;d<e.length;d++)tc(n,e[d],t,i,o);return null}return t=Be(t),n&&n[Ha]?n.O(e,t,go(i)?!!i.capture:!!i,o):xo(n,e,t,!0,i,o)}function Tu(n,e,t,i,o){if(Array.isArray(e))for(var d=0;d<e.length;d++)Tu(n,e[d],t,i,o);else i=go(i)?!!i.capture:!!i,t=Be(t),n&&n[Ha]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ao(d=n.g[e],t,i,o))&&(At(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=W(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ao(e,t,i,o)),(t=-1<n?e[n]:null)&&gi(t))}function gi(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ha])Vr(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(U(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=W(e))?(Vr(t,n),0==t.h&&(t.src=null,e[Ji]=null)):At(n)}}}function U(n){return n in Zo?Zo[n]:Zo[n]="on"+n}function X(n,e){if(n.ba)n=!0;else{e=new su(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&gi(n),n=t.call(i,e)}return n}function W(n){return(n=n[Ji])instanceof Ms?n:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(n){return"function"==typeof n?n:(n[se]||(n[se]=function(e){return n.handleEvent(e)}),n[se])}function yt(){Ma.call(this),this.i=new Ms(this),this.P=this,this.I=null}function Vt(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new B(e,n);else if(e instanceof B)e.target=e.target||n;else{var o=e;Gi(e=new B(i,n),o)}if(o=!0,t)for(var d=t.length-1;0<=d;d--){var _=e.g=t[d];o=yn(_,i,!0,e)&&o}if(o=yn(_=e.g=n,i,!0,e)&&o,o=yn(_,i,!1,e)&&o,t)for(d=0;d<t.length;d++)o=yn(_=e.g=t[d],i,!1,e)&&o}function yn(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,d=0;d<e.length;++d){var _=e[d];if(_&&!_.ba&&_.capture==t){var C=_.listener,O=_.ha||_.src;_.ea&&Vr(n.i,_),o=!1!==C.call(O,i)&&o}}return o&&!i.defaultPrevented}Is(yt,Ma),yt.prototype[Ha]=!0,yt.prototype.removeEventListener=function(n,e,t,i){Tu(this,n,e,t,i)},yt.prototype.M=function(){if(yt.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)At(t[i]);delete n.g[e],n.h--}}this.I=null},yt.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},yt.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var mi=tr.JSON.stringify;function _i(){var n=Vs;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Lo,ai=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rs,n=>n.reset());class rs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Li(n){tr.setTimeout(()=>{throw n},0)}function ni(n,e){Lo||function bs(){var n=tr.Promise.resolve(void 0);Lo=function(){n.then(ou)}}(),vo||(Lo(),vo=!0),Vs.add(n,e)}var vo=!1,Vs=new class Fi{constructor(){this.h=this.g=null}add(e,t){const i=ai.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function ou(){for(var n;n=_i();){try{n.h.call(n.g)}catch(t){Li(t)}var e=ai;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vo=!1}function Cu(n,e){yt.call(this),this.h=n||1,this.g=e||tr,this.j=Ss(this.lb,this),this.l=Date.now()}function Ga(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function vl(n,e,t){if("function"==typeof n)t&&(n=Ss(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ss(n.handleEvent,n)}return 2147483647<Number(e)?-1:tr.setTimeout(n,e||0)}function au(n){n.g=vl(()=>{n.g=null,n.i&&(n.i=!1,au(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Is(Cu,yt),($n=Cu.prototype).ca=!1,$n.R=null,$n.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vt(this,"tick"),this.ca&&(Ga(this),this.start()))}},$n.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$n.M=function(){Cu.X.M.call(this),Ga(this),delete this.g};class ua extends Ma{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:au(this)}M(){super.M(),this.g&&(tr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(n){Ma.call(this),this.h=n,this.g={}}Is(Yo,Ma);var el=[];function fd(n,e,t,i){Array.isArray(t)||(t&&(el[0]=t.toString()),t=el);for(var o=0;o<t.length;o++){var d=kl(e,t[o],i||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function Ns(n){lt(n.g,function(e,t){this.g.hasOwnProperty(t)&&gi(e)},n),n.g={}}function Xs(){this.g=!0}function yo(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function eo(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var d=o[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var _=1;_<o.length;_++)o[_]=""}}}return mi(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Yo.prototype.M=function(){Yo.X.M.call(this),Ns(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xs.prototype.Aa=function(){this.g=!1},Xs.prototype.info=function(){};var Os={},Du=null;function uu(){return Du=Du||new yt}function tl(n){B.call(this,Os.Pa,n)}function ja(n){const e=uu();Vt(e,new tl(e))}function Ws(n,e){B.call(this,Os.STAT_EVENT,n),this.stat=e}function is(n){const e=uu();Vt(e,new Ws(e,n))}function nl(n,e){B.call(this,Os.Qa,n),this.size=e}function Ta(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tr.setTimeout(function(){n()},e)}Os.Pa="serverreachability",Is(tl,B),Os.STAT_EVENT="statevent",Is(Ws,B),Os.Qa="timingevent",Is(nl,B);var la={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},rl={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function bc(){}function No(){}bc.prototype.h=null;var Jo,Ll={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function de(){B.call(this,"d")}function to(){B.call(this,"c")}function Qo(){}function Kr(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Yo(this),this.O=nc,this.T=new Cu(n=mo?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Xo}function Xo(){this.i=null,this.g="",this.h=!1}Is(de,B),Is(to,B),Is(Qo,bc),Qo.prototype.g=function(){return new XMLHttpRequest},Qo.prototype.i=function(){return{}},Jo=new Qo;var nc=45e3,il={},lu={};function rc(n,e,t){n.K=1,n.v=J(_s(e)),n.s=t,n.P=!0,yl(n,null)}function yl(n,e){n.F=Date.now(),cu(n),n.A=_s(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),ul(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Xo,n.g=Hc(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ua(Ss(n.La,n,n.g),n.N)),fd(n.S,n.g,"readystatechange",n.ib),e=n.H?zn(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ja(),function Na(n,e,t,i,o,d){n.info(function(){if(n.g)if(d)for(var _="",C=d.split("&"),O=0;O<C.length;O++){var $=C[O].split("=");if(1<$.length){var Y=$[0];$=$[1];var he=Y.split("_");_=2<=he.length&&"type"==he[1]?_+(Y+"=")+$+"&":_+(Y+"=redacted&")}}else _=null;else _=d;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ic(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Oh(n,e,t){let o,i=!0;for(;!n.I&&n.C<t.length;){if(o=ji(n,t),o==lu){4==e&&(n.o=4,is(14),i=!1),yo(n.j,n.m,null,"[Incomplete Response]");break}if(o==il){n.o=4,is(15),yo(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}yo(n.j,n.m,o,null),$c(n,o)}ic(n)&&o!=lu&&o!=il&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,is(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),zd(e),e.K=!0,is(11))):(yo(n.j,n.m,t,"[Invalid Chunked Response]"),Wa(n),sl(n))}function ji(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?lu:(t=Number(e.substring(t,i)),isNaN(t)?il:(i+=1)+t>e.length?lu:(e=e.substr(i,t),n.C=i+t,e))}function cu(n){n.V=Date.now()+n.O,Bl(n,n.O)}function Bl(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ta(Ss(n.gb,n),e)}function Vl(n){n.B&&(tr.clearTimeout(n.B),n.B=null)}function sl(n){0==n.l.G||n.I||dg(n.l,n)}function Wa(n){Vl(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ga(n.T),Ns(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function $c(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dt(t.h,n)))if(!n.J&&Dt(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;vd(t),ap(t)}_d(t),is(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ta(Ss(t.cb,t),6e3));if(1>=tt(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ul(t,11)}else if((n.J||t.g==n)&&vd(t),!H(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let $=o[e];if(t.T=$[0],$=$[1],2==t.G)if("c"==$[0]){t.I=$[1],t.ka=$[2];const Y=$[3];null!=Y&&(t.ma=Y,t.j.info("VER="+t.ma));const he=$[4];null!=he&&(t.Ca=he,t.j.info("SVER="+t.Ca));const xe=$[5];null!=xe&&"number"==typeof xe&&0<xe&&(t.J=i=1.5*xe,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const We=n.g;if(We){const ft=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ft){var d=i.h;d.g||-1==ft.indexOf("spdy")&&-1==ft.indexOf("quic")&&-1==ft.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(en(d,d.h),d.h=null))}if(i.D){const Lt=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;Lt&&(i.za=Lt,V(i.F,i.D,Lt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=n;if((i=t).sa=yd(i,i.H?i.ka:null,i.V),_.J){Zn(i.h,_);var C=_,O=i.J;O&&C.setTimeout(O),C.B&&(Vl(C),cu(C)),i.g=_}else Df(i);0<t.i.length&&Fh(t)}else"stop"!=$[0]&&"close"!=$[0]||Ul(t,7);else 3==t.G&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?Ul(t,7):op(t):"noop"!=$[0]&&t.l&&t.l.wa($),t.A=0)}ja()}catch{}}function sc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gs(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ca(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gs(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function ol(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gs(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),o=i.length,d=0;d<o;d++)e.call(void 0,i[d],t&&t[d],n)}($n=Kr.prototype).setTimeout=function(n){this.O=n},$n.ib=function(n){n=n.target;const e=this.L;e&&3==Ra(n)?e.l():this.La(n)},$n.La=function(n){try{if(n==this.g)e:{const Y=Ra(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>Y)&&(3!=Y||mo||this.g&&(this.h.h||this.g.fa()||Wd(this.g)))){this.I||4!=Y||7==e||ja(),Vl(this);var t=this.g.aa();this.Y=t;t:if(ic(this)){var i=Wd(this.g);n="";var o=i.length,d=4==Ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wa(this),sl(this);var _="";break t}this.h.i=new tr.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:d&&e==o-1});i.splice(0,o),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function Nh(n,e,t,i,o,d,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+d+" "+_})}(this.j,this.u,this.A,this.m,this.U,Y,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,O=this.g;if((C=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(C)){var $=C;break t}}$=null}if(!(t=$)){this.i=!1,this.o=3,is(12),Wa(this),sl(this);break e}yo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$c(this,t)}this.P?(Oh(this,Y,_),mo&&this.i&&3==Y&&(fd(this.S,this.T,"tick",this.hb),this.T.start())):(yo(this.j,this.m,_,null),$c(this,_)),4==Y&&Wa(this),this.i&&!this.I&&(4==Y?dg(this.l,this):(this.i=!1,cu(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),Wa(this),sl(this)}}}catch{}},$n.hb=function(){if(this.g){var n=Ra(this.g),e=this.g.fa();this.C<e.length&&(Vl(this),Oh(this,n,e),this.i&&4!=n&&cu(this))}},$n.cancel=function(){this.I=!0,Wa(this)},$n.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Fl(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ja(),is(17)),Wa(this),this.o=2,sl(this)):Bl(this,this.V-n)};var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bo(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bo){this.h=void 0!==e?e:n.h,x(this,n.j),this.s=n.s,this.g=n.g,R(this,n.m),this.l=n.l,e=n.i;var t=new zs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),S(this,t),this.o=n.o}else n&&(t=String(n).match(Oa))?(this.h=!!e,x(this,t[1]||"",!0),this.s=re(t[2]||""),this.g=re(t[3]||"",!0),R(this,t[4]),this.l=re(t[5]||"",!0),S(this,t[6]||"",!0),this.o=re(t[7]||"")):(this.h=!!e,this.i=new zs(null,this.h))}function _s(n){return new Bo(n)}function x(n,e,t){n.j=t?re(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function R(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function S(n,e,t){e instanceof zs?(n.i=e,function pd(n,e){e&&!n.j&&(qs(n),n.i=null,n.g.forEach(function(t,i){var o=i.toLowerCase();i!=o&&(al(this,i),ul(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ce(e,hi)),n.i=new zs(e,n.h))}function V(n,e,t){n.i.set(e,t)}function J(n){return V(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function re(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ce(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Xe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Xe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ce(e,Jt,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ce(e,Jt,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ce(t,"/"==t.charAt(0)?Pn:Jn,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ce(t,Ki)),n.join("")};var Jt=/[#\/\?@]/g,Jn=/[#\?:]/g,Pn=/[#\?]/g,hi=/[#\?@]/g,Ki=/#/g;function zs(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Qi(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),o=null;if(0<=i){var d=n[t].substring(0,i);o=n[t].substring(i+1)}else d=n[t];e(d,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function al(n,e){qs(n),e=ca(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Vo(n,e){return qs(n),e=ca(n,e),n.g.has(e)}function ul(n,e,t){al(n,e),0<t.length&&(n.i=null,n.g.set(ca(n,e),ru(t)),n.h+=t.length)}function ca(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Z(n){this.l=n||oe,n=tr.PerformanceNavigationTiming?0<(n=tr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tr.g&&tr.g.Ga&&tr.g.Ga()&&tr.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($n=zs.prototype).add=function(n,e){qs(this),this.i=null,n=ca(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$n.forEach=function(n,e){qs(this),this.g.forEach(function(t,i){t.forEach(function(o){n.call(e,o,i,this)},this)},this)},$n.oa=function(){qs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const o=n[i];for(let d=0;d<o.length;d++)t.push(e[i])}return t},$n.W=function(n){qs(this);let e=[];if("string"==typeof n)Vo(this,n)&&(e=e.concat(this.g.get(ca(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$n.set=function(n,e){return qs(this),this.i=null,Vo(this,n=ca(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$n.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},$n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const d=encodeURIComponent(String(i)),_=this.W(i);for(i=0;i<_.length;i++){var o=d;""!==_[i]&&(o+="="+encodeURIComponent(String(_[i]))),n.push(o)}}return this.i=n.join("&")};var oe=10;function Le(n){return!!n.h||!!n.g&&n.g.size>=n.j}function tt(n){return n.h?1:n.g?n.g.size:0}function Dt(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function en(n,e){n.g?n.g.add(e):n.h=e}function Zn(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function or(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ru(n.i)}function cr(){}function Ur(){this.g=new cr}function zr(n,e,t){const i=t||"";try{sc(n,function(o,d){let _=o;go(o)&&(_=mi(o)),e.push(i+d+"="+encodeURIComponent(_))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function uo(n,e,t,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function za(n){this.l=n.ac||null,this.j=n.jb||!1}function Uo(n,e){yt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Su,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Z.prototype.cancel=function(){if(this.i=or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cr.prototype.stringify=function(n){return tr.JSON.stringify(n,void 0)},cr.prototype.parse=function(n){return tr.JSON.parse(n,void 0)},Is(za,bc),za.prototype.g=function(){return new Uo(this.l,this.j)},za.prototype.i=function(n){return function(){return n}}({}),Is(Uo,yt);var Su=0;function Oo(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Eo(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oc(n)}function oc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($n=Uo.prototype).open=function(n,e){if(this.readyState!=Su)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,oc(this)},$n.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||tr).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},$n.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eo(this)),this.readyState=Su},$n.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof tr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oo(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},$n.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Eo(this):oc(this),3==this.readyState&&Oo(this)}},$n.Va=function(n){this.g&&(this.response=this.responseText=n,Eo(this))},$n.Ua=function(n){this.g&&(this.response=n,Eo(this))},$n.ga=function(){this.g&&Eo(this)},$n.setRequestHeader=function(n,e){this.v.append(n,e)},$n.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$n.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var du=tr.JSON.parse;function lo(n){yt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rh,this.K=this.L=!1}Is(lo,yt);var Rh="",wc=/^https?$/i,jd=["POST","PUT"];function Iu(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ll(n),Ph(n)}function ll(n){n.D||(n.D=!0,Vt(n,"complete"),Vt(n,"error"))}function ug(n){if(n.h&&typeof Wo<"u"&&(!n.C[1]||4!=Ra(n)||2!=n.aa()))if(n.v&&4==Ra(n))vl(n.Ha,0,n);else if(Vt(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const C=n.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===C){var o=String(n.H).match(Oa)[1]||null;if(!o&&tr.self&&tr.self.location){var d=tr.self.location.protocol;o=d.substr(0,d.length-1)}i=!wc.test(o?o.toLowerCase():"")}t=i}if(t)Vt(n,"complete"),Vt(n,"success");else{n.m=6;try{var _=2<Ra(n)?n.g.statusText:""}catch{_=""}n.j=_+" ["+n.aa()+"]",ll(n)}}finally{Ph(n)}}}function Ph(n,e){if(n.g){lg(n);const t=n.g,i=n.C[0]?Ai:null;n.g=null,n.C=null,e||Vt(n,"ready");try{t.onreadystatechange=i}catch{}}}function lg(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(tr.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function Wd(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Rh:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Tf(n){let e="";return lt(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function gd(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Tf(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):V(n,e,t))}function kh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Cf(n){this.Ca=0,this.i=[],this.j=new Xs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=kh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=kh("baseRetryDelayMs",5e3,n),this.bb=kh("retryDelaySeedMs",1e4,n),this.$a=kh("forwardChannelMaxRetries",2,n),this.ta=kh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Z(n&&n.concurrentRequestLimit),this.Fa=new Ur,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function op(n){if(cg(n),3==n.G){var e=n.U++,t=_s(n.F);V(t,"SID",n.I),V(t,"RID",e),V(t,"TYPE","terminate"),md(n,t),(e=new Kr(n,n.j,e,void 0)).K=2,e.v=J(_s(t)),t=!1,tr.navigator&&tr.navigator.sendBeacon&&(t=tr.navigator.sendBeacon(e.v.toString(),"")),!t&&tr.Image&&((new Image).src=e.v,t=!0),t||(e.g=Hc(e.l,null),e.g.da(e.v)),e.F=Date.now(),cu(e)}da(n)}function ap(n){n.g&&(zd(n),n.g.cancel(),n.g=null)}function cg(n){ap(n),n.u&&(tr.clearTimeout(n.u),n.u=null),vd(n),n.h.cancel(),n.m&&("number"==typeof n.m&&tr.clearTimeout(n.m),n.m=null)}function Fh(n){Le(n.h)||n.m||(n.m=!0,ni(n.Ja,n),n.C=0)}function Lh(n,e){var t;t=e?e.m:n.U++;const i=_s(n.F);V(i,"SID",n.I),V(i,"RID",t),V(i,"AID",n.T),md(n,i),n.o&&n.s&&gd(i,n.o,n.s),t=new Kr(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=hu(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),en(n.h,t),rc(t,i,e)}function md(n,e){n.ia&&lt(n.ia,function(t,i){V(e,i,t)}),n.l&&sc({},function(t,i){V(e,i,t)})}function hu(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Ss(n.l.Ra,n.l,n):null;e:{var o=n.i;let d=-1;for(;;){const _=["count="+t];-1==d?0<t?(d=o[0].h,_.push("ofs="+d)):d=0:_.push("ofs="+d);let C=!0;for(let O=0;O<t;O++){let $=o[O].h;const Y=o[O].g;if($-=d,0>$)d=Math.max(0,o[O].h-100),C=!1;else try{zr(Y,_,"req"+$+"_")}catch{i&&i(Y)}}if(C){i=_.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Df(n){n.g||n.u||(n.Z=1,ni(n.Ia,n),n.A=0)}function _d(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ta(Ss(n.Ia,n),Sf(n,n.A)),n.A++,0))}function zd(n){null!=n.B&&(tr.clearTimeout(n.B),n.B=null)}function El(n){n.g=new Kr(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=_s(n.sa);V(e,"RID","rpc"),V(e,"SID",n.I),V(e,"CI",n.L?"0":"1"),V(e,"AID",n.T),V(e,"TYPE","xmlhttp"),md(n,e),n.o&&n.s&&gd(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=J(_s(e)),t.s=null,t.P=!0,yl(t,n)}function vd(n){null!=n.v&&(tr.clearTimeout(n.v),n.v=null)}function dg(n,e){var t=null;if(n.g==e){vd(n),zd(n),n.g=null;var i=2}else{if(!Dt(n.h,e))return;t=e.D,Zn(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Vt(i=uu(),new nl(i,t)),Fh(n)}else Df(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==i&&function up(n,e){return!(tt(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ta(Ss(n.Ja,n,e),Sf(n,n.C)),n.C++,0)))}(n,e)||2==i&&_d(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Ul(n,5);break;case 4:Ul(n,10);break;case 3:Ul(n,6);break;default:Ul(n,2)}}function Sf(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ul(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Ss(n.kb,n);t||(t=new Bo("//www.google.com/images/cleardot.gif"),tr.location&&"http"==tr.location.protocol||x(t,"https"),J(t)),function ws(n,e){const t=new Xs;if(tr.Image){const i=new Image;i.onload=wu(uo,t,i,"TestLoadImage: loaded",!0,e),i.onerror=wu(uo,t,i,"TestLoadImage: error",!1,e),i.onabort=wu(uo,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=wu(uo,t,i,"TestLoadImage: timeout",!1,e),tr.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else is(2);n.G=0,n.l&&n.l.va(e),da(n),cg(n)}function da(n){if(n.G=0,n.la=[],n.l){const e=or(n.h);(0!=e.length||0!=n.i.length)&&(iu(n.la,e),iu(n.la,n.i),n.h.i.length=0,ru(n.i),n.i.length=0),n.l.ua()}}function yd(n,e,t){var i=t instanceof Bo?_s(t):new Bo(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),R(i,i.m);else{var o=tr.location;i=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var d=new Bo(null,void 0);i&&x(d,i),e&&(d.g=e),o&&R(d,o),t&&(d.l=t),i=d}return e=n.za,(t=n.D)&&e&&V(i,t,e),V(i,"VER",n.ma),md(n,i),i}function Hc(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lo(t&&n.Da&&!n.ra?new za({jb:!0}):n.ra)).Ka(n.H),e}function ta(){}function ac(){if(Yi&&!(10<=Number(ec)))throw Error("Environmental error: no available transport.")}function dr(n,e){yt.call(this),this.g=new Cf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!H(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!H(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Au(this)}function Ed(n){de.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Pa(){to.call(this),this.status=1}function Au(n){this.g=n}($n=lo.prototype).Ka=function(n){this.L=n},$n.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jo.g(),this.C=function Mo(n){return n.h||(n.h=n.i())}(this.u?this.u:Jo),this.g.onreadystatechange=Ss(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void Iu(this,d)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)t.set(o,i[o]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const d of i.keys())t.set(d,i.get(d))}i=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),o=tr.FormData&&n instanceof tr.FormData,!(0<=Qu(jd,e))||i||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,_]of t)this.g.setRequestHeader(d,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lg(this),0<this.B&&((this.K=function ea(n){return Yi&&function aa(){return function wa(n){var e=Bu;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=le(String(ms)).split("."),t=le("9").split("."),i=Math.max(e.length,t.length);for(let _=0;0==n&&_<i;_++){var o=e[_]||"",d=t[_]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==o[0].length&&0==d[0].length)break;n=gt(0==o[1].length?0:parseInt(o[1],10),0==d[1].length?0:parseInt(d[1],10))||gt(0==o[2].length,0==d[2].length)||gt(o[2],d[2]),o=o[3],d=d[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ss(this.qa,this)):this.A=vl(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){Iu(this,d)}},$n.qa=function(){typeof Wo<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))},$n.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vt(this,"complete"),Vt(this,"abort"),Ph(this))},$n.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ph(this,!0)),lo.X.M.call(this)},$n.Ha=function(){this.s||(this.F||this.v||this.l?ug(this):this.fb())},$n.fb=function(){ug(this)},$n.aa=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},$n.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},$n.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),du(e)}},$n.Ea=function(){return this.m},$n.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},($n=Cf.prototype).ma=8,$n.G=1,$n.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Kr(this,this.j,n,void 0);let d=this.s;if(this.S&&(d?(d=zn(d),Gi(d,this.S)):d=this.S),null!==this.o||this.N||(o.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hu(this,o,e),V(t=_s(this.F),"RID",n),V(t,"CVER",22),this.D&&V(t,"X-HTTP-Session-Id",this.D),md(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Tf(d)))+"&"+e:this.o&&gd(t,this.o,d)),en(this.h,o),this.Ya&&V(t,"TYPE","init"),this.O?(V(t,"$req",e),V(t,"SID","null"),o.Z=!0,rc(o,t,null)):rc(o,t,e),this.G=2}}else 3==this.G&&(n?Lh(this,n):0==this.i.length||Le(this.h)||Lh(this))},$n.Ia=function(){if(this.u=null,El(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ta(Ss(this.eb,this),n)}},$n.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,is(10),ap(this),El(this))},$n.cb=function(){null!=this.v&&(this.v=null,ap(this),_d(this),is(19))},$n.kb=function(n){n?(this.j.info("Successfully pinged google.com"),is(2)):(this.j.info("Failed to ping google.com"),is(1))},($n=ta.prototype).xa=function(){},$n.wa=function(){},$n.va=function(){},$n.ua=function(){},$n.Ra=function(){},ac.prototype.g=function(n,e){return new dr(n,e)},Is(dr,yt),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;is(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=yd(n,null,n.V),Fh(n)},dr.prototype.close=function(){op(this.g)},dr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=mi(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Fh(e)},dr.prototype.M=function(){this.g.l=null,delete this.j,op(this.g),delete this.g,dr.X.M.call(this)},Is(Ed,de),Is(Pa,to),Is(Au,ta),Au.prototype.xa=function(){Vt(this.g,"a")},Au.prototype.wa=function(n){Vt(this.g,new Ed(n))},Au.prototype.va=function(n){Vt(this.g,new Pa)},Au.prototype.ua=function(){Vt(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,dr.prototype.send=dr.prototype.u,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,rl.COMPLETE="complete",No.EventType=Ll,Ll.OPEN="a",Ll.CLOSE="b",Ll.ERROR="c",Ll.MESSAGE="d",yt.prototype.listen=yt.prototype.N,lo.prototype.listenOnce=lo.prototype.O,lo.prototype.getLastError=lo.prototype.Oa,lo.prototype.getLastErrorCode=lo.prototype.Ea,lo.prototype.getStatus=lo.prototype.aa,lo.prototype.getResponseJson=lo.prototype.Sa,lo.prototype.getResponseText=lo.prototype.fa,lo.prototype.send=lo.prototype.da,lo.prototype.setWithCredentials=lo.prototype.Ka;var Bh=qi.createWebChannelTransport=function(){return new ac},uc=qi.getStatEventTarget=function(){return uu()},ha=qi.ErrorCode=la,ka=qi.EventType=rl,Vh=qi.Event=Os,lc=qi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Uh=qi.FetchXmlHttpFactory=za,Gc=qi.WebChannel=No,N=qi.XhrIo=lo;const b="@firebase/firestore";class D{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}D.UNAUTHENTICATED=new D(null),D.GOOGLE_CREDENTIALS=new D("google-credentials-uid"),D.FIRST_PARTY=new D("first-party-uid"),D.MOCK_USER=new D("mock-user");let k="9.16.0";const ne=new Ii.Yd("@firebase/firestore");function me(){return ne.logLevel}function qe(n,...e){if(ne.logLevel<=Ii.in.DEBUG){const t=e.map(Rr);ne.debug(`Firestore (${k}): ${n}`,...t)}}function En(n,...e){if(ne.logLevel<=Ii.in.ERROR){const t=e.map(Rr);ne.error(`Firestore (${k}): ${n}`,...t)}}function nr(n,...e){if(ne.logLevel<=Ii.in.WARN){const t=e.map(Rr);ne.warn(`Firestore (${k}): ${n}`,...t)}}function Rr(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function hn(n="Unexpected state"){const e=`FIRESTORE (${k}) INTERNAL ASSERTION FAILED: `+n;throw En(e),new Error(e)}function Yn(n,e){n||hn()}function Vn(n,e){return n}const Pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sn extends Un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ro{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(D.UNAUTHENTICATED))}shutdown(){}}class lp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class If{constructor(e){this.t=e,this.currentUser=D.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let o=this.i;const d=$=>this.i!==o?(o=this.i,t($)):Promise.resolve();let _=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Ro,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const $=_;e.enqueueRetryable((0,$t.Z)(function*(){yield $.promise,yield d(i.currentUser)}))},O=$=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit($=>O($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?O($):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Ro)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yn("string"==typeof i.accessToken),new fu(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yn(null===e||"string"==typeof e),new D(e)}}class $h{constructor(e,t,i,o){this.h=e,this.l=t,this.m=i,this.g=o,this.type="FirstParty",this.user=D.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Yn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class cp{constructor(e,t,i,o){this.h=e,this.l=t,this.m=i,this.g=o}getToken(){return Promise.resolve(new $h(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(D.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pu{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=d=>{null!=d.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const _=d.token!==this.A;return this.A=d.token,qe("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>i(d))};const o=d=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>o(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?o(d):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yn("string"==typeof t.token),this.A=t.token,new dp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pm(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class hg{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=pm(40);for(let d=0;d<o.length;++d)i.length<20&&o[d]<t&&(i+=e.charAt(o[d]%e.length))}return i}}function Zr(n,e){return n<e?-1:n>e?1:0}function Hl(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}function fg(n){return n+"\0"}class bo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sn(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sn(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sn(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sn(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bo.fromMillis(Date.now())}static fromDate(e){return bo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new bo(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zr(this.nanoseconds,e.nanoseconds):Zr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new bo(0,0))}static max(){return new Cn(new bo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cc{constructor(e,t,i){void 0===t?t=0:t>e.length&&hn(),void 0===i?i=e.length-t:i>e.length-t&&hn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===cc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const d=e.get(o),_=t.get(o);if(d<_)return-1;if(d>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bi extends cc{construct(e,t,i){return new Bi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new sn(Pt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Bi(t)}static emptyPath(){return new Bi([])}}const Fa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fa extends cc{construct(e,t,i){return new fa(e,t,i)}static isValidIdentifier(e){return Fa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fa(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const d=()=>{if(0===i.length)throw new sn(Pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;o<e.length;){const C=e[o];if("\\"===C){if(o+1===e.length)throw new sn(Pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[o+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new sn(Pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=O,o+=2}else"`"===C?(_=!_,o++):"."!==C||_?(i+=C,o++):(d(),o++)}if(d(),_)throw new sn(Pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fa(t)}static emptyPath(){return new fa([])}}class Hn{constructor(e){this.path=e}static fromPath(e){return new Hn(Bi.fromString(e))}static fromName(e){return new Hn(Bi.fromString(e).popFirst(5))}static empty(){return new Hn(Bi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hn(new Bi(e.slice()))}}class bd{constructor(e,t,i,o){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=o}}function Kd(n){return n.fields.find(e=>2===e.kind)}function wd(n){return n.fields.filter(e=>2!==e.kind)}bd.UNKNOWN_ID=-1;class dc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Hh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Hh(0,Hu.min())}}function Cd(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Cn.fromTimestamp(1e9===i?new bo(t+1,0):new bo(t,i));return new Hu(o,Hn.empty(),e)}function Zd(n){return new Hu(n.readTime,n.key,-1)}class Hu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hu(Cn.min(),Hn.empty(),-1)}static max(){return new Hu(Cn.max(),Hn.empty(),-1)}}function Gh(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Hn.comparator(n.documentKey,e.documentKey),0!==t?t:Zr(n.largestBatchId,e.largestBatchId))}const pg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function La(n){return gg.apply(this,arguments)}function gg(){return gg=(0,$t.Z)(function*(n){if(n.code!==Pt.FAILED_PRECONDITION||n.message!==pg)throw n;qe("LocalStore","Unexpectedly lost primary lease")}),gg.apply(this,arguments)}class Rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rt((i,o)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(i,o)},this.catchCallback=d=>{this.wrapFailure(t,d).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rt?t:Rt.resolve(t)}catch(t){return Rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rt.reject(t)}static resolve(e){return new Rt((t,i)=>{t(e)})}static reject(e){return new Rt((t,i)=>{i(e)})}static waitFor(e){return new Rt((t,i)=>{let o=0,d=0,_=!1;e.forEach(C=>{++o,C.next(()=>{++d,_&&d===o&&t()},O=>i(O))}),_=!0,d===o&&t()})}static or(e){let t=Rt.resolve(!1);for(const i of e)t=t.next(o=>o?Rt.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,d)=>{i.push(t.call(this,o,d))}),this.waitFor(i)}static mapArray(e,t){return new Rt((i,o)=>{const d=e.length,_=new Array(d);let C=0;for(let O=0;O<d;O++){const $=O;t(e[$]).next(Y=>{_[$]=Y,++C,C===d&&i(_)},Y=>o(Y))}})}static doWhile(e,t){return new Rt((i,o)=>{const d=()=>{!0===e()?t().next(()=>{d()},o):i()};d()})}}class jh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Ro,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new xf(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const o=Nf(i.target.error);this.P.reject(new xf(e,o))}}static open(e,t,i,o){try{return new jh(t,e.transaction(o,i))}catch(d){throw new xf(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Mf(t)}}class bl{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===bl.D((0,Un.z$)())&&En("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qe("SimpleDb","Removing database:",e),Mu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Un.hl)())return!1;if(bl.N())return!0;const e=(0,Un.z$)(),t=bl.D(e),i=0<t&&t<10,o=bl.k(e),d=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,$t.Z)(function*(){return t.db||(qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,o)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=_=>{i(_.target.result)},d.onblocked=()=>{o(new xf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=_=>{const C=_.target.error;o("VersionError"===C.name?new sn(Pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new sn(Pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new xf(e,C))},d.onupgradeneeded=_=>{qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,d.transaction,_.oldVersion,t.version).next(()=>{qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,o){var d=this;return(0,$t.Z)(function*(){const _="readonly"===t;let C=0;for(;;){++C;try{d.db=yield d.F(e);const O=jh.open(d.db,e,_?"readonly":"readwrite",i),$=o(O).next(Y=>(O.V(),Y)).catch(Y=>(O.abort(Y),Rt.reject(Y))).toPromise();return $.catch(()=>{}),yield O.v,$}catch(O){const $=O,Y="FirebaseError"!==$.name&&C<3;if(qe("SimpleDb","Transaction failed with error:",$.message,"Retrying:",Y),d.close(),!Y)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gm{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Mu(this.q.delete())}}class xf extends sn{constructor(e,t){super(Pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xu(n){return"IndexedDbTransactionError"===n.name}class Mf{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(qe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Mu(i)}add(e){return qe("SimpleDb","ADD",this.store.name,e,e),Mu(this.store.add(e))}get(e){return Mu(this.store.get(e)).next(t=>(void 0===t&&(t=null),qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return qe("SimpleDb","DELETE",this.store.name,e),Mu(this.store.delete(e))}count(){return qe("SimpleDb","COUNT",this.store.name),Mu(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),d=[];return this.H(o,(_,C)=>{d.push(C)}).next(()=>d)}{const o=this.store.getAll(i.range);return new Rt((d,_)=>{o.onerror=C=>{_(C.target.error)},o.onsuccess=C=>{d(C.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Rt((o,d)=>{i.onerror=_=>{d(_.target.error)},i.onsuccess=_=>{o(_.target.result)}})}Y(e,t){qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const o=this.cursor(i);return this.H(o,(d,_,C)=>C.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const o=this.cursor(i);return this.H(o,t)}tt(e){const t=this.cursor({});return new Rt((i,o)=>{t.onerror=d=>{const _=Nf(d.target.error);o(_)},t.onsuccess=d=>{const _=d.target.result;_?e(_.primaryKey,_.value).next(C=>{C?_.continue():i()}):i()}})}H(e,t){const i=[];return new Rt((o,d)=>{e.onerror=_=>{d(_.target.error)},e.onsuccess=_=>{const C=_.target.result;if(!C)return void o();const O=new gm(C),$=t(C.primaryKey,C.value,O);if($ instanceof Rt){const Y=$.catch(he=>(O.done(),Rt.reject(he)));i.push(Y)}O.isDone?o():null===O.G?C.continue():C.continue(O.G)}}).next(()=>Rt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mu(n){return new Rt((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const o=Nf(i.target.error);t(o)}})}let Tc=!1;function Nf(n){const e=bl.D((0,Un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new sn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Tc||(Tc=!0,setTimeout(()=>{throw i},0)),i}}return n}class Wh{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,$t.Z)(function*(){t.task=null;try{qe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){xu(i)?qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield La(i)}yield t.nt(6e4)}))}}class Yr{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,$t.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let o=t,d=!0;return Rt.doWhile(()=>!0===d&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!i.has(_))return qe("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,o).next(C=>{o-=C,i.add(_)});d=!1})).next(()=>t-o)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,i).next(d=>{const _=d.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(o,d)).next(C=>(qe("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>_.size)}))}ot(e,t){let i=e;return t.changes.forEach((o,d)=>{const _=Zd(d);Gh(_,i)>0&&(i=_)}),new Hu(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Da=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>i.writeSequenceNumber(o))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class fp{constructor(e,t,i,o,d,_,C,O){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=d,this.forceLongPolling=_,this.autoDetectLongPolling=C,this.useFetchStreams=O}}class wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}function mm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sa(n){return null==n}function Yd(n){return 0===n&&1/n==-1/0}function _m(n){return"number"==typeof n&&Number.isInteger(n)&&!Yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ba{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ba(t)}static fromUint8Array(e){const t=function(i){let o="";for(let d=0;d<i.length;++d)o+=String.fromCharCode(i[d]);return o}(e);return new Ba(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ba.EMPTY_BYTE_STRING=new Ba("");const ym=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dd(n){if(Yn(!!n),"string"==typeof n){let e=0;const t=ym.exec(n);if(Yn(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pa(n.seconds),nanos:pa(n.nanos)}}function pa(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zh(n){return"string"==typeof n?Ba.fromBase64String(n):Ba.fromUint8Array(n)}function gu(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ga(n){const e=n.mapValue.fields.__previous_value__;return gu(e)?ga(e):e}function jc(n){const e=Dd(n.mapValue.fields.__local_write_time__.timestampValue);return new bo(e.seconds,e.nanos)}const qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gp={nullValue:"NULL_VALUE"};function Of(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gu(n)?4:mp(n)?9007199254740991:10:hn()}function Sd(n,e){if(n===e)return!0;const t=Of(n);if(t!==Of(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jc(n).isEqual(jc(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const d=Dd(i.timestampValue),_=Dd(o.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,zh(n.bytesValue).isEqual(zh(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return pa(i.geoPointValue.latitude)===pa(o.geoPointValue.latitude)&&pa(i.geoPointValue.longitude)===pa(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return pa(i.integerValue)===pa(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const d=pa(i.doubleValue),_=pa(o.doubleValue);return d===_?Yd(d)===Yd(_):isNaN(d)&&isNaN(_)}return!1}(n,e);case 9:return Hl(n.arrayValue.values||[],e.arrayValue.values||[],Sd);case 10:return function(i,o){const d=i.mapValue.fields||{},_=o.mapValue.fields||{};if(mm(d)!==mm(_))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===_[C]||!Sd(d[C],_[C])))return!1;return!0}(n,e);default:return hn()}var o}function Jd(n,e){return void 0!==(n.values||[]).find(t=>Sd(t,e))}function Cc(n,e){if(n===e)return 0;const t=Of(n),i=Of(e);if(t!==i)return Zr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zr(n.booleanValue,e.booleanValue);case 2:return function(o,d){const _=pa(o.integerValue||o.doubleValue),C=pa(d.integerValue||d.doubleValue);return _<C?-1:_>C?1:_===C?0:isNaN(_)?isNaN(C)?0:-1:1}(n,e);case 3:return Em(n.timestampValue,e.timestampValue);case 4:return Em(jc(n),jc(e));case 5:return Zr(n.stringValue,e.stringValue);case 6:return function(o,d){const _=zh(o),C=zh(d);return _.compareTo(C)}(n.bytesValue,e.bytesValue);case 7:return function(o,d){const _=o.split("/"),C=d.split("/");for(let O=0;O<_.length&&O<C.length;O++){const $=Zr(_[O],C[O]);if(0!==$)return $}return Zr(_.length,C.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,d){const _=Zr(pa(o.latitude),pa(d.latitude));return 0!==_?_:Zr(pa(o.longitude),pa(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,d){const _=o.values||[],C=d.values||[];for(let O=0;O<_.length&&O<C.length;++O){const $=Cc(_[O],C[O]);if($)return $}return Zr(_.length,C.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,d){if(o===qh.mapValue&&d===qh.mapValue)return 0;if(o===qh.mapValue)return 1;if(d===qh.mapValue)return-1;const _=o.fields||{},C=Object.keys(_),O=d.fields||{},$=Object.keys(O);C.sort(),$.sort();for(let Y=0;Y<C.length&&Y<$.length;++Y){const he=Zr(C[Y],$[Y]);if(0!==he)return he;const xe=Cc(_[C[Y]],O[$[Y]]);if(0!==xe)return xe}return Zr(C.length,$.length)}(n.mapValue,e.mapValue);default:throw hn()}}function Em(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zr(n,e);const t=Dd(n),i=Dd(e),o=Zr(t.seconds,i.seconds);return 0!==o?o:Zr(t.nanos,i.nanos)}function Rf(n){return bm(n)}function bm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const o=Dd(i);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zh(n.bytesValue).toBase64():"referenceValue"in n?Hn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let o="[",d=!0;for(const _ of i.values||[])d?d=!1:o+=",",o+=bm(_);return o+"]"}(n.arrayValue):"mapValue"in n?function(i){const o=Object.keys(i.fields||{}).sort();let d="{",_=!0;for(const C of o)_?_=!1:d+=",",d+=`${C}:${bm(i.fields[C])}`;return d+"}"}(n.mapValue):hn();var e}function Qd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Pf(n){return!!n&&"integerValue"in n}function Tl(n){return!!n&&"arrayValue"in n}function Wc(n){return!!n&&"nullValue"in n}function mg(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xd(n){return!!n&&"mapValue"in n}function eh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=eh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mp(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function I_(n){return"nullValue"in n?gp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qd(wl.empty(),Hn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:hn()}function ey(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qd(wl.empty(),Hn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?qh:hn()}function _p(n,e){const t=Cc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function th(n,e){const t=Cc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class vr{constructor(e,t){this.position=e,this.inclusive=t}}function zc(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const d=e[o],_=n.position[o];if(i=d.field.isKeyField()?Hn.comparator(Hn.fromName(_.referenceValue),t.key):Cc(_,t.data.field(d.field)),"desc"===d.dir&&(i*=-1),0!==i)break}return i}function qc(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sd(n.position[t],e.position[t]))return!1;return!0}class Kc{}class Xi extends Kc{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Tm(e,t,i):"array-contains"===t?new M_(e,i):"in"===t?new N_(e,i):"not-in"===t?new ny(e,i):"array-contains-any"===t?new O_(e,i):new Xi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new ty(e,i):new yp(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cc(t,this.value)):null!==t&&Of(this.value)===Of(t)&&this.matchesComparison(Cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ks extends Kc{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ks(e,t)}matches(e){return kf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function kf(n){return"and"===n.op}function _g(n){return"or"===n.op}function nh(n){return A_(n)&&kf(n)}function A_(n){for(const e of n.filters)if(e instanceof Ks)return!1;return!0}function vp(n){if(n instanceof Xi)return n.field.canonicalString()+n.op.toString()+Rf(n.value);if(nh(n))return n.filters.map(e=>vp(e)).join(",");{const e=n.filters.map(t=>vp(t)).join(",");return`${n.op}(${e})`}}function x_(n,e){return n instanceof Xi?(t=n,(i=e)instanceof Xi&&t.op===i.op&&t.field.isEqual(i.field)&&Sd(t.value,i.value)):n instanceof Ks?function(t,i){return i instanceof Ks&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((o,d,_)=>o&&x_(d,i.filters[_]),!0)}(n,e):void hn();var t,i}function na(n,e){const t=n.filters.concat(e);return Ks.create(t,n.op)}function wm(n){return n instanceof Xi?`${(e=n).field.canonicalString()} ${e.op} ${Rf(e.value)}`:n instanceof Ks?function(e){return e.op.toString()+" {"+e.getFilters().map(wm).join(" ,")+"}"}(n):"Filter";var e}class Tm extends Xi{constructor(e,t,i){super(e,t,i),this.key=Hn.fromName(i.referenceValue)}matches(e){const t=Hn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ty extends Xi{constructor(e,t){super(e,"in",t),this.keys=Cm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yp extends Xi{constructor(e,t){super(e,"not-in",t),this.keys=Cm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Hn.fromName(i.referenceValue))}class M_ extends Xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tl(t)&&Jd(t.arrayValue,this.value)}}class N_ extends Xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jd(this.value.arrayValue,t)}}class ny extends Xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jd(this.value.arrayValue,t)}}class O_ extends Xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Jd(this.value.arrayValue,i))}}class Ff{constructor(e,t="asc"){this.field=e,this.dir=t}}function ry(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ss{constructor(e,t){this.comparator=e,this.root=t||mu.EMPTY}insert(e,t){return new ss(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mu.BLACK,null,null))}remove(e){return new ss(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(0===o)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?i(e.key,t):1,t&&o&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mu{constructor(e,t,i,o,d){this.key=e,this.value=t,this.color=i??mu.RED,this.left=o??mu.EMPTY,this.right=d??mu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,d){return new mu(e??this.key,t??this.value,i??this.color,o??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const d=i(e,o.key);return o=d<0?o.copy(null,null,null,o.left.insert(e,t,i),null):0===d?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return mu.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}mu.EMPTY=null,mu.RED=!0,mu.BLACK=!1,mu.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(n,e,t,i,o){return this}insert(n,e,t){return new mu(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zs{constructor(e){this.comparator=e,this.data=new ss(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kh(this.data.getIterator())}getIteratorFrom(e){return new Kh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,d=i.getNext().key;if(0!==this.comparator(o,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zs(this.comparator);return t.data=e,t}}class Kh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ia(n){return n.hasNext()?n.getNext():void 0}class Ka{constructor(e){this.fields=e,e.sort(fa.comparator)}static empty(){return new Ka([])}unionWith(e){let t=new Zs(fa.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ka(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Za{constructor(e){this.value=e}static empty(){return new Za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eh(t)}setAll(e){let t=fa.emptyPath(),i={},o=[];e.forEach((_,C)=>{if(!t.isImmediateParentOf(C)){const O=this.getFieldsMap(t);this.applyChanges(O,i,o),i={},o=[],t=C.popLast()}_?i[C.lastSegment()]=eh(_):o.push(C.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,i,o)}delete(e){const t=this.field(e.popLast());Xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Xd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){hc(t,(o,d)=>e[o]=d);for(const o of i)delete e[o]}clone(){return new Za(eh(this.value))}}function Lf(n){const e=[];return hc(n.fields,(t,i)=>{const o=new fa([t]);if(Xd(i)){const d=Lf(i.mapValue).fields;if(0===d.length)e.push(o);else for(const _ of d)e.push(o.child(_))}else e.push(o)}),new Ka(e)}class As{constructor(e,t,i,o,d,_,C){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=d,this.data=_,this.documentState=C}static newInvalidDocument(e){return new As(e,0,Cn.min(),Cn.min(),Cn.min(),Za.empty(),0)}static newFoundDocument(e,t,i,o){return new As(e,1,t,Cn.min(),i,o,0)}static newNoDocument(e,t){return new As(e,2,t,Cn.min(),Cn.min(),Za.empty(),0)}static newUnknownDocument(e,t){return new As(e,3,t,Cn.min(),Cn.min(),Za.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof As&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new As(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vg{constructor(e,t=null,i=[],o=[],d=null,_=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=d,this.startAt=_,this.endAt=C,this.ft=null}}function xi(n,e=null,t=[],i=[],o=null,d=null,_=null){return new vg(n,e,t,i,o,d,_)}function Bf(n){const e=Vn(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Sa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rf(i)).join(",")),e.ft=t}return e.ft}function $o(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ry(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!x_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qc(n.startAt,e.startAt)&&qc(n.endAt,e.endAt)}function Nu(n){return Hn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Zh(n,e){return n.filters.filter(t=>t instanceof Xi&&t.field.isEqual(e))}function Yc(n,e,t){let i=gp,o=!0;for(const d of Zh(n,e)){let _=gp,C=!0;switch(d.op){case"<":case"<=":_=I_(d.value);break;case"==":case"in":case">=":_=d.value;break;case">":_=d.value,C=!1;break;case"!=":case"not-in":_=gp}_p({value:i,inclusive:o},{value:_,inclusive:C})<0&&(i=_,o=C)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const _=t.position[d];_p({value:i,inclusive:o},{value:_,inclusive:t.inclusive})<0&&(i=_,o=t.inclusive);break}return{value:i,inclusive:o}}function R_(n,e,t){let i=qh,o=!0;for(const d of Zh(n,e)){let _=qh,C=!0;switch(d.op){case">=":case">":_=ey(d.value),C=!1;break;case"==":case"in":case"<=":_=d.value;break;case"<":_=d.value,C=!1;break;case"!=":case"not-in":_=qh}th({value:i,inclusive:o},{value:_,inclusive:C})>0&&(i=_,o=C)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const _=t.position[d];th({value:i,inclusive:o},{value:_,inclusive:t.inclusive})>0&&(i=_,o=t.inclusive);break}return{value:i,inclusive:o}}class Gl{constructor(e,t=null,i=[],o=[],d=null,_="F",C=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=d,this.limitType=_,this.startAt=C,this.endAt=O,this.dt=null,this._t=null}}function Yh(n,e,t,i,o,d,_,C){return new Gl(n,e,t,i,o,d,_,C)}function Vf(n){return new Gl(n)}function yg(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Uf(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Jc(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Eg(n){return null!==n.collectionGroup}function Id(n){const e=Vn(n);if(null===e.dt){e.dt=[];const t=Jc(e),i=Uf(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new Ff(t)),e.dt.push(new Ff(fa.keyField(),"asc"));else{let o=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(o=!0);if(!o){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ff(fa.keyField(),d))}}}return e.dt}function Gu(n){const e=Vn(n);if(!e._t)if("F"===e.limitType)e._t=xi(e.path,e.collectionGroup,Id(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Id(e))t.push(new Ff(d.field,"desc"===d.dir?"asc":"desc"));const i=e.endAt?new vr(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new vr(e.startAt.position,e.startAt.inclusive):null;e._t=xi(e.path,e.collectionGroup,t,e.filters,e.limit,i,o)}return e._t}function Dm(n,e){e.getFirstInequalityField(),Jc(n);const t=n.filters.concat([e]);return new Gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Jh(n,e,t){return new Gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qc(n,e){return $o(Gu(n),Gu(e))&&n.limitType===e.limitType}function Mi(n){return`${Bf(Gu(n))}|lt:${n.limitType}`}function bg(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>wm(i)).join(", ")}]`),Sa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rf(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rf(i)).join(",")),`Target(${t})`}(Gu(n))}; limitType=${n.limitType})`}function rh(n,e){return e.isFoundDocument()&&function(t,i){const o=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Hn.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,i){for(const o of Id(t))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(t,i){for(const o of t.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(o,d,_){const C=zc(o,d,_);return o.inclusive?C<=0:C<0}(t.startAt,Id(t),i)||t.endAt&&!function(o,d,_){const C=zc(o,d,_);return o.inclusive?C>=0:C>0}(t.endAt,Id(t),i)));var t,i}function Ep(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bp(n){return(e,t)=>{let i=!1;for(const o of Id(n)){const d=wp(o,e,t);if(0!==d)return d;i=i||o.field.isKeyField()}return 0}}function wp(n,e,t){const i=n.field.isKeyField()?Hn.comparator(e.key,t.key):function(o,d,_){const C=d.data.field(o),O=_.data.field(o);return null!==C&&null!==O?Cc(C,O):hn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return hn()}}function Tp(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function Sm(n){return{integerValue:""+n}}function iy(n,e){return _m(e)?Sm(e):Tp(n,e)}class wg{constructor(){this._=void 0}}function Ad(n,e,t){return n instanceof ju?function(i,o){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(d.fields.__previous_value__=o),{mapValue:d}}(t,e):n instanceof xd?Tg(n,e):n instanceof Ya?$f(n,e):function(i,o){const d=Qh(i,o),_=Im(d)+Im(i.gt);return Pf(d)&&Pf(i.gt)?Sm(_):Tp(i.yt,_)}(n,e)}function P_(n,e,t){return n instanceof xd?Tg(n,e):n instanceof Ya?$f(n,e):t}function Qh(n,e){return n instanceof Hf?Pf(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ju extends wg{}class xd extends wg{constructor(e){super(),this.elements=e}}function Tg(n,e){const t=Am(e);for(const i of n.elements)t.some(o=>Sd(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ya extends wg{constructor(e){super(),this.elements=e}}function $f(n,e){let t=Am(e);for(const i of n.elements)t=t.filter(o=>!Sd(o,i));return{arrayValue:{values:t}}}class Hf extends wg{constructor(e,t){super(),this.yt=e,this.gt=t}}function Im(n){return pa(n.integerValue||n.doubleValue)}function Am(n){return Tl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xh{constructor(e,t){this.field=e,this.transform=t}}class k_{constructor(e,t){this.version=e,this.transformResults=t}}class wo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wo}static exists(e){return new wo(void 0,e)}static updateTime(e){return new wo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ef{}function Cg(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gf(n.key,wo.none()):new tf(n.key,n.data,wo.none());{const t=n.data,i=Za.empty();let o=new Zs(fa.comparator);for(let d of e.fields)if(!o.has(d)){let _=t.field(d);null===_&&d.length>1&&(d=d.popLast(),_=t.field(d)),null===_?i.delete(d):i.set(d,_),o=o.add(d)}return new cl(n.key,i,new Ka(o.toArray()),wo.none())}}function Dc(n,e,t){n instanceof tf?function(i,o,d){const _=i.value.clone(),C=Sg(i.fieldTransforms,o,d.transformResults);_.setAll(C),o.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(n,e,t):n instanceof cl?function(i,o,d){if(!fc(i.precondition,o))return void o.convertToUnknownDocument(d.version);const _=Sg(i.fieldTransforms,o,d.transformResults),C=o.data;C.setAll(pc(i)),C.setAll(_),o.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Md(n,e,t,i){return n instanceof tf?function(o,d,_,C){if(!fc(o.precondition,d))return _;const O=o.value.clone(),$=F_(o.fieldTransforms,C,d);return O.setAll($),d.convertToFoundDocument(d.version,O).setHasLocalMutations(),null}(n,e,t,i):n instanceof cl?function(o,d,_,C){if(!fc(o.precondition,d))return _;const O=F_(o.fieldTransforms,C,d),$=d.data;return $.setAll(pc(o)),$.setAll(O),d.convertToFoundDocument(d.version,$).setHasLocalMutations(),null===_?null:_.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(Y=>Y.field))}(n,e,t,i):(_=t,fc(n.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_);var d,_}function sy(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),d=Qh(i.transform,o||null);null!=d&&(null===t&&(t=Za.empty()),t.set(i.field,d))}return t||null}function Dg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Hl(t,i,(o,d)=>function xm(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof xd&&i instanceof xd||t instanceof Ya&&i instanceof Ya?Hl(t.elements,i.elements,Sd):t instanceof Hf&&i instanceof Hf?Sd(t.gt,i.gt):t instanceof ju&&i instanceof ju);var t,i}(o,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class tf extends ef{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cl extends ef{constructor(e,t,i,o,d=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function pc(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Sg(n,e,t){const i=new Map;Yn(n.length===t.length);for(let o=0;o<t.length;o++){const d=n[o],_=d.transform,C=e.data.field(d.field);i.set(d.field,P_(_,C,t[o]))}return i}function F_(n,e,t){const i=new Map;for(const o of n){const d=o.transform,_=t.data.field(o.field);i.set(o.field,Ad(d,_,e))}return i}class Gf extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L_ extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B_{constructor(e){this.count=e}}var ma,os;function Ig(n){switch(n){default:return hn();case Pt.CANCELLED:case Pt.UNKNOWN:case Pt.DEADLINE_EXCEEDED:case Pt.RESOURCE_EXHAUSTED:case Pt.INTERNAL:case Pt.UNAVAILABLE:case Pt.UNAUTHENTICATED:return!1;case Pt.INVALID_ARGUMENT:case Pt.NOT_FOUND:case Pt.ALREADY_EXISTS:case Pt.PERMISSION_DENIED:case Pt.FAILED_PRECONDITION:case Pt.ABORTED:case Pt.OUT_OF_RANGE:case Pt.UNIMPLEMENTED:case Pt.DATA_LOSS:return!0}}function V_(n){if(void 0===n)return En("GRPC error has no .code"),Pt.UNKNOWN;switch(n){case ma.OK:return Pt.OK;case ma.CANCELLED:return Pt.CANCELLED;case ma.UNKNOWN:return Pt.UNKNOWN;case ma.DEADLINE_EXCEEDED:return Pt.DEADLINE_EXCEEDED;case ma.RESOURCE_EXHAUSTED:return Pt.RESOURCE_EXHAUSTED;case ma.INTERNAL:return Pt.INTERNAL;case ma.UNAVAILABLE:return Pt.UNAVAILABLE;case ma.UNAUTHENTICATED:return Pt.UNAUTHENTICATED;case ma.INVALID_ARGUMENT:return Pt.INVALID_ARGUMENT;case ma.NOT_FOUND:return Pt.NOT_FOUND;case ma.ALREADY_EXISTS:return Pt.ALREADY_EXISTS;case ma.PERMISSION_DENIED:return Pt.PERMISSION_DENIED;case ma.FAILED_PRECONDITION:return Pt.FAILED_PRECONDITION;case ma.ABORTED:return Pt.ABORTED;case ma.OUT_OF_RANGE:return Pt.OUT_OF_RANGE;case ma.UNIMPLEMENTED:return Pt.UNIMPLEMENTED;case ma.DATA_LOSS:return Pt.DATA_LOSS;default:return hn()}}(os=ma||(ma={}))[os.OK=0]="OK",os[os.CANCELLED=1]="CANCELLED",os[os.UNKNOWN=2]="UNKNOWN",os[os.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",os[os.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",os[os.NOT_FOUND=5]="NOT_FOUND",os[os.ALREADY_EXISTS=6]="ALREADY_EXISTS",os[os.PERMISSION_DENIED=7]="PERMISSION_DENIED",os[os.UNAUTHENTICATED=16]="UNAUTHENTICATED",os[os.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",os[os.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",os[os.ABORTED=10]="ABORTED",os[os.OUT_OF_RANGE=11]="OUT_OF_RANGE",os[os.UNIMPLEMENTED=12]="UNIMPLEMENTED",os[os.INTERNAL=13]="INTERNAL",os[os.UNAVAILABLE=14]="UNAVAILABLE",os[os.DATA_LOSS=15]="DATA_LOSS";class Xc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[o,d]of i)if(this.equalsFn(o,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0===o)return this.inner[i]=[[e,t]],void this.innerSize++;for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],e))return void(o[d]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return 1===i.length?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,(t,i)=>{for(const[o,d]of i)e(o,d)})}isEmpty(){return pp(this.inner)}size(){return this.innerSize}}const b0=new ss(Hn.comparator);function Cl(){return b0}const Sc=new ss(Hn.comparator);function ih(...n){let e=Sc;for(const t of n)e=e.insert(t.key,t);return e}function Ag(n){let e=Sc;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ic(){return sh()}function Mm(){return sh()}function sh(){return new Xc(n=>n.toString(),(n,e)=>n.isEqual(e))}const oy=new ss(Hn.comparator),Nm=new Zs(Hn.comparator);function bi(...n){let e=Nm;for(const t of n)e=e.add(t);return e}const Cp=new Zs(Zr);function Dp(){return Cp}class ri{constructor(e,t,i,o,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ri(Cn.min(),o,Dp(),Cl(),bi())}}class Nd{constructor(e,t,i,o,d){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nd(i,t,bi(),bi(),bi())}}class oh{constructor(e,t,i,o){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=o}}class ed{constructor(e,t){this.targetId=e,this.Et=t}}class U_{constructor(e,t,i=Ba.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class $_{constructor(){this.At=0,this.Rt=Om(),this.bt=Ba.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=bi(),t=bi(),i=bi();return this.Rt.forEach((o,d)=>{switch(d){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:hn()}}),new Nd(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=Om()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Sp{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Cl(),this.qt=Ip(),this.Ut=new Zs(Zr)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:hn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,o)=>{this.zt(o)&&t(o)})}Jt(e){const t=e.targetId,i=e.Et.count,o=this.Yt(t);if(o){const d=o.target;if(Nu(d))if(0===i){const _=new Hn(d.path);this.Qt(t,_,As.newNoDocument(_,Cn.min()))}else Yn(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,_)=>{const C=this.Yt(_);if(C){if(d.current&&Nu(C.target)){const O=new Hn(C.target.path);null!==this.Lt.get(O)||this.te(_,O)||this.Qt(_,O,As.newNoDocument(O,e))}d.St&&(t.set(_,d.Ct()),d.xt())}});let i=bi();this.qt.forEach((d,_)=>{let C=!0;_.forEachWhile(O=>{const $=this.Yt(O);return!$||2===$.purpose||(C=!1,!1)}),C&&(i=i.add(d))}),this.Lt.forEach((d,_)=>_.setReadTime(e));const o=new ri(e,t,this.Ut,this.Lt,i);return this.Lt=Cl(),this.qt=Ip(),this.Ut=new Zs(Zr),o}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const o=this.Wt(e);this.te(e,t)?o.Nt(t,1):o.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new $_,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Zs(Zr),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||qe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new $_),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Ip(){return new ss(Hn.comparator)}function Om(){return new ss(Hn.comparator)}const ay={asc:"ASCENDING",desc:"DESCENDING"},Rm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uy={and:"AND",or:"OR"};class H_{constructor(e,t){this.databaseId=e,this.wt=t}}function nf(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ah(n,e){return n.wt?e.toBase64():e.toUint8Array()}function G_(n,e){return nf(n,e.toTimestamp())}function ui(n){return Yn(!!n),Cn.fromTimestamp(function(e){const t=Dd(e);return new bo(t.seconds,t.nanos)}(n))}function Ap(n,e){return(t=n,new Bi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function j_(n){const e=Bi.fromString(n);return Yn(Ho(e)),e}function xg(n,e){return Ap(n.databaseId,e.path)}function td(n,e){const t=j_(e);if(t.get(1)!==n.databaseId.projectId)throw new sn(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new sn(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Hn(gc(t))}function Pm(n,e){return Ap(n.databaseId,e)}function km(n){const e=j_(n);return 4===e.length?Bi.emptyPath():gc(e)}function rf(n){return new Bi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gc(n){return Yn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function W_(n,e,t){return{name:xg(n,e),fields:t.value.mapValue.fields}}function Ac(n,e,t){const i=td(n,e.name),o=ui(e.updateTime),d=e.createTime?ui(e.createTime):Cn.min(),_=new Za({mapValue:{fields:e.fields}}),C=As.newFoundDocument(i,o,d,_);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function uh(n,e){let t;if(e instanceof tf)t={update:W_(n,e.key,e.value)};else if(e instanceof Gf)t={delete:xg(n,e.key)};else if(e instanceof cl)t={update:W_(n,e.key,e.data),updateMask:sf(e.fieldMask)};else{if(!(e instanceof L_))return hn();t={verify:xg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,d){const _=d.transform;if(_ instanceof ju)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof xd)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Ya)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Hf)return{fieldPath:d.field.canonicalString(),increment:_.gt};throw hn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:G_(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:hn()),t;var o}function Wu(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?wo.updateTime(ui(o.updateTime)):void 0!==o.exists?wo.exists(o.exists):wo.none():wo.none(),i=e.updateTransforms?e.updateTransforms.map(o=>function(d,_){let C=null;"setToServerValue"in _?(Yn("REQUEST_TIME"===_.setToServerValue),C=new ju):"appendMissingElements"in _?C=new xd(_.appendMissingElements.values||[]):"removeAllFromArray"in _?C=new Ya(_.removeAllFromArray.values||[]):"increment"in _?C=new Hf(d,_.increment):hn();const O=fa.fromServerFormat(_.fieldPath);return new Xh(O,C)}(n,o)):[];var o;if(e.update){const o=td(n,e.update.name),d=new Za({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new Ka((e.updateMask.fieldPaths||[]).map($=>fa.fromServerFormat($)));return new cl(o,d,_,t,i)}return new tf(o,d,t,i)}if(e.delete){const o=td(n,e.delete);return new Gf(o,t)}if(e.verify){const o=td(n,e.verify);return new L_(o,t)}return hn()}function z_(n,e){return{documents:[Pm(n,e.path)]}}function xc(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Pm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(O){if(0!==O.length)return Fm(Ks.create(O,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const d=function(O){if(0!==O.length)return O.map($=>{return{field:Od((Y=$).field),direction:K_(Y.dir)};var Y})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=($=e.limit,n.wt||Sa($)?$:{value:$});var $,C,O;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function Mg(n){let e=km(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Yn(1===i);const Y=t.from[0];Y.allDescendants?o=Y.collectionId:e=e.child(Y.collectionId)}let d=[];t.where&&(d=function(Y){const he=q_(Y);return he instanceof Ks&&nh(he)?he.getFilters():[he]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(Y=>{return new Ff(_u((he=Y).field),function(xe){switch(xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(he.direction));var he}));let C=null;t.limit&&(C=function(Y){let he;return he="object"==typeof Y?Y.value:Y,Sa(he)?null:he}(t.limit));let O=null;var Y;t.startAt&&(O=new vr((Y=t.startAt).values||[],!!Y.before));let $=null;return t.endAt&&($=function(Y){return new vr(Y.values||[],!Y.before)}(t.endAt)),Yh(e,o,_,d,C,"F",O,$)}function q_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=_u(e.unaryFilter.field);return Xi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=_u(e.unaryFilter.field);return Xi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_u(e.unaryFilter.field);return Xi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_u(e.unaryFilter.field);return Xi.create(d,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}(n):void 0!==n.fieldFilter?Xi.create(_u((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ks.create(e.compositeFilter.filters.map(t=>q_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return hn()}}(e.compositeFilter.op))}(n):hn();var e}function K_(n){return ay[n]}function dl(n){return Rm[n]}function Ng(n){return uy[n]}function Od(n){return{fieldPath:n.canonicalString()}}function _u(n){return fa.fromServerFormat(n.fieldPath)}function Fm(n){return n instanceof Xi?function(e){if("=="===e.op){if(mg(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NAN"}};if(Wc(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mg(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NOT_NAN"}};if(Wc(e.value))return{unaryFilter:{field:Od(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Od(e.field),op:dl(e.op),value:e.value}}}(n):n instanceof Ks?function(e){const t=e.getFilters().map(i=>Fm(i));return 1===t.length?t[0]:{compositeFilter:{op:Ng(e.op),filters:t}}}(n):hn()}function sf(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ho(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function hs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Og(e)),e=af(n.get(t),e);return Og(e)}function af(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const d=n.charAt(o);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Og(n){return n+"\x01\x01"}function Mc(n){const e=n.length;if(Yn(e>=2),2===e)return Yn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bi.emptyPath();const t=e-2,i=[];let o="";for(let d=0;d<e;){const _=n.indexOf("\x01",d);switch((_<0||_>t)&&hn(),n.charAt(_+1)){case"\x01":const C=n.substring(d,_);let O;0===o.length?O=C:(o+=C,O=o,o=""),i.push(O);break;case"\x10":o+=n.substring(d,_),o+="\0";break;case"\x11":o+=n.substring(d,_+1);break;default:hn()}d=_+2}return new Bi(i)}const Lm=["userId","batchId"];function Rg(n,e){return[n,hs(e)]}function Bm(n,e,t){return[n,hs(e),t]}const Pg={},uf=["prefixPath","collectionGroup","readTime","documentId"],lf=["prefixPath","collectionGroup","documentId"],cf=["collectionGroup","readTime","prefixPath","documentId"],Vm=["canonicalId","targetId"],xp=["targetId","path"],Mp=["path","targetId"],ra=["collectionId","parent"],lh=["indexId","uid"],kg=["uid","sequenceNumber"],Z_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Um=["indexId","uid","orderedDocumentKey"],cy=["userId","collectionPath","documentId"],dy=["userId","collectionPath","largestBatchId"],$m=["userId","collectionGroup","largestBatchId"],nd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ni=[...nd,"documentOverlays"],Fg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jl=Fg,Y_=[...jl,"indexConfiguration","indexState","indexEntries"];class hl extends hp{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ii(n,e){const t=Vn(n);return bl.M(t.se,e)}class Hm{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const d=this.mutations[o];d.key.isEqual(e.key)&&Dc(d,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Md(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Md(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mm();return this.mutations.forEach(o=>{const d=e.get(o.key),_=d.overlayedDocument;let C=this.applyToLocalView(_,d.mutatedFields);C=t.has(o.key)?null:C;const O=Cg(_,C);null!==O&&i.set(o.key,O),_.isValidDocument()||_.convertToNoDocument(Cn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bi())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,(t,i)=>Dg(t,i))&&Hl(this.baseMutations,e.baseMutations,(t,i)=>Dg(t,i))}}class Gm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Yn(e.mutations.length===i.length);let o=oy;const d=e.mutations;for(let _=0;_<d.length;_++)o=o.insert(d[_].key,i[_].version);return new Gm(e,t,i,o)}}class rd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rd{constructor(e,t,i,o,d=Cn.min(),_=Cn.min(),C=Ba.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=C}withSequenceNumber(e){return new Rd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Rd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class J_{constructor(e){this.ie=e}}function Lg(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Np(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:xg(o=n.ie,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:nf(o,d.version.toTimestamp()),createTime:nf(o,d.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Sl(e.version)};else{if(!e.isUnknownDocument())return hn();i.unknownDocument={path:t.path.toArray(),version:Sl(e.version)}}var o,d;return i}function Np(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ch(n){const e=new bo(n.seconds,n.nanoseconds);return Cn.fromTimestamp(e)}function Pd(n,e){const t=(e.baseMutations||[]).map(d=>Wu(n.ie,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const i=e.mutations.map(d=>Wu(n.ie,d)),o=bo.fromMillis(e.localWriteTimeMs);return new Hm(e.batchId,o,t,i)}function df(n){const e=ch(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ch(n.lastLimboFreeSnapshotVersion):Cn.min();let i;var o;return void 0!==n.query.documents?(Yn(1===(o=n.query).documents.length),i=Gu(Vf(km(o.documents[0])))):i=Gu(Mg(n.query)),new Rd(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ba.fromBase64String(n.resumeToken))}function jm(n,e){const t=Sl(e.snapshotVersion),i=Sl(e.lastLimboFreeSnapshotVersion);let o;o=Nu(e.target)?z_(n.ie,e.target):xc(n.ie,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bf(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function Wm(n){const e=Mg({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Jh(e,e.limit,"L"):e}function zm(n,e){return new rd(e.largestBatchId,Wu(n.ie,e.overlayMutation))}function X_(n,e){const t=e.path.lastSegment();return[n,hs(e.path.popLast()),t]}function Wl(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Sl(i.readTime),documentKey:hs(i.documentKey.path),largestBatchId:i.largestBatchId}}class Op{getBundleMetadata(e,t){return Rp(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:ch(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Rp(e).put({bundleId:(i=t).id,createTime:Sl(ui(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return qm(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:Wm(o.bundledQuery),readTime:ch(o.readTime)};var o})}saveNamedQuery(e,t){return qm(e).put({name:(i=t).name,readTime:Sl(ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Rp(n){return ii(n,"bundles")}function qm(n){return ii(n,"namedQueries")}class id{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new id(e,t.uid||"")}getOverlay(e,t){return dh(e).get(X_(this.userId,t)).next(i=>i?zm(this.yt,i):null)}getOverlays(e,t){const i=Ic();return Rt.forEach(t,o=>this.getOverlay(e,o).next(d=>{null!==d&&i.set(o,d)})).next(()=>i)}saveOverlays(e,t,i){const o=[];return i.forEach((d,_)=>{const C=new rd(t,_);o.push(this.oe(e,C))}),Rt.waitFor(o)}removeOverlaysForBatchId(e,t,i){const o=new Set;t.forEach(_=>o.add(hs(_.getCollectionPath())));const d=[];return o.forEach(_=>{const C=IDBKeyRange.bound([this.userId,_,i],[this.userId,_,i+1],!1,!0);d.push(dh(e).Y("collectionPathOverlayIndex",C))}),Rt.waitFor(d)}getOverlaysForCollection(e,t,i){const o=Ic(),d=hs(t),_=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,Number.POSITIVE_INFINITY],!0);return dh(e).W("collectionPathOverlayIndex",_).next(C=>{for(const O of C){const $=zm(this.yt,O);o.set($.getKey(),$)}return o})}getOverlaysForCollectionGroup(e,t,i,o){const d=Ic();let _;const C=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dh(e).Z({index:"collectionGroupOverlayIndex",range:C},(O,$,Y)=>{const he=zm(this.yt,$);d.size()<o||he.largestBatchId===_?(d.set(he.getKey(),he),_=he.largestBatchId):Y.done()}).next(()=>d)}oe(e,t){return dh(e).put(function(i,o,d){const[_,C,O]=X_(o,d.mutation.key);return{userId:o,collectionPath:C,documentId:O,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:uh(i.ie,d.mutation)}}(this.yt,this.userId,t))}}function dh(n){return ii(n,"documentOverlays")}class Go{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(pa(e.integerValue));else if("doubleValue"in e){const i=pa(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),Yd(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(zh(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?mp(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):hn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const o of Object.keys(i))this.de(o,t),this.ce(i[o],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const o of i)this.ce(o,t)}me(e,t){this.he(t,37),Hn.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Il(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Pp(n){const e=64-function(t){let i=0;for(let o=0;o<8;++o){const d=Il(255&t[o]);if(i+=d,8!==d)break}return i}(n);return Math.ceil(e/8)}Go.Ie=new Go;class hy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const o=t.codePointAt(0);this.Ee(240|o>>>18),this.Ee(128|63&o>>>12),this.Ee(128|63&o>>>6),this.Ee(128|63&o)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const o=t.codePointAt(0);this.be(240|o>>>18),this.be(128|63&o>>>12),this.be(128|63&o>>>6),this.be(128|63&o)}}this.Pe()}Se(e){const t=this.De(e),i=Pp(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=255&t[o]}xe(e){const t=this.De(e),i=Pp(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(o){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,o,!1),new Uint8Array(d.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let o=1;o<t.length;++o)t[o]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class fy{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class kp{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class hh{constructor(){this.$e=new hy,this.Be=new fy(this.$e),this.Le=new kp(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class zl{constructor(e,t,i,o){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=o}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new zl(this.indexId,this.documentKey,this.arrayValue,i)}}function fh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Fp(n.arrayValue,e.arrayValue),0!==t?t:(t=Fp(n.directionalValue,e.directionalValue),0!==t?t:Hn.comparator(n.documentKey,e.documentKey)))}function Fp(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class w0{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){Yn(e.collectionGroup===this.collectionId);const t=Kd(e);if(void 0!==t&&!this.We(t))return!1;const i=wd(e);let o=0,d=0;for(;o<i.length&&this.We(i[o]);++o);if(o===i.length)return!0;if(void 0!==this.Qe){const _=i[o];if(!this.ze(this.Qe,_)||!this.He(this.Ke[d++],_))return!1;++o}for(;o<i.length;++o)if(d>=this.Ke.length||!this.He(this.Ke[d++],i[o]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Km(n){var e,t;if(Yn(n instanceof Xi||n instanceof Ks),n instanceof Xi){if(n instanceof N_){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>Xi.create(n.field,"==",d)))||[];return Ks.create(o,"or")}return n}const i=n.filters.map(o=>Km(o));return Ks.create(i,n.op)}function ev(n){if(0===n.getFilters().length)return[];const e=Nc(Km(n));return Yn(Lp(e)),hf(e)||ph(e)?[e]:e.getFilters()}function hf(n){return n instanceof Xi}function ph(n){return n instanceof Ks&&nh(n)}function Lp(n){return hf(n)||ph(n)||function(e){if(e instanceof Ks&&_g(e)){for(const t of e.getFilters())if(!hf(t)&&!ph(t))return!1;return!0}return!1}(n)}function Nc(n){if(Yn(n instanceof Xi||n instanceof Ks),n instanceof Xi)return n;if(1===n.filters.length)return Nc(n.filters[0]);const e=n.filters.map(i=>Nc(i));let t=Ks.create(e,n.op);return t=Al(t),Lp(t)?t:(Yn(t instanceof Ks),Yn(kf(t)),Yn(t.filters.length>1),t.filters.reduce((i,o)=>jf(i,o)))}function jf(n,e){let t;return Yn(n instanceof Xi||n instanceof Ks),Yn(e instanceof Xi||e instanceof Ks),t=n instanceof Xi?e instanceof Xi?Ks.create([n,e],"and"):Bp(n,e):e instanceof Xi?Bp(e,n):function(i,o){if(Yn(i.filters.length>0&&o.filters.length>0),kf(i)&&kf(o))return na(i,o.getFilters());const d=_g(i)?i:o,_=_g(i)?o:i,C=d.filters.map(O=>jf(O,_));return Ks.create(C,"or")}(n,e),Al(t)}function Bp(n,e){if(kf(e))return na(e,n.getFilters());{const t=e.filters.map(i=>jf(n,i));return Ks.create(t,"or")}}function Al(n){if(Yn(n instanceof Xi||n instanceof Ks),n instanceof Xi)return n;const e=n.getFilters();if(1===e.length)return Al(e[0]);if(A_(n))return n;const t=e.map(o=>Al(o)),i=[];return t.forEach(o=>{o instanceof Xi?i.push(o):o instanceof Ks&&(o.op===n.op?i.push(...o.filters):i.push(o))}),1===i.length?i[0]:Ks.create(i,n.op)}class py{constructor(){this.Je=new Bg}addToCollectionParentIndex(e,t){return this.Je.add(t),Rt.resolve()}getCollectionParents(e,t){return Rt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Rt.resolve()}deleteFieldIndex(e,t){return Rt.resolve()}getDocumentsMatchingTarget(e,t){return Rt.resolve(null)}getIndexType(e,t){return Rt.resolve(0)}getFieldIndexes(e,t){return Rt.resolve([])}getNextCollectionGroupToUpdate(e){return Rt.resolve(null)}getMinOffset(e,t){return Rt.resolve(Hu.min())}getMinOffsetFromCollectionGroup(e,t){return Rt.resolve(Hu.min())}updateCollectionGroup(e,t,i){return Rt.resolve()}updateIndexEntries(e,t){return Rt.resolve()}}class Bg{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Zs(Bi.comparator),d=!o.has(i);return this.index[t]=o.add(i),d}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Zs(Bi.comparator)).toArray()}}const Wf=new Uint8Array(0);class tv{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Bg,this.Xe=new Xc(i=>Bf(i),(i,o)=>$o(i,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const d={collectionId:i,parent:hs(o)};return nv(e).put(d)}return Rt.resolve()}getCollectionParents(e,t){const i=[],o=IDBKeyRange.bound([t,""],[fg(t),""],!1,!0);return nv(e).W(o).next(d=>{for(const _ of d){if(_.collectionId!==t)break;i.push(Mc(_.parent))}return i})}addFieldIndex(e,t){const i=zf(e),o={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var _;delete o.indexId;const d=i.add(o);if(t.indexState){const _=Vg(e);return d.next(C=>{_.put(Wl(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const i=zf(e),o=Vg(e),d=sd(e);return i.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=sd(e);let o=!0;const d=new Map;return Rt.forEach(this.Ze(t),_=>this.tn(e,_).next(C=>{o&&(o=!!C),d.set(_,C)})).next(()=>{if(o){let _=bi();const C=[];return Rt.forEach(d,(O,$)=>{var Y;qe("IndexedDbIndexManager",`Using index ${Y=O,`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map(Pr=>`${Pr.fieldPath}:${Pr.kind}`).join(",")}`} to execute ${Bf(t)}`);const he=function(Pr,Hr){const Er=Kd(Hr);if(void 0===Er)return null;for(const Ir of Zh(Pr,Er.fieldPath))switch(Ir.op){case"array-contains-any":return Ir.value.arrayValue.values||[];case"array-contains":return[Ir.value]}return null}($,O),xe=function(Pr,Hr){const Er=new Map;for(const Ir of wd(Hr))for(const Wi of Zh(Pr,Ir.fieldPath))switch(Wi.op){case"==":case"in":Er.set(Ir.fieldPath.canonicalString(),Wi.value);break;case"not-in":case"!=":return Er.set(Ir.fieldPath.canonicalString(),Wi.value),Array.from(Er.values())}return null}($,O),We=function(Pr,Hr){const Er=[];let Ir=!0;for(const Wi of wd(Hr)){const io=0===Wi.kind?Yc(Pr,Wi.fieldPath,Pr.startAt):R_(Pr,Wi.fieldPath,Pr.startAt);Er.push(io.value),Ir&&(Ir=io.inclusive)}return new vr(Er,Ir)}($,O),ft=function(Pr,Hr){const Er=[];let Ir=!0;for(const Wi of wd(Hr)){const io=0===Wi.kind?R_(Pr,Wi.fieldPath,Pr.endAt):Yc(Pr,Wi.fieldPath,Pr.endAt);Er.push(io.value),Ir&&(Ir=io.inclusive)}return new vr(Er,Ir)}($,O),Lt=this.en(O,$,We),ln=this.en(O,$,ft),jn=this.nn(O,$,xe),lr=this.sn(O.indexId,he,Lt,We.inclusive,ln,ft.inclusive,jn);return Rt.forEach(lr,Pr=>i.J(Pr,t.limit).next(Hr=>{Hr.forEach(Er=>{const Ir=Hn.fromSegments(Er.documentKey);_.has(Ir)||(_=_.add(Ir),C.push(Ir))})}))}).next(()=>C)}return Rt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:ev(Ks.create(e.filters,"and")).map(i=>xi(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,o,d,_,C){const O=(null!=t?t.length:1)*Math.max(i.length,d.length),$=O/(null!=t?t.length:1),Y=[];for(let he=0;he<O;++he){const xe=t?this.rn(t[he/$]):Wf,We=this.on(e,xe,i[he%$],o),ft=this.un(e,xe,d[he%$],_),Lt=C.map(ln=>this.on(e,xe,ln,!0));Y.push(...this.createRange(We,ft,Lt))}return Y}on(e,t,i,o){const d=new zl(e,Hn.empty(),t,i);return o?d:d.Ue()}un(e,t,i,o){const d=new zl(e,Hn.empty(),t,i);return o?d.Ue():d}tn(e,t){const i=new w0(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(d=>{let _=null;for(const C of d)i.je(C)&&(!_||C.fields.length>_.fields.length)&&(_=C);return _})}getIndexType(e,t){let i=2;const o=this.Ze(t);return Rt.forEach(o,d=>this.tn(e,d).next(_=>{_?0!==i&&_.fields.length<function(C){let O=new Zs(fa.comparator),$=!1;for(const Y of C.filters)for(const he of Y.getFlattenedFilters())he.field.isKeyField()||("array-contains"===he.op||"array-contains-any"===he.op?$=!0:O=O.add(he.field));for(const Y of C.orderBy)Y.field.isKeyField()||(O=O.add(Y.field));return O.size+($?1:0)}(d)&&(i=1):i=0})).next(()=>null!==t.limit&&o.length>1&&2===i?1:i)}cn(e,t){const i=new hh;for(const o of wd(e)){const d=t.data.field(o.fieldPath);if(null==d)return null;const _=i.qe(o.kind);Go.Ie.ue(d,_)}return i.Fe()}rn(e){const t=new hh;return Go.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new hh;return Go.Ie.ue(Qd(this.databaseId,t),i.qe(function(o){const d=wd(o);return 0===d.length?0:d[d.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let o=[];o.push(new hh);let d=0;for(const _ of wd(e)){const C=i[d++];for(const O of o)if(this.hn(t,_.fieldPath)&&Tl(C))o=this.ln(o,_,C);else{const $=O.qe(_.kind);Go.Ie.ue(C,$)}}return this.fn(o)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const o=[...e],d=[];for(const _ of i.arrayValue.values||[])for(const C of o){const O=new hh;O.seed(C.Fe()),Go.Ie.ue(_,O.qe(t.kind)),d.push(O)}return d}hn(e,t){return!!e.filters.find(i=>i instanceof Xi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=zf(e),o=Vg(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(d=>{const _=[];return Rt.forEach(d,C=>o.get([C.indexId,this.uid]).next(O=>{_.push(function($,Y){const he=Y?new Hh(Y.sequenceNumber,new Hu(ch(Y.readTime),new Hn(Mc(Y.documentKey)),Y.largestBatchId)):Hh.empty(),xe=$.fields.map(([We,ft])=>new dc(fa.fromServerFormat(We),ft));return new bd($.indexId,$.collectionGroup,xe,he)}(C,O))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,o)=>{const d=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==d?d:Zr(i.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const o=zf(e),d=Vg(e);return this.dn(e).next(_=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>Rt.forEach(C,O=>d.put(Wl(O.indexId,this.user,_,i)))))}updateIndexEntries(e,t){const i=new Map;return Rt.forEach(t,(o,d)=>{const _=i.get(o.collectionGroup);return(_?Rt.resolve(_):this.getFieldIndexes(e,o.collectionGroup)).next(C=>(i.set(o.collectionGroup,C),Rt.forEach(C,O=>this._n(e,o,O).next($=>{const Y=this.wn(d,O);return $.isEqual(Y)?Rt.resolve():this.mn(e,d,O,$,Y)}))))})}gn(e,t,i,o){return sd(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,o){return sd(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const o=sd(e);let d=new Zs(fh);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(_,C)=>{d=d.add(new zl(i.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>d)}wn(e,t){let i=new Zs(fh);const o=this.cn(t,e);if(null==o)return i;const d=Kd(t);if(null!=d){const _=e.data.field(d.fieldPath);if(Tl(_))for(const C of _.arrayValue.values||[])i=i.add(new zl(t.indexId,e.key,this.rn(C),o))}else i=i.add(new zl(t.indexId,e.key,Wf,o));return i}mn(e,t,i,o,d){qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(C,O,$,Y,he){const xe=C.getIterator(),We=O.getIterator();let ft=Ia(xe),Lt=Ia(We);for(;ft||Lt;){let ln=!1,jn=!1;if(ft&&Lt){const lr=$(ft,Lt);lr<0?jn=!0:lr>0&&(ln=!0)}else null!=ft?jn=!0:ln=!0;ln?(Y(Lt),Lt=Ia(We)):jn?(he(ft),ft=Ia(xe)):(ft=Ia(xe),Lt=Ia(We))}}(o,d,fh,C=>{_.push(this.gn(e,t,i,C))},C=>{_.push(this.yn(e,t,i,C))}),Rt.waitFor(_)}dn(e){let t=1;return Vg(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,d)=>{d.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((_,C)=>fh(_,C)).filter((_,C,O)=>!C||0!==fh(_,O[C-1]));const o=[];o.push(e);for(const _ of i){const C=fh(_,e),O=fh(_,t);if(0===C)o[0]=e.Ue();else if(C>0&&O<0)o.push(_),o.push(_.Ue());else if(O>0)break}o.push(t);const d=[];for(let _=0;_<o.length;_+=2){if(this.pn(o[_],o[_+1]))return[];d.push(IDBKeyRange.bound([o[_].indexId,this.uid,o[_].arrayValue,o[_].directionalValue,Wf,[]],[o[_+1].indexId,this.uid,o[_+1].arrayValue,o[_+1].directionalValue,Wf,[]]))}return d}pn(e,t){return fh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zm)}getMinOffset(e,t){return Rt.mapArray(this.Ze(t),i=>this.tn(e,i).next(o=>o||hn())).next(Zm)}}function nv(n){return ii(n,"collectionParents")}function sd(n){return ii(n,"indexEntries")}function zf(n){return ii(n,"indexConfiguration")}function Vg(n){return ii(n,"indexState")}function Zm(n){Yn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const o=n[i].indexState.offset;Gh(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Hu(e.readTime,e.documentKey,t)}const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xl{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new xl(e,xl.DEFAULT_COLLECTION_PERCENTILE,xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iv(n,e,t){const i=n.store("mutations"),o=n.store("documentMutations"),d=[],_=IDBKeyRange.only(t.batchId);let C=0;const O=i.Z({range:_},(Y,he,xe)=>(C++,xe.delete()));d.push(O.next(()=>{Yn(1===C)}));const $=[];for(const Y of t.mutations){const he=Bm(e,Y.key.path,t.batchId);d.push(o.delete(he)),$.push(Y.key)}return Rt.waitFor(d).next(()=>$)}function Ug(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw hn();e=n.noDocument}return JSON.stringify(e).length}xl.DEFAULT_COLLECTION_PERCENTILE=10,xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xl.DEFAULT=new xl(41943040,xl.DEFAULT_COLLECTION_PERCENTILE,xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xl.DISABLED=new xl(-1,0,0);class ff{constructor(e,t,i,o){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=o,this.In={}}static re(e,t,i,o){Yn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new ff(d,t,i,o)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return od(e).Z({index:"userMutationsIndex",range:i},(o,d,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,i,o){const d=kd(e),_=od(e);return _.add({}).next(C=>{Yn("number"==typeof C);const O=new Hm(C,t,i,o),$=function(xe,We,ft){const Lt=ft.baseMutations.map(jn=>uh(xe.ie,jn)),ln=ft.mutations.map(jn=>uh(xe.ie,jn));return{userId:We,batchId:ft.batchId,localWriteTimeMs:ft.localWriteTime.toMillis(),baseMutations:Lt,mutations:ln}}(this.yt,this.userId,O),Y=[];let he=new Zs((xe,We)=>Zr(xe.canonicalString(),We.canonicalString()));for(const xe of o){const We=Bm(this.userId,xe.key.path,C);he=he.add(xe.key.path.popLast()),Y.push(_.put($)),Y.push(d.put(We,Pg))}return he.forEach(xe=>{Y.push(this.indexManager.addToCollectionParentIndex(e,xe))}),e.addOnCommittedListener(()=>{this.In[C]=O.keys()}),Rt.waitFor(Y).next(()=>O)})}lookupMutationBatch(e,t){return od(e).get(t).next(i=>i?(Yn(i.userId===this.userId),Pd(this.yt,i)):null)}Tn(e,t){return this.In[t]?Rt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const o=i.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]);let d=null;return od(e).Z({index:"userMutationsIndex",range:o},(_,C,O)=>{C.userId===this.userId&&(Yn(C.batchId>=i),d=Pd(this.yt,C)),O.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return od(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,d,_)=>{i=d.batchId,_.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return od(e).W("userMutationsIndex",t).next(i=>i.map(o=>Pd(this.yt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Rg(this.userId,t.path),o=IDBKeyRange.lowerBound(i),d=[];return kd(e).Z({range:o},(_,C,O)=>{const[$,Y,he]=_,xe=Mc(Y);if($===this.userId&&t.path.isEqual(xe))return od(e).get(he).next(We=>{if(!We)throw hn();Yn(We.userId===this.userId),d.push(Pd(this.yt,We))});O.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zs(Zr);const o=[];return t.forEach(d=>{const _=Rg(this.userId,d.path),C=IDBKeyRange.lowerBound(_),O=kd(e).Z({range:C},($,Y,he)=>{const[xe,We,ft]=$,Lt=Mc(We);xe===this.userId&&d.path.isEqual(Lt)?i=i.add(ft):he.done()});o.push(O)}),Rt.waitFor(o).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1,d=Rg(this.userId,i),_=IDBKeyRange.lowerBound(d);let C=new Zs(Zr);return kd(e).Z({range:_},(O,$,Y)=>{const[he,xe,We]=O,ft=Mc(xe);he===this.userId&&i.isPrefixOf(ft)?ft.length===o&&(C=C.add(We)):Y.done()}).next(()=>this.En(e,C))}En(e,t){const i=[],o=[];return t.forEach(d=>{o.push(od(e).get(d).next(_=>{if(null===_)throw hn();Yn(_.userId===this.userId),i.push(Pd(this.yt,_))}))}),Rt.waitFor(o).next(()=>i)}removeMutationBatch(e,t){return iv(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Rt.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Rt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return kd(e).Z({range:i},(d,_,C)=>{if(d[0]===this.userId){const O=Mc(d[1]);o.push(O)}else C.done()}).next(()=>{Yn(0===o.length)})})}containsKey(e,t){return $g(e,this.userId,t)}Rn(e){return sv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $g(n,e,t){const i=Rg(e,t.path),o=i[1],d=IDBKeyRange.lowerBound(i);let _=!1;return kd(n).Z({range:d,X:!0},(C,O,$)=>{const[Y,he,xe]=C;Y===e&&he===o&&(_=!0),$.done()}).next(()=>_)}function od(n){return ii(n,"mutations")}function kd(n){return ii(n,"documentMutations")}function sv(n){return ii(n,"mutationQueues")}class Fd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fd(0)}static vn(){return new Fd(-1)}}class ov{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Fd(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Cn.fromTimestamp(new bo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qf(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Yn(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let o=0;const d=[];return qf(e).Z((_,C)=>{const O=df(C);O.sequenceNumber<=t&&null===i.get(O.targetId)&&(o++,d.push(this.removeTargetData(e,O)))}).next(()=>Rt.waitFor(d)).next(()=>o)}forEachTarget(e,t){return qf(e).Z((i,o)=>{const d=df(o);t(d)})}Vn(e){return av(e).get("targetGlobalKey").next(t=>(Yn(null!==t),t))}Sn(e,t){return av(e).put("targetGlobalKey",t)}Dn(e,t){return qf(e).put(jm(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Bf(t),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let d=null;return qf(e).Z({range:o,index:"queryTargetsIndex"},(_,C,O)=>{const $=df(C);$o(t,$.target)&&(d=$,O.done())}).next(()=>d)}addMatchingKeys(e,t,i){const o=[],d=gh(e);return t.forEach(_=>{const C=hs(_.path);o.push(d.put({targetId:i,path:C})),o.push(this.referenceDelegate.addReference(e,i,_))}),Rt.waitFor(o)}removeMatchingKeys(e,t,i){const o=gh(e);return Rt.forEach(t,d=>{const _=hs(d.path);return Rt.waitFor([o.delete([i,_]),this.referenceDelegate.removeReference(e,i,d)])})}removeMatchingKeysForTargetId(e,t){const i=gh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),o=gh(e);let d=bi();return o.Z({range:i,X:!0},(_,C,O)=>{const $=Mc(_[1]),Y=new Hn($);d=d.add(Y)}).next(()=>d)}containsKey(e,t){const i=hs(t.path),o=IDBKeyRange.bound([i],[fg(i)],!1,!0);let d=0;return gh(e).Z({index:"documentTargetsIndex",X:!0,range:o},([_,C],O,$)=>{0!==_&&(d++,$.done())}).next(()=>d>0)}ne(e,t){return qf(e).get(t).next(i=>i?df(i):null)}}function qf(n){return ii(n,"targets")}function av(n){return ii(n,"targetGlobal")}function gh(n){return ii(n,"targetDocuments")}function uv([n,e],[t,i]){const o=Zr(n,t);return 0===o?Zr(e,i):o}class gy{constructor(e){this.xn=e,this.buffer=new Zs(uv),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();uv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class my{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,$t.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){xu(i)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield La(i)}yield t.Fn(3e5)}))}}class lv{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Rt.resolve(Da.at);const i=new gy(t);return this.$n.forEachTarget(e,o=>i.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>i.On(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(rv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,o,d,_,C,O,$;const Y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(he=>(he>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${he}`),o=this.params.maximumSequenceNumbersToCollect):o=he,_=Date.now(),this.nthSequenceNumber(e,o))).next(he=>(i=he,C=Date.now(),this.removeTargets(e,i,t))).next(he=>(d=he,O=Date.now(),this.removeOrphanedDocuments(e,i))).next(he=>($=Date.now(),me()<=Ii.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-Y}ms\n\tDetermined least recently used ${o} in `+(C-_)+`ms\n\tRemoved ${d} targets in `+(O-C)+`ms\n\tRemoved ${he} documents in `+($-O)+`ms\nTotal Duration: ${$-Y}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:d,documentsRemoved:he})))}}class Ym{constructor(e,t){this.db=e,this.garbageCollector=new lv(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,o)=>t(o))}addReference(e,t,i){return Hg(e,i)}removeReference(e,t,i){return Hg(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Hg(e,t)}Gn(e,t){return function(i,o){let d=!1;return sv(i).tt(_=>$g(i,_,o).next(C=>(C&&(d=!0),Rt.resolve(!C)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let d=0;return this.Kn(e,(_,C)=>{if(C<=t){const O=this.Gn(e,_).next($=>{if(!$)return d++,i.getEntry(e,_).next(()=>(i.removeEntry(_,Cn.min()),gh(e).delete([0,hs(_.path)])))});o.push(O)}}).next(()=>Rt.waitFor(o)).next(()=>i.apply(e)).next(()=>d)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Hg(e,t)}Kn(e,t){const i=gh(e);let o,d=Da.at;return i.Z({index:"documentTargetsIndex"},([_,C],{path:O,sequenceNumber:$})=>{0===_?(d!==Da.at&&t(new Hn(Mc(o)),d),d=$,o=O):d=Da.at}).next(()=>{d!==Da.at&&t(new Hn(Mc(o)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hg(n,e){return gh(n).put((i=n.currentSequenceNumber,{targetId:0,path:hs(e.path),sequenceNumber:i}));var i}class Gg{constructor(){this.changes=new Xc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,As.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Rt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cv{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return mc(e).put(i)}removeEntry(e,t,i){return mc(e).delete(function(o,d){const _=o.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],Np(d),_[_.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=As.newInvalidDocument(t);return mc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Kf(t))},(o,d)=>{i=this.jn(t,d)}).next(()=>i)}Wn(e,t){let i={size:0,document:As.newInvalidDocument(t)};return mc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Kf(t))},(o,d)=>{i={document:this.jn(t,d),size:Ug(d)}}).next(()=>i)}getEntries(e,t){let i=Cl();return this.zn(e,t,(o,d)=>{const _=this.jn(o,d);i=i.insert(o,_)}).next(()=>i)}Hn(e,t){let i=Cl(),o=new ss(Hn.comparator);return this.zn(e,t,(d,_)=>{const C=this.jn(d,_);i=i.insert(d,C),o=o.insert(d,Ug(_))}).next(()=>({documents:i,Jn:o}))}zn(e,t,i){if(t.isEmpty())return Rt.resolve();let o=new Zs(jg);t.forEach(O=>o=o.add(O));const d=IDBKeyRange.bound(Kf(o.first()),Kf(o.last())),_=o.getIterator();let C=_.getNext();return mc(e).Z({index:"documentKeyIndex",range:d},(O,$,Y)=>{const he=Hn.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;C&&jg(C,he)<0;)i(C,null),C=_.getNext();C&&C.isEqual(he)&&(i(C,$),C=_.hasNext()?_.getNext():null),C?Y.j(Kf(C)):Y.done()}).next(()=>{for(;C;)i(C,null),C=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,i){const o=[t.popLast().toArray(),t.lastSegment(),Np(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mc(e).W(IDBKeyRange.bound(o,d,!0)).next(_=>{let C=Cl();for(const O of _){const $=this.jn(Hn.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);C=C.insert($.key,$)}return C})}getAllFromCollectionGroup(e,t,i,o){let d=Cl();const _=Qm(t,i),C=Qm(t,Hu.max());return mc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,C,!0)},(O,$,Y)=>{const he=this.jn(Hn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);d=d.insert(he.key,he),d.size===o&&Y.done()}).next(()=>d)}newChangeBuffer(e){return new ad(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jm(e).get("remoteDocumentGlobalKey").next(t=>(Yn(!!t),t))}Qn(e,t){return Jm(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function Q_(n,e){let t;if(e.document)t=Ac(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Hn.fromSegments(e.noDocument.path),o=ch(e.noDocument.readTime);t=As.newNoDocument(i,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return hn();{const i=Hn.fromSegments(e.unknownDocument.path),o=ch(e.unknownDocument.version);t=As.newUnknownDocument(i,o)}}return e.readTime&&t.setReadTime(function(i){const o=new bo(i[0],i[1]);return Cn.fromTimestamp(o)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(Cn.min()))return i}return As.newInvalidDocument(e)}}function Vp(n){return new cv(n)}class ad extends Gg{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Xc(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(e){const t=[];let i=0,o=new Zs((d,_)=>Zr(d.canonicalString(),_.canonicalString()));return this.changes.forEach((d,_)=>{const C=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,C.readTime)),_.isValidDocument()){const O=Lg(this.Yn.yt,_);o=o.add(d.path.popLast());const $=Ug(O);i+=$-C.size,t.push(this.Yn.addEntry(e,d,O))}else if(i-=C.size,this.trackRemovals){const O=Lg(this.Yn.yt,_.convertToNoDocument(Cn.min()));t.push(this.Yn.addEntry(e,d,O))}}),o.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,i)),Rt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:o})=>(o.forEach((d,_)=>{this.Xn.set(d,{size:_,readTime:i.get(d).readTime})}),i))}}function Jm(n){return ii(n,"remoteDocumentGlobal")}function mc(n){return ii(n,"remoteDocumentsV14")}function Kf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qm(n,e){const t=e.documentKey.path.toArray();return[n,Np(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jg(n,e){const t=n.path.toArray(),i=e.path.toArray();let o=0;for(let d=0;d<t.length-2&&d<i.length-2;++d)if(o=Zr(t[d],i[d]),o)return o;return o=Zr(t.length,i.length),o||(o=Zr(t[t.length-2],i[i.length-2]),o||Zr(t[t.length-1],i[i.length-1]))}class Wg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Oc{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==i&&Md(i.mutation,o,Ka.empty(),bo.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,bi()).next(()=>i))}getLocalViewOfDocuments(e,t,i=bi()){const o=Ic();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(d=>{let _=ih();return d.forEach((C,O)=>{_=_.insert(C,O.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=Ic();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,bi()))}populateOverlays(e,t,i){const o=[];return i.forEach(d=>{t.has(d)||o.push(d)}),this.documentOverlayCache.getOverlays(e,o).next(d=>{d.forEach((_,C)=>{t.set(_,C)})})}computeViews(e,t,i,o){let d=Cl();const _=sh(),C=sh();return t.forEach((O,$)=>{const Y=i.get($.key);o.has($.key)&&(void 0===Y||Y.mutation instanceof cl)?d=d.insert($.key,$):void 0!==Y?(_.set($.key,Y.mutation.getFieldMask()),Md(Y.mutation,$,Y.mutation.getFieldMask(),bo.now())):_.set($.key,Ka.empty())}),this.recalculateAndSaveOverlays(e,d).next(O=>(O.forEach(($,Y)=>_.set($,Y)),t.forEach(($,Y)=>{var he;return C.set($,new Wg(Y,null!==(he=_.get($))&&void 0!==he?he:null))}),C))}recalculateAndSaveOverlays(e,t){const i=sh();let o=new ss((_,C)=>_-C),d=bi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const C of _)C.keys().forEach(O=>{const $=t.get(O);if(null===$)return;let Y=i.get(O)||Ka.empty();Y=C.applyToLocalView($,Y),i.set(O,Y);const he=(o.get(C.batchId)||bi()).add(O);o=o.insert(C.batchId,he)})}).next(()=>{const _=[],C=o.getReverseIterator();for(;C.hasNext();){const O=C.getNext(),$=O.key,Y=O.value,he=Mm();Y.forEach(xe=>{if(!d.has(xe)){const We=Cg(t.get(xe),i.get(xe));null!==We&&he.set(xe,We),d=d.add(xe)}}),_.push(this.documentOverlayCache.saveOverlays(e,$,he))}return Rt.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Hn.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Eg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var o}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(d=>{const _=o-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-d.size):Rt.resolve(Ic());let C=-1,O=d;return _.next($=>Rt.forEach($,(Y,he)=>(C<he.largestBatchId&&(C=he.largestBatchId),d.get(Y)?Rt.resolve():this.remoteDocumentCache.getEntry(e,Y).next(xe=>{O=O.insert(Y,xe)}))).next(()=>this.populateOverlays(e,$,d)).next(()=>this.computeViews(e,O,$,bi())).next(Y=>({batchId:C,changes:Ag(Y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Hn(t)).next(i=>{let o=ih();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const o=t.collectionGroup;let d=ih();return this.indexManager.getCollectionParents(e,o).next(_=>Rt.forEach(_,C=>{const O=($=t,Y=C.child(o),new Gl(Y,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,Y;return this.getDocumentsMatchingCollectionQuery(e,O,i).next($=>{$.forEach((Y,he)=>{d=d.insert(Y,he)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(d=>(o=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(d=>{d.forEach((C,O)=>{const $=O.getKey();null===o.get($)&&(o=o.insert($,As.newInvalidDocument($)))});let _=ih();return o.forEach((C,O)=>{const $=d.get(C);void 0!==$&&Md($.mutation,O,Ka.empty(),bo.now()),rh(t,O)&&(_=_.insert(C,O))}),_})}}class Up{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Rt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:ui(i.createTime)}),Rt.resolve()}getNamedQuery(e,t){return Rt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:Wm(i.bundledQuery),readTime:ui(i.readTime)}),Rt.resolve();var i}}class zu{constructor(){this.overlays=new ss(Hn.comparator),this.es=new Map}getOverlay(e,t){return Rt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ic();return Rt.forEach(t,o=>this.getOverlay(e,o).next(d=>{null!==d&&i.set(o,d)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,d)=>{this.oe(e,t,d)}),Rt.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.es.get(i);return void 0!==o&&(o.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(i)),Rt.resolve()}getOverlaysForCollection(e,t,i){const o=Ic(),d=t.length+1,_=new Hn(t.child("")),C=this.overlays.getIteratorFrom(_);for(;C.hasNext();){const O=C.getNext().value,$=O.getKey();if(!t.isPrefixOf($.path))break;$.path.length===d&&O.largestBatchId>i&&o.set(O.getKey(),O)}return Rt.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let d=new ss(($,Y)=>$-Y);const _=this.overlays.getIterator();for(;_.hasNext();){const $=_.getNext().value;if($.getKey().getCollectionGroup()===t&&$.largestBatchId>i){let Y=d.get($.largestBatchId);null===Y&&(Y=Ic(),d=d.insert($.largestBatchId,Y)),Y.set($.getKey(),$)}}const C=Ic(),O=d.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach(($,Y)=>C.set($,Y)),!(C.size()>=o)););return Rt.resolve(C)}oe(e,t,i){const o=this.overlays.get(i.key);if(null!==o){const _=this.es.get(o.largestBatchId).delete(i.key);this.es.set(o.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new rd(t,i));let d=this.es.get(t);void 0===d&&(d=bi(),this.es.set(t,d)),this.es.set(t,d.add(i.key))}}class jo{constructor(){this.ns=new Zs(ia.ss),this.rs=new Zs(ia.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new ia(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new ia(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Hn(new Bi([])),i=new ia(t,e),o=new ia(t,e+1),d=[];return this.rs.forEachInRange([i,o],_=>{this.cs(_),d.push(_.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Hn(new Bi([])),i=new ia(t,e),o=new ia(t,e+1);let d=bi();return this.rs.forEachInRange([i,o],_=>{d=d.add(_.key)}),d}containsKey(e){const t=new ia(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ia{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Hn.comparator(e.key,t.key)||Zr(e._s,t._s)}static os(e,t){return Zr(e._s,t._s)||Hn.comparator(e.key,t.key)}}class _c{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Zs(ia.ss)}checkEmpty(e){return Rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,o){const d=this.ws;this.ws++;const _=new Hm(d,t,i,o);this.mutationQueue.push(_);for(const C of o)this.gs=this.gs.add(new ia(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Rt.resolve(_)}lookupMutationBatch(e,t){return Rt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),d=o<0?0:o;return Rt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ia(t,0),o=new ia(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([i,o],_=>{const C=this.ys(_._s);d.push(C)}),Rt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zs(Zr);return t.forEach(o=>{const d=new ia(o,0),_=new ia(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,_],C=>{i=i.add(C._s)})}),Rt.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let d=i;Hn.isDocumentKey(d)||(d=d.child(""));const _=new ia(new Hn(d),0);let C=new Zs(Zr);return this.gs.forEachWhile(O=>{const $=O.key.path;return!!i.isPrefixOf($)&&($.length===o&&(C=C.add(O._s)),!0)},_),Rt.resolve(this.Is(C))}Is(e){const t=[];return e.forEach(i=>{const o=this.ys(i);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Yn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Rt.forEach(t.mutations,o=>{const d=new ia(o.key,t.batchId);return i=i.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new ia(t,0),o=this.gs.firstAfterOrEqual(i);return Rt.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Rt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zg{constructor(e){this.Es=e,this.docs=new ss(Hn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),d=o?o.size:0,_=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-d,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Rt.resolve(i?i.document.mutableCopy():As.newInvalidDocument(t))}getEntries(e,t){let i=Cl();return t.forEach(o=>{const d=this.docs.get(o);i=i.insert(o,d?d.document.mutableCopy():As.newInvalidDocument(o))}),Rt.resolve(i)}getAllFromCollection(e,t,i){let o=Cl();const d=new Hn(t.child("")),_=this.docs.getIteratorFrom(d);for(;_.hasNext();){const{key:C,value:{document:O}}=_.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||Gh(Zd(O),i)<=0||(o=o.insert(O.key,O.mutableCopy()))}return Rt.resolve(o)}getAllFromCollectionGroup(e,t,i,o){hn()}As(e,t){return Rt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Rc(this)}getSize(e){return Rt.resolve(this.size)}}class Rc extends Gg{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(i)}),Rt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class pf{constructor(e){this.persistence=e,this.Rs=new Xc(t=>Bf(t),$o),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new jo,this.targetCount=0,this.vs=Fd.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,o)=>t(o)),Rt.resolve()}getLastRemoteSnapshotVersion(e){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Rt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Fd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Rt.resolve()}updateTargetData(e,t){return this.Dn(t),Rt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(e,t,i){let o=0;const d=[];return this.Rs.forEach((_,C)=>{C.sequenceNumber<=t&&null===i.get(C.targetId)&&(this.Rs.delete(_),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),o++)}),Rt.waitFor(d).next(()=>o)}getTargetCount(e){return Rt.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return Rt.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),Rt.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const o=this.persistence.referenceDelegate,d=[];return o&&t.forEach(_=>{d.push(o.markPotentiallyOrphaned(e,_))}),Rt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Rt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return Rt.resolve(i)}containsKey(e,t){return Rt.resolve(this.Ps.containsKey(t))}}class ud{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Da(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new pf(this),this.indexManager=new py,this.remoteDocumentCache=new zg(i=>this.referenceDelegate.xs(i)),this.yt=new J_(t),this.Ns=new Up(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new _c(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){qe("MemoryPersistence","Starting transaction:",e);const o=new Zf(this.Ss.next());return this.referenceDelegate.ks(),i(o).next(d=>this.referenceDelegate.Os(o).next(()=>d)).toPromise().then(d=>(o.raiseOnCommittedEvent(),d))}Ms(e,t){return Rt.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class Zf extends hp{constructor(e){super(),this.currentSequenceNumber=e}}class vc{constructor(e){this.persistence=e,this.Fs=new jo,this.$s=null}static Bs(e){return new vc(e)}get Ls(){if(this.$s)return this.$s;throw hn()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),Rt.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),Rt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Rt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(d=>this.Ls.add(d.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.Ls,i=>{const o=Hn.fromPath(i);return this.qs(e,o).next(d=>{d||t.removeEntry(o,Cn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Rt.or([()=>Rt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class gf{constructor(e){this.yt=e}$(e,t,i,o){const d=new jh("createOrUpgrade",t);var C;i<1&&o>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lm,{unique:!0}),C.createObjectStore("documentMutations"),mh(e),function(C){C.createObjectStore("remoteDocuments")}(e));let _=Rt.resolve();return i<3&&o>=3&&(0!==i&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),mh(e)),_=_.next(()=>function(C){const O=C.store("targetGlobal"),$={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cn.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",$)}(d))),i<4&&o>=4&&(0!==i&&(_=_.next(()=>function(C,O){return O.store("mutations").W().next($=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lm,{unique:!0});const Y=O.store("mutations"),he=$.map(xe=>Y.put(xe));return Rt.waitFor(he)})}(e,d))),_=_.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&o>=5&&(_=_.next(()=>this.Us(d))),i<6&&o>=6&&(_=_.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),i<7&&o>=7&&(_=_.next(()=>this.Gs(d))),i<8&&o>=8&&(_=_.next(()=>this.Qs(e,d))),i<9&&o>=9&&(_=_.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&o>=10&&(_=_.next(()=>this.js(d))),i<11&&o>=11&&(_=_.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&o>=12&&(_=_.next(()=>{!function(C){const O=C.createObjectStore("documentOverlays",{keyPath:cy});O.createIndex("collectionPathOverlayIndex",dy,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",$m,{unique:!1})}(e)})),i<13&&o>=13&&(_=_.next(()=>function(C){const O=C.createObjectStore("remoteDocumentsV14",{keyPath:uf});O.createIndex("documentKeyIndex",lf),O.createIndex("collectionGroupIndex",cf)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(_=_.next(()=>this.zs(e,d))),i<15&&o>=15&&(_=_.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:lh}).createIndex("sequenceNumberIndex",kg,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:Z_}).createIndex("documentKeyIndex",Um,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,o)=>{t+=Ug(o)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(o=>Rt.forEach(o,d=>{const _=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",_).next(C=>Rt.forEach(C,O=>{Yn(O.userId===d.userId);const $=Pd(this.yt,O);return iv(e,d.userId,$).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const d=[];return i.Z((_,C)=>{const O=new Bi(_),$=[0,hs(O)];d.push(t.get($).next(Y=>Y?Rt.resolve():t.put({targetId:0,path:hs(O),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Rt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:ra});const i=t.store("collectionParents"),o=new Bg,d=_=>{if(o.add(_)){const C=_.lastSegment(),O=_.popLast();return i.put({collectionId:C,parent:hs(O)})}};return t.store("remoteDocuments").Z({X:!0},(_,C)=>{const O=new Bi(_);return d(O.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,C,O],$)=>{const Y=Mc(C);return d(Y.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,o)=>{const d=df(o),_=jm(this.yt,d);return t.put(_)})}Ws(e,t){const i=t.store("remoteDocuments"),o=[];return i.Z((d,_)=>{const C=t.store("remoteDocumentsV14"),O=($=_,$.document?new Hn(Bi.fromString($.document.name).popFirst(5)):$.noDocument?Hn.fromSegments($.noDocument.path):$.unknownDocument?Hn.fromSegments($.unknownDocument.path):hn()).path.toArray();var $;const Y={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};o.push(C.put(Y))}).next(()=>Rt.waitFor(o))}zs(e,t){const i=t.store("mutations"),o=Vp(this.yt),d=new ud(vc.Bs,this.yt.ie);return i.W().next(_=>{const C=new Map;return _.forEach(O=>{var $;let Y=null!==($=C.get(O.userId))&&void 0!==$?$:bi();Pd(this.yt,O).keys().forEach(he=>Y=Y.add(he)),C.set(O.userId,Y)}),Rt.forEach(C,(O,$)=>{const Y=new D($),he=id.re(this.yt,Y),xe=d.getIndexManager(Y),We=ff.re(Y,this.yt,xe,d.referenceDelegate);return new Oc(o,We,he,xe).recalculateAndSaveOverlaysForDocumentKeys(new hl(t,Da.at),O).next()})})}}function mh(n){n.createObjectStore("targetDocuments",{keyPath:xp}).createIndex("documentTargetsIndex",Mp,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vm,{unique:!0}),n.createObjectStore("targetGlobal")}const _h="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vh{constructor(e,t,i,o,d,_,C,O,$,Y,he=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=d,this.window=_,this.document=C,this.Js=$,this.Ys=Y,this.Xs=he,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=xe=>Promise.resolve(),!vh.C())throw new sn(Pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ym(this,o),this.ii=t+"main",this.yt=new J_(O),this.ri=new bl(this.ii,this.Xs,new gf(this.yt)),this.Cs=new ov(this.referenceDelegate,this.yt),this.remoteDocumentCache=Vp(this.yt),this.Ns=new Op,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Y&&En("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sn(Pt.FAILED_PRECONDITION,_h);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Da(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,$t.Z)(function*(o){if(t.started)return e(o)});return function(o){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,$t.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,$t.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$p(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(xu(e))return qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return mf(e).get("owner").next(t=>Rt.resolve(this.mi(t)))}gi(e){return $p(e).delete(this.clientId)}yi(){var e=this;return(0,$t.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=ii(i,"clientMetadata");return o.W().next(d=>{const _=e.Ii(d,18e5),C=d.filter(O=>-1===_.indexOf(O));return Rt.forEach(C,O=>o.delete(O.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Rt.resolve(!0):mf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new sn(Pt.FAILED_PRECONDITION,_h);return!1}}return!(!this.networkEnabled||!this.inForeground)||$p(e).W().next(i=>void 0===this.Ii(i,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,$t.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new hl(t,Da.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$p(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ff.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tv(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return id.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){qe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",d=15===(_=this.Xs)?Y_:14===_?jl:13===_?Fg:12===_?Ni:11===_?nd:void hn();var _;let C;return this.ri.runTransaction(e,o,d,O=>(C=new hl(O,this.Ss?this.Ss.next():Da.at),"readwrite-primary"===t?this.fi(C).next($=>!!$||this.di(C)).next($=>{if(!$)throw En(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new sn(Pt.FAILED_PRECONDITION,pg);return i(C)}).next($=>this.wi(C).next(()=>$)):this.Vi(C).next(()=>i(C)))).then(O=>(C.raiseOnCommittedEvent(),O))}Vi(e){return mf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new sn(Pt.FAILED_PRECONDITION,_h)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mf(e).put("owner",t)}static C(){return bl.C()}_i(e){const t=mf(e);return t.get("owner").next(i=>this.mi(i)?(qe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Rt.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(En(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Un.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return qe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return En("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){En("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mf(n){return ii(n,"owner")}function $p(n){return ii(n,"clientMetadata")}function qg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _f{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=o}static Ci(e,t){let i=bi(),o=bi();for(const d of t.docChanges)switch(d.type){case 0:i=i.add(d.doc.key);break;case 1:o=o.add(d.doc.key)}return new _f(e,t.fromCache,i,o)}}class Hp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,o){return this.ki(e,t).next(d=>d||this.Oi(e,t,o,i)).next(d=>d||this.Mi(e,t))}ki(e,t){if(yg(t))return Rt.resolve(null);let i=Gu(t);return this.indexManager.getIndexType(e,i).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Jh(t,null,"F"),i=Gu(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(d=>{const _=bi(...d);return this.Ni.getDocuments(e,_).next(C=>this.indexManager.getMinOffset(e,i).next(O=>{const $=this.Fi(t,C);return this.$i(t,$,_,O.readTime)?this.ki(e,Jh(t,null,"F")):this.Bi(e,$,t,O)}))})))}Oi(e,t,i,o){return yg(t)||o.isEqual(Cn.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(d=>{const _=this.Fi(t,d);return this.$i(t,_,i,o)?this.Mi(e,t):(me()<=Ii.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bg(t)),this.Bi(e,_,t,Cd(o,-1)))})}Fi(e,t){let i=new Zs(bp(e));return t.forEach((o,d)=>{rh(e,d)&&(i=i.add(d))}),i}$i(e,t,i,o){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(o)>0)}Mi(e,t){return me()<=Ii.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",bg(t)),this.Ni.getDocumentsMatchingQuery(e,t,Hu.min())}Bi(e,t,i,o){return this.Ni.getDocumentsMatchingQuery(e,i,o).next(d=>(t.forEach(_=>{d=d.insert(_.key,_)}),d))}}class Kg{constructor(e,t,i,o){this.persistence=e,this.Li=t,this.yt=o,this.qi=new ss(Zr),this.Ui=new Xc(d=>Bf(d),$o),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oc(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Xm(n,e,t,i){return new Kg(n,e,t,i)}function dv(n,e){return e_.apply(this,arguments)}function e_(){return e_=(0,$t.Z)(function*(n,e){const t=Vn(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(d=>(o=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(d=>{const _=[],C=[];let O=bi();for(const $ of o){_.push($.batchId);for(const Y of $.mutations)O=O.add(Y.key)}for(const $ of d){C.push($.batchId);for(const Y of $.mutations)O=O.add(Y.key)}return t.localDocuments.getDocuments(i,O).next($=>({ji:$,removedBatchIds:_,addedBatchIds:C}))})})}),e_.apply(this,arguments)}function _y(n,e){const t=Vn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,C,O,$){const Y=O.batch,he=Y.keys();let xe=Rt.resolve();return he.forEach(We=>{xe=xe.next(()=>$.getEntry(C,We)).next(ft=>{const Lt=O.docVersions.get(We);Yn(null!==Lt),ft.version.compareTo(Lt)<0&&(Y.applyToRemoteDocument(ft,O),ft.isValidDocument()&&(ft.setReadTime(O.commitVersion),$.addEntry(ft)))})}),xe.next(()=>_.mutationQueue.removeMutationBatch(C,Y))}(t,i,e,d).next(()=>d.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let C=bi();for(let O=0;O<_.mutationResults.length;++O)_.mutationResults[O].transformResults.length>0&&(C=C.add(_.batch.mutations[O].key));return C}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function t_(n){const e=Vn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Yf(n,e){const t=Vn(n),i=e.snapshotVersion;let o=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.qi;const C=[];e.targetChanges.forEach((Y,he)=>{const xe=o.get(he);if(!xe)return;C.push(t.Cs.removeMatchingKeys(d,Y.removedDocuments,he).next(()=>t.Cs.addMatchingKeys(d,Y.addedDocuments,he)));let We=xe.withSequenceNumber(d.currentSequenceNumber);var ft,Lt,ln;e.targetMismatches.has(he)?We=We.withResumeToken(Ba.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):Y.resumeToken.approximateByteSize()>0&&(We=We.withResumeToken(Y.resumeToken,i)),o=o.insert(he,We),Lt=We,ln=Y,(0===(ft=xe).resumeToken.approximateByteSize()||Lt.snapshotVersion.toMicroseconds()-ft.snapshotVersion.toMicroseconds()>=3e8||ln.addedDocuments.size+ln.modifiedDocuments.size+ln.removedDocuments.size>0)&&C.push(t.Cs.updateTargetData(d,We))});let O=Cl(),$=bi();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(d,Y))}),C.push(hv(d,_,e.documentUpdates).next(Y=>{O=Y.Wi,$=Y.zi})),!i.isEqual(Cn.min())){const Y=t.Cs.getLastRemoteSnapshotVersion(d).next(he=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,i));C.push(Y)}return Rt.waitFor(C).next(()=>_.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,O,$)).next(()=>O)}).then(d=>(t.qi=o,d))}function hv(n,e,t){let i=bi(),o=bi();return t.forEach(d=>i=i.add(d)),e.getEntries(n,i).next(d=>{let _=Cl();return t.forEach((C,O)=>{const $=d.get(C);O.isFoundDocument()!==$.isFoundDocument()&&(o=o.add(C)),O.isNoDocument()&&O.version.isEqual(Cn.min())?(e.removeEntry(C,O.readTime),_=_.insert(C,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),_=_.insert(C,O)):qe("LocalStore","Ignoring outdated watch update for ",C,". Current version:",$.version," Watch version:",O.version)}),{Wi:_,zi:o}})}function fv(n,e){const t=Vn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function yh(n,e){const t=Vn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Cs.getTargetData(i,e).next(d=>d?(o=d,Rt.resolve(o)):t.Cs.allocateTargetId(i).next(_=>(o=new Rd(e,_,0,i.currentSequenceNumber),t.Cs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.qi.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function Ld(n,e,t){return n_.apply(this,arguments)}function n_(){return n_=(0,$t.Z)(function*(n,e,t){const i=Vn(n),o=i.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",d,_=>i.persistence.referenceDelegate.removeTarget(_,o)))}catch(_){if(!xu(_))throw _;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.qi=i.qi.remove(e),i.Ui.delete(o.target)}),n_.apply(this,arguments)}function vf(n,e,t){const i=Vn(n);let o=Cn.min(),d=bi();return i.persistence.runTransaction("Execute query","readonly",_=>function(C,O,$){const Y=Vn(C),he=Y.Ui.get($);return void 0!==he?Rt.resolve(Y.qi.get(he)):Y.Cs.getTargetData(O,$)}(i,_,Gu(e)).next(C=>{if(C)return o=C.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(_,C.targetId).next(O=>{d=O})}).next(()=>i.Li.getDocumentsMatchingQuery(_,e,t?o:Cn.min(),t?d:bi())).next(C=>(r_(i,Ep(e),C),{documents:C,Hi:d})))}function Gp(n,e){const t=Vn(n),i=Vn(t.Cs),o=t.qi.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",d=>i.ne(d,e).next(_=>_?_.target:null))}function yc(n,e){const t=Vn(n),i=t.Ki.get(e)||Cn.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,Cd(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(r_(t,e,o),o))}function r_(n,e,t){let i=n.Ki.get(e)||Cn.min();t.forEach((o,d)=>{d.readTime.compareTo(i)>0&&(i=d.readTime)}),n.Ki.set(e,i)}function Jf(){return Jf=(0,$t.Z)(function*(n,e,t,i){const o=Vn(n);let d=bi(),_=Cl();for(const $ of t){const Y=e.Ji($.metadata.name);$.document&&(d=d.add(Y));const he=e.Yi($);he.setReadTime(e.Xi($.metadata.readTime)),_=_.insert(Y,he)}const C=o.Gi.newChangeBuffer({trackRemovals:!0}),O=yield yh(o,($=i,Gu(Vf(Bi.fromString(`__bundle__/docs/${$}`)))));var $;return o.persistence.runTransaction("Apply bundle documents","readwrite",$=>hv($,C,_).next(Y=>(C.apply($),Y)).next(Y=>o.Cs.removeMatchingKeysForTargetId($,O.targetId).next(()=>o.Cs.addMatchingKeys($,d,O.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments($,Y.Wi,Y.zi)).next(()=>Y.Wi)))}),Jf.apply(this,arguments)}function pv(n,e){return jp.apply(this,arguments)}function jp(){return jp=(0,$t.Z)(function*(n,e,t=bi()){const i=yield yh(n,Gu(Wm(e.bundledQuery))),o=Vn(n);return o.persistence.runTransaction("Save named query","readwrite",d=>{const _=ui(e.readTime);if(i.snapshotVersion.compareTo(_)>=0)return o.Ns.saveNamedQuery(d,e);const C=i.withResumeToken(Ba.EMPTY_BYTE_STRING,_);return o.qi=o.qi.insert(C.targetId,C),o.Cs.updateTargetData(d,C).next(()=>o.Cs.removeMatchingKeysForTargetId(d,i.targetId)).next(()=>o.Cs.addMatchingKeys(d,t,i.targetId)).next(()=>o.Ns.saveNamedQuery(d,e))})}),jp.apply(this,arguments)}function Yg(n,e){return`firestore_clients_${n}_${e}`}function i_(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function f(n,e){return`firestore_targets_${n}_${e}`}class v{constructor(e,t,i,o){this.user=e,this.batchId=t,this.state=i,this.error=o}static Zi(e,t,i){const o=JSON.parse(i);let d,_="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return _&&o.error&&(_="string"==typeof o.error.message&&"string"==typeof o.error.code,_&&(d=new sn(o.error.code,o.error.message))),_?new v(e,t,o.state,d):(En("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class I{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let o,d="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(o=new sn(i.error.code,i.error.message))),d?new I(e,i.state,o):(En("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class q{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let o="object"==typeof i&&i.activeTargetIds instanceof Array,d=Dp();for(let _=0;o&&_<i.activeTargetIds.length;++_)o=_m(i.activeTargetIds[_]),d=d.add(i.activeTargetIds[_]);return o?new q(e,d):(En("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class te{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new te(t.clientId,t.onlineState):(En("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ve{constructor(){this.activeTargetIds=Dp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ue{constructor(e,t,i,o,d){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ss(Zr),this.started=!1,this.cr=[];const _=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=Yg(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new ve),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,$t.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const d=e.getItem(Yg(e.persistenceKey,o));if(d){const _=q.Zi(o,d);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const o=e.yr(i);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(f(this.persistenceKey,e));if(i){const o=I.Zi(e,i);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(f(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(o=>{this.Er(o)}),this.currentUser=e,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return qe("SharedClientState","READ",e,t),t}setItem(e,t){qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void En("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,$t.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const o=t.vr(i.key);return t.Vr(o,null)}{const o=t.Sr(i.key,i.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const o=t.Dr(i.key,i.newValue);if(o)return t.Cr(o)}}else if(t._r.test(i.key)){if(null!==i.newValue){const o=t.Nr(i.key,i.newValue);if(o)return t.kr(o)}}else if(i.key===t.wr){if(null!==i.newValue){const o=t.yr(i.newValue);if(o)return t.pr(o)}}else if(i.key===t.hr){const o=function(d){let _=Da.at;if(null!=d)try{const C=JSON.parse(d);Yn("number"==typeof C),_=C}catch(C){En("SharedClientState","Failed to read sequence number from WebStorage",C)}return _}(i.newValue);o!==Da.at&&t.sequenceNumberHandler(o)}else if(i.key===t.mr){const o=t.Or(i.newValue);yield Promise.all(o.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const o=new v(this.currentUser,e,t,i),d=i_(this.persistenceKey,this.currentUser,e);this.setItem(d,o.tr())}Er(e){const t=i_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const o=f(this.persistenceKey,e),d=new I(e,t,i);this.setItem(o,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return q.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),o=Number(i[1]);return v.Zi(new D(void 0!==i[2]?i[2]:null),o,t)}Nr(e,t){const i=this._r.exec(e),o=Number(i[1]);return I.Zi(o,t)}yr(e){return te.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,$t.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),d=this.Ir(i),_=[],C=[];return d.forEach(O=>{o.has(O)||_.push(O)}),o.forEach(O=>{d.has(O)||C.push(O)}),this.syncEngine.Br(_,C).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Dp();return e.forEach((i,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Ke{constructor(){this.Lr=new ve,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ve,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pt{Ur(e){}shutdown(){}}class nn{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const on={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pn{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Gn extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,o,d){const _=this.ho(e,t);qe("RestConnection","Sending: ",_,i);const C={};return this.lo(C,o,d),this.fo(e,_,C,i).then(O=>(qe("RestConnection","Received: ",O),O),O=>{throw nr("RestConnection",`${e} failed with error: `,O,"url: ",_,"request:",i),O})}_o(e,t,i,o,d,_){return this.ao(e,t,i,o,d)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+k,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,d)=>e[d]=o),i&&i.headers.forEach((o,d)=>e[d]=o)}ho(e,t){return`${this.oo}/v1/${t}:${on[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,o){return new Promise((d,_)=>{const C=new N;C.setWithCredentials(!0),C.listenOnce(ka.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case ha.NO_ERROR:const $=C.getResponseJson();qe("Connection","XHR received:",JSON.stringify($)),d($);break;case ha.TIMEOUT:qe("Connection",'RPC "'+e+'" timed out'),_(new sn(Pt.DEADLINE_EXCEEDED,"Request time out"));break;case ha.HTTP_ERROR:const Y=C.getStatus();if(qe("Connection",'RPC "'+e+'" failed with status:',Y,"response text:",C.getResponseText()),Y>0){let he=C.getResponseJson();Array.isArray(he)&&(he=he[0]);const xe=he?.error;if(xe&&xe.status&&xe.message){const We=function(ft){const Lt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Pt).indexOf(Lt)>=0?Lt:Pt.UNKNOWN}(xe.status);_(new sn(We,xe.message))}else _(new sn(Pt.UNKNOWN,"Server responded with status "+C.getStatus()))}else _(new sn(Pt.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{qe("Connection",'RPC "'+e+'" completed.')}});const O=JSON.stringify(o);C.send(t,"POST",O,i,15)})}wo(e,t,i){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Bh(),_=uc(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Uh({})),this.lo(C.initMessageHeaders,t,i),C.encodeInitMessageHeaders=!0;const O=o.join("");qe("Connection","Creating WebChannel: "+O,C);const $=d.createWebChannel(O,C);let Y=!1,he=!1;const xe=new pn({Hr:ft=>{he?qe("Connection","Not sending because WebChannel is closed:",ft):(Y||(qe("Connection","Opening WebChannel transport."),$.open(),Y=!0),qe("Connection","WebChannel sending:",ft),$.send(ft))},Jr:()=>$.close()}),We=(ft,Lt,ln)=>{ft.listen(Lt,jn=>{try{ln(jn)}catch(lr){setTimeout(()=>{throw lr},0)}})};return We($,Gc.EventType.OPEN,()=>{he||qe("Connection","WebChannel transport opened.")}),We($,Gc.EventType.CLOSE,()=>{he||(he=!0,qe("Connection","WebChannel transport closed"),xe.io())}),We($,Gc.EventType.ERROR,ft=>{he||(he=!0,nr("Connection","WebChannel transport errored:",ft),xe.io(new sn(Pt.UNAVAILABLE,"The operation could not be completed")))}),We($,Gc.EventType.MESSAGE,ft=>{var Lt;if(!he){const ln=ft.data[0];Yn(!!ln);const lr=ln.error||(null===(Lt=ln[0])||void 0===Lt?void 0:Lt.error);if(lr){qe("Connection","WebChannel received error:",lr);const Pr=lr.status;let Hr=function(Ir){const Wi=ma[Ir];if(void 0!==Wi)return V_(Wi)}(Pr),Er=lr.message;void 0===Hr&&(Hr=Pt.INTERNAL,Er="Unknown error status: "+Pr+" with message "+lr.message),he=!0,xe.io(new sn(Hr,Er)),$.close()}else qe("Connection","WebChannel received:",ln),xe.ro(ln)}}),We(_,Vh.STAT_EVENT,ft=>{ft.stat===lc.PROXY?qe("Connection","Detected buffering proxy"):ft.stat===lc.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{xe.so()},0),xe}}function Tr(){return typeof window<"u"?window:null}function Br(){return typeof document<"u"?document:null}function pi(n){return new H_(n,!0)}class $r{constructor(e,t,i=1e3,o=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=o,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-i);o>0&&qe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Zi{constructor(e,t,i,o,d,_,C,O){this.Hs=e,this.vo=i,this.Vo=o,this.connection=d,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=C,this.listener=O,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $r(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,$t.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,$t.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,$t.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Pt.RESOURCE_EXHAUSTED?(En(t.toString()),En("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===Pt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.So===t&&this.Go(i,o)},i=>{e(()=>{const o=new sn(Pt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(o)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{i(()=>this.Qo(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,$t.Z)(function*(){e.state=0,e.start()}))}Qo(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class as extends Zi{constructor(e,t,i,o,d,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,_),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function fi(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:hn(),o=e.targetChange.targetIds||[],d=function(O,$){return O.wt?(Yn(void 0===$||"string"==typeof $),Ba.fromBase64String($||"")):(Yn(void 0===$||$ instanceof Uint8Array),Ba.fromUint8Array($||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,C=_&&function(O){const $=void 0===O.code?Pt.UNKNOWN:V_(O.code);return new sn($,O.message||"")}(_);t=new U_(i,o,d,C||null)}else if("documentChange"in e){const i=e.documentChange,o=td(n,i.document.name),d=ui(i.document.updateTime),_=i.document.createTime?ui(i.document.createTime):Cn.min(),C=new Za({mapValue:{fields:i.document.fields}}),O=As.newFoundDocument(o,d,_,C);t=new oh(i.targetIds||[],i.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const i=e.documentDelete,o=td(n,i.document),d=i.readTime?ui(i.readTime):Cn.min(),_=As.newNoDocument(o,d);t=new oh([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,o=td(n,i.document);t=new oh([],i.removedTargetIds||[],o,null)}else{if(!("filter"in e))return hn();{const i=e.filter,d=new B_(i.count||0);t=new ed(i.targetId,d)}}var O;return t}(this.yt,e),i=function(o){if(!("targetChange"in o))return Cn.min();const d=o.targetChange;return d.targetIds&&d.targetIds.length?Cn.min():d.readTime?ui(d.readTime):Cn.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=rf(this.yt),t.addTarget=function(o,d){let _;const C=d.target;return _=Nu(C)?{documents:z_(o,C)}:{query:xc(o,C)},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?_.resumeToken=ah(o,d.resumeToken):d.snapshotVersion.compareTo(Cn.min())>0&&(_.readTime=nf(o,d.snapshotVersion.toTimestamp())),_}(this.yt,e);const i=function ly(n,e){const t=function(i,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=rf(this.yt),t.removeTarget=e,this.Bo(t)}}class Ml extends Zi{constructor(e,t,i,o,d,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,_),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Yn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _a(n,e){return n&&n.length>0?(Yn(void 0!==e),n.map(t=>function(i,o){let d=ui(i.updateTime?i.updateTime:o);return d.isEqual(Cn.min())&&(d=ui(o)),new k_(d,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.Zo(i,t)}return Yn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=rf(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>uh(this.yt,i))};this.Bo(t)}}class qu extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=o,this.nu=!1}su(){if(this.nu)throw new sn(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection.ao(e,t,i,o,d)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new sn(Pt.UNKNOWN,o.toString())})}_o(e,t,i,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection._o(e,t,i,d,_,o)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new sn(Pt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Ou{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(En(t),this.ou=!1):qe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ld{constructor(e,t,i,o,d){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(C=>{i.enqueueAndForget((0,$t.Z)(function*(){var O;wh(_)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,$t.Z)(function*($){const Y=Vn($);Y._u.add(4),yield yf(Y),Y.gu.set("Unknown"),Y._u.delete(4),yield Eh(Y)}),function($){return O.apply(this,arguments)})(_))}))}),this.gu=new Ou(i,o)}}function Eh(n){return bh.apply(this,arguments)}function bh(){return bh=(0,$t.Z)(function*(n){if(wh(n))for(const e of n.wu)yield e(!0)}),bh.apply(this,arguments)}function yf(n){return vy.apply(this,arguments)}function vy(){return vy=(0,$t.Z)(function*(n){for(const e of n.wu)yield e(!1)}),vy.apply(this,arguments)}function Qf(n,e){const t=Vn(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),mv(t)?yy(t):qp(t).ko()&&T0(t,e))}function gv(n,e){const t=Vn(n),i=qp(t);t.du.delete(e),i.ko()&&C0(t,e),0===t.du.size&&(i.ko()?i.Fo():wh(t)&&t.gu.set("Unknown"))}function T0(n,e){n.yu.Ot(e.targetId),qp(n).zo(e)}function C0(n,e){n.yu.Ot(e),qp(n).Ho(e)}function yy(n){n.yu=new Sp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),qp(n).start(),n.gu.uu()}function mv(n){return wh(n)&&!qp(n).No()&&n.du.size>0}function wh(n){return 0===Vn(n)._u.size}function Ja(n){n.yu=void 0}function Ey(n){return by.apply(this,arguments)}function by(){return by=(0,$t.Z)(function*(n){n.du.forEach((e,t)=>{T0(n,e)})}),by.apply(this,arguments)}function qE(n,e){return _v.apply(this,arguments)}function _v(){return _v=(0,$t.Z)(function*(n,e){Ja(n),mv(n)?(n.gu.hu(e),yy(n)):n.gu.set("Unknown")}),_v.apply(this,arguments)}function KE(n,e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,$t.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof U_&&2===e.state&&e.cause)try{yield(i=(0,$t.Z)(function*(o,d){const _=d.cause;for(const C of d.targetIds)o.du.has(C)&&(yield o.remoteSyncer.rejectListen(C,_),o.du.delete(C),o.yu.removeTarget(C))}),function(o,d){return i.apply(this,arguments)})(n,e)}catch(i){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield s_(n,i)}else if(e instanceof oh?n.yu.Kt(e):e instanceof ed?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Cn.min()))try{const i=yield t_(n.localStore);t.compareTo(i)>=0&&(yield function(o,d){const _=o.yu.Zt(d);return _.targetChanges.forEach((C,O)=>{if(C.resumeToken.approximateByteSize()>0){const $=o.du.get(O);$&&o.du.set(O,$.withResumeToken(C.resumeToken,d))}}),_.targetMismatches.forEach(C=>{const O=o.du.get(C);if(!O)return;o.du.set(C,O.withResumeToken(Ba.EMPTY_BYTE_STRING,O.snapshotVersion)),C0(o,C);const $=new Rd(O.target,C,1,O.sequenceNumber);T0(o,$)}),o.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){qe("RemoteStore","Failed to raise snapshot:",i),yield s_(n,i)}var i}),Wp.apply(this,arguments)}function s_(n,e,t){return zp.apply(this,arguments)}function zp(){return zp=(0,$t.Z)(function*(n,e,t){if(!xu(e))throw e;n._u.add(1),yield yf(n),n.gu.set("Offline"),t||(t=()=>t_(n.localStore)),n.asyncQueue.enqueueRetryable((0,$t.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Eh(n)}))}),zp.apply(this,arguments)}function D0(n,e){return e().catch(t=>s_(n,t,e))}function o_(n){return vv.apply(this,arguments)}function vv(){return vv=(0,$t.Z)(function*(n){const e=Vn(n),t=Bd(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Gw(e);)try{const o=yield fv(e.localStore,i);if(null===o){0===e.fu.length&&t.Fo();break}i=o.batchId,ZE(e,o)}catch(o){yield s_(e,o)}a_(e)&&Jg(e)}),vv.apply(this,arguments)}function Gw(n){return wh(n)&&n.fu.length<10}function ZE(n,e){n.fu.push(e);const t=Bd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function a_(n){return wh(n)&&!Bd(n).No()&&n.fu.length>0}function Jg(n){Bd(n).start()}function Qg(n){return cd.apply(this,arguments)}function cd(){return cd=(0,$t.Z)(function*(n){Bd(n).eu()}),cd.apply(this,arguments)}function YE(n){return wy.apply(this,arguments)}function wy(){return wy=(0,$t.Z)(function*(n){const e=Bd(n);for(const t of n.fu)e.Xo(t.mutations)}),wy.apply(this,arguments)}function Th(n,e,t){return dd.apply(this,arguments)}function dd(){return dd=(0,$t.Z)(function*(n,e,t){const i=n.fu.shift(),o=Gm.from(i,e,t);yield D0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield o_(n)}),dd.apply(this,arguments)}function ql(n,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,$t.Z)(function*(n,e){var t;e&&Bd(n).Yo&&(yield(t=(0,$t.Z)(function*(i,o){if(Ig(d=o.code)&&d!==Pt.ABORTED){const _=i.fu.shift();Bd(i).Mo(),yield D0(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,o)),yield o_(i)}var d}),function(i,o){return t.apply(this,arguments)})(n,e)),a_(n)&&Jg(n)}),Xg.apply(this,arguments)}function Ty(n,e){return yv.apply(this,arguments)}function yv(){return yv=(0,$t.Z)(function*(n,e){const t=Vn(n);t.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const i=wh(t);t._u.add(3),yield yf(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Eh(t)}),yv.apply(this,arguments)}function Cy(n,e){return S0.apply(this,arguments)}function S0(){return S0=(0,$t.Z)(function*(n,e){const t=Vn(n);e?(t._u.delete(2),yield Eh(t)):e||(t._u.add(2),yield yf(t),t.gu.set("Unknown"))}),S0.apply(this,arguments)}function qp(n){return n.pu||(n.pu=function(e,t,i){const o=Vn(e);return o.su(),new as(t,o.connection,o.authCredentials,o.appCheckCredentials,o.yt,i)}(n.datastore,n.asyncQueue,{Yr:Ey.bind(null,n),Zr:qE.bind(null,n),Wo:KE.bind(null,n)}),n.wu.push(function(){var e=(0,$t.Z)(function*(t){t?(n.pu.Mo(),mv(n)?yy(n):n.gu.set("Unknown")):(yield n.pu.stop(),Ja(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Bd(n){return n.Iu||(n.Iu=function(e,t,i){const o=Vn(e);return o.su(),new Ml(t,o.connection,o.authCredentials,o.appCheckCredentials,o.yt,i)}(n.datastore,n.asyncQueue,{Yr:Qg.bind(null,n),Zr:ql.bind(null,n),tu:YE.bind(null,n),Zo:Th.bind(null,n)}),n.wu.push(function(){var e=(0,$t.Z)(function*(t){t?(n.Iu.Mo(),yield o_(n)):(yield n.Iu.stop(),n.fu.length>0&&(qe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Kp{constructor(e,t,i,o,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=d,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,o,d){const _=Date.now()+i,C=new Kp(e,t,_,o,d);return C.start(i),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sn(Pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(n,e){if(En("AsyncQueue",`${e}: ${n}`),xu(n))return new sn(Pt.UNAVAILABLE,`${e}: ${n}`);throw n}class tm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Hn.comparator(t.key,i.key):(t,i)=>Hn.comparator(t.key,i.key),this.keyedMap=ih(),this.sortedSet=new ss(this.comparator)}static emptySet(e){return new tm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,d=i.getNext().key;if(!o.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new tm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class I0{constructor(){this.Tu=new ss(Hn.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):hn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Zp{constructor(e,t,i,o,d,_,C,O,$){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=d,this.fromCache=_,this.syncStateChanged=C,this.excludesMetadataChanges=O,this.hasCachedResults=$}static fromInitialDocuments(e,t,i,o,d){const _=[];return t.forEach(C=>{_.push({type:0,doc:C})}),new Zp(e,t,tm.emptySet(t),_,i,o,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class A0{constructor(){this.Au=void 0,this.listeners=[]}}class Ev{constructor(){this.queries=new Xc(e=>Mi(e),Qc),this.onlineState="Unknown",this.Ru=new Set}}function Dy(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,$t.Z)(function*(n,e){const t=Vn(n),i=e.query;let o=!1,d=t.queries.get(i);if(d||(o=!0,d=new A0),o)try{d.Au=yield t.onListen(i)}catch(_){const C=em(_,`Initialization of query '${bg(e.query)}' failed`);return void e.onError(C)}t.queries.set(i,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&Ay(t)}),Sy.apply(this,arguments)}function bv(n,e){return wv.apply(this,arguments)}function wv(){return wv=(0,$t.Z)(function*(n,e){const t=Vn(n),i=e.query;let o=!1;const d=t.queries.get(i);if(d){const _=d.listeners.indexOf(e);_>=0&&(d.listeners.splice(_,1),o=0===d.listeners.length)}if(o)return t.queries.delete(i),t.onUnlisten(i)}),wv.apply(this,arguments)}function Tv(n,e){const t=Vn(n);let i=!1;for(const o of e){const _=t.queries.get(o.query);if(_){for(const C of _.listeners)C.Pu(o)&&(i=!0);_.Au=o}}i&&Ay(t)}function Iy(n,e,t){const i=Vn(n),o=i.queries.get(e);if(o)for(const d of o.listeners)d.onError(t);i.queries.delete(e)}function Ay(n){n.Ru.forEach(e=>{e.next()})}class Cv{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)3!==o.type&&i.push(o);e=new Zp(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Zp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class x0{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class M0{constructor(e){this.yt=e}Ji(e){return td(this.yt,e)}Yi(e){return e.metadata.exists?Ac(this.yt,e.document,!1):As.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ui(e)}}class N0{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xy(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=Bi.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new M0(this.yt);for(const o of e)if(o.metadata.queries){const d=i.Ji(o.metadata.name);for(const _ of o.metadata.queries){const C=(t.get(_)||bi()).add(d);t.set(_,C)}}return t}complete(){var e=this;return(0,$t.Z)(function*(){const t=yield function Zg(n,e,t,i){return Jf.apply(this,arguments)}(e.localStore,new M0(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const o of e.queries)yield pv(e.localStore,o,i.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function xy(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class O0{constructor(e){this.key=e}}class R0{constructor(e){this.key=e}}class u_{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=bi(),this.mutatedKeys=bi(),this.Gu=bp(e),this.Qu=new tm(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new I0,o=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,_=o,C=!1;const O="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,$="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((Y,he)=>{const xe=o.get(Y),We=rh(this.query,he)?he:null,ft=!!xe&&this.mutatedKeys.has(xe.key),Lt=!!We&&(We.hasLocalMutations||this.mutatedKeys.has(We.key)&&We.hasCommittedMutations);let ln=!1;xe&&We?xe.data.isEqual(We.data)?ft!==Lt&&(i.track({type:3,doc:We}),ln=!0):this.Hu(xe,We)||(i.track({type:2,doc:We}),ln=!0,(O&&this.Gu(We,O)>0||$&&this.Gu(We,$)<0)&&(C=!0)):!xe&&We?(i.track({type:0,doc:We}),ln=!0):xe&&!We&&(i.track({type:1,doc:xe}),ln=!0,(O||$)&&(C=!0)),ln&&(We?(_=_.add(We),d=Lt?d.add(Y):d.delete(Y)):(_=_.delete(Y),d=d.delete(Y)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const Y="F"===this.query.limitType?_.last():_.first();_=_.delete(Y.key),d=d.delete(Y.key),i.track({type:1,doc:Y})}return{Qu:_,zu:i,$i:C,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort(($,Y)=>function(he,xe){const We=ft=>{switch(ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return We(he)-We(xe)}($.type,Y.type)||this.Gu($.doc,Y.doc)),this.Ju(i);const _=t?this.Yu():[],C=0===this.Ku.size&&this.current?1:0,O=C!==this.Uu;return this.Uu=C,0!==d.length||O?{snapshot:new Zp(this.query,e.Qu,o,d,e.mutatedKeys,0===C,O,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new I0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=bi(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new R0(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new O0(i))}),t}tc(e){this.qu=e.Hi,this.Ku=bi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Zp.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class JE{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class P0{constructor(e){this.key=e,this.nc=!1}}class QE{constructor(e,t,i,o,d,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=d,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new Xc(C=>Mi(C),Qc),this.rc=new Map,this.oc=new Set,this.uc=new ss(Hn.comparator),this.cc=new Map,this.ac=new jo,this.hc={},this.lc=new Map,this.fc=Fd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function XE(n,e){return My.apply(this,arguments)}function My(){return My=(0,$t.Z)(function*(n,e){const t=ro(n);let i,o;const d=t.ic.get(e);if(d)i=d.targetId,t.sharedClientState.addLocalQueryTarget(i),o=d.view.ec();else{const _=yield yh(t.localStore,Gu(e));t.isPrimaryClient&&Qf(t.remoteStore,_);const C=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,o=yield Ny(t,e,i,"current"===C,_.resumeToken)}return o}),My.apply(this,arguments)}function Ny(n,e,t,i,o){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,$t.Z)(function*(n,e,t,i,o){n._c=(he,xe,We)=>{return(ft=(0,$t.Z)(function*(Lt,ln,jn,lr){let Pr=ln.view.Wu(jn);Pr.$i&&(Pr=yield vf(Lt.localStore,ln.query,!1).then(({documents:Ir})=>ln.view.Wu(Ir,Pr)));const Hr=lr&&lr.targetChanges.get(ln.targetId),Er=ln.view.applyChanges(Pr,Lt.isPrimaryClient,Hr);return h(Lt,ln.targetId,Er.Xu),Er.snapshot}),function(Lt,ln,jn,lr){return ft.apply(this,arguments)})(n,he,xe,We);var ft};const d=yield vf(n.localStore,e,!0),_=new u_(e,d.Hi),C=_.Wu(d.documents),O=Nd.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,o),$=_.applyChanges(C,n.isPrimaryClient,O);h(n,t,$.Xu);const Y=new JE(e,t,_);return n.ic.set(e,Y),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),$.snapshot}),Dv.apply(this,arguments)}function eb(n,e){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,$t.Z)(function*(n,e){const t=Vn(n),i=t.ic.get(e),o=t.rc.get(i.targetId);if(o.length>1)return t.rc.set(i.targetId,o.filter(d=>!Qc(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ld(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),gv(t.remoteStore,i.targetId),r(t,i.targetId)}).catch(La))):(r(t,i.targetId),yield Ld(t.localStore,i.targetId,!0))}),Sv.apply(this,arguments)}function k0(){return k0=(0,$t.Z)(function*(n,e,t){const i=fl(n);try{const o=yield function(d,_){const C=Vn(d),O=bo.now(),$=_.reduce((xe,We)=>xe.add(We.key),bi());let Y,he;return C.persistence.runTransaction("Locally write mutations","readwrite",xe=>{let We=Cl(),ft=bi();return C.Gi.getEntries(xe,$).next(Lt=>{We=Lt,We.forEach((ln,jn)=>{jn.isValidDocument()||(ft=ft.add(ln))})}).next(()=>C.localDocuments.getOverlayedDocuments(xe,We)).next(Lt=>{Y=Lt;const ln=[];for(const jn of _){const lr=sy(jn,Y.get(jn.key).overlayedDocument);null!=lr&&ln.push(new cl(jn.key,lr,Lf(lr.value.mapValue),wo.exists(!0)))}return C.mutationQueue.addMutationBatch(xe,O,ln,_)}).next(Lt=>{he=Lt;const ln=Lt.applyToLocalDocumentSet(Y,ft);return C.documentOverlayCache.saveOverlays(xe,Lt.batchId,ln)})}).then(()=>({batchId:he.batchId,changes:Ag(Y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,_,C){let O=d.hc[d.currentUser.toKey()];O||(O=new ss(Zr)),O=O.insert(_,C),d.hc[d.currentUser.toKey()]=O}(i,o.batchId,t),yield P(i,o.changes),yield o_(i.remoteStore)}catch(o){const d=em(o,"Failed to persist write");t.reject(d)}}),k0.apply(this,arguments)}function F0(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,$t.Z)(function*(n,e){const t=Vn(n);try{const i=yield Yf(t.localStore,e);e.targetChanges.forEach((o,d)=>{const _=t.cc.get(d);_&&(Yn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?_.nc=!0:o.modifiedDocuments.size>0?Yn(_.nc):o.removedDocuments.size>0&&(Yn(_.nc),_.nc=!1))}),yield P(t,i,e)}catch(i){yield La(i)}}),Oy.apply(this,arguments)}function nb(n,e,t){const i=Vn(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const o=[];i.ic.forEach((d,_)=>{const C=_.view.bu(e);C.snapshot&&o.push(C.snapshot)}),function(d,_){const C=Vn(d);C.onlineState=_;let O=!1;C.queries.forEach(($,Y)=>{for(const he of Y.listeners)he.bu(_)&&(O=!0)}),O&&Ay(C)}(i.eventManager,e),o.length&&i.sc.Wo(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function L0(n,e,t){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,$t.Z)(function*(n,e,t){const i=Vn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.cc.get(e),d=o&&o.key;if(d){let _=new ss(Hn.comparator);_=_.insert(d,As.newNoDocument(d,Cn.min()));const C=bi().add(d),O=new ri(Cn.min(),new Map,new Zs(Zr),_,C);yield F0(i,O),i.uc=i.uc.remove(d),i.cc.delete(e),T(i)}else yield Ld(i.localStore,e,!1).then(()=>r(i,e,t)).catch(La)}),Iv.apply(this,arguments)}function rb(n,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,$t.Z)(function*(n,e){const t=Vn(n),i=e.batch.batchId;try{const o=yield _y(t.localStore,e);p(t,i,null),l_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield P(t,o)}catch(o){yield La(o)}}),Ry.apply(this,arguments)}function B0(n,e,t){return Av.apply(this,arguments)}function Av(){return Av=(0,$t.Z)(function*(n,e,t){const i=Vn(n);try{const o=yield function(d,_){const C=Vn(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let $;return C.mutationQueue.lookupMutationBatch(O,_).next(Y=>(Yn(null!==Y),$=Y.keys(),C.mutationQueue.removeMutationBatch(O,Y))).next(()=>C.mutationQueue.performConsistencyCheck(O)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(O,$,_)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,$)).next(()=>C.localDocuments.getDocuments(O,$))})}(i.localStore,e);p(i,e,t),l_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield P(i,o)}catch(o){yield La(o)}}),Av.apply(this,arguments)}function Mv(){return Mv=(0,$t.Z)(function*(n,e){const t=Vn(n);wh(t.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(d){const _=Vn(d);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>_.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===i)return void e.resolve();const o=t.lc.get(i)||[];o.push(e),t.lc.set(i,o)}catch(i){const o=em(i,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),Mv.apply(this,arguments)}function l_(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function p(n,e,t){const i=Vn(n);let o=i.hc[i.currentUser.toKey()];if(o){const d=o.get(e);d&&(t?d.reject(t):d.resolve(),o=o.remove(e)),i.hc[i.currentUser.toKey()]=o}}function r(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||l(n,i)})}function l(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(gv(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),T(n))}function h(n,e,t){for(const i of t)i instanceof O0?(n.ac.addReference(i.key,e),y(n,i)):i instanceof R0?(qe("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||l(n,i.key)):hn()}function y(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(qe("SyncEngine","New document in limbo: "+t),n.oc.add(i),T(n))}function T(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Hn(Bi.fromString(e)),i=n.fc.next();n.cc.set(i,new P0(t)),n.uc=n.uc.insert(t,i),Qf(n.remoteStore,new Rd(Gu(Vf(t.path)),i,2,Da.at))}}function P(n,e,t){return K.apply(this,arguments)}function K(){return K=(0,$t.Z)(function*(n,e,t){const i=Vn(n),o=[],d=[],_=[];var C;i.ic.isEmpty()||(i.ic.forEach((C,O)=>{_.push(i._c(O,e,t).then($=>{if(($||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(O.targetId,$?.fromCache?"not-current":"current"),$){o.push($);const Y=_f.Ci(O.targetId,$);d.push(Y)}}))}),yield Promise.all(_),i.sc.Wo(o),yield(C=(0,$t.Z)(function*(O,$){const Y=Vn(O);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",he=>Rt.forEach($,xe=>Rt.forEach(xe.Si,We=>Y.persistence.referenceDelegate.addReference(he,xe.targetId,We)).next(()=>Rt.forEach(xe.Di,We=>Y.persistence.referenceDelegate.removeReference(he,xe.targetId,We)))))}catch(he){if(!xu(he))throw he;qe("LocalStore","Failed to update sequence numbers: "+he)}for(const he of $){const xe=he.targetId;if(!he.fromCache){const We=Y.qi.get(xe),Lt=We.withLastLimboFreeSnapshotVersion(We.snapshotVersion);Y.qi=Y.qi.insert(xe,Lt)}}}),function(O,$){return C.apply(this,arguments)})(i.localStore,d))}),K.apply(this,arguments)}function ee(n,e){return ie.apply(this,arguments)}function ie(){return ie=(0,$t.Z)(function*(n,e){const t=Vn(n);if(!t.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const i=yield dv(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(_=>{_.forEach(C=>{C.reject(new sn(Pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield P(t,i.ji)}var o}),ie.apply(this,arguments)}function Oe(n,e){const t=Vn(n),i=t.cc.get(e);if(i&&i.nc)return bi().add(i.key);{let o=bi();const d=t.rc.get(e);if(!d)return o;for(const _ of d){const C=t.ic.get(_);o=o.unionWith(C.view.ju)}return o}}function it(n,e){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,$t.Z)(function*(n,e){const t=Vn(n),i=yield vf(t.localStore,e.query,!0),o=e.view.tc(i);return t.isPrimaryClient&&h(t,e.targetId,o.Xu),o}),Gt.apply(this,arguments)}function gn(n,e){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,$t.Z)(function*(n,e){const t=Vn(n);return yc(t.localStore,e).then(i=>P(t,i))}),Nt.apply(this,arguments)}function pr(n,e,t,i){return qn.apply(this,arguments)}function qn(){return qn=(0,$t.Z)(function*(n,e,t,i){const o=Vn(n),d=yield function(_,C){const O=Vn(_),$=Vn(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",Y=>$.Tn(Y,C).next(he=>he?O.localDocuments.getDocuments(Y,he):Rt.resolve(null)))}(o.localStore,e);var C;null!==d?("pending"===t?yield o_(o.remoteStore):"acknowledged"===t||"rejected"===t?(p(o,e,i||null),l_(o,e),C=e,Vn(Vn(o.localStore).mutationQueue).An(C)):hn(),yield P(o,d)):qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),qn.apply(this,arguments)}function ur(){return ur=(0,$t.Z)(function*(n,e){const t=Vn(n);if(ro(t),fl(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),o=yield Ts(t,i.toArray());t.dc=!0,yield Cy(t.remoteStore,!0);for(const d of o)Qf(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const i=[];let o=Promise.resolve();t.rc.forEach((d,_)=>{t.sharedClientState.isLocalQueryTarget(_)?i.push(_):o=o.then(()=>(r(t,_),Ld(t.localStore,_,!0))),gv(t.remoteStore,_)}),yield o,yield Ts(t,i),function(d){const _=Vn(d);_.cc.forEach((C,O)=>{gv(_.remoteStore,O)}),_.ac.fs(),_.cc=new Map,_.uc=new ss(Hn.comparator)}(t),t.dc=!1,yield Cy(t.remoteStore,!1)}}),ur.apply(this,arguments)}function Ts(n,e,t){return Po.apply(this,arguments)}function Po(){return Po=(0,$t.Z)(function*(n,e,t){const i=Vn(n),o=[],d=[];for(const _ of e){let C;const O=i.rc.get(_);if(O&&0!==O.length){C=yield yh(i.localStore,Gu(O[0]));for(const $ of O){const Y=i.ic.get($),he=yield it(i,Y);he.snapshot&&d.push(he.snapshot)}}else{const $=yield Gp(i.localStore,_);C=yield yh(i.localStore,$),yield Ny(i,Zu($),_,!1,C.resumeToken)}o.push(C)}return i.sc.Wo(d),o}),Po.apply(this,arguments)}function Zu(n){return Yh(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function no(n){const e=Vn(n);return Vn(Vn(e.localStore).persistence).vi()}function Yp(n,e,t,i){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,$t.Z)(function*(n,e,t,i){const o=Vn(n);if(o.dc)return void qe("SyncEngine","Ignoring unexpected query state notification.");const d=o.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const _=yield yc(o.localStore,Ep(d[0])),C=ri.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ba.EMPTY_BYTE_STRING);yield P(o,_,C);break}case"rejected":yield Ld(o.localStore,e,!0),r(o,e,i);break;default:hn()}}),Pc.apply(this,arguments)}function xr(n,e,t){return sa.apply(this,arguments)}function sa(){return sa=(0,$t.Z)(function*(n,e,t){const i=ro(n);if(i.dc){for(const o of e){if(i.rc.has(o)){qe("SyncEngine","Adding an already active target "+o);continue}const d=yield Gp(i.localStore,o),_=yield yh(i.localStore,d);yield Ny(i,Zu(d),_.targetId,!1,_.resumeToken),Qf(i.remoteStore,_)}for(const o of t)i.rc.has(o)&&(yield Ld(i.localStore,o,!1).then(()=>{gv(i.remoteStore,o),r(i,o)}).catch(La))}}),sa.apply(this,arguments)}function ro(n){const e=Vn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L0.bind(null,e),e.sc.Wo=Tv.bind(null,e.eventManager),e.sc.wc=Iy.bind(null,e.eventManager),e}function fl(n){const e=Vn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B0.bind(null,e),e}class Ch{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$t.Z)(function*(){t.yt=pi(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Xm(this.persistence,new Hp,e.initialUser,this.yt)}yc(e){return new ud(vc.Bs,this.yt)}gc(e){return new Ke}terminate(){var e=this;return(0,$t.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ep extends Ch{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,$t.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield fl(i.Ac.syncEngine),yield o_(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Xm(this.persistence,new Hp,e.initialUser,this.yt)}Tc(e,t){return new my(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new Yr(t,this.persistence);return new Wh(e.asyncQueue,i)}yc(e){const t=qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?xl.withCacheSize(this.cacheSizeBytes):xl.DEFAULT;return new vh(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Tr(),Br(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Ke}}class Dh extends ep{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,$t.Z)(function*(){yield t().call(i,e);const o=i.Ac.syncEngine;i.sharedClientState instanceof Ue&&(i.sharedClientState.syncEngine={Fr:pr.bind(null,o),$r:Yp.bind(null,o),Br:xr.bind(null,o),vi:no.bind(null,o),Mr:gn.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var d=(0,$t.Z)(function*(_){yield function hr(n,e){return ur.apply(this,arguments)}(i.Ac.syncEngine,_),i.gcScheduler&&(_&&!i.gcScheduler.started?i.gcScheduler.start():_||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(_&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():_||i.indexBackfillerScheduler.stop())});return function(_){return d.apply(this,arguments)}}())})()}gc(e){const t=Tr();if(!Ue.C(t))throw new sn(Pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ue(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class kc{initialize(e,t){var i=this;return(0,$t.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>nb(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=ee.bind(null,i.syncEngine),yield Cy(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ev}createDatastore(e){const t=pi(e.databaseInfo.databaseId),i=new Gn(e.databaseInfo);return new qu(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,o=e.asyncQueue,d=C=>nb(this.syncEngine,C,0),_=nn.C()?new nn:new pt,new ld(t,i,o,d,_);var t,i,o,d,_}createSyncEngine(e,t){return function(i,o,d,_,C,O,$){const Y=new QE(i,o,d,_,C,O);return $&&(Y.dc=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$t.Z)(function*(t){const i=Vn(t);qe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield yf(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jp(n,e,t){if(!t)throw new sn(Pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jw(n,e,t,i){if(!0===e&&!0===i)throw new sn(Pt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ww(n){if(!Hn.isDocumentKey(n))throw new sn(Pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zw(n){if(Hn.isDocumentKey(n))throw new sn(Pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":hn()}function Cs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new sn(Pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=c_(n);throw new sn(Pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ib(n,e){if(e<=0)throw new sn(Pt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const sb=new Map;class qw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new sn(Pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sn(Pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,jw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sn(Pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sn(Pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qd;switch(t.type){case"gapi":return new cp(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new sn(Pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sb.get(e);t&&(qe("ComponentProvider","Removing Datastore"),sb.delete(e),t.terminate())}(this),Promise.resolve()}}class Aa{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Aa(this.firestore,e,this._key)}}class Kl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Kl(this.firestore,e,this._query)}}class tp extends Kl{constructor(e,t,i){super(e,t,Vf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Aa(this.firestore,null,new Hn(e))}withConverter(e){return new tp(this.firestore,e,this._path)}}function ob(n,e,...t){if(n=(0,Un.m9)(n),Jp("collection","path",e),n instanceof Qp){const i=Bi.fromString(e,...t);return zw(i),new tp(n,null,i)}{if(!(n instanceof Aa||n instanceof tp))throw new sn(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bi.fromString(e,...t));return zw(i),new tp(n.firestore,null,i)}}function Py(n,e,...t){if(n=(0,Un.m9)(n),1===arguments.length&&(e=hg.R()),Jp("doc","path",e),n instanceof Qp){const i=Bi.fromString(e,...t);return Ww(i),new Aa(n,null,new Hn(i))}{if(!(n instanceof Aa||n instanceof tp))throw new sn(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bi.fromString(e,...t));return Ww(i),new Aa(n.firestore,n instanceof tp?n.converter:null,new Hn(i))}}function Zw(n,e){return n=(0,Un.m9)(n),e=(0,Un.m9)(e),(n instanceof Aa||n instanceof tp)&&(e instanceof Aa||e instanceof tp)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function V0(n,e){return n=(0,Un.m9)(n),e=(0,Un.m9)(e),n instanceof Kl&&e instanceof Kl&&n.firestore===e.firestore&&Qc(n._query,e._query)&&n.converter===e.converter}function Yw(n,e=10240){let t=0;return{read:()=>(0,$t.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,$t.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class U0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):En("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iS{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Ro,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,$t.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,$t.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,$t.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),o=Number(i);isNaN(o)&&e.Dc(`length string (${i}) is not valid number`);const d=yield e.Cc(o);return new x0(JSON.parse(d),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,$t.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,$t.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,$t.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Jw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,$t.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new sn(Pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,$t.Z)(function*(d,_){const C=Vn(d),O=rf(C.yt)+"/documents",$={documents:_.map(We=>xg(C.yt,We))},Y=yield C._o("BatchGetDocuments",O,$,_.length),he=new Map;Y.forEach(We=>{const ft=function Dl(n,e){return"found"in e?function(t,i){Yn(!!i.found);const o=td(t,i.found.name),d=ui(i.found.updateTime),_=i.found.createTime?ui(i.found.createTime):Cn.min(),C=new Za({mapValue:{fields:i.found.fields}});return As.newFoundDocument(o,d,_,C)}(n,e):"missing"in e?function(t,i){Yn(!!i.missing),Yn(!!i.readTime);const o=td(t,i.missing),d=ui(i.readTime);return As.newNoDocument(o,d)}(n,e):hn()}(C.yt,We);he.set(ft.key.toString(),ft)});const xe=[];return _.forEach(We=>{const ft=he.get(We.toString());Yn(!!ft),xe.push(ft)}),xe}),function(d,_){return o.apply(this,arguments)})(t.datastore,e);var o;return i.forEach(o=>t.recordVersion(o)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,$t.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,o)=>{const d=Hn.fromPath(o);e.mutations.push(new L_(d,e.precondition(d)))}),yield(i=(0,$t.Z)(function*(o,d){const _=Vn(o),C=rf(_.yt)+"/documents",O={writes:d.map($=>uh(_.yt,$))};yield _.ao("Commit",C,O)}),function(o,d){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hn();t=Cn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new sn(Pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Cn.min())?wo.exists(!1):wo.updateTime(t):wo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cn.min()))throw new sn(Pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wo.updateTime(t)}return wo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $0{constructor(e,t,i,o,d){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=o,this.deferred=d,this.kc=i.maxAttempts,this.xo=new $r(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,$t.Z)(function*(){const t=new Jw(e.datastore),i=e.Mc(t);i&&i.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(d=>{e.Fc(d)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!Sa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ig(t)}return!1}}class s1{constructor(e,t,i,o){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=D.UNAUTHENTICATED,this.clientId=hg.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,$t.Z)(function*(C){qe("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(qe("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,$t.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sn(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$t.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=em(i,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Qw(n,e){return H0.apply(this,arguments)}function H0(){return H0=(0,$t.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,$t.Z)(function*(d){i.isEqual(d)||(yield dv(e.localStore,d),i=d)});return function(d){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),H0.apply(this,arguments)}function Ov(n,e){return ab.apply(this,arguments)}function ab(){return ab=(0,$t.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ub(n);qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(o=>Ty(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,d)=>Ty(e.remoteStore,d)),n.onlineComponents=e}),ab.apply(this,arguments)}function ub(n){return lb.apply(this,arguments)}function lb(){return lb=(0,$t.Z)(function*(n){return n.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield Qw(n,new Ch)),n.offlineComponents}),lb.apply(this,arguments)}function G0(n){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,$t.Z)(function*(n){return n.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield Ov(n,new kc)),n.onlineComponents}),Xw.apply(this,arguments)}function eT(n){return ub(n).then(e=>e.persistence)}function ky(n){return ub(n).then(e=>e.localStore)}function cb(n){return G0(n).then(e=>e.remoteStore)}function db(n){return G0(n).then(e=>e.syncEngine)}function Pv(n){return j0.apply(this,arguments)}function j0(){return j0=(0,$t.Z)(function*(n){const e=yield G0(n),t=e.eventManager;return t.onListen=XE.bind(null,e.syncEngine),t.onUnlisten=eb.bind(null,e.syncEngine),t}),j0.apply(this,arguments)}function hb(n,e,t={}){const i=new Ro;return n.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return function(o,d,_,C,O){const $=new U0({next:he=>{d.enqueueAndForget(()=>bv(o,Y));const xe=he.docs.has(_);!xe&&he.fromCache?O.reject(new sn(Pt.UNAVAILABLE,"Failed to get document because the client is offline.")):xe&&he.fromCache&&C&&"server"===C.source?O.reject(new sn(Pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(he)},error:he=>O.reject(he)}),Y=new Cv(Vf(_.path),$,{includeMetadataChanges:!0,Nu:!0});return Dy(o,Y)}(yield Pv(n),n.asyncQueue,e,t,i)})),i.promise}function W0(n,e,t={}){const i=new Ro;return n.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return function(o,d,_,C,O){const $=new U0({next:he=>{d.enqueueAndForget(()=>bv(o,Y)),he.fromCache&&"server"===C.source?O.reject(new sn(Pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(he)},error:he=>O.reject(he)}),Y=new Cv(_,$,{includeMetadataChanges:!0,Nu:!0});return Dy(o,Y)}(yield Pv(n),n.asyncQueue,e,t,i)})),i.promise}class c1{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new $r(this,"async_queue_retry"),this.Wc=()=>{const t=Br();t&&qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Br();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Br();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ro;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,$t.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!xu(t))throw t;qe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,En("INTERNAL UNHANDLED ERROR: ",function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),_}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=Kp.createAndSchedule(this,e,t,i,d=>this.Yc(d));return this.Uc.push(o),o}zc(){this.Kc&&hn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,$t.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function fb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class d1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ro,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xa extends Qp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new c1,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||iT(this),this._firestoreClient.terminate()}}function Ru(n){return n._firestoreClient||iT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function iT(n){var e;const t=n._freezeSettings(),i=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fp(n._databaseId,d,n._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;n._firestoreClient=new s1(n._authCredentials,n._appCheckCredentials,n._queue,i)}function sT(n,e,t){const i=new Ro;return n.asyncQueue.enqueue((0,$t.Z)(function*(){try{yield Qw(n,t),yield Ov(n,e),i.resolve()}catch(o){const d=o;if(!("FirebaseError"===(_=d).name?_.code===Pt.FAILED_PRECONDITION||_.code===Pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw d;nr("Error enabling offline persistence. Falling back to persistence disabled: "+d),i.reject(d)}var _})).then(()=>i.promise)}function mb(n){if(n._initialized||n._terminated)throw new sn(Pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class np{constructor(e){this._byteString=e}static fromBase64String(e){try{return new np(Ba.fromBase64String(e))}catch(t){throw new sn(Pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new np(Ba.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new sn(Pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eg{constructor(e){this._methodName=e}}class Fy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sn(Pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sn(Pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zr(this._lat,e._lat)||Zr(this._long,e._long)}}const _b=/^__.*__$/;class y1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new tf(e,this.data,t,this.fieldTransforms)}}class lT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function z0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hn()}}class q0{constructor(e,t,i,o,d,_){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=o,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new q0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:i,oa:!1});return o.ua(e),o}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:i,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return X0(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(z0(this.sa)&&_b.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class cT{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||pi(e)}da(e,t,i,o=!1){return new q0({sa:e,methodName:t,fa:i,path:fa.emptyPath(),oa:!1,la:o},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Sh(n){const e=n._freezeSettings(),t=pi(n._databaseId);return new cT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ly(n,e,t,i,o,d={}){const _=n.da(d.merge||d.mergeFields?2:0,e,t,o);J0("Data must be an object, but it was:",_,i);const C=bb(i,_);let O,$;if(d.merge)O=new Ka(_.fieldMask),$=_.fieldTransforms;else if(d.mergeFields){const Y=[];for(const he of d.mergeFields){const xe=Tb(e,he,t);if(!_.contains(xe))throw new sn(Pt.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);Cb(Y,xe)||Y.push(xe)}O=new Ka(Y),$=_.fieldTransforms.filter(he=>O.covers(he.field))}else O=null,$=_.fieldTransforms;return new y1(new Za(C),O,$)}class By extends eg{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof By}}function E1(n,e,t){return new q0({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class K0 extends eg{_toFieldTransform(e){return new Xh(e.path,new ju)}isEqual(e){return e instanceof K0}}class vb extends eg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=E1(this,e,!0),i=this._a.map(d=>nm(d,t)),o=new xd(i);return new Xh(e.path,o)}isEqual(e){return this===e}}class b1 extends eg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=E1(this,e,!0),i=this._a.map(d=>nm(d,t)),o=new Ya(i);return new Xh(e.path,o)}isEqual(e){return this===e}}class yb extends eg{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Hf(e.yt,iy(e.yt,this.wa));return new Xh(e.path,t)}isEqual(e){return this===e}}function Eb(n,e,t,i){const o=n.da(1,e,t);J0("Data must be an object, but it was:",o,i);const d=[],_=Za.empty();hc(i,(O,$)=>{const Y=Q0(e,O,t);$=(0,Un.m9)($);const he=o.ca(Y);if($ instanceof By)d.push(Y);else{const xe=nm($,he);null!=xe&&(d.push(Y),_.set(Y,xe))}});const C=new Ka(d);return new lT(_,C,o.fieldTransforms)}function Z0(n,e,t,i,o,d){const _=n.da(1,e,t),C=[Tb(e,i,t)],O=[o];if(d.length%2!=0)throw new sn(Pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<d.length;xe+=2)C.push(Tb(e,d[xe])),O.push(d[xe+1]);const $=[],Y=Za.empty();for(let xe=C.length-1;xe>=0;--xe)if(!Cb($,C[xe])){const We=C[xe];let ft=O[xe];ft=(0,Un.m9)(ft);const Lt=_.ca(We);if(ft instanceof By)$.push(We);else{const ln=nm(ft,Lt);null!=ln&&($.push(We),Y.set(We,ln))}}const he=new Ka($);return new lT(Y,he,_.fieldTransforms)}function Y0(n,e,t,i=!1){return nm(t,n.da(i?4:3,e))}function nm(n,e){if(wb(n=(0,Un.m9)(n)))return J0("Unsupported field value:",e,n),bb(n,e);if(n instanceof eg)return function(t,i){if(!z0(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const o=[];let d=0;for(const _ of t){let C=nm(_,i.aa(d));null==C&&(C={nullValue:"NULL_VALUE"}),o.push(C),d++}return{arrayValue:{values:o}}}(n,e)}return function(t,i){if(null===(t=(0,Un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iy(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=bo.fromDate(t);return{timestampValue:nf(i.yt,o)}}if(t instanceof bo){const o=new bo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:nf(i.yt,o)}}if(t instanceof Fy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof np)return{bytesValue:ah(i.yt,t._byteString)};if(t instanceof Aa){const o=i.databaseId,d=t.firestore._databaseId;if(!d.isEqual(o))throw i.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ap(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${c_(t)}`)}(n,e)}function bb(n,e){const t={};return pp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hc(n,(i,o)=>{const d=nm(o,e.ra(i));null!=d&&(t[i]=d)}),{mapValue:{fields:t}}}function wb(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bo||n instanceof Fy||n instanceof np||n instanceof Aa||n instanceof eg)}function J0(n,e,t){if(!wb(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=c_(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function Tb(n,e,t){if((e=(0,Un.m9)(e))instanceof Xp)return e._internalPath;if("string"==typeof e)return Q0(n,e);throw X0("Field path arguments must be of type string or ",n,!1,void 0,t)}const w1=new RegExp("[~\\*/\\[\\]]");function Q0(n,e,t){if(e.search(w1)>=0)throw X0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xp(...e.split("."))._internalPath}catch{throw X0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function X0(n,e,t,i,o){const d=i&&!i.isEmpty(),_=void 0!==o;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let O="";return(d||_)&&(O+=" (found",d&&(O+=` in field ${i}`),_&&(O+=` in document ${o}`),O+=")"),new sn(Pt.INVALID_ARGUMENT,C+n+O)}function Cb(n,e){return n.some(t=>t.isEqual(e))}class eE{constructor(e,t,i,o,d){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Aa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dT extends eE{data(){return super.data()}}function tE(n,e){return"string"==typeof e?Q0(n,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}function hT(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new sn(Pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fT{}class Vy extends fT{}function rm(n,e,...t){let i=[];e instanceof fT&&i.push(e),i=i.concat(t),function(o){const d=o.filter(C=>C instanceof d_).length,_=o.filter(C=>C instanceof Uy).length;if(d>1||d>0&&_>0)throw new sn(Pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Uy extends Vy{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Uy(e,t,i)}_apply(e){const t=this._parse(e);return Ib(e._query,t),new Kl(e.firestore,e.converter,Dm(e._query,t))}_parse(e){const t=Sh(e.firestore);return function(o,d,_,C,O,$,Y){let he;if(O.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new sn(Pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){I1(Y,$);const xe=[];for(const We of Y)xe.push(yT(C,o,We));he={arrayValue:{values:xe}}}else he=yT(C,o,Y)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||I1(Y,$),he=Y0(_,"where",Y,"in"===$||"not-in"===$);return Xi.create(O,$,he)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class d_ extends fT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new d_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Ks.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,o){let d=i;const _=o.getFlattenedFilters();for(const C of _)Ib(d,C),d=Dm(d,C)}(e._query,t),new Kl(e.firestore,e.converter,Dm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Db extends Vy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Db(e,t)}_apply(e){const t=function(i,o,d){if(null!==i.startAt)throw new sn(Pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new sn(Pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new Ff(o,d);return function(C,O){if(null===Uf(C)){const $=Jc(C);null!==$&&Ab(0,$,O.field)}}(i,_),_}(e._query,this._field,this._direction);return new Kl(e.firestore,e.converter,function(i,o){const d=i.explicitOrderBy.concat([o]);return new Gl(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class nE extends Vy{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new nE(e,t,i)}_apply(e){return new Kl(e.firestore,e.converter,Jh(e._query,this._limit,this._limitType))}}class im extends Vy{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new im(e,t,i)}_apply(e){const t=Sb(e,this.type,this._docOrFields,this._inclusive);return new Kl(e.firestore,e.converter,(o=t,new Gl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class $y extends Vy{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new $y(e,t,i)}_apply(e){const t=Sb(e,this.type,this._docOrFields,this._inclusive);return new Kl(e.firestore,e.converter,(o=t,new Gl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function Sb(n,e,t,i){if(t[0]=(0,Un.m9)(t[0]),t[0]instanceof eE)return function(o,d,_,C,O){if(!C)throw new sn(Pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const $=[];for(const Y of Id(o))if(Y.field.isKeyField())$.push(Qd(d,C.key));else{const he=C.data.field(Y.field);if(gu(he))throw new sn(Pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===he){const xe=Y.field.canonicalString();throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xe}' (used as the orderBy) does not exist.`)}$.push(he)}return new vr($,O)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=Sh(n.firestore);return function(d,_,C,O,$,Y){const he=d.explicitOrderBy;if($.length>he.length)throw new sn(Pt.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xe=[];for(let We=0;We<$.length;We++){const ft=$[We];if(he[We].field.isKeyField()){if("string"!=typeof ft)throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof ft}`);if(!Eg(d)&&-1!==ft.indexOf("/"))throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${ft}' contains a slash.`);const Lt=d.path.child(Bi.fromString(ft));if(!Hn.isDocumentKey(Lt))throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${Lt}' is not because it contains an odd number of segments.`);const ln=new Hn(Lt);xe.push(Qd(_,ln))}else{const Lt=Y0(C,O,ft);xe.push(Lt)}}return new vr(xe,Y)}(n._query,n.firestore._databaseId,o,e,t,i)}}function yT(n,e,t){if("string"==typeof(t=(0,Un.m9)(t))){if(""===t)throw new sn(Pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eg(e)&&-1!==t.indexOf("/"))throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Bi.fromString(t));if(!Hn.isDocumentKey(i))throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qd(n,new Hn(i))}if(t instanceof Aa)return Qd(n,t._key);throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c_(t)}.`)}function I1(n,e){if(!Array.isArray(n)||0===n.length)throw new sn(Pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new sn(Pt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ib(n,e){if(e.isInequality()){const i=Jc(n),o=e.field;if(null!==i&&!i.isEqual(o))throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${o.toString()}'`);const d=Uf(n);null!==d&&Ab(0,o,d)}const t=function(i,o){for(const d of i)for(const _ of d.getFlattenedFilters())if(o.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new sn(Pt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ab(n,e,t){if(!t.isEqual(e))throw new sn(Pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class xb{convertValue(e,t="none"){switch(Of(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hn()}}convertObject(e,t){const i={};return hc(e.fields,(o,d)=>{i[o]=this.convertValue(d,t)}),i}convertGeoPoint(e){return new Fy(pa(e.latitude),pa(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ga(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jc(e));default:return null}}convertTimestamp(e){const t=Dd(e);return new bo(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Bi.fromString(e);Yn(Ho(i));const o=new wl(i.get(1),i.get(3)),d=new Hn(i.popFirst(5));return o.isEqual(t)||En(`Document ${d} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function rE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Hy extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new np(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Aa(this.firestore,null,t)}}class h_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ef extends eE{constructor(e,t,i,o,d,_){super(e,t,i,o,_),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(tE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class hd extends Ef{data(e={}){return super.data(e)}}class sm{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new h_(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new hd(this._firestore,this._userDataWriter,i.key,i,new h_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sn(Pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new hd(i._firestore,i._userDataWriter,_.doc.key,_.doc,new h_(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:d++}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>o||3!==_.type).map(_=>{const C=new hd(i._firestore,i._userDataWriter,_.doc.key,_.doc,new h_(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let O=-1,$=-1;return 0!==_.type&&(O=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),1!==_.type&&(d=d.add(_.doc),$=d.indexOf(_.doc.key)),{type:Mb(_.type),doc:C,oldIndex:O,newIndex:$}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}function kv(n,e){return n instanceof Ef&&e instanceof Ef?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof sm&&e instanceof sm&&n._firestore===e._firestore&&V0(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class om extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new np(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Aa(this.firestore,null,t)}}function Nb(n,e,t){n=Cs(n,Aa);const i=Cs(n.firestore,xa),o=rE(n.converter,e,t);return f_(i,[Ly(Sh(i),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,wo.none())])}function Ob(n,e,t,...i){n=Cs(n,Aa);const o=Cs(n.firestore,xa),d=Sh(o);let _;return _="string"==typeof(e=(0,Un.m9)(e))||e instanceof Xp?Z0(d,"updateDoc",n._key,e,t,i):Eb(d,"updateDoc",n._key,e),f_(o,[_.toMutation(n._key,wo.exists(!0))])}function oE(n,...e){var t,i,o;n=(0,Un.m9)(n);let d={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||fb(e[_])||(d=e[_],_++);const C={includeMetadataChanges:d.includeMetadataChanges};if(fb(e[_])){const he=e[_];e[_]=null===(t=he.next)||void 0===t?void 0:t.bind(he),e[_+1]=null===(i=he.error)||void 0===i?void 0:i.bind(he),e[_+2]=null===(o=he.complete)||void 0===o?void 0:o.bind(he)}let O,$,Y;if(n instanceof Aa)$=Cs(n.firestore,xa),Y=Vf(n._key.path),O={next:he=>{e[_]&&e[_](Gy($,n,he))},error:e[_+1],complete:e[_+2]};else{const he=Cs(n,Kl);$=Cs(he.firestore,xa),Y=he._query;const xe=new om($);O={next:We=>{e[_]&&e[_](new sm($,xe,he,We))},error:e[_+1],complete:e[_+2]},hT(n._query)}return function(he,xe,We,ft){const Lt=new U0(ft),ln=new Cv(xe,Lt,We);return he.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return Dy(yield Pv(he),ln)})),()=>{Lt.bc(),he.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return bv(yield Pv(he),ln)}))}}(Ru($),Y,C,O)}function f_(n,e){return function(t,i){const o=new Ro;return t.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return function tb(n,e,t){return k0.apply(this,arguments)}(yield db(t),i,o)})),o.promise}(Ru(n),e)}function Gy(n,e,t){const i=t.docs.get(e._key),o=new om(n);return new Ef(n,o,e._key,i,new h_(t.hasPendingWrites,t.fromCache),e.converter)}const O1={maxAttempts:5};class TT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sh(e)}set(e,t,i){this._verifyNotCommitted();const o=am(e,this._firestore),d=rE(o.converter,t,i),_=Ly(this._dataReader,"WriteBatch.set",o._key,d,null!==o.converter,i);return this._mutations.push(_.toMutation(o._key,wo.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const d=am(e,this._firestore);let _;return _="string"==typeof(t=(0,Un.m9)(t))||t instanceof Xp?Z0(this._dataReader,"WriteBatch.update",d._key,t,i,o):Eb(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(_.toMutation(d._key,wo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=am(e,this._firestore);return this._mutations=this._mutations.concat(new Gf(t._key,wo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sn(Pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function am(n,e){if((n=(0,Un.m9)(n)).firestore!==e)throw new sn(Pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class CT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sh(e)}get(e){const t=am(e,this._firestore),i=new Hy(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return hn();const d=o[0];if(d.isFoundDocument())return new eE(this._firestore,i,d.key,d,t.converter);if(d.isNoDocument())return new eE(this._firestore,i,t._key,null,t.converter);throw hn()})}set(e,t,i){const o=am(e,this._firestore),d=rE(o.converter,t,i),_=Ly(this._dataReader,"Transaction.set",o._key,d,null!==o.converter,i);return this._transaction.set(o._key,_),this}update(e,t,i,...o){const d=am(e,this._firestore);let _;return _="string"==typeof(t=(0,Un.m9)(t))||t instanceof Xp?Z0(this._dataReader,"Transaction.update",d._key,t,i,o):Eb(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,_),this}delete(e){const t=am(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=am(e,this._firestore),i=new om(this._firestore);return super.get(e).then(o=>new Ef(this._firestore,i,t._key,o._document,new h_(!1,!1),t.converter))}}function Zl(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new sn("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function p_(){if(typeof Uint8Array>"u")throw new sn("unimplemented","Uint8Arrays are not available in this environment.")}function OT(){if(!function vm(){return typeof atob<"u"}())throw new sn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){k=Si.SDK_VERSION,(0,Si._registerComponent)(new Ls.wA("firestore",(t,{instanceIdentifier:i,options:o})=>{const d=t.getProvider("app").getImmediate(),_=new xa(new If(t.getProvider("auth-internal")),new pu(t.getProvider("app-check-internal")),function(C,O){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new sn(Pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(C.options.projectId,O)}(d,i),d);return o=Object.assign({useFetchStreams:e},o),_._setSettings(o),_},"PUBLIC").setMultipleInstances(!0)),(0,Si.registerVersion)(b,"3.8.1",n),(0,Si.registerVersion)(b,"3.8.1","esm2017")}();class jy{constructor(e){this._delegate=e}static fromBase64String(e){return OT(),new jy(np.fromBase64String(e))}static fromUint8Array(e){return p_(),new jy(np.fromUint8Array(e))}toBase64(){return OT(),this._delegate.toBase64()}toUint8Array(){return p_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RT(n){return function cS(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class PT{enableIndexedDbPersistence(e,t){return function f1(n,e){mb(n=Cs(n,xa));const t=Ru(n),i=n._freezeSettings(),o=new kc;return sT(t,o,new ep(o,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function p1(n){mb(n=Cs(n,xa));const e=Ru(n),t=n._freezeSettings(),i=new kc;return sT(e,i,new Dh(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function g1(n){if(n._initialized&&!n._terminated)throw new sn(Pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ro;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$t.Z)(function*(){try{yield(t=(0,$t.Z)(function*(i){if(!bl.C())return Promise.resolve();const o=i+"main";yield bl.delete(o)}),function(i){return t.apply(this,arguments)})(qg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fb{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof wl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&nr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Nv(n,e,t,i={}){var o;const d=(n=Cs(n,Qp))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&nr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let _,C;if("string"==typeof i.mockUserToken)_=i.mockUserToken,C=D.MOCK_USER;else{_=(0,Un.Sg)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const O=i.mockUserToken.sub||i.mockUserToken.user_id;if(!O)throw new sn(Pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new D(O)}n._authCredentials=new lp(new fu(_,C))}}(this._delegate,e,t,i)}enableNetwork(){return function oT(n){return function o1(n){return n.asyncQueue.enqueue((0,$t.Z)(function*(){const e=yield eT(n),t=yield cb(n);return e.setNetworkEnabled(!0),function(i){const o=Vn(i);return o._u.delete(0),Eh(o)}(t)}))}(Ru(n=Cs(n,xa)))}(this._delegate)}disableNetwork(){return function aT(n){return function tT(n){return n.asyncQueue.enqueue((0,$t.Z)(function*(){const e=yield eT(n),t=yield cb(n);return e.setNetworkEnabled(!1),(i=(0,$t.Z)(function*(o){const d=Vn(o);d._u.add(0),yield yf(d),d.gu.set("Offline")}),function(o){return i.apply(this,arguments)})(t);var i}))}(Ru(n=Cs(n,xa)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,jw("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function m1(n){return function(e){const t=new Ro;return e.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return function xv(n,e){return Mv.apply(this,arguments)}(yield db(e),t)})),t.promise}(Ru(n=Cs(n,xa)))}(this._delegate)}onSnapshotsInSync(e){return function Pb(n,e){return function l1(n,e){const t=new U0(e);return n.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return i=yield Pv(n),o=t,Vn(i).Ru.add(o),void o.next();var i,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return i=yield Pv(n),o=t,void Vn(i).Ru.delete(o);var i,o}))}}(Ru(n=Cs(n,xa)),fb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new sn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new g_(this,ob(this._delegate,e))}catch(t){throw Fc(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ih(this,Py(this._delegate,e))}catch(t){throw Fc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nl(this,function Kw(n,e){if(n=Cs(n,Qp),Jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sn(Pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kl(n,null,(t=e,new Gl(Bi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kb(n,e,t){n=Cs(n,xa);const i=Object.assign(Object.assign({},O1),t);return function(o){if(o.maxAttempts<1)throw new sn(Pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,d,_){const C=new Ro;return o.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){const O=yield function Rv(n){return G0(n).then(e=>e.datastore)}(o);new $0(o.asyncQueue,O,_,d,C).run()})),C.promise}(Ru(n),o=>e(new CT(n,o)),i)}(this._delegate,t=>e(new aE(this,t)))}batch(){return Ru(this._delegate),new kT(new TT(this._delegate,e=>f_(this._delegate,e)))}loadBundle(e){return function v1(n,e){const t=Ru(n=Cs(n,xa)),i=new d1;return function nT(n,e,t,i){const o=function(d,_){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,O=function(O,$){if(O instanceof Uint8Array)return Yw(O,$);if(O instanceof ArrayBuffer)return Yw(new Uint8Array(O),$);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new iS(O,_);var O}(t,pi(e));n.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){!function Xf(n,e,t){const i=Vn(n);var o;(o=(0,$t.Z)(function*(d,_,C){try{const O=yield _.getMetadata();if(yield function(xe,We){const ft=Vn(xe),Lt=ui(We.createTime);return ft.persistence.runTransaction("hasNewerBundle","readonly",ln=>ft.Ns.getBundleMetadata(ln,We.id)).then(ln=>!!ln&&ln.createTime.compareTo(Lt)>=0)}(d.localStore,O))return yield _.close(),C._completeWith({taskState:"Success",documentsLoaded:(xe=O).totalDocuments,bytesLoaded:xe.totalBytes,totalDocuments:xe.totalDocuments,totalBytes:xe.totalBytes}),Promise.resolve(new Set);C._updateProgress(xy(O));const $=new N0(O,d.localStore,_.yt);let Y=yield _.mc();for(;Y;){const xe=yield $.Fu(Y);xe&&C._updateProgress(xe),Y=yield _.mc()}const he=yield $.complete();return yield P(d,he.Lu,void 0),yield function(xe,We){const ft=Vn(xe);return ft.persistence.runTransaction("Save bundle","readwrite",Lt=>ft.Ns.saveBundleMetadata(Lt,We))}(d.localStore,O),C._completeWith(he.progress),Promise.resolve(he.Bu)}catch(O){return nr("SyncEngine",`Loading bundle failed with ${O}`),C._failWith(O),Promise.resolve(new Set)}var xe}),function(d,_,C){return o.apply(this,arguments)})(i,e,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield db(n),o,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function gb(n,e){return function rT(n,e){return n.asyncQueue.enqueue((0,$t.Z)(function*(){return function(t,i){const o=Vn(t);return o.persistence.runTransaction("Get named query","readonly",d=>o.Ns.getNamedQuery(d,i))}(yield ky(n),e)}))}(Ru(n=Cs(n,xa)),e).then(t=>t?new Kl(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Nl(this,t):null)}}class um extends xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new jy(new np(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ih.forKey(t,this.firestore,null)}}class aE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new um(e)}get(e){const t=m_(e);return this._delegate.get(t).then(i=>new Fv(this._firestore,new Ef(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const o=m_(e);return i?(Zl("Transaction.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const d=m_(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...o),this}delete(e){const t=m_(e);return this._delegate.delete(t),this}}class kT{constructor(e){this._delegate=e}set(e,t,i){const o=m_(e);return i?(Zl("WriteBatch.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const d=m_(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...o),this}delete(e){const t=m_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new hd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lv(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=lm.INSTANCES;let o=i.get(e);o||(o=new WeakMap,i.set(e,o));let d=o.get(t);return d||(d=new lm(e,new um(e),t),o.set(t,d)),d}}lm.INSTANCES=new WeakMap;class Ih{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new um(e)}static forPath(e,t,i){if(e.length%2!=0)throw new sn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ih(t,new Aa(t._delegate,i,new Hn(e)))}static forKey(e,t,i){return new Ih(t,new Aa(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new g_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new g_(this.firestore,ob(this._delegate,e))}catch(t){throw Fc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Un.m9)(e))instanceof Aa&&Zw(this._delegate,e)}set(e,t){t=Zl("DocumentReference.set",t);try{return t?Nb(this._delegate,e,t):Nb(this._delegate,e)}catch(i){throw Fc(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Ob(this._delegate,e):Ob(this._delegate,e,t,...i)}catch(o){throw Fc(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Rb(n){return f_(Cs(n.firestore,xa),[new Gf(n._key,wo.none())])}(this._delegate)}onSnapshot(...e){const t=FT(e),i=uE(e,o=>new Fv(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return oE(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function x1(n){n=Cs(n,Aa);const e=Cs(n.firestore,xa),t=Ru(e),i=new om(e);return function a1(n,e){const t=new Ro;return n.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return(i=(0,$t.Z)(function*(o,d,_){try{const C=yield function(O,$){const Y=Vn(O);return Y.persistence.runTransaction("read document","readonly",he=>Y.localDocuments.getDocument(he,$))}(o,d);C.isFoundDocument()?_.resolve(C):C.isNoDocument()?_.resolve(null):_.reject(new sn(Pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const O=em(C,`Failed to get document '${d} from cache`);_.reject(O)}}),function(o,d,_){return i.apply(this,arguments)})(yield ky(n),e,t);var i})),t.promise}(t,n._key).then(o=>new Ef(e,i,n._key,o,new h_(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function iE(n){n=Cs(n,Aa);const e=Cs(n.firestore,xa);return hb(Ru(e),n._key,{source:"server"}).then(t=>Gy(e,n,t))}(this._delegate):function A1(n){n=Cs(n,Aa);const e=Cs(n.firestore,xa);return hb(Ru(e),n._key).then(t=>Gy(e,n,t))}(this._delegate),t.then(i=>new Fv(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ih(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function Fc(n,e,t){return n.message=n.message.replace(e,t),n}function FT(n){for(const e of n)if("object"==typeof e&&!RT(e))return e;return{}}function uE(n,e){var t,i;let o;return o=RT(n[0])?n[0]:RT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{o.next&&o.next(e(d))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class Fv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ih(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return kv(this._delegate,e._delegate)}}class Lv extends Fv{data(e){const t=this._delegate.data(e);return function qa(n,e){n||hn()}(void 0!==t),t}}class Nl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new um(e)}where(e,t,i){try{return new Nl(this.firestore,rm(this._delegate,function pT(n,e,t){const i=e,o=tE("where",n);return Uy._create(o,i,t)}(e,t,i)))}catch(o){throw Fc(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Nl(this.firestore,rm(this._delegate,function C1(n,e="asc"){const t=e,i=tE("orderBy",n);return Db._create(i,t)}(e,t)))}catch(i){throw Fc(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nl(this.firestore,rm(this._delegate,function D1(n){return ib("limit",n),nE._create("limit",n,"F")}(e)))}catch(t){throw Fc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Nl(this.firestore,rm(this._delegate,function S1(n){return ib("limitToLast",n),nE._create("limitToLast",n,"L")}(e)))}catch(t){throw Fc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nl(this.firestore,rm(this._delegate,function gT(...n){return im._create("startAt",n,!0)}(...e)))}catch(t){throw Fc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nl(this.firestore,rm(this._delegate,function mT(...n){return im._create("startAfter",n,!1)}(...e)))}catch(t){throw Fc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nl(this.firestore,rm(this._delegate,function _T(...n){return $y._create("endBefore",n,!1)}(...e)))}catch(t){throw Fc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nl(this.firestore,rm(this._delegate,function vT(...n){return $y._create("endAt",n,!0)}(...e)))}catch(t){throw Fc(t,"endAt()","Query.endAt()")}}isEqual(e){return V0(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function M1(n){n=Cs(n,Kl);const e=Cs(n.firestore,xa),t=Ru(e),i=new om(e);return function u1(n,e){const t=new Ro;return n.asyncQueue.enqueueAndForget((0,$t.Z)(function*(){return(i=(0,$t.Z)(function*(o,d,_){try{const C=yield vf(o,d,!0),O=new u_(d,C.Hi),$=O.Wu(C.documents),Y=O.applyChanges($,!1);_.resolve(Y.snapshot)}catch(C){const O=em(C,`Failed to execute query '${d} against cache`);_.reject(O)}}),function(o,d,_){return i.apply(this,arguments)})(yield ky(n),e,t);var i})),t.promise}(t,n._query).then(o=>new sm(e,i,n,o))}(this._delegate):"server"===e?.source?function N1(n){n=Cs(n,Kl);const e=Cs(n.firestore,xa),t=Ru(e),i=new om(e);return W0(t,n._query,{source:"server"}).then(o=>new sm(e,i,n,o))}(this._delegate):function sE(n){n=Cs(n,Kl);const e=Cs(n.firestore,xa),t=Ru(e),i=new om(e);return hT(n._query),W0(t,n._query).then(o=>new sm(e,i,n,o))}(this._delegate),t.then(i=>new LT(this.firestore,new sm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=FT(e),i=uE(e,o=>new LT(this.firestore,new sm(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return oE(this._delegate,t,i)}withConverter(e){return new Nl(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}class Lb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Nl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Lb(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Lv(this._firestore,i))})}isEqual(e){return kv(this._delegate,e._delegate)}}class g_ extends Nl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ih(this.firestore,e):null}doc(e){try{return new Ih(this.firestore,void 0===e?Py(this._delegate):Py(this._delegate,e))}catch(t){throw Fc(t,"doc()","CollectionReference.doc()")}}add(e){return function bT(n,e){const t=Cs(n.firestore,xa),i=Py(n),o=rE(n.converter,e);return f_(t,[Ly(Sh(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,wo.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ih(this.firestore,t))}isEqual(e){return Zw(this._delegate,e._delegate)}withConverter(e){return new g_(this.firestore,this._delegate.withConverter(e?lm.getInstance(this.firestore,e):null))}}function m_(n){return Cs(n,Aa)}class lE{constructor(...e){this._delegate=new Xp(...e)}static documentId(){return new lE(fa.keyField().canonicalString())}isEqual(e){return(e=(0,Un.m9)(e))instanceof Xp&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ah{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ST(){return new K0("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ah(e)}static delete(){const e=function DT(){return new By("deleteField")}();return e._methodName="FieldValue.delete",new Ah(e)}static arrayUnion(...e){const t=function IT(...n){return new vb("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ah(t)}static arrayRemove(...e){const t=function AT(...n){return new b1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ah(t)}static increment(e){const t=function R1(n){return new yb("increment",n)}(e);return t._methodName="FieldValue.increment",new Ah(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const L1={Firestore:Fb,GeoPoint:Fy,Timestamp:bo,Blob:jy,Transaction:aE,WriteBatch:kT,DocumentReference:Ih,DocumentSnapshot:Fv,Query:Nl,QueryDocumentSnapshot:Lv,QuerySnapshot:LT,CollectionReference:g_,FieldPath:lE,FieldValue:Ah,setLogLevel:function F1(n){!function mt(n){ne.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Bb(n){(function BT(n,e){n.INTERNAL.registerComponent(new Ls.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(i,o)},"PUBLIC").setServiceProps(Object.assign({},L1)))})(n,(e,t)=>new Fb(e,t,new PT)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(eu.Z);var cm=L(1041),B1=L(6217),dS=L(9260);function VT(n,e){return function V1(n,e=So.z){return new _e.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function cE(n,e){return VT(n,e).pipe((0,ge.U)(t=>({payload:t,type:"query"})))}function Wy(n,e){return cE(n,e).pipe((0,po.O)(void 0),Ea(),(0,ge.U)(([t,i])=>{const o=i.payload.docChanges(),d=o.map(_=>({type:_.type,payload:_}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((_,C)=>{const O=o.find(Y=>Y.doc.ref.isEqual(_.ref)),$=t?.payload.docs.find(Y=>Y.ref.isEqual(_.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(_.metadata)||!O&&$&&JSON.stringify($.metadata)===JSON.stringify(_.metadata)||d.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:_}})}),d}))}function UT(n,e,t){return Wy(n,t).pipe((0,oo.R)((i,o)=>function $T(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function $1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return dE(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return dE(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dE(n,e.oldIndex,1)}return n}(n,i))}),n}(i,o.map(d=>d.payload),e),[]),(0,Fs.x)(),(0,ge.U)(i=>i.map(o=>({type:o.type,payload:o}))))}function dE(n,e,t,...i){const o=n.slice();return o.splice(e,t,...i),o}function HT(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Vb{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Wy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ge.U)(i=>i.filter(o=>e.indexOf(o.type)>-1)))),t.pipe((0,po.O)(void 0),Ea(),(0,Se.h)(([i,o])=>o.length>0||!i),(0,ge.U)(([i,o])=>o),xs.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,oo.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=HT(e);return UT(this.query,t,this.afs.schedulers.outsideAngular).pipe(xs.iC)}valueChanges(e={}){return cE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),xs.iC)}get(e){return(0,Ua.D)(this.query.get(e)).pipe(xs.iC)}add(e){return this.ref.add(e)}doc(e){return new GT(this.ref.doc(e),this.afs)}}class GT{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:o,query:d}=zT(i,t);return new Vb(o,d,this.afs)}snapshotChanges(){return function U1(n,e){return VT(n,e).pipe((0,po.O)(void 0),Ea(),(0,ge.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xs.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ua.D)(this.ref.get(e)).pipe(xs.iC)}}class jT{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Wy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Se.h)(t=>t.length>0),xs.iC):Wy(this.query,this.afs.schedulers.outsideAngular).pipe(xs.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,oo.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=HT(e);return UT(this.query,t,this.afs.schedulers.outsideAngular).pipe(xs.iC)}valueChanges(e={}){return cE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(i=>i.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),xs.iC)}get(e){return(0,Ua.D)(this.query.get(e)).pipe(xs.iC)}}const Ub=new u.OlP("angularfire2.enableFirestorePersistence"),$b=new u.OlP("angularfire2.firestore.persistenceSettings"),WT=new u.OlP("angularfire2.firestore.settings"),H1=new u.OlP("angularfire2.firestore.use-emulator");function zT(n,e=(t=>t)){return{query:e(n),ref:n}}let G1=(()=>{class n{constructor(t,i,o,d,_,C,O,$,Y,he,xe,We,ft,Lt,ln,jn,lr){this.schedulers=O;const Pr=(0,ba.on)(t,C,i),Hr=Y;he&&(0,cm.nw)(Pr,C,xe,ft,Lt,ln,We,jn),[this.firestore,this.persistenceEnabled$]=(0,ba.cc)(`${Pr.name}.firestore`,"AngularFirestore",Pr.name,()=>{const Er=C.runOutsideAngular(()=>Pr.firestore());if(d&&Er.settings(d),Hr&&Er.useEmulator(...Hr),o&&!(0,M.PM)(_)){const Ir=()=>{try{return(0,Ua.D)(Er.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch(Wi){return typeof console<"u"&&console.warn(Wi),(0,fe.of)(!1)}};return[Er,C.runOutsideAngular(Ir)]}return[Er,(0,fe.of)(!1)]},[d,Hr,o])}collection(t,i){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:_}=zT(o,i),C=this.schedulers.ngZone.run(()=>d);return new Vb(C,_,this)}collectionGroup(t,i){const o=i||(_=>_),d=this.firestore.collectionGroup(t);return new jT(o(d),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>i);return new GT(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ba.Dh),u.LFG(ba.xv,8),u.LFG(Ub,8),u.LFG(WT,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(xs.HU),u.LFG($b,8),u.LFG(H1,8),u.LFG(cm.zQ,8),u.LFG(cm.Qv,8),u.LFG(cm.L6,8),u.LFG(cm._Q,8),u.LFG(cm.rT,8),u.LFG(cm.lh,8),u.LFG(cm.f7,8),u.LFG(B1.nm,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qT=(()=>{class n{constructor(){dS.Z.registerVersion("angularfire",xs.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Ub,useValue:!0},{provide:$b,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[G1]}),n})();var hE=L(5574);class zy{constructor(e,t){this.firestore=e,this.authService=t,this.firestoreCollection=e.collection("trips")}getTrips(){return this.firestore.collection("trips",e=>e.where("userId","==",this.authService.user.uid).orderBy("start_at")).valueChanges({idField:"id"})}getPastTrips(){const e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return this.firestore.collection("trips",i=>i.where("userId","==",this.authService.user.uid).where("end_at","<",t).orderBy("end_at","desc")).valueChanges({idField:"id"})}addNewTrip(e){return this.firestoreCollection.add(e)}updateTrip(e){return this.firestoreCollection.doc(e.id).update({...e})}updatePlace(e){return this.firestoreCollection.doc(e.id).set({places:e.places},{merge:!0})}updateBag(e){return this.firestoreCollection.doc(e.id).set({bag:e.bag},{merge:!0})}updatePrepareCheck(e){return this.firestoreCollection.doc(e.id).set({prepareCheck:e.prepareCheck},{merge:!0})}}zy.\u0275fac=function(e){return new(e||zy)(u.LFG(G1),u.LFG(hE.e))},zy.\u0275prov=u.Yz7({token:zy,factory:zy.\u0275fac,providedIn:"root"});class qy{constructor(e,t,i){this.actions$=e,this.tripService=t,this.store=i,this.getTrips$=$s(()=>this.actions$.pipe(Ti(Qs),(0,Ci.M)(this.store.pipe((0,Ht.Ys)(bu)),this.store.pipe((0,Ht.Ys)(Xa))),(0,To.w)(([o,d,_])=>!0===d?this.tripService.getTrips().pipe((0,ge.U)(C=>Co({trips:C,tripsChanged:!1})),(0,Wt.K)(C=>(0,fe.of)(fo({error:C.message})))):(0,fe.of)(Co({trips:_,tripsChanged:d}))))),this.getPastTrips$=$s(()=>this.actions$.pipe(Ti(Qa),(0,Ci.M)(this.store.pipe((0,Ht.Ys)(bu)),this.store.pipe((0,Ht.Ys)(Xa))),(0,To.w)(([o,d,_])=>!0===d?this.tripService.getPastTrips().pipe((0,ge.U)(C=>Co({trips:C,tripsChanged:!1})),(0,Wt.K)(C=>(0,fe.of)(fo({error:C.message})))):(0,fe.of)(Co({trips:_,tripsChanged:d}))))),this.newTrip$=$s(()=>this.actions$.pipe(Ti(Xl),(0,To.w)(o=>(0,Ua.D)(this.tripService.addNewTrip(o.trip)).pipe((0,ge.U)(d=>Di({trip:o.trip,id:d.id})),(0,Wt.K)(d=>(0,fe.of)(fo({error:d.message}))))))),this.updateTrip$=$s(()=>this.actions$.pipe(Ti(Hi),(0,Ci.M)(this.store.pipe((0,Ht.Ys)(ya))),(0,To.w)(([o,d])=>this.tripService.updateTrip(d).then(_=>Do()).catch(_=>fo({error:_.message}))))),this.updatePlace$=$s(()=>this.actions$.pipe(Ti(Ju),(0,Ci.M)(this.store.pipe((0,Ht.Ys)(ya))),(0,To.w)(([o,d])=>this.tripService.updatePlace(d).then(_=>Do()).catch(_=>fo({error:_.message}))))),this.updateBag$=$s(()=>this.actions$.pipe(Ti(ho),(0,Ci.M)(this.store.pipe((0,Ht.Ys)(ya))),(0,To.w)(([o,d])=>this.tripService.updateBag(d).then(_=>Do()).catch(_=>fo({error:_.message}))))),this.updatePrepareCheck$=$s(()=>this.actions$.pipe(Ti(gl),(0,Ci.M)(this.store.pipe((0,Ht.Ys)(ya))),(0,To.w)(([o,d])=>this.tripService.updatePrepareCheck(d).then(_=>Do()).catch(_=>fo({error:_.message})))))}}qy.\u0275fac=function(e){return new(e||qy)(u.LFG(mr),u.LFG(zy),u.LFG(Ht.yh))},qy.\u0275prov=u.Yz7({token:qy,factory:qy.\u0275fac});const fS=(0,Ht.Lq)({isLoading:!1,trips:[],error:null,selectedTripId:null,tripsChanged:!0},(0,Ht.on)(Qs,n=>({...n,isLoading:!0})),(0,Ht.on)(Qa,n=>({...n,trips:[],tripsChanged:!0,isLoading:!0})),(0,Ht.on)(Co,(n,e)=>({...n,isLoading:!1,trips:e.trips,tripsChanged:!1})),(0,Ht.on)(Xl,n=>({...n,isLoading:!0})),(0,Ht.on)(Di,(n,{trip:e,id:t})=>{let i=[...n.trips],o={...e,id:t};return i.unshift(o),{...n,isLoading:!1,trips:i,selectedTripId:t}}),(0,Ht.on)(fo,(n,e)=>({...n,isLoading:!1,error:e.error})),(0,Ht.on)(Hi,(n,e)=>({...n,trips:n.trips.map(t=>t.id===n.selectedTripId?{...t,...e.trip}:t),tripsChanged:!0})),(0,Ht.on)(Ju,(n,e)=>({...n,trips:n.trips.map(t=>{if(t.id===n.selectedTripId){const i=t.places.findIndex(o=>o.name===e.place.name);return{...t,places:[...t.places.slice(0,i),e.place,...t.places.slice(i+1)]}}return t}),tripsChanged:!0})),(0,Ht.on)(ho,(n,e)=>({...n,trips:n.trips.map(t=>t.id===n.selectedTripId?{...t,bag:e.bag}:t)})),(0,Ht.on)(gl,(n,e)=>({...n,trips:n.trips.map(t=>t.id===n.selectedTripId?{...t,prepareCheck:e.prepareCheck}:t)})),(0,Ht.on)(Do,n=>n),(0,Ht.on)(ml,(n,{tripId:e})=>({...n,selectedTripId:e})),(0,Ht.on)(Eu,n=>n.selectedTripId?{...n,selectedTripId:null}:n));var tg=L(4258),j1=L(9770),pS=L(1144),fE=L(3268);const gS=["addListener","removeListener"],KT=["addEventListener","removeEventListener"],pE=["on","off"];function Pu(n,e,t,i){if((0,Tn.m)(t)&&(i=t,t=void 0),i)return Pu(n,e,t).pipe((0,fE.Z)(i));const[o,d]=function ZT(n){return(0,Tn.m)(n.addEventListener)&&(0,Tn.m)(n.removeEventListener)}(n)?KT.map(_=>C=>n[_](e,C,t)):function mS(n){return(0,Tn.m)(n.addListener)&&(0,Tn.m)(n.removeListener)}(n)?gS.map(Hb(n,e)):function Gb(n){return(0,Tn.m)(n.on)&&(0,Tn.m)(n.off)}(n)?pE.map(Hb(n,e)):[];if(!o&&(0,pS.z)(n))return(0,li.z)(_=>Pu(_,e,t))((0,Qt.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new _e.y(_=>{const C=(...O)=>_.next(1<O.length?O:O[0]);return o(C),()=>d(C)})}function Hb(n,e){return t=>i=>n[t](e,i)}var jb=L(7272);const rp=new _e.y(ae.Z);var _S=L(4033);const z1={connector:()=>new Ae.x};function Ky(n,e=z1){const{connector:t}=e;return(0,je.e)((i,o)=>{const d=t();(0,Qt.Xf)(n(function W1(n){return new _e.y(e=>n.subscribe(e))}(d))).subscribe(o),o.add(i.subscribe(d))})}var Wb=L(8505),yS=L(9718);function YT(n,e){return e?t=>(0,jb.z)(e.pipe((0,Wr.q)(1),Ie()),t.pipe(YT(n))):(0,li.z)((t,i)=>n(t,i).pipe((0,Wr.q)(1),(0,yS.h)(t)))}var K1=L(3532),Z1=L(1165);function JT(n=0,e,t=So.P){let i=-1;return null!=e&&((0,K1.K)(e)?t=e:i=e),new _e.y(o=>{let d=(0,Z1.q)(n)?+n-t.now():n;d<0&&(d=0);let _=0;return t.schedule(function(){o.closed||(o.next(_++),0<=i?this.schedule(void 0,i):o.complete())},d)})}function QT(n,e=So.z){const t=JT(n,e);return YT(()=>t)}const Bv="Service workers are disabled or not supported by this browser";class zb{constructor(e){if(this.serviceWorker=e,e){const i=Pu(e,"controllerchange").pipe((0,ge.U)(()=>e.controller)),o=(0,j1.P)(()=>(0,fe.of)(e.controller)),d=(0,jb.z)(o,i);this.worker=d.pipe((0,Se.h)(Y=>!!Y)),this.registration=this.worker.pipe((0,To.w)(()=>e.getRegistration()));const $=Pu(e,"message").pipe((0,ge.U)(Y=>Y.data)).pipe((0,Se.h)(Y=>Y&&Y.type)).pipe(function vS(n){return n?e=>Ky(n)(e):e=>function q1(n,e){const t=(0,Tn.m)(n)?n:()=>n;return(0,Tn.m)(e)?Ky(e,{connector:t}):i=>new _S.c(i,t)}(new Ae.x)(e)}());$.connect(),this.events=$}else this.worker=this.events=this.registration=function XT(n){return(0,j1.P)(()=>(0,Zt._)(new Error(n)))}(Bv)}postMessage(e,t){return this.worker.pipe((0,Wr.q)(1),(0,Wb.b)(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const o=this.waitForOperationCompleted(i),d=this.postMessage(e,t);return Promise.all([d,o]).then(([,_])=>_)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe((0,Se.h)(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,Wr.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Se.h)(t=>t.nonce===e),(0,Wr.q)(1),(0,ge.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let bf=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.subscriptionChanges=new Ae.x,!t.isEnabled)return this.messages=rp,this.notificationClicks=rp,void(this.subscription=rp);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ge.U)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ge.U)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,ge.U)(o=>o.pushManager));const i=this.pushManager.pipe((0,To.w)(o=>o.getSubscription()));this.subscription=(0,Ve.T)(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Bv));const i={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),d=new Uint8Array(new ArrayBuffer(o.length));for(let _=0;_<o.length;_++)d[_]=o.charCodeAt(_);return i.applicationServerKey=d,this.pushManager.pipe((0,To.w)(_=>_.subscribe(i)),(0,Wr.q)(1)).toPromise().then(_=>(this.subscriptionChanges.next(_),_))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Wr.q)(1),(0,To.w)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Bv))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Y1=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=rp,this.available=rp,this.activated=rp,void(this.unrecoverable=rp);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Se.h)(i=>"VERSION_READY"===i.type),(0,ge.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Bv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Bv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Zy{}const eC=new u.OlP("NGSW_REGISTER_SCRIPT");function ES(n,e,t,i){return()=>{if(!(0,M.NF)(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[_,...C]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(_){case"registerImmediately":o=(0,fe.of)(null);break;case"registerWithDelay":o=Vd(+C[0]||0);break;case"registerWhenStable":o=C[0]?(0,Ve.T)(tC(n),Vd(+C[0])):tC(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(u.R0b).runOutsideAngular(()=>o.pipe((0,Wr.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(_=>console.error("Service worker registration failed with:",_))))}}function Vd(n){return(0,fe.of)(null).pipe(QT(n))}function tC(n){return n.get(u.z2F).isStable.pipe((0,Se.h)(t=>t))}function qb(n,e){return new zb((0,M.NF)(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let J1=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:eC,useValue:t},{provide:Zy,useValue:i},{provide:zb,useFactory:qb,deps:[Zy,u.Lbi]},{provide:u.ip1,useFactory:ES,deps:[u.zs3,eC,Zy,u.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[bf,Y1]}),n})();const{isArray:Q1}=Array;function gE(n){return 1===n.length&&Q1(n[0])?n[0]:n}var __=L(1135),Zb=L(9841),rC=L(3269);function mE(...n){const e=(0,rC.jO)(n),t=gE(n);return t.length?new _e.y(i=>{let o=t.map(()=>[]),d=t.map(()=>!1);i.add(()=>{o=d=null});for(let _=0;!i.closed&&_<t.length;_++)(0,Qt.Xf)(t[_]).subscribe((0,Ce.x)(i,C=>{if(o[_].push(C),o.every(O=>O.length)){const O=o.map($=>$.shift());i.next(e?e(...O):O),o.some(($,Y)=>!$.length&&d[Y])&&i.complete()}},()=>{d[_]=!0,!o[_].length&&i.complete()}));return()=>{o=d=null}}):Et.E}var vu=L(2722),Yb=L(5684),Dn=L(433),sC={left:"right",right:"left",bottom:"top",top:"bottom"};function Vv(n){return n.replace(/left|right|bottom|top/g,function(e){return sC[e]})}function Ol(n){return n.split("-")[0]}var X1={start:"end",end:"start"};function eD(n){return n.replace(/start|end/g,function(e){return X1[e]})}var Lc="top",Ud="bottom",$d="right",Bc="left",Yy="auto",Uv=[Lc,Ud,$d,Bc],$v="start",Hv="end",Jb="clippingParents",oC="viewport",dm="popper",Qb="reference",_E=Uv.reduce(function(n,e){return n.concat([e+"-"+$v,e+"-"+Hv])},[]),vE=[].concat(Uv,[Yy]).reduce(function(n,e){return n.concat([e,e+"-"+$v,e+"-"+Hv])},[]),Xb="beforeRead",ew="read",Jy="afterRead",Qy="beforeMain",tw="main",aC="afterMain",uC="beforeWrite",lC="write",tD="afterWrite",nD=[Xb,ew,Jy,Qy,tw,aC,uC,lC,tD];function Hd(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function v_(n){return n instanceof Hd(n).Element||n instanceof Element}function xh(n){return n instanceof Hd(n).HTMLElement||n instanceof HTMLElement}function nw(n){return!(typeof ShadowRoot>"u")&&(n instanceof Hd(n).ShadowRoot||n instanceof ShadowRoot)}function y_(n){return((v_(n)?n.ownerDocument:n.document)||window.document).documentElement}var Gv=Math.max,rw=Math.min,Xy=Math.round;function cC(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dC(){return!/^((?!chrome|android).)*safari/i.test(cC())}function ng(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),o=1,d=1;e&&xh(n)&&(o=n.offsetWidth>0&&Xy(i.width)/n.offsetWidth||1,d=n.offsetHeight>0&&Xy(i.height)/n.offsetHeight||1);var C=(v_(n)?Hd(n):window).visualViewport,O=!dC()&&t,$=(i.left+(O&&C?C.offsetLeft:0))/o,Y=(i.top+(O&&C?C.offsetTop:0))/d,he=i.width/o,xe=i.height/d;return{width:he,height:xe,top:Y,right:$+he,bottom:Y+xe,left:$,x:$,y:Y}}function iw(n){var e=Hd(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function sw(n){return ng(y_(n)).left+iw(n).scrollLeft}function Vc(n){return Hd(n).getComputedStyle(n)}function Mh(n){return n?(n.nodeName||"").toLowerCase():null}function jv(n){return"html"===Mh(n)?n:n.assignedSlot||n.parentNode||(nw(n)?n.host:null)||y_(n)}function ow(n){var e=Vc(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function yE(n){return["html","body","#document"].indexOf(Mh(n))>=0?n.ownerDocument.body:xh(n)&&ow(n)?n:yE(jv(n))}function E_(n,e){var t;void 0===e&&(e=[]);var i=yE(n),o=i===(null==(t=n.ownerDocument)?void 0:t.body),d=Hd(i),_=o?[d].concat(d.visualViewport||[],ow(i)?i:[]):i,C=e.concat(_);return o?C:C.concat(E_(jv(_)))}function EE(n){return["table","td","th"].indexOf(Mh(n))>=0}function rD(n){return xh(n)&&"fixed"!==Vc(n).position?n.offsetParent:null}function bE(n){for(var e=Hd(n),t=rD(n);t&&EE(t)&&"static"===Vc(t).position;)t=rD(t);return t&&("html"===Mh(t)||"body"===Mh(t)&&"static"===Vc(t).position)?e:t||function bS(n){var e=/firefox/i.test(cC());if(/Trident/i.test(cC())&&xh(n)&&"fixed"===Vc(n).position)return null;var o=jv(n);for(nw(o)&&(o=o.host);xh(o)&&["html","body"].indexOf(Mh(o))<0;){var d=Vc(o);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain||-1!==["transform","perspective"].indexOf(d.willChange)||e&&"filter"===d.willChange||e&&d.filter&&"none"!==d.filter)return o;o=o.parentNode}return null}(n)||e}function iD(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&nw(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function wE(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function pC(n,e,t){return e===oC?wE(function hC(n,e){var t=Hd(n),i=y_(n),o=t.visualViewport,d=i.clientWidth,_=i.clientHeight,C=0,O=0;if(o){d=o.width,_=o.height;var $=dC();($||!$&&"fixed"===e)&&(C=o.offsetLeft,O=o.offsetTop)}return{width:d,height:_,x:C+sw(n),y:O}}(n,t)):v_(e)?function sD(n,e){var t=ng(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):wE(function fC(n){var e,t=y_(n),i=iw(n),o=null==(e=n.ownerDocument)?void 0:e.body,d=Gv(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),_=Gv(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),C=-i.scrollLeft+sw(n),O=-i.scrollTop;return"rtl"===Vc(o||t).direction&&(C+=Gv(t.clientWidth,o?o.clientWidth:0)-d),{width:d,height:_,x:C,y:O}}(y_(n)))}function b_(n){return n.split("-")[1]}function TE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function aw(n){var O,e=n.reference,t=n.element,i=n.placement,o=i?Ol(i):null,d=i?b_(i):null,_=e.x+e.width/2-t.width/2,C=e.y+e.height/2-t.height/2;switch(o){case Lc:O={x:_,y:e.y-t.height};break;case Ud:O={x:_,y:e.y+e.height};break;case $d:O={x:e.x+e.width,y:C};break;case Bc:O={x:e.x-t.width,y:C};break;default:O={x:e.x,y:e.y}}var $=o?TE(o):null;if(null!=$){var Y="y"===$?"height":"width";switch(d){case $v:O[$]=O[$]-(e[Y]/2-t[Y]/2);break;case Hv:O[$]=O[$]+(e[Y]/2-t[Y]/2)}}return O}function mC(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function uw(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}function hm(n,e){void 0===e&&(e={});var i=e.placement,o=void 0===i?n.placement:i,d=e.strategy,_=void 0===d?n.strategy:d,C=e.boundary,O=void 0===C?Jb:C,$=e.rootBoundary,Y=void 0===$?oC:$,he=e.elementContext,xe=void 0===he?dm:he,We=e.altBoundary,ft=void 0!==We&&We,Lt=e.padding,ln=void 0===Lt?0:Lt,jn=mC("number"!=typeof ln?ln:uw(ln,Uv)),Pr=n.rects.popper,Hr=n.elements[ft?xe===dm?Qb:dm:xe],Er=function aD(n,e,t,i){var o="clippingParents"===e?function oD(n){var e=E_(jv(n)),i=["absolute","fixed"].indexOf(Vc(n).position)>=0&&xh(n)?bE(n):n;return v_(i)?e.filter(function(o){return v_(o)&&iD(o,i)&&"body"!==Mh(o)}):[]}(n):[].concat(e),d=[].concat(o,[t]),C=d.reduce(function(O,$){var Y=pC(n,$,i);return O.top=Gv(Y.top,O.top),O.right=rw(Y.right,O.right),O.bottom=rw(Y.bottom,O.bottom),O.left=Gv(Y.left,O.left),O},pC(n,d[0],i));return C.width=C.right-C.left,C.height=C.bottom-C.top,C.x=C.left,C.y=C.top,C}(v_(Hr)?Hr:Hr.contextElement||y_(n.elements.popper),O,Y,_),Ir=ng(n.elements.reference),Wi=aw({reference:Ir,element:Pr,strategy:"absolute",placement:o}),io=wE(Object.assign({},Pr,Wi)),Jl=xe===dm?io:Ir,Ql={top:Er.top-Jl.top+jn.top,bottom:Jl.bottom-Er.bottom+jn.bottom,left:Er.left-Jl.left+jn.left,right:Jl.right-Er.right+jn.right},pl=n.modifiersData.offset;if(xe===dm&&pl){var og=pl[o];Object.keys(Ql).forEach(function(Gd){var m0=[$d,Ud].indexOf(Gd)>=0?1:-1,_0=[Lc,Ud].indexOf(Gd)>=0?"y":"x";Ql[Gd]+=og[_0]*m0})}return Ql}const cw={name:"flip",enabled:!0,phase:"main",fn:function lw(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var o=t.mainAxis,d=void 0===o||o,_=t.altAxis,C=void 0===_||_,O=t.fallbackPlacements,$=t.padding,Y=t.boundary,he=t.rootBoundary,xe=t.altBoundary,We=t.flipVariations,ft=void 0===We||We,Lt=t.allowedAutoPlacements,ln=e.options.placement,jn=Ol(ln),Pr=O||(jn!==ln&&ft?function _C(n){if(Ol(n)===Yy)return[];var e=Vv(n);return[eD(n),e,eD(e)]}(ln):[Vv(ln)]),Hr=[ln].concat(Pr).reduce(function(zE,Xv){return zE.concat(Ol(Xv)===Yy?function wS(n,e){void 0===e&&(e={});var o=e.boundary,d=e.rootBoundary,_=e.padding,C=e.flipVariations,O=e.allowedAutoPlacements,$=void 0===O?vE:O,Y=b_(e.placement),he=Y?C?_E:_E.filter(function(ft){return b_(ft)===Y}):Uv,xe=he.filter(function(ft){return $.indexOf(ft)>=0});0===xe.length&&(xe=he);var We=xe.reduce(function(ft,Lt){return ft[Lt]=hm(n,{placement:Lt,boundary:o,rootBoundary:d,padding:_})[Ol(Lt)],ft},{});return Object.keys(We).sort(function(ft,Lt){return We[ft]-We[Lt]})}(e,{placement:Xv,boundary:Y,rootBoundary:he,padding:$,flipVariations:ft,allowedAutoPlacements:Lt}):Xv)},[]),Er=e.rects.reference,Ir=e.rects.popper,Wi=new Map,io=!0,Jl=Hr[0],Ql=0;Ql<Hr.length;Ql++){var pl=Hr[Ql],og=Ol(pl),Gd=b_(pl)===$v,m0=[Lc,Ud].indexOf(og)>=0,_0=m0?"width":"height",wf=hm(e,{placement:pl,boundary:Y,rootBoundary:he,altBoundary:xe,padding:$}),ag=m0?Gd?$d:Bc:Gd?Ud:Lc;Er[_0]>Ir[_0]&&(ag=Vv(ag));var e1=Vv(ag),v0=[];if(d&&v0.push(wf[og]<=0),C&&v0.push(wf[ag]<=0,wf[e1]<=0),v0.every(function(zE){return zE})){Jl=pl,io=!1;break}Wi.set(pl,v0)}if(io)for(var eS=function(Xv){var Hw=Hr.find(function(r1){var y0=Wi.get(r1);if(y0)return y0.slice(0,Xv).every(function(tS){return tS})});if(Hw)return Jl=Hw,"break"},$w=ft?3:1;$w>0&&"break"!==eS($w);$w--);e.placement!==Jl&&(e.modifiersData[i]._skip=!0,e.placement=Jl,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function CE(n,e,t){return Gv(n,rw(e,t))}function vC(n){var e=ng(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}const dw={name:"preventOverflow",enabled:!0,phase:"main",fn:function CS(n){var e=n.state,t=n.options,i=n.name,o=t.mainAxis,d=void 0===o||o,_=t.altAxis,C=void 0!==_&&_,xe=t.tether,We=void 0===xe||xe,ft=t.tetherOffset,Lt=void 0===ft?0:ft,ln=hm(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),jn=Ol(e.placement),lr=b_(e.placement),Pr=!lr,Hr=TE(jn),Er=function uD(n){return"x"===n?"y":"x"}(Hr),Ir=e.modifiersData.popperOffsets,Wi=e.rects.reference,io=e.rects.popper,Jl="function"==typeof Lt?Lt(Object.assign({},e.rects,{placement:e.placement})):Lt,Ql="number"==typeof Jl?{mainAxis:Jl,altAxis:Jl}:Object.assign({mainAxis:0,altAxis:0},Jl),pl=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,og={x:0,y:0};if(Ir){if(d){var Gd,m0="y"===Hr?Lc:Bc,_0="y"===Hr?Ud:$d,wf="y"===Hr?"height":"width",ag=Ir[Hr],e1=ag+ln[m0],v0=ag-ln[_0],t1=We?-io[wf]/2:0,eS=lr===$v?Wi[wf]:io[wf],$w=lr===$v?-io[wf]:-Wi[wf],n1=e.elements.arrow,zE=We&&n1?vC(n1):{width:0,height:0},Xv=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hw=Xv[m0],r1=Xv[_0],y0=CE(0,Wi[wf],zE[wf]),tS=Pr?Wi[wf]/2-t1-y0-Hw-Ql.mainAxis:eS-y0-Hw-Ql.mainAxis,eL=Pr?-Wi[wf]/2+t1+y0+r1+Ql.mainAxis:$w+y0+r1+Ql.mainAxis,nS=e.elements.arrow&&bE(e.elements.arrow),qA=null!=(Gd=pl?.[Hr])?Gd:0,rL=ag+eL-qA,KA=CE(We?rw(e1,ag+tS-qA-(nS?"y"===Hr?nS.clientTop||0:nS.clientLeft||0:0)):e1,ag,We?Gv(v0,rL):v0);Ir[Hr]=KA,og[Hr]=KA-ag}if(C){var ZA,E0=Ir[Er],i1="y"===Er?"height":"width",YA=E0+ln["x"===Hr?Lc:Bc],JA=E0-ln["x"===Hr?Ud:$d],rS=-1!==[Lc,Bc].indexOf(jn),QA=null!=(ZA=pl?.[Er])?ZA:0,XA=rS?YA:E0-Wi[i1]-io[i1]-QA+Ql.altAxis,ex=rS?E0+Wi[i1]+io[i1]-QA-Ql.altAxis:JA,tx=We&&rS?function TS(n,e,t){var i=CE(n,e,t);return i>t?t:i}(XA,E0,ex):CE(We?XA:YA,E0,We?ex:JA);Ir[Er]=tx,og[Er]=tx-E0}e.modifiersData[i]=og}},requiresIfExists:["offset"]},yC={name:"arrow",enabled:!0,phase:"main",fn:function SS(n){var e,t=n.state,i=n.name,o=n.options,d=t.elements.arrow,_=t.modifiersData.popperOffsets,C=Ol(t.placement),O=TE(C),Y=[Bc,$d].indexOf(C)>=0?"height":"width";if(d&&_){var he=function(e,t){return mC("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:uw(e,Uv))}(o.padding,t),xe=vC(d),We="y"===O?Lc:Bc,ft="y"===O?Ud:$d,Lt=t.rects.reference[Y]+t.rects.reference[O]-_[O]-t.rects.popper[Y],ln=_[O]-t.rects.reference[O],jn=bE(d),lr=jn?"y"===O?jn.clientHeight||0:jn.clientWidth||0:0,Ir=lr/2-xe[Y]/2+(Lt/2-ln/2),Wi=CE(he[We],Ir,lr-xe[Y]-he[ft]);t.modifiersData[i]=((e={})[O]=Wi,e.centerOffset=Wi-Ir,e)}},effect:function IS(n){var e=n.state,i=n.options.element,o=void 0===i?"[data-popper-arrow]":i;null!=o&&("string"==typeof o&&!(o=e.elements.popper.querySelector(o))||iD(e.elements.popper,o)&&(e.elements.arrow=o))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function MS(n,e,t){void 0===t&&(t=!1);var i=xh(e),o=xh(e)&&function xS(n){var e=n.getBoundingClientRect(),t=Xy(e.width)/n.offsetWidth||1,i=Xy(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),d=y_(e),_=ng(n,o,t),C={scrollLeft:0,scrollTop:0},O={x:0,y:0};return(i||!i&&!t)&&(("body"!==Mh(e)||ow(d))&&(C=function lD(n){return n!==Hd(n)&&xh(n)?function AS(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):iw(n)}(e)),xh(e)?((O=ng(e,!0)).x+=e.clientLeft,O.y+=e.clientTop):d&&(O.x=sw(d))),{x:_.left+C.scrollLeft-O.x,y:_.top+C.scrollTop-O.y,width:_.width,height:_.height}}function NS(n){var e=new Map,t=new Set,i=[];function o(d){t.add(d.name),[].concat(d.requires||[],d.requiresIfExists||[]).forEach(function(C){if(!t.has(C)){var O=e.get(C);O&&o(O)}}),i.push(d)}return n.forEach(function(d){e.set(d.name,d)}),n.forEach(function(d){t.has(d.name)||o(d)}),i}function cD(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var c={placement:"bottom",modifiers:[],strategy:"absolute"};function g(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function m(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,o=n.defaultOptions,d=void 0===o?c:o;return function(C,O,$){void 0===$&&($=d);var Y={placement:"bottom",orderedModifiers:[],options:Object.assign({},c,d),modifiersData:{},elements:{reference:C,popper:O},attributes:{},styles:{}},he=[],xe=!1,We={state:Y,setOptions:function(jn){var lr="function"==typeof jn?jn(Y.options):jn;Lt(),Y.options=Object.assign({},d,Y.options,lr),Y.scrollParents={reference:v_(C)?E_(C):C.contextElement?E_(C.contextElement):[],popper:E_(O)};var Pr=function OS(n){var e=NS(n);return nD.reduce(function(t,i){return t.concat(e.filter(function(o){return o.phase===i}))},[])}(function RS(n){var e=n.reduce(function(t,i){var o=t[i.name];return t[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,Y.options.modifiers)));return Y.orderedModifiers=Pr.filter(function(pl){return pl.enabled}),function ft(){Y.orderedModifiers.forEach(function(ln){var lr=ln.options,Hr=ln.effect;if("function"==typeof Hr){var Er=Hr({state:Y,name:ln.name,instance:We,options:void 0===lr?{}:lr});he.push(Er||function(){})}})}(),We.update()},forceUpdate:function(){if(!xe){var jn=Y.elements,lr=jn.reference,Pr=jn.popper;if(g(lr,Pr)){Y.rects={reference:MS(lr,bE(Pr),"fixed"===Y.options.strategy),popper:vC(Pr)},Y.reset=!1,Y.placement=Y.options.placement,Y.orderedModifiers.forEach(function(pl){return Y.modifiersData[pl.name]=Object.assign({},pl.data)});for(var Er=0;Er<Y.orderedModifiers.length;Er++)if(!0!==Y.reset){var Ir=Y.orderedModifiers[Er],Wi=Ir.fn,io=Ir.options;"function"==typeof Wi&&(Y=Wi({state:Y,options:void 0===io?{}:io,name:Ir.name,instance:We})||Y)}else Y.reset=!1,Er=-1}}},update:cD(function(){return new Promise(function(ln){We.forceUpdate(),ln(Y)})}),destroy:function(){Lt(),xe=!0}};if(!g(C,O))return We;function Lt(){he.forEach(function(ln){return ln()}),he=[]}return We.setOptions($).then(function(ln){!xe&&$.onFirstUpdate&&$.onFirstUpdate(ln)}),We}}var E=m(),A={passive:!0};const G={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function F(n){var e=n.state,t=n.instance,i=n.options,o=i.scroll,d=void 0===o||o,_=i.resize,C=void 0===_||_,O=Hd(e.elements.popper),$=[].concat(e.scrollParents.reference,e.scrollParents.popper);return d&&$.forEach(function(Y){Y.addEventListener("scroll",t.update,A)}),C&&O.addEventListener("resize",t.update,A),function(){d&&$.forEach(function(Y){Y.removeEventListener("scroll",t.update,A)}),C&&O.removeEventListener("resize",t.update,A)}},data:{}},ue={name:"popperOffsets",enabled:!0,phase:"read",fn:function Q(n){var e=n.state;e.modifiersData[n.name]=aw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var Re={top:"auto",right:"auto",bottom:"auto",left:"auto"};function St(n){var e,t=n.popper,i=n.popperRect,o=n.placement,d=n.variation,_=n.offsets,C=n.position,O=n.gpuAcceleration,$=n.adaptive,Y=n.roundOffsets,he=n.isFixed,xe=_.x,We=void 0===xe?0:xe,ft=_.y,Lt=void 0===ft?0:ft,ln="function"==typeof Y?Y({x:We,y:Lt}):{x:We,y:Lt};We=ln.x,Lt=ln.y;var jn=_.hasOwnProperty("x"),lr=_.hasOwnProperty("y"),Pr=Bc,Hr=Lc,Er=window;if($){var Ir=bE(t),Wi="clientHeight",io="clientWidth";Ir===Hd(t)&&"static"!==Vc(Ir=y_(t)).position&&"absolute"===C&&(Wi="scrollHeight",io="scrollWidth"),(o===Lc||(o===Bc||o===$d)&&d===Hv)&&(Hr=Ud,Lt-=(he&&Ir===Er&&Er.visualViewport?Er.visualViewport.height:Ir[Wi])-i.height,Lt*=O?1:-1),o!==Bc&&(o!==Lc&&o!==Ud||d!==Hv)||(Pr=$d,We-=(he&&Ir===Er&&Er.visualViewport?Er.visualViewport.width:Ir[io])-i.width,We*=O?1:-1)}var Gd,pl=Object.assign({position:C},$&&Re),og=!0===Y?function et(n){var t=n.y,o=window.devicePixelRatio||1;return{x:Xy(n.x*o)/o||0,y:Xy(t*o)/o||0}}({x:We,y:Lt}):{x:We,y:Lt};return We=og.x,Lt=og.y,Object.assign({},pl,O?((Gd={})[Hr]=lr?"0":"",Gd[Pr]=jn?"0":"",Gd.transform=(Er.devicePixelRatio||1)<=1?"translate("+We+"px, "+Lt+"px)":"translate3d("+We+"px, "+Lt+"px, 0)",Gd):((e={})[Hr]=lr?Lt+"px":"",e[Pr]=jn?We+"px":"",e.transform="",e))}const Mn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Xt(n){var e=n.state,t=n.options,i=t.gpuAcceleration,o=void 0===i||i,d=t.adaptive,_=void 0===d||d,C=t.roundOffsets,O=void 0===C||C,Y={placement:Ol(e.placement),variation:b_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,St(Object.assign({},Y,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:_,roundOffsets:O})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,St(Object.assign({},Y,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:O})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},ei={name:"applyStyles",enabled:!0,phase:"write",fn:function rr(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},o=e.attributes[t]||{},d=e.elements[t];!xh(d)||!Mh(d)||(Object.assign(d.style,i),Object.keys(o).forEach(function(_){var C=o[_];!1===C?d.removeAttribute(_):d.setAttribute(_,!0===C?"":C)}))})},effect:function Dr(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var o=e.elements[i],d=e.attributes[i]||{},C=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(O,$){return O[$]="",O},{});!xh(o)||!Mh(o)||(Object.assign(o.style,C),Object.keys(d).forEach(function(O){o.removeAttribute(O)}))})}},requires:["computeStyles"]};var Oi=m({defaultModifiers:[G,ue,Mn,ei]});const EC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ku(n){var e=n.state,i=n.name,o=n.options.offset,d=void 0===o?[0,0]:o,_=vE.reduce(function(Y,he){return Y[he]=function Va(n,e,t){var i=Ol(n),o=[Bc,Lc].indexOf(i)>=0?-1:1,d="function"==typeof t?t(Object.assign({},e,{placement:n})):t,_=d[0],C=d[1];return _=_||0,C=(C||0)*o,[Bc,$d].indexOf(i)>=0?{x:C,y:_}:{x:_,y:C}}(he,e.rects,d),Y},{}),C=_[e.placement],$=C.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=C.x,e.modifiersData.popperOffsets.y+=$),e.modifiersData[i]=_}};function ix(n,e){}function sx(n,e){if(1&n&&(u.TgZ(0,"button",3),u._uU(1),u.YNc(2,ix,0,0,"ng-template",4),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngbPanelToggle",t),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function ox(n,e){}function ax(n,e){}function ux(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",8),u.NdJ("ngbRef",function(o){u.CHM(t);const d=u.oxw().$implicit;return u.KtG(d.panelDiv=o)}),u.TgZ(1,"div",9),u.YNc(2,ax,0,0,"ng-template",4),u.qZA()()}if(2&n){const t=u.oxw().$implicit;u.s9C("id",t.id),u.uIk("aria-labelledby",t.id+"-header"),u.xp6(2),u.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const lx=function(n,e){return{$implicit:n,opened:e}};function cx(n,e){if(1&n&&(u.TgZ(0,"div")(1,"div",5),u.YNc(2,ox,0,0,"ng-template",6),u.qZA(),u.YNc(3,ux,3,3,"div",7),u.qZA()),2&n){const t=e.$implicit,i=u.oxw(),o=u.MAs(1);u.Tol("accordion-item "+(t.cardClass||"")),u.xp6(1),u.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),u.MGl("id","",t.id,"-header"),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||o)("ngTemplateOutletContext",u.WLB(8,lx,t,t.isOpen)),u.xp6(1),u.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}function dx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",1),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.close())}),u.qZA()}}const bC=["*"];function hx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",6),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw();return _.focus(),u.KtG(_.select(d.id,_.NgbSlideEventSource.INDICATOR))}),u.qZA()}if(2&n){const t=e.$implicit,i=u.oxw();u.ekj("active",t.id===i.activeId),u.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function fx(n,e){}function px(n,e){if(1&n&&(u.TgZ(0,"div",7)(1,"span",8),u.SDv(2,9),u.qZA(),u.YNc(3,fx,0,0,"ng-template",10),u.qZA()),2&n){const t=e.$implicit,i=e.index,o=e.count;u.Q6J("id","slide-"+t.id),u.xp6(2),u.pQV(i+1)(o),u.QtT(2),u.xp6(1),u.Q6J("ngTemplateOutlet",t.tplRef)}}function gx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.arrowLeft())}),u._UZ(1,"span",12),u.TgZ(2,"span",8),u.SDv(3,13),u.qZA()()}}function mx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",14),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.arrowRight())}),u._UZ(1,"span",15),u.TgZ(2,"span",8),u.SDv(3,16),u.qZA()()}}const _x=["ngbDatepickerDayView",""],vx=["month"],yx=["year"];function Ex(n,e){if(1&n&&(u.TgZ(0,"option",5),u._uU(1),u.qZA()),2&n){const t=e.$implicit,i=u.oxw();u.Q6J("value",t),u.uIk("aria-label",i.i18n.getMonthFullName(t,i.date.year)),u.xp6(1),u.Oqu(i.i18n.getMonthShortName(t,i.date.year))}}function bx(n,e){if(1&n&&(u.TgZ(0,"option",5),u._uU(1),u.qZA()),2&n){const t=e.$implicit,i=u.oxw();u.Q6J("value",t),u.xp6(1),u.Oqu(i.i18n.getYearNumerals(t))}}function wx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngb-datepicker-navigation-select",7),u.NdJ("select",function(o){u.CHM(t);const d=u.oxw();return u.KtG(d.select.emit(o))}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function Tx(n,e){1&n&&u._UZ(0,"div",0)}function Cx(n,e){1&n&&u._UZ(0,"div",0)}function Dx(n,e){if(1&n&&(u.YNc(0,Tx,1,0,"div",9),u.TgZ(1,"div",10),u._uU(2),u.qZA(),u.YNc(3,Cx,1,0,"div",9)),2&n){const t=e.$implicit,i=e.index,o=u.oxw(2);u.Q6J("ngIf",i>0),u.xp6(2),u.hij(" ",o.i18n.getMonthLabel(t.firstDate)," "),u.xp6(1),u.Q6J("ngIf",i!==o.months.length-1)}}function Sx(n,e){if(1&n&&u.YNc(0,Dx,4,3,"ng-template",8),2&n){const t=u.oxw();u.Q6J("ngForOf",t.months)}}function Ix(n,e){if(1&n&&(u.TgZ(0,"div",5),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.i18n.getWeekLabel())}}function Ax(n,e){if(1&n&&(u.TgZ(0,"div",6),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t)}}function xx(n,e){if(1&n&&(u.TgZ(0,"div",2),u.YNc(1,Ix,2,1,"div",3),u.YNc(2,Ax,2,1,"div",4),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.datepicker.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",t.viewModel.weekdays)}}function Mx(n,e){if(1&n&&(u.TgZ(0,"div",11),u._uU(1),u.qZA()),2&n){const t=u.oxw(2).$implicit,i=u.oxw();u.xp6(1),u.Oqu(i.i18n.getWeekNumerals(t.number))}}function Nx(n,e){}function Ox(n,e){if(1&n&&u.YNc(0,Nx,0,0,"ng-template",14),2&n){const t=u.oxw().$implicit,i=u.oxw(3);u.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Rx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(o){const _=u.CHM(t).$implicit;return u.oxw(3).doSelect(_),u.KtG(o.preventDefault())}),u.YNc(1,Ox,1,2,"ng-template",13),u.qZA()}if(2&n){const t=e.$implicit;u.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),u.Q6J("tabindex",t.tabindex),u.uIk("aria-label",t.ariaLabel),u.xp6(1),u.Q6J("ngIf",!t.hidden)}}function Px(n,e){if(1&n&&(u.TgZ(0,"div",8),u.YNc(1,Mx,2,1,"div",9),u.YNc(2,Rx,2,9,"div",10),u.qZA()),2&n){const t=u.oxw().$implicit,i=u.oxw();u.xp6(1),u.Q6J("ngIf",i.datepicker.showWeekNumbers),u.xp6(1),u.Q6J("ngForOf",t.days)}}function kx(n,e){1&n&&u.YNc(0,Px,3,2,"div",7),2&n&&u.Q6J("ngIf",!e.$implicit.collapsed)}const Fx=["defaultDayTemplate"],Lx=["content"];function Bx(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const i=e.currentMonth,o=e.selected,d=e.disabled,_=e.focused;u.Q6J("date",e.date)("currentMonth",i)("selected",o)("disabled",d)("focused",_)}}function Vx(n,e){if(1&n&&(u.TgZ(0,"div",12),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit,i=u.oxw(2);u.xp6(1),u.hij(" ",i.i18n.getMonthLabel(t.firstDate)," ")}}function Ux(n,e){if(1&n&&(u.TgZ(0,"div",9),u.YNc(1,Vx,2,1,"div",10),u._UZ(2,"ngb-datepicker-month",11),u.qZA()),2&n){const t=e.$implicit,i=u.oxw(2);u.xp6(1),u.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),u.xp6(1),u.Q6J("month",t.firstDate)}}function $x(n,e){if(1&n&&u.YNc(0,Ux,3,2,"div",8),2&n){const t=u.oxw();u.Q6J("ngForOf",t.model.months)}}function Hx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngb-datepicker-navigation",13),u.NdJ("navigate",function(o){u.CHM(t);const d=u.oxw();return u.KtG(d.onNavigateEvent(o))})("select",function(o){u.CHM(t);const d=u.oxw();return u.KtG(d.onNavigateDateSelect(o))}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function Gx(n,e){}function jx(n,e){}const Wx=["dialog"],zx=["ngbNavOutlet",""];function qx(n,e){}const Kx=function(n){return{$implicit:n}};function Zx(n,e){if(1&n&&(u.TgZ(0,"div",2),u.YNc(1,qx,0,0,"ng-template",3),u.qZA()),2&n){const t=u.oxw().$implicit,i=u.oxw();u.Q6J("item",t)("nav",i.nav)("role",i.paneRole),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",u.VKq(5,Kx,t.active||i.isPanelTransitioning(t)))}}function Yx(n,e){if(1&n&&u.YNc(0,Zx,2,7,"div",1),2&n){const t=e.$implicit,i=u.oxw();u.Q6J("ngIf",t.isPanelInDom()||i.isPanelTransitioning(t))}}function Jx(n,e){1&n&&(u.TgZ(0,"span",9),u.SDv(1,10),u.qZA())}function Qx(n,e){1&n&&(u.TgZ(0,"span",9),u.SDv(1,11),u.qZA())}function Xx(n,e){1&n&&(u.TgZ(0,"span",9),u.SDv(1,12),u.qZA())}function eM(n,e){1&n&&(u.TgZ(0,"span",9),u.SDv(1,13),u.qZA())}function tM(n,e){1&n&&u._uU(0,"...")}function nM(n,e){1&n&&(u.TgZ(0,"span",15),u._uU(1,"(current)"),u.qZA())}function rM(n,e){if(1&n&&(u._uU(0),u.YNc(1,nM,2,0,"span",14)),2&n){const t=e.$implicit,i=e.currentPage;u.hij(" ",t," "),u.xp6(1),u.Q6J("ngIf",t===i)}}function iM(n,e){}const sM=function(n){return{disabled:!0,currentPage:n}};function oM(n,e){if(1&n&&(u.TgZ(0,"a",20),u.YNc(1,iM,0,0,"ng-template",8),u.qZA()),2&n){const t=u.oxw(2).$implicit,i=u.oxw(),o=u.MAs(9);u.xp6(1),u.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",u.VKq(2,sM,t))}}function aM(n,e){}const uM=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function lM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",21),u.NdJ("click",function(o){u.CHM(t);const d=u.oxw().$implicit;return u.oxw(2).selectPage(d),u.KtG(o.preventDefault())}),u.YNc(1,aM,0,0,"ng-template",8),u.qZA()}if(2&n){const t=u.oxw().$implicit,i=u.oxw(),o=i.disabled,d=i.$implicit,_=u.oxw(),C=u.MAs(11);u.uIk("tabindex",o?"-1":null)("aria-disabled",o?"true":null),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==_.tplNumber?null:_.tplNumber.templateRef)||C)("ngTemplateOutletContext",u.kEZ(4,uM,o,t,d))}}function cM(n,e){if(1&n&&(u.TgZ(0,"li",17),u.YNc(1,oM,2,4,"a",18),u.YNc(2,lM,2,8,"a",19),u.qZA()),2&n){const t=e.$implicit,i=u.oxw(),o=i.$implicit,d=i.disabled,_=u.oxw();u.ekj("active",t===o)("disabled",_.isEllipsis(t)||d),u.uIk("aria-current",t===o?"page":null),u.xp6(1),u.Q6J("ngIf",_.isEllipsis(t)),u.xp6(1),u.Q6J("ngIf",!_.isEllipsis(t))}}function dM(n,e){1&n&&u.YNc(0,cM,3,7,"li",16),2&n&&u.Q6J("ngForOf",e.pages)}function hM(n,e){}const dD=function(n,e){return{disabled:n,currentPage:e}};function fM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",17)(1,"a",22),u.NdJ("click",function(o){return u.CHM(t),u.oxw().selectPage(1),u.KtG(o.preventDefault())}),u.YNc(2,hM,0,0,"ng-template",8),u.qZA()()}if(2&n){const t=u.oxw(),i=u.MAs(1);u.ekj("disabled",t.previousDisabled()),u.xp6(1),u.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||i)("ngTemplateOutletContext",u.WLB(6,dD,t.previousDisabled(),t.page))}}function pM(n,e){}const gM=function(n){return{disabled:n}};function mM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",17)(1,"a",23),u.NdJ("click",function(o){u.CHM(t);const d=u.oxw();return d.selectPage(d.page-1),u.KtG(o.preventDefault())}),u.YNc(2,pM,0,0,"ng-template",8),u.qZA()()}if(2&n){const t=u.oxw(),i=u.MAs(3);u.ekj("disabled",t.previousDisabled()),u.xp6(1),u.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||i)("ngTemplateOutletContext",u.VKq(6,gM,t.previousDisabled()))}}function _M(n,e){}function vM(n,e){}function yM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",17)(1,"a",24),u.NdJ("click",function(o){u.CHM(t);const d=u.oxw();return d.selectPage(d.page+1),u.KtG(o.preventDefault())}),u.YNc(2,vM,0,0,"ng-template",8),u.qZA()()}if(2&n){const t=u.oxw(),i=u.MAs(5);u.ekj("disabled",t.nextDisabled()),u.xp6(1),u.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||i)("ngTemplateOutletContext",u.WLB(6,dD,t.nextDisabled(),t.page))}}function EM(n,e){}function bM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",17)(1,"a",25),u.NdJ("click",function(o){u.CHM(t);const d=u.oxw();return d.selectPage(d.pageCount),u.KtG(o.preventDefault())}),u.YNc(2,EM,0,0,"ng-template",8),u.qZA()()}if(2&n){const t=u.oxw(),i=u.MAs(7);u.ekj("disabled",t.nextDisabled()),u.xp6(1),u.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||i)("ngTemplateOutletContext",u.WLB(6,dD,t.nextDisabled(),t.page))}}const wM=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function DM(n,e){if(1&n&&(u.TgZ(0,"span"),u.SDv(1,1),u.ALo(2,"percent"),u.qZA()),2&n){const t=u.oxw();u.xp6(2),u.pQV(u.lcZ(2,1,t.getValue()/t.max)),u.QtT(1)}}function SM(n,e){1&n&&u._uU(0),2&n&&u.Oqu(100===e.fill?"\u2605":"\u2606")}function IM(n,e){}function AM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",2),u._uU(1),u.qZA(),u.TgZ(2,"span",3),u.NdJ("mouseenter",function(){const d=u.CHM(t).index,_=u.oxw();return u.KtG(_.enter(d+1))})("click",function(){const d=u.CHM(t).index,_=u.oxw();return u.KtG(_.handleClick(d+1))}),u.YNc(3,IM,0,0,"ng-template",4),u.qZA()}if(2&n){const t=e.index,i=u.oxw(),o=u.MAs(1);u.xp6(1),u.hij("(",t<i.nextRate?"*":" ",")"),u.xp6(1),u.Udp("cursor",i.isInteractive()?"pointer":"default"),u.xp6(1),u.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||o)("ngTemplateOutletContext",i.contexts[t])}}function xM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.changeHour(o.hourStep))}),u._UZ(1,"span",12),u.TgZ(2,"span",13),u.SDv(3,14),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),u.Q6J("disabled",t.disabled)}}function MM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.changeHour(-o.hourStep))}),u._UZ(1,"span",15),u.TgZ(2,"span",13),u.SDv(3,16),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),u.Q6J("disabled",t.disabled)}}function NM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.changeMinute(o.minuteStep))}),u._UZ(1,"span",12),u.TgZ(2,"span",13),u.SDv(3,17),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),u.Q6J("disabled",t.disabled)}}function OM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.changeMinute(-o.minuteStep))}),u._UZ(1,"span",15),u.TgZ(2,"span",13),u.SDv(3,18),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),u.Q6J("disabled",t.disabled)}}function RM(n,e){1&n&&(u.TgZ(0,"div",5),u._uU(1,":"),u.qZA())}function PM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw(2);return u.KtG(o.changeSecond(o.secondStep))}),u._UZ(1,"span",12),u.TgZ(2,"span",13),u.SDv(3,21),u.qZA()()}if(2&n){const t=u.oxw(2);u.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),u.Q6J("disabled",t.disabled)}}function kM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw(2);return u.KtG(o.changeSecond(-o.secondStep))}),u._UZ(1,"span",15),u.TgZ(2,"span",13),u.SDv(3,22),u.qZA()()}if(2&n){const t=u.oxw(2);u.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),u.Q6J("disabled",t.disabled)}}function FM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.YNc(1,PM,4,7,"button",3),u.TgZ(2,"input",20),u.NdJ("change",function(o){u.CHM(t);const d=u.oxw();return u.KtG(d.updateSecond(o.target.value))})("blur",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.handleBlur())})("input",function(o){u.CHM(t);const d=u.oxw();return u.KtG(d.formatInput(o.target))})("keydown.ArrowUp",function(o){u.CHM(t);const d=u.oxw();return d.changeSecond(d.secondStep),u.KtG(o.preventDefault())})("keydown.ArrowDown",function(o){u.CHM(t);const d=u.oxw();return d.changeSecond(-d.secondStep),u.KtG(o.preventDefault())}),u.qZA(),u.YNc(3,kM,4,7,"button",3),u.qZA()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.spinners),u.xp6(1),u.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),u.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),u.xp6(1),u.Q6J("ngIf",t.spinners)}}function LM(n,e){1&n&&u._UZ(0,"div",5)}function BM(n,e){if(1&n&&(u.ynx(0),u.SDv(1,27),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.pQV(t.i18n.getAfternoonPeriod()),u.QtT(1)}}function VM(n,e){if(1&n&&u.SDv(0,28),2&n){const t=u.oxw(2);u.pQV(t.i18n.getMorningPeriod()),u.QtT(0)}}function UM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23)(1,"button",24),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.toggleMeridian())}),u.YNc(2,BM,2,1,"ng-container",25),u.YNc(3,VM,1,1,"ng-template",null,26,u.W1O),u.qZA()()}if(2&n){const t=u.MAs(4),i=u.oxw();u.xp6(1),u.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),u.Q6J("disabled",i.disabled),u.xp6(1),u.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",t)}}function $M(n,e){if(1&n&&(u.TgZ(0,"strong",3),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.header)}}function HM(n,e){}function GM(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",4),u.YNc(1,HM,0,0,"ng-template",5),u.TgZ(2,"button",6),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.hide())}),u.qZA()()}if(2&n){const t=u.oxw(),i=u.MAs(1);u.xp6(1),u.Q6J("ngTemplateOutlet",t.contentHeaderTpl||i)}}function jM(n,e){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit,i=u.oxw();u.Tol(i.highlightClass),u.xp6(1),u.Oqu(t)}}function WM(n,e){if(1&n&&u._uU(0),2&n){const t=u.oxw().$implicit;u.Oqu(t)}}function zM(n,e){if(1&n&&(u.YNc(0,jM,2,3,"span",1),u.YNc(1,WM,1,1,"ng-template",null,2,u.W1O)),2&n){const t=e.odd,i=u.MAs(2);u.Q6J("ngIf",t)("ngIfElse",i)}}function Uc(n){return parseInt(`${n}`,10)}function PS(n){return null!=n?`${n}`:""}function wC(n,e,t=0){return Math.max(Math.min(n,e),t)}function hw(n){return"string"==typeof n}function Yu(n){return!isNaN(Uc(n))}function Fu(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function e0(n){return null!=n}function DE(n){return Yu(n)?`0${n}`.slice(-2):""}function FS(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function SE(n){return(n||document.body).getBoundingClientRect()}function LS(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const BS={animation:!0,transitionTimerDelayMs:5},XM=()=>{},{transitionTimerDelayMs:eN}=BS,fw=new Map,Yl=(n,e,t,i)=>{let o=i.context||{};const d=fw.get(e);if(d)switch(i.runningTransition){case"continue":return Et.E;case"stop":n.run(()=>d.transition$.complete()),o=Object.assign(d.context,o),fw.delete(e)}const _=t(e,i.animation,o)||XM;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>_()),(0,fe.of)(void 0).pipe(function JM(n){return e=>new _e.y(t=>e.subscribe({next:_=>n.run(()=>t.next(_)),error:_=>n.run(()=>t.error(_)),complete:()=>n.run(()=>t.complete())}))}(n));const C=new Ae.x,O=new Ae.x,$=C.pipe(function iC(...n){return e=>(0,jb.z)(e,(0,fe.of)(...n))}(!0));fw.set(e,{transition$:C,complete:()=>{O.next(),O.complete()},context:o});const Y=function QM(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const he=Pu(e,"transitionend").pipe((0,vu.R)($),(0,Se.h)(({target:We})=>We===e));(function Kb(...n){return 1===(n=gE(n)).length?(0,Qt.Xf)(n[0]):new _e.y(function nC(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Qt.Xf)(n[i]).subscribe((0,Ce.x)(e,o=>{if(t){for(let d=0;d<t.length;d++)d!==i&&t[d].unsubscribe();t=null}e.next(o)})))}}(n))})(JT(Y+eN).pipe((0,vu.R)($)),he,O).pipe((0,vu.R)($)).subscribe(()=>{fw.delete(e),n.run(()=>{_(),C.next(),C.complete()})})}),C.asObservable()},hD=(n,e,t)=>{let{direction:i,maxSize:o,dimension:d}=t;const{classList:_}=n;function C(){_.add("collapse"),"show"===i?_.add("show"):_.remove("show")}if(e)return o||(o=function nN(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";const o=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),o}(n,d),t.maxSize=o,n.style[d]="show"!==i?o:"0px",_.remove("collapse"),_.remove("collapsing"),_.remove("show"),SE(n),_.add("collapsing")),n.style[d]="show"===i?o:"0px",()=>{C(),_.remove("collapsing"),n.style[d]=""};C()};let t0=(()=>{class n{constructor(){this.animation=BS.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rN=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iN=0,fD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),pD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),gD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),TC=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+iN++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new u.vpe,this.hidden=new u.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,o){if(1&t&&(u.Suo(o,pD,4),u.Suo(o,fD,4),u.Suo(o,gD,4)),2&t){let d;u.iGM(d=u.CRH())&&(i.titleTpls=d),u.iGM(d=u.CRH())&&(i.headerTpls=d),u.iGM(d=u.CRH())&&(i.contentTpls=d)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),sN=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new u.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),VS=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>CC)),u.Y36(TC,9))},n.\u0275dir=u.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(u.Ikx("disabled",i.panel.disabled),u.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),u.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),CC=(()=>{class n{constructor(t,i,o){this._ngZone=i,this._changeDetector=o,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){hw(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,Wr.q)(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,Yl(this._ngZone,i,hD,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let o=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{o=!0}}),o||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(o=>{o.id!==t&&o.isOpen&&(o.isOpen=!1,o.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Yl(this._ngZone,i.panelDiv,hD,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:d}=i;i.isOpen?(i.shown.emit(),this.shown.emit(d)):(i.hidden.emit(),this.hidden.emit(d))})})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rN),u.Y36(u.R0b),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,o){if(1&t&&u.Suo(o,TC,4),2&t){let d;u.iGM(d=u.CRH())&&(i.panels=d)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[u.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(u.YNc(0,sx,3,3,"ng-template",0,1,u.W1O),u.YNc(2,cx,4,11,"ng-template",2)),2&t&&(u.xp6(2),u.Q6J("ngForOf",i.panels))},dependencies:[M.ax,M.tP,VS,sN,fD,M.O5],encapsulation:2}),n})(),mD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[CC]}),n})();const oN=({classList:n})=>{n.remove("show")};let aN=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uN=(()=>{class n{constructor(t,i,o,d){this._renderer=i,this._element=o,this._zone=d,this.closed=new u.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Yl(this._zone,this._element.nativeElement,oN,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const i=t.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(aN),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[u.TTD,u.jDz],ngContentSelectors:bC,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(u.F$t(),u.Hsn(0),u.YNc(1,dx,1,0,"button",0)),2&t&&(u.xp6(1),u.Q6J("ngIf",i.dismissible))},dependencies:[M.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),US=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[uN]}),n})();var Wv=(()=>(function(n){n.START="start",n.END="end"}(Wv||(Wv={})),Wv))();const $S=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),pw=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},DC=n=>{pw(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},lN=(n,e,{direction:t})=>{const{classList:i}=n;return e?($S(n)?pw(i):(i.add("carousel-item-"+(t===Wv.START?"next":"prev")),SE(n),i.add("carousel-item-"+t)),()=>{DC(i),i.add("active")}):(pw(i),DC(i),void i.add("active"))},cN=(n,e,{direction:t})=>{const{classList:i}=n;return e?($S(n)?pw(i):i.add("carousel-item-"+t),()=>{DC(i),i.remove("active")}):(pw(i),DC(i),void i.remove("active"))};let dN=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hN=0,HS=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+hN++,this.slid=new u.vpe}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),GS=(()=>{class n{constructor(t,i,o,d,_){this._platformId=i,this._ngZone=o,this._cd=d,this._container=_,this.NgbSlideEventSource=n0,this._destroy$=new Ae.x,this._interval$=new __.X(0),this._mouseHover$=new __.X(!1),this._focused$=new __.X(!1),this._pauseOnHover$=new __.X(!1),this._pauseOnFocus$=new __.X(!1),this._pause$=new __.X(!1),this._wrap$=new __.X(!1),this.slide=new u.vpe,this.slid=new u.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(n0.ARROW_LEFT)}arrowRight(){this.focus(),this.next(n0.ARROW_RIGHT)}ngAfterContentInit(){(0,M.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=(0,Zb.a)([this.slide.pipe((0,ge.U)(i=>i.current),(0,po.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,po.O)(null))]).pipe((0,ge.U)(([i,o])=>{const d=this.slides.toArray(),_=this._getSlideIdxById(i);return o?d.length>1:_<d.length-1}),(0,Fs.x)());(0,Zb.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,ge.U)(([i,o,d,_,C,O,$])=>i||o&&d||_&&C||!$?0:O),(0,Fs.x)(),(0,To.w)(i=>i>0?JT(i,i):rp),(0,vu.R)(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(n0.TIMER)))}),this.slides.changes.pipe((0,vu.R)(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{fw.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Wr.q)(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Wv.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Wv.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,o){const d=this._transitionIds;if(d&&(d[0]!==t||d[1]!==this.activeId))return;let _=this._getSlideById(t);if(_&&_.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:_.id,direction:i,paused:this._pause$.value,source:o});const C={animation:this.animation,runningTransition:"stop",context:{direction:i}},O=[],$=this._getSlideById(this.activeId);if($){const We=Yl(this._ngZone,this._getSlideElement($.id),cN,C);We.subscribe(()=>{$.slid.emit({isShown:!1,direction:i,source:o})}),O.push(We)}const Y=this.activeId;this.activeId=_.id;const he=this._getSlideById(this.activeId),xe=Yl(this._ngZone,this._getSlideElement(_.id),lN,C);xe.subscribe(()=>{he?.slid.emit({isShown:!0,direction:i,source:o})}),O.push(xe),mE(...O).pipe((0,Wr.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:Y,current:_.id,direction:i,paused:this._pause$.value,source:o})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?Wv.END:Wv.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),o=this._getSlideIdxById(t);return o===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[o+1].id}_getPrevSlide(t){const i=this.slides.toArray(),o=this._getSlideIdxById(t);return 0===o?this.wrap?i[i.length-1].id:i[0].id:i[o-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dN),u.Y36(u.Lbi),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,o){if(1&t&&u.Suo(o,HS,4),2&t){let d;u.iGM(d=u.CRH())&&(i.slides=d)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&u.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(u.uIk("aria-activedescendant","slide-"+i.activeId),u.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[u.jDz],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,hx,1,5,"button",1),u.qZA(),u.TgZ(2,"div",2),u.YNc(3,px,4,4,"div",3),u.qZA(),u.YNc(4,gx,4,0,"button",4),u.YNc(5,mx,4,0,"button",5)),2&t&&(u.ekj("visually-hidden",!i.showNavigationIndicators),u.xp6(1),u.Q6J("ngForOf",i.slides),u.xp6(2),u.Q6J("ngForOf",i.slides),u.xp6(1),u.Q6J("ngIf",i.showNavigationArrows),u.xp6(1),u.Q6J("ngIf",i.showNavigationArrows))},dependencies:[M.ax,M.tP,M.O5],encapsulation:2,changeDetection:0}),n})();var n0=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(n0||(n0={})),n0))();let _D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[GS]}),n})(),fN=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jS=(()=>{class n{constructor(t,i,o){this._element=t,this._zone=o,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=i.animation,this.horizontal=i.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return Yl(this._zone,this._element.nativeElement,hD,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(fN),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),SC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class ko{constructor(e,t,i){this.year=Fu(e)?e:null,this.month=Fu(t)?t:null,this.day=Fu(i)?i:null}static from(e){return e instanceof ko?e:e?new ko(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function IE(n,e){return!function pN(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function WS(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function IC(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function vD(n,e){const{minDate:t,maxDate:i,disabled:o,markDisabled:d}=e;return!(null==n||o||d&&d(n,{year:n.year,month:n.month})||t&&n.before(t)||i&&n.after(i))}function zS(n){return new ko(n.getFullYear(),n.getMonth()+1,n.getDate())}function AC(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let AE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function TN(){return new CN}()},providedIn:"root"}),n})(),CN=(()=>{class n extends AE{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,i="d",o=1){let d=AC(t),_=!0,C=d.getMonth();switch(i){case"y":d.setFullYear(d.getFullYear()+o);break;case"m":C+=o,d.setMonth(C),C%=12,C<0&&(C+=12);break;case"d":d.setDate(d.getDate()+o),_=!1;break;default:return t}return _&&d.getMonth()!==C&&d.setDate(0),zS(d)}getPrev(t,i="d",o=1){return this.getNext(t,i,-o)}getWeekday(t){let o=AC(t).getDay();return 0===o?7:o}getWeekNumber(t,i){7===i&&(i=0);const _=AC(t[(11-i)%7]);_.setDate(_.getDate()+4-(_.getDay()||7));const C=_.getTime();return _.setMonth(0),_.setDate(1),Math.floor(Math.round((C-_.getTime())/864e5)/7)+1}getToday(){return zS(new Date)}isValid(t){if(!(t&&Fu(t.year)&&Fu(t.month)&&Fu(t.day)&&0!==t.year))return!1;const i=AC(t);return!isNaN(i.getTime())&&i.getFullYear()===t.year&&i.getMonth()+1===t.month&&i.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),r0=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function DN(n){return new SN(n)}(u.LFG(u.soG)),i},providedIn:"root"}),n})(),SN=(()=>{class n extends r0{constructor(t){super(),this._locale=t,this._monthsShort=(0,M.UT)(t,M.x.Standalone,M.Tn.Abbreviated),this._monthsFull=(0,M.UT)(t,M.x.Standalone,M.Tn.Wide)}getWeekdayLabel(t,i){const o=(0,M.Mn)(this._locale,M.x.Standalone,void 0===i?M.Tn.Short:i);return o.map((_,C)=>o[(C+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){const i=new Date(t.year,t.month-1,t.day);return(0,M.p6)(i,"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yD=(()=>{class n{constructor(t,i){this._calendar=t,this._i18n=i,this._VALIDATORS={dayTemplateData:o=>{if(this._state.dayTemplateData!==o)return{dayTemplateData:o}},displayMonths:o=>{if(Fu(o=Uc(o))&&o>0&&this._state.displayMonths!==o)return{displayMonths:o}},disabled:o=>{if(this._state.disabled!==o)return{disabled:o}},firstDayOfWeek:o=>{if(Fu(o=Uc(o))&&o>=0&&this._state.firstDayOfWeek!==o)return{firstDayOfWeek:o}},focusVisible:o=>{if(this._state.focusVisible!==o&&!this._state.disabled)return{focusVisible:o}},markDisabled:o=>{if(this._state.markDisabled!==o)return{markDisabled:o}},maxDate:o=>{const d=this.toValidDate(o,null);if(IE(this._state.maxDate,d))return{maxDate:d}},minDate:o=>{const d=this.toValidDate(o,null);if(IE(this._state.minDate,d))return{minDate:d}},navigation:o=>{if(this._state.navigation!==o)return{navigation:o}},outsideDays:o=>{if(this._state.outsideDays!==o)return{outsideDays:o}},weekdays:o=>{const d=!0===o||!1===o?M.Tn.Short:o,_=!0!==o&&!1!==o||o;if(this._state.weekdayWidth!==d||this._state.weekdaysVisible!==_)return{weekdayWidth:d,weekdaysVisible:_}}},this._model$=new Ae.x,this._dateSelect$=new Ae.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:M.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,Se.h)(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,Se.h)(t=>null!==t))}set(t){let i=Object.keys(t).map(o=>this._VALIDATORS[o](t[o])).reduce((o,d)=>({...o,...d}),{});Object.keys(i).length>0&&this._nextState(i)}focus(t){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&IE(this._state.focusDate,i)&&this._nextState({focusDate:t})}focusSelect(){vD(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const i=this.toValidDate(t,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||WS(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(t,i={}){const o=this.toValidDate(t,null);null!=o&&!this._state.disabled&&(IE(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),i.emitEvent&&vD(o,this._state)&&this._dateSelect$.next(o))}toValidDate(t,i){const o=ko.from(t);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(o)?o:i}getMonth(t){for(let i of this._state.months)if(t.month===i.number&&t.year===i.year)return i;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const i=this._updateState(t);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(t){const{months:i,displayMonths:o,selectedDate:d,focusDate:_,focusVisible:C,disabled:O,outsideDays:$}=t;t.months.forEach(Y=>{Y.weeks.forEach(he=>{he.days.forEach(xe=>{_&&(xe.context.focused=_.equals(xe.date)&&C),xe.tabindex=!O&&_&&xe.date.equals(_)&&_.month===Y.number?0:-1,!0===O&&(xe.context.disabled=!0),void 0!==d&&(xe.context.selected=null!==d&&d.equals(xe.date)),Y.number!==xe.date.month&&(xe.hidden="hidden"===$||"collapsed"===$||o>1&&xe.date.after(i[0].firstDate)&&xe.date.before(i[o-1].lastDate))})})})}_updateState(t){const i=Object.assign({},this._state,t);let o=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(function gN(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(i.minDate,i.maxDate),i.focusDate=IC(i.focusDate,i.minDate,i.maxDate),i.firstDate=IC(i.firstDate,i.minDate,i.maxDate),o=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(o=i.selectedDate),"focusVisible"in t||"focusDate"in t&&(i.focusDate=IC(i.focusDate,i.minDate,i.maxDate),o=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=IC(i.firstDate,i.minDate,i.maxDate),o=i.firstDate),o){const _=function EN(n,e,t,i,o){const{displayMonths:d,months:_}=t,C=_.splice(0,_.length);return Array.from({length:d},($,Y)=>{const he=Object.assign(n.getNext(e,"m",Y),{day:1});if(_[Y]=null,!o){const xe=C.findIndex(We=>We.firstDate.equals(he));-1!==xe&&(_[Y]=C.splice(xe,1)[0])}return he}).forEach(($,Y)=>{null===_[Y]&&(_[Y]=function bN(n,e,t,i,o={}){const{dayTemplateData:d,minDate:_,maxDate:C,firstDayOfWeek:O,markDisabled:$,outsideDays:Y,weekdayWidth:he,weekdaysVisible:xe}=t,We=n.getToday();o.firstDate=null,o.lastDate=null,o.number=e.month,o.year=e.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],e=function wN(n,e,t){const i=n.getDaysPerWeek(),o=new ko(e.year,e.month,1),d=n.getWeekday(o)%i;return n.getPrev(o,"d",(i+d-t)%i)}(n,e,O),xe||(o.weekdays.length=0);for(let ft=0;ft<n.getWeeksPerMonth();ft++){let Lt=o.weeks[ft];Lt||(Lt=o.weeks[ft]={number:0,days:[],collapsed:!0});const ln=Lt.days;for(let jn=0;jn<n.getDaysPerWeek();jn++){0===ft&&xe&&(o.weekdays[jn]=i.getWeekdayLabel(n.getWeekday(e),he));const lr=new ko(e.year,e.month,e.day),Pr=n.getNext(lr),Hr=i.getDayAriaLabel(lr);let Er=!!(_&&lr.before(_)||C&&lr.after(C));!Er&&$&&(Er=$(lr,{month:o.number,year:o.year}));let Ir=lr.equals(We),Wi=d?d(lr,{month:o.number,year:o.year}):void 0;null===o.firstDate&&lr.month===o.number&&(o.firstDate=lr),lr.month===o.number&&Pr.month!==o.number&&(o.lastDate=lr);let io=ln[jn];io||(io=ln[jn]={}),io.date=lr,io.context=Object.assign(io.context||{},{$implicit:lr,date:lr,data:Wi,currentMonth:o.number,currentYear:o.year,disabled:Er,focused:!1,selected:!1,today:Ir}),io.tabindex=-1,io.ariaLabel=Hr,io.hidden=!1,e=Pr}Lt.number=n.getWeekNumber(ln.map(jn=>jn.date),O),Lt.collapsed="collapsed"===Y&&ln[0].date.month!==o.number&&ln[ln.length-1].date.month!==o.number}return o}(n,$,t,i,C.shift()||{}))}),_}(this._calendar,o,i,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);i.months=_,i.firstDate=_[0].firstDate,i.lastDate=_[_.length-1].lastDate,"selectedDate"in t&&!vD(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=o);const C=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,O=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in t||"maxDate"in t||0===i.selectBoxes.years.length||C)&&(i.selectBoxes.years=function _N(n,e,t){if(!n)return[];const i=e?Math.max(e.year,n.year-500):n.year-10,d=(t?Math.min(t.year,n.year+500):n.year+10)-i+1,_=Array(d);for(let C=0;C<d;C++)_[C]=i+C;return _}(i.firstDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||0===i.selectBoxes.months.length||C)&&(i.selectBoxes.months=function mN(n,e,t,i){if(!e)return[];let o=n.getMonths(e.year);if(t&&e.year===t.year){const d=o.findIndex(_=>_===t.month);o=o.slice(d)}if(i&&e.year===i.year){const d=o.findIndex(_=>_===i.month);o=o.slice(0,d+1)}return o}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(O||C||"minDate"in t||"maxDate"in t||"disabled"in t)&&(i.prevDisabled=i.disabled||function yN(n,e,t){const i=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(i.year===t.year&&i.month<t.month||i.year<t.year&&1===t.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function vN(n,e,t){const i=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&i.after(t)}(this._calendar,i.lastDate,i.maxDate))}return i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(AE),u.LFG(r0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var xE=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(xE||(xE={})),xE))();let IN=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(r0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,i){2&t&&u.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[u.jDz],attrs:_x,decls:1,vars:1,template:function(t,i){1&t&&u._uU(0),2&t&&u.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),AN=(()=>{class n{constructor(t,i){this.i18n=t,this._renderer=i,this.select=new u.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new ko(this.date.year,Uc(t),1))}changeYear(t){this.select.emit(new ko(Uc(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(r0),u.Y36(u.Qsj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,i){if(1&t&&(u.Gf(vx,7,u.SBq),u.Gf(yx,7,u.SBq)),2&t){let o;u.iGM(o=u.CRH())&&(i.monthSelect=o.first),u.iGM(o=u.CRH())&&(i.yearSelect=o.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[u.jDz],decls:6,vars:4,consts:function(){let e,t,i,o;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,o=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",o,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,i){1&t&&(u.TgZ(0,"select",0,1),u.NdJ("change",function(d){return i.changeMonth(d.target.value)}),u.YNc(2,Ex,2,3,"option",2),u.qZA(),u.TgZ(3,"select",3,4),u.NdJ("change",function(d){return i.changeYear(d.target.value)}),u.YNc(5,bx,2,2,"option",2),u.qZA()),2&t&&(u.Q6J("disabled",i.disabled),u.xp6(2),u.Q6J("ngForOf",i.months),u.xp6(1),u.Q6J("disabled",i.disabled),u.xp6(2),u.Q6J("ngForOf",i.years))},dependencies:[M.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),xN=(()=>{class n{constructor(t){this.i18n=t,this.navigation=xE,this.months=[],this.navigate=new u.vpe,this.select=new u.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(r0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[u.jDz],decls:8,vars:4,consts:function(){let e,t,i,o;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,o=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",o,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(d){return i.onClickPrev(d)}),u._UZ(2,"span",2),u.qZA()(),u.YNc(3,wx,1,4,"ngb-datepicker-navigation-select",3),u.YNc(4,Sx,1,1,null,4),u.TgZ(5,"div",5)(6,"button",6),u.NdJ("click",function(d){return i.onClickNext(d)}),u._UZ(7,"span",2),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("disabled",i.prevDisabled),u.xp6(2),u.Q6J("ngIf",i.showSelect),u.xp6(1),u.Q6J("ngIf",!i.showSelect),u.xp6(2),u.Q6J("disabled",i.nextDisabled))},dependencies:[M.O5,M.ax,AN],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Ys=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Ys||(Ys={})),Ys))();let MN=(()=>{class n{processKey(t,i){const{state:o,calendar:d}=i;switch(t.which){case Ys.PageUp:i.focusDate(d.getPrev(o.focusedDate,t.shiftKey?"y":"m",1));break;case Ys.PageDown:i.focusDate(d.getNext(o.focusedDate,t.shiftKey?"y":"m",1));break;case Ys.End:i.focusDate(t.shiftKey?o.maxDate:o.lastDate);break;case Ys.Home:i.focusDate(t.shiftKey?o.minDate:o.firstDate);break;case Ys.ArrowLeft:i.focusDate(d.getPrev(o.focusedDate,"d",1));break;case Ys.ArrowUp:i.focusDate(d.getPrev(o.focusedDate,"d",d.getDaysPerWeek()));break;case Ys.ArrowRight:i.focusDate(d.getNext(o.focusedDate,"d",1));break;case Ys.ArrowDown:i.focusDate(d.getNext(o.focusedDate,"d",d.getDaysPerWeek()));break;case Ys.Enter:case Ys.Space:i.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ED=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=M.Tn.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function NN(){return new ON}()},providedIn:"root"}),n})(),ON=(()=>{class n extends bD{fromModel(t){return t&&Fu(t.year)&&Fu(t.month)&&Fu(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Fu(t.year)&&Fu(t.month)&&Fu(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),qS=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),wD=(()=>{class n{constructor(t,i,o,d){this.i18n=t,this.datepicker=i,this._keyboardService=o,this._service=d}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(r0),u.Y36((0,u.Gpc)(()=>s0)),u.Y36(MN),u.Y36(yD))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,i){1&t&&u.NdJ("keydown",function(d){return i.onKeyDown(d)})},inputs:{month:"month"},standalone:!0,features:[u.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(u.YNc(0,xx,3,2,"div",0),u.YNc(1,kx,1,1,"ng-template",1)),2&t&&(u.Q6J("ngIf",i.viewModel.weekdays.length>0),u.xp6(1),u.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[M.O5,M.ax,M.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),s0=(()=>{class n{constructor(t,i,o,d,_,C,O,$){this._service=t,this._calendar=i,this.i18n=o,this._elementRef=C,this._ngbDateAdapter=O,this._ngZone=$,this._controlValue=null,this._destroyed$=new Ae.x,this._publicState={},this.navigate=new u.vpe,this.dateSelect=new u.vpe,this.onChange=Y=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(Y=>this[Y]=d[Y]),t.dateSelect$.pipe((0,vu.R)(this._destroyed$)).subscribe(Y=>{this.dateSelect.emit(Y)}),t.model$.pipe((0,vu.R)(this._destroyed$)).subscribe(Y=>{const he=Y.firstDate,xe=this.model?this.model.firstDate:null;this._publicState={maxDate:Y.maxDate,minDate:Y.minDate,firstDate:Y.firstDate,lastDate:Y.lastDate,focusedDate:Y.focusDate,months:Y.months.map(jn=>jn.firstDate)};let We=!1;if(!he.equals(xe)&&(this.navigate.emit({current:xe?{year:xe.year,month:xe.month}:null,next:{year:he.year,month:he.month},preventDefault:()=>We=!0}),We&&null!==xe))return void this._service.open(xe);const ft=Y.selectedDate,Lt=Y.focusDate,ln=this.model?this.model.focusDate:null;this.model=Y,IE(ft,this._controlValue)&&(this._controlValue=ft,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(ft))),IE(Lt,ln)&&ln&&Y.focusVisible&&this.focus(),_.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(ko.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,Wr.q)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(ko.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Pu(this._contentEl.nativeElement,"focusin"),i=Pu(this._contentEl.nativeElement,"focusout"),{nativeElement:o}=this._elementRef;(0,Ve.T)(t,i).pipe((0,Se.h)(({target:d,relatedTarget:_})=>!(FS(d,"ngb-dp-day")&&FS(_,"ngb-dp-day")&&o.contains(d)&&o.contains(_))),(0,vu.R)(this._destroyed$)).subscribe(({type:d})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===d})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>t[i]=this[i]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in t).forEach(o=>i[o]=this[o]),this._service.set(i),"startDate"in t){const{currentValue:o,previousValue:d}=t.startDate;WS(d,o)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case xE.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case xE.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=ko.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yD),u.Y36(AE),u.Y36(r0),u.Y36(ED),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(bD),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,i,o){if(1&t&&u.Suo(o,qS,7),2&t){let d;u.iGM(d=u.CRH())&&(i.contentTemplate=d.first)}},viewQuery:function(t,i){if(1&t&&(u.Gf(Fx,7),u.Gf(Lx,7)),2&t){let o;u.iGM(o=u.CRH())&&(i._defaultDayTemplate=o.first),u.iGM(o=u.CRH())&&(i._contentEl=o.first)}},hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("disabled",i.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[u._Bn([{provide:Dn.JU,useExisting:(0,u.Gpc)(()=>n),multi:!0},yD]),u.TTD,u.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,i){if(1&t&&(u.YNc(0,Bx,1,5,"ng-template",null,0,u.W1O),u.YNc(2,$x,1,1,"ng-template",null,1,u.W1O),u.TgZ(4,"div",2),u.YNc(5,Hx,1,7,"ngb-datepicker-navigation",3),u.qZA(),u.TgZ(6,"div",4,5),u.YNc(8,Gx,0,0,"ng-template",6),u.qZA(),u.YNc(9,jx,0,0,"ng-template",6)),2&t){const o=u.MAs(3);u.xp6(5),u.Q6J("ngIf","none"!==i.navigation),u.xp6(1),u.ekj("ngb-dp-months",!i.contentTemplate),u.xp6(2),u.Q6J("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||o),u.xp6(1),u.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:[M.O5,M.ax,M.tP,IN,wD,xN],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const YS=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JS(n){const e=Array.from(n.querySelectorAll(YS)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let MC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function WN(){return new zN}()},providedIn:"root"}),n})(),zN=(()=>{class n extends MC{parse(t){if(null!=t){const i=t.trim().split("-");if(1===i.length&&Yu(i[0]))return{year:Uc(i[0]),month:null,day:null};if(2===i.length&&Yu(i[0])&&Yu(i[1]))return{year:Uc(i[0]),month:Uc(i[1]),day:null};if(3===i.length&&Yu(i[0])&&Yu(i[1])&&Yu(i[2]))return{year:Uc(i[0]),month:Uc(i[1]),day:Uc(i[2])}}return null}format(t){return t?`${t.year}-${Yu(t.month)?DE(t.month):""}-${Yu(t.day)?DE(t.day):""}`:""}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();new Date(1882,10,12),new Date(2174,10,25);let PC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[s0,wD]}),n})(),hI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class u0{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let rO=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Wr.q)(1)).subscribe(()=>{Yl(this._zone,this._el.nativeElement,(t,i)=>{i&&SE(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Yl(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.jDz],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class fI{close(e){}dismiss(e){}}class iO{constructor(e,t,i,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Ae.x,this._dismissed=new Ae.x,this._hidden=new Ae.x,e.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,_)=>{this._resolve=d,this._reject=_}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,vu.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,vu.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function kS(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,fe.of)(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),mE(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var _w=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(_w||(_w={})),_w))();let sO=(()=>{class n{constructor(t,i,o){this._document=t,this._elRef=i,this._zone=o,this._closed$=new Ae.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Ae.x,this.hidden=new Ae.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":hw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Wr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},_=mE(Yl(this._zone,t,()=>t.classList.remove("show"),i),Yl(this._zone,this._dialogEl.nativeElement,()=>{},i));return _.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),_}_show(){const t={animation:this.animation,runningTransition:"continue"};mE(Yl(this._zone,this._elRef.nativeElement,(d,_)=>{_&&SE(d),d.classList.add("show")},t),Yl(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Pu(t,"keydown").pipe((0,vu.R)(this._closed$),(0,Se.h)(o=>o.which===Ys.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(_w.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Pu(this._dialogEl.nativeElement,"mousedown").pipe((0,vu.R)(this._closed$),(0,Wb.b)(()=>i=!1),(0,To.w)(()=>Pu(t,"mouseup").pipe((0,vu.R)(this._closed$),(0,Wr.q)(1))),(0,Se.h)(({target:o})=>t===o)).subscribe(()=>{i=!0}),Pu(t,"click").pipe((0,vu.R)(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(_w.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),o=JS(t)[0];(i||o||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Yl(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(M.K0),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&u.Gf(Wx,7),2&t){let o;u.iGM(o=u.CRH())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.jDz],ngContentSelectors:bC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),oO=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:d,paddingRight:_}=o;if(t>0){const C=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${C+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=_),o.overflow=d}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(M.K0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aO=(()=>{class n{constructor(t,i,o,d,_,C,O){this._applicationRef=t,this._injector=i,this._environmentInjector=o,this._document=d,this._scrollBar=_,this._rendererFactory=C,this._ngZone=O,this._activeWindowCmptHasChanged=new Ae.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const $=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const o=Pu(e,"focusin").pipe((0,vu.R)(t),(0,ge.U)(d=>d.target));Pu(e,"keydown").pipe((0,vu.R)(t),(0,Se.h)(d=>d.which===Ys.Tab),(0,Ci.M)(o)).subscribe(([d,_])=>{const[C,O]=JS(e);(_===C||_===e)&&d.shiftKey&&(O.focus(),d.preventDefault()),_===O&&!d.shiftKey&&(C.focus(),d.preventDefault())}),i&&Pu(e,"click").pipe((0,vu.R)(t),(0,Ci.M)(o),(0,ge.U)(d=>d[1])).subscribe(d=>d.focus())})})(this._ngZone,$.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden($.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,o){const d=o.container instanceof HTMLElement?o.container:e0(o.container)?this._document.querySelector(o.container):this._document.body,_=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const C=new fI,O=(t=o.injector||t).get(u.lqb,null)||this._environmentInjector,$=this._getContentRef(t,O,i,C,o);let Y=!1!==o.backdrop?this._attachBackdrop(d):void 0,he=this._attachWindowComponent(d,$.nodes),xe=new iO(he,$,Y,o.beforeDismiss);return this._registerModalRef(xe),this._registerWindowCmpt(he),xe.hidden.pipe((0,Wr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),C.close=We=>{xe.close(We)},C.dismiss=We=>{xe.dismiss(We)},this._applyWindowOptions(he.instance,o),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),Y&&Y.instance&&(this._applyBackdropOptions(Y.instance,o),Y.changeDetectorRef.detectChanges()),he.changeDetectorRef.detectChanges(),xe}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,u.LMc)(rO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let o=(0,u.LMc)(sO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_applyWindowOptions(t,i){this._windowAttributes.forEach(o=>{e0(i[o])&&(t[o]=i[o])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(o=>{e0(i[o])&&(t[o]=i[o])})}_getContentRef(t,i,o,d,_){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,d):hw(o)?this._createFromString(o):this._createFromComponent(t,i,o,d,_):new u0([])}_createFromTemplateRef(t,i){const d=t.createEmbeddedView({$implicit:i,close(_){i.close(_)},dismiss(_){i.dismiss(_)}});return this._applicationRef.attachView(d),new u0([d.rootNodes],d)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new u0([[i]])}_createFromComponent(t,i,o,d,_){const C=u.zs3.create({providers:[{provide:fI,useValue:d}],parent:t}),O=(0,u.LMc)(o,{environmentInjector:i,elementInjector:C}),$=O.location.nativeElement;return _.scrollable&&$.classList.add("component-host-scrollable"),this._applicationRef.attachView(O.hostView),new u0([[$]],O.hostView,O)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(u.lqb),u.LFG(M.K0),u.LFG(oO),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pI=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gI=(()=>{class n{constructor(t,i,o){this._injector=t,this._modalStack=i,this._config=o}open(t,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(aO),u.LFG(pI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gI]}),n})(),uO=(()=>{class n{constructor(t){this._ngbConfig=t,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _I=n=>e0(n)&&""!==n;let lO=0,SD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbNavContent",""]],standalone:!0}),n})(),LC=(()=>{class n{constructor(t,i){this._nav=t,this.elementRef=i,this.disabled=!1,this.shown=new u.vpe,this.hidden=new u.vpe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){e0(this.domId)||(this.domId="ngb-nav-"+lO++)}get active(){return this._nav.activeId===this.id}get id(){return _I(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(e0(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>BC)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbNavItem",""]],contentQueries:function(t,i,o){if(1&t&&u.Suo(o,SD,4),2&t){let d;u.iGM(d=u.CRH())&&(i.contentTpls=d)}},hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0}),n})(),BC=(()=>{class n{constructor(t,i,o,d){this.role=t,this._cd=o,this._document=d,this.activeIdChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.destroy$=new Ae.x,this.navItemChange$=new Ae.x,this.navChange=new u.vpe,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(t){t.disabled||this._updateActiveId(t.id)}onKeyDown(t){if("tablist"!==this.roles||!this.keyboard)return;const i=t.which,o=this.links.filter(C=>!C.navItem.disabled),{length:d}=o;let _=-1;if(o.forEach((C,O)=>{C.elRef.nativeElement===this._document.activeElement&&(_=O)}),d){switch(i){case Ys.ArrowLeft:if("vertical"===this.orientation)return;_=(_-1+d)%d;break;case Ys.ArrowRight:if("vertical"===this.orientation)return;_=(_+1)%d;break;case Ys.ArrowDown:if("horizontal"===this.orientation)return;_=(_+1)%d;break;case Ys.ArrowUp:if("horizontal"===this.orientation)return;_=(_-1+d)%d;break;case Ys.Home:_=0;break;case Ys.End:_=d-1}"changeWithArrows"===this.keyboard&&this.select(o[_].navItem.id),o[_].elRef.nativeElement.focus(),t.preventDefault()}}select(t){this._updateActiveId(t,!1)}ngAfterContentInit(){if(!e0(this.activeId)){const t=this.items.first?this.items.first.id:null;_I(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe((0,vu.R)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:t}){t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(t,i=!0){if(this.activeId!==t){let o=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:t,preventDefault:()=>{o=!0}}),o||(this.activeId=t,this.activeIdChange.emit(t),this._notifyItemChanged(t))}}_notifyItemChanged(t){this.navItemChange$.next(this._getItemById(t))}_getItemById(t){return this.items&&this.items.find(i=>i.id===t)||null}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("role"),u.Y36(uO),u.Y36(u.sBO),u.Y36(M.K0))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbNav",""]],contentQueries:function(t,i,o){if(1&t&&(u.Suo(o,LC,4),u.Suo(o,ID,5)),2&t){let d;u.iGM(d=u.CRH())&&(i.items=d),u.iGM(d=u.CRH())&&(i.links=d)}},hostVars:6,hostBindings:function(t,i){1&t&&u.NdJ("keydown.arrowLeft",function(d){return i.onKeyDown(d)})("keydown.arrowRight",function(d){return i.onKeyDown(d)})("keydown.arrowDown",function(d){return i.onKeyDown(d)})("keydown.arrowUp",function(d){return i.onKeyDown(d)})("keydown.Home",function(d){return i.onKeyDown(d)})("keydown.End",function(d){return i.onKeyDown(d)}),2&t&&(u.uIk("aria-orientation","vertical"===i.orientation&&"tablist"===i.roles?"vertical":void 0)("role",i.role?i.role:i.roles?"tablist":void 0),u.ekj("nav",!0)("flex-column","vertical"===i.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[u.TTD]}),n})(),ID=(()=>{class n{constructor(t,i,o,d){this.role=t,this.navItem=i,this.nav=o,this.elRef=d}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("role"),u.Y36(LC),u.Y36(BC),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(t,i){1&t&&u.NdJ("click",function(d){return i.nav.click(i.navItem),d.preventDefault()}),2&t&&(u.Ikx("id",i.navItem.domId),u.uIk("role",i.role?i.role:i.nav.roles?"tab":void 0)("tabindex",i.navItem.disabled?-1:void 0)("aria-controls",i.navItem.isPanelInDom()?i.navItem.panelDomId:null)("aria-selected",i.navItem.active)("aria-disabled",i.navItem.disabled),u.ekj("nav-link",!0)("nav-item",i.hasNavItemClass())("active",i.navItem.active)("disabled",i.navItem.disabled))},standalone:!0}),n})();const cO=({classList:n})=>(n.remove("show"),()=>n.remove("active")),dO=(n,e)=>{e&&SE(n),n.classList.add("show")};let AD=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,i){2&t&&(u.Ikx("id",i.item.panelDomId),u.uIk("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),u.ekj("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),xD=(()=>{class n{constructor(t,i){this._cd=t,this._ngZone=i,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,vu.R)(this.nav.destroy$),(0,po.O)(this._activePane?.item||null),(0,Fs.x)(),(0,Yb.T)(1)).subscribe(t=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Yl(this._ngZone,this._activePane.elRef.nativeElement,cO,i).subscribe(()=>{const o=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Yl(this._ngZone,this._activePane.elRef.nativeElement,dO,i).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),o&&(o.hidden.emit(),this.nav.hidden.emit(o.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(i=>i.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,i){if(1&t&&u.Gf(AD,5),2&t){let o;u.iGM(o=u.CRH())&&(i._panes=o)}},hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[u.jDz],attrs:zx,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&u.YNc(0,Yx,1,1,"ng-template",0),2&t&&u.Q6J("ngForOf",i.nav.items)},dependencies:[AD,M.ax,M.O5,M.tP],encapsulation:2,changeDetection:0}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[xD]}),n})(),hO=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),yI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),EI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),bI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),wI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),TI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),CI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),DI=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new u.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?i=this.maxSize:this.pageCount-this.page<o?t=this.pageCount-this.maxSize:(t=this.page-o-1,i=this.page+(this.maxSize%2==0?o-1:o)),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(t){const i=this.page;this.page=wC(t,this.pageCount,1),this.page!==i&&Yu(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Yu(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,o=this.pageCount;[i,o]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,o),this._applyEllipses(i,o)}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,i,o){if(1&t&&(u.Suo(o,vI,5),u.Suo(o,yI,5),u.Suo(o,EI,5),u.Suo(o,bI,5),u.Suo(o,wI,5),u.Suo(o,TI,5),u.Suo(o,CI,5)),2&t){let d;u.iGM(d=u.CRH())&&(i.tplEllipsis=d.first),u.iGM(d=u.CRH())&&(i.tplFirst=d.first),u.iGM(d=u.CRH())&&(i.tplLast=d.first),u.iGM(d=u.CRH())&&(i.tplNext=d.first),u.iGM(d=u.CRH())&&(i.tplNumber=d.first),u.iGM(d=u.CRH())&&(i.tplPrevious=d.first),u.iGM(d=u.CRH())&&(i.tplPages=d.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[u.TTD,u.jDz],decls:20,vars:12,consts:function(){let e,t,i,o,d,_,C,O;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,i=$localize`:@@ngb.pagination.next:`,o=$localize`:@@ngb.pagination.last:`,d=$localize`:@@ngb.pagination.first-aria:First`,_=$localize`:@@ngb.pagination.previous-aria:Previous`,C=$localize`:@@ngb.pagination.next-aria:Next`,O=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,i,o,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",d,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"],["aria-label",C,"href","",1,"page-link",3,"click"],["aria-label",O,"href","",1,"page-link",3,"click"]]},template:function(t,i){if(1&t&&(u.YNc(0,Jx,2,0,"ng-template",null,0,u.W1O),u.YNc(2,Qx,2,0,"ng-template",null,1,u.W1O),u.YNc(4,Xx,2,0,"ng-template",null,2,u.W1O),u.YNc(6,eM,2,0,"ng-template",null,3,u.W1O),u.YNc(8,tM,1,0,"ng-template",null,4,u.W1O),u.YNc(10,rM,2,2,"ng-template",null,5,u.W1O),u.YNc(12,dM,1,1,"ng-template",null,6,u.W1O),u.TgZ(14,"ul"),u.YNc(15,fM,3,9,"li",7),u.YNc(16,mM,3,8,"li",7),u.YNc(17,_M,0,0,"ng-template",8),u.YNc(18,yM,3,9,"li",7),u.YNc(19,bM,3,9,"li",7),u.qZA()),2&t){const o=u.MAs(13);u.xp6(14),u.Tol("pagination"+(i.size?" pagination-"+i.size:"")),u.xp6(1),u.Q6J("ngIf",i.boundaryLinks),u.xp6(1),u.Q6J("ngIf",i.directionLinks),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||o)("ngTemplateOutletContext",u.kEZ(8,wM,i.page,i.pages,i.disabled)),u.xp6(1),u.Q6J("ngIf",i.directionLinks),u.xp6(1),u.Q6J("ngIf",i.boundaryLinks)}},dependencies:[M.O5,M.ax,M.tP],encapsulation:2,changeDetection:0}),n})(),SI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[DI]}),n})(),AI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),vO=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yO=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!Yu(t)||t<=0?100:t}get max(){return this._max}getValue(){return wC(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(vO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,i){2&t&&(u.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),u.Udp("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[u.jDz],ngContentSelectors:bC,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div"),u.YNc(1,DM,3,3,"span",0),u.Hsn(2),u.qZA()),2&t&&(u.MT6("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),u.Udp("width",i.getPercentValue(),"%"),u.ekj("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),u.xp6(1),u.Q6J("ngIf",i.showValue))},dependencies:[M.O5,M.Zx],encapsulation:2,changeDetection:0}),n})(),xI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[yO]}),n})(),EO=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bO=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new u.vpe,this.leave=new u.vpe,this.rateChange=new u.vpe(!0),this.onChange=o=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Ys.ArrowDown:case Ys.ArrowLeft:this.update(this.rate-1);break;case Ys.ArrowUp:case Ys.ArrowRight:this.update(this.rate+1);break;case Ys.Home:this.update(0);break;case Ys.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const o=wC(t,this.max,0);this.isInteractive()&&this.rate!==o&&(this.rate=o,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,o)=>i.fill=Math.round(100*wC(t-o,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(EO),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,o){if(1&t&&u.Suo(o,u.Rgc,5),2&t){let d;u.iGM(d=u.CRH())&&(i.starTemplateFromContent=d.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("blur",function(){return i.handleBlur()})("keydown",function(d){return i.handleKeyDown(d)})("mouseleave",function(){return i.reset()}),2&t&&(u.Ikx("tabindex",i.disabled?-1:i.tabindex),u.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[u._Bn([{provide:Dn.JU,useExisting:(0,u.Gpc)(()=>n),multi:!0}]),u.TTD,u.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(u.YNc(0,SM,1,1,"ng-template",null,0,u.W1O),u.YNc(2,AM,4,5,"ng-template",1)),2&t&&(u.xp6(2),u.Q6J("ngForOf",i.contexts))},dependencies:[M.ax,M.tP],encapsulation:2,changeDetection:0}),n})(),MI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[bO]}),n})();class NI{constructor(e,t,i){this.hour=Uc(e),this.minute=Uc(t),this.second=Uc(i)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=Yu(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){Yu(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){Yu(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return Yu(this.hour)&&Yu(this.minute)&&(!e||Yu(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let wO=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function TO(){return new CO}()},providedIn:"root"}),n})(),CO=(()=>{class n extends OI{fromModel(t){return t&&Fu(t.hour)&&Fu(t.minute)?{hour:t.hour,minute:t.minute,second:Fu(t.second)?t.second:null}:null}toModel(t){return t&&Fu(t.hour)&&Fu(t.minute)?{hour:t.hour,minute:t.minute,second:Fu(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),RI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function DO(n){return new SO(n)}(u.LFG(u.soG)),i},providedIn:"root"}),n})(),SO=(()=>{class n extends RI{constructor(t){super(),this._periods=(0,M.ol)(t,M.x.Standalone,M.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const IO=/[^0-9]/g;let AO=(()=>{class n{constructor(t,i,o,d){this._config=t,this._ngbTimeAdapter=i,this._cd=o,this.i18n=d,this.onChange=_=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Fu(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Fu(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Fu(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const i=this._ngbTimeAdapter.fromModel(t);this.model=i?new NI(i.hour,i.minute,i.second):new NI,!this.seconds&&(!i||!Yu(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const i=!!this.model&&this.model.hour>=12,o=Uc(t);this.model?.updateHour(this.meridian&&(i&&o<12||!i&&12===o)?o+12:o),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Uc(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Uc(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(IO,"")}formatHour(t){return Yu(t)?DE(this.meridian?t%12==0?12:t%12:t%24):DE(NaN)}formatMinSec(t){return DE(Yu(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!Yu(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wO),u.Y36(OI),u.Y36(u.sBO),u.Y36(RI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[u._Bn([{provide:Dn.JU,useExisting:(0,u.Gpc)(()=>n),multi:!0}]),u.TTD,u.jDz],decls:16,vars:25,consts:function(){let e,t,i,o,d,_,C,O,$,Y,he,xe,We,ft;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,o=$localize`:@@ngb.timepicker.minutes:Minutes`,d=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,_=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,C=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,O=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,$=$localize`:@@ngb.timepicker.SS:SS`,Y=$localize`:@@ngb.timepicker.seconds:Seconds`,he=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,xe=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,We=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,ft=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",o,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],d,[1,"chevron","ngb-tp-chevron","bottom"],_,C,O,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",$,"aria-label",Y,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],he,xe,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],We,ft]},template:function(t,i){1&t&&(u.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),u.YNc(3,xM,4,7,"button",3),u.TgZ(4,"input",4),u.NdJ("change",function(d){return i.updateHour(d.target.value)})("blur",function(){return i.handleBlur()})("input",function(d){return i.formatInput(d.target)})("keydown.ArrowUp",function(d){return i.changeHour(i.hourStep),d.preventDefault()})("keydown.ArrowDown",function(d){return i.changeHour(-i.hourStep),d.preventDefault()}),u.qZA(),u.YNc(5,MM,4,7,"button",3),u.qZA(),u.TgZ(6,"div",5),u._uU(7,":"),u.qZA(),u.TgZ(8,"div",6),u.YNc(9,NM,4,7,"button",3),u.TgZ(10,"input",7),u.NdJ("change",function(d){return i.updateMinute(d.target.value)})("blur",function(){return i.handleBlur()})("input",function(d){return i.formatInput(d.target)})("keydown.ArrowUp",function(d){return i.changeMinute(i.minuteStep),d.preventDefault()})("keydown.ArrowDown",function(d){return i.changeMinute(-i.minuteStep),d.preventDefault()}),u.qZA(),u.YNc(11,OM,4,7,"button",3),u.qZA(),u.YNc(12,RM,2,0,"div",8),u.YNc(13,FM,4,9,"div",9),u.YNc(14,LM,1,0,"div",8),u.YNc(15,UM,5,9,"div",10),u.qZA()()),2&t&&(u.ekj("disabled",i.disabled),u.Q6J("disabled",i.disabled),u.xp6(3),u.Q6J("ngIf",i.spinners),u.xp6(1),u.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),u.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),u.xp6(1),u.Q6J("ngIf",i.spinners),u.xp6(4),u.Q6J("ngIf",i.spinners),u.xp6(1),u.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),u.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),u.xp6(1),u.Q6J("ngIf",i.spinners),u.xp6(1),u.Q6J("ngIf",i.seconds),u.xp6(1),u.Q6J("ngIf",i.seconds),u.xp6(1),u.Q6J("ngIf",i.meridian),u.xp6(1),u.Q6J("ngIf",i.meridian))},dependencies:[M.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),PI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[AO]}),n})();const xO=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),SE(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},MO=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let NO=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),RO=(()=>{class n{constructor(t,i,o,d){this.ariaLive=t,this._zone=o,this._element=d,this.contentHeaderTpl=null,this.shown=new u.vpe,this.hidden=new u.vpe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,Wr.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Yl(this._zone,this._element.nativeElement,MO,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Yl(this._zone,this._element.nativeElement,xO,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(u.$8M("aria-live"),u.Y36(NO),u.Y36(u.R0b),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,i,o){if(1&t&&u.Suo(o,OO,7,u.Rgc),2&t){let d;u.iGM(d=u.CRH())&&(i.contentHeaderTpl=d.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,i){2&t&&(u.uIk("aria-live",i.ariaLive),u.ekj("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[u.TTD,u.jDz],ngContentSelectors:bC,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(u.F$t(),u.YNc(0,$M,2,1,"ng-template",null,0,u.W1O),u.YNc(2,GM,3,1,"ng-template",1),u.TgZ(3,"div",2),u.Hsn(4),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngIf",i.contentHeaderTpl||i.header))},dependencies:[M.O5,M.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),kI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[RO]}),n})(),FI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),PO=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=PS(this.result),o=Array.isArray(this.term)?this.term:[this.term],d=$=>this.accentSensitive?$:LS($),_=o.map($=>function ZM(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(d(PS($)))).filter($=>$),C=this.accentSensitive?i:LS(i),O=_.length?C.split(new RegExp(`(${_.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=O;else{let $=0;this.parts=O.map(Y=>i.substring($,$+=Y.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[u.TTD,u.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,i){1&t&&u.YNc(0,zM,3,2,"ng-template",0),2&t&&u.Q6J("ngForOf",i.parts)},dependencies:[M.O5,M.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function kO(){return 100}});let LI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[PO]}),n})(),BI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const FO=[mD,US,_D,SC,PC,hI,mI,MD,BI,SI,AI,xI,MI,PI,kI,FI,LI];let LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[FO,mD,US,_D,SC,PC,hI,mI,MD,BI,SI,AI,xI,MI,PI,kI,FI,LI]}),n})();class vw{constructor(){}ngOnInit(){}}vw.\u0275fac=function(e){return new(e||vw)},vw.\u0275cmp=u.Xpm({type:vw,selectors:[["app-carousel"]],standalone:!0,features:[u.jDz],decls:27,vars:0,consts:[["id","carouselCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","1","aria-label","Slide 2"],[1,"carousel-inner",2,"width","100%","height","400px !important"],[1,"carousel-item","active"],["src","assets/Planning.jpg",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block",2,"top","0","bottom","auto"],[1,"carousel-item"],["src","assets/Prepare.jpg",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"button",2)(3,"button",3),u.qZA(),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"img",6),u.TgZ(7,"div",7)(8,"h3"),u._uU(9,"Plan your travel"),u.qZA(),u.TgZ(10,"p"),u._uU(11,"Plan by capturing where, when, with whom."),u.qZA()()(),u.TgZ(12,"div",8),u._UZ(13,"img",9),u.TgZ(14,"div",10)(15,"h3"),u._uU(16,"Prepare your travel"),u.qZA(),u.TgZ(17,"p"),u._uU(18,"Checklist to track the booking and packing."),u.qZA()()()(),u.TgZ(19,"button",11),u._UZ(20,"span",12),u.TgZ(21,"span",13),u._uU(22,"Previous"),u.qZA()(),u.TgZ(23,"button",14),u._UZ(24,"span",15),u.TgZ(25,"span",13),u._uU(26,"Next"),u.qZA()()())},dependencies:[M.ez],styles:[".carousel-caption[_ngcontent-%COMP%]{position:absolute;z-index:10;top:0;bottom:auto;color:#e40808;text-align:center;font-weight:700;font-size:x-large}"]});class l0{constructor(){}ngOnInit(){}}function BO(n,e){1&n&&(u.TgZ(0,"div",12)(1,"span"),u._uU(2,"Please enter a valid email address"),u.qZA()())}function VO(n,e){1&n&&(u.TgZ(0,"div",12)(1,"span"),u._uU(2,"Please enter the Password"),u.qZA()())}l0.\u0275fac=function(e){return new(e||l0)},l0.\u0275cmp=u.Xpm({type:l0,selectors:[["app-home"]],standalone:!0,features:[u.jDz],decls:6,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-4","pull-md-left"],[1,"col-md-8","pull-md-right"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"router-outlet"),u.qZA(),u.TgZ(4,"div",3),u._UZ(5,"app-carousel"),u.qZA()()())},dependencies:[M.ez,tg.Bz,tg.lC,vw]});class NE{constructor(e){this.authService=e}ngOnInit(){this.reactiveForm=new Dn.cw({email:new Dn.NI(null,[Dn.kI.required,Dn.kI.email]),password:new Dn.NI(null,[Dn.kI.required])})}login(){this.reactiveForm.valid&&this.authService.SignIn(this.reactiveForm.value.email,this.reactiveForm.value.password)}}NE.\u0275fac=function(e){return new(e||NE)(u.Y36(hE.e))},NE.\u0275cmp=u.Xpm({type:NE,selectors:[["app-login"]],standalone:!0,features:[u.jDz],decls:24,vars:4,consts:[[1,"mb-3"],[3,"formGroup","ngSubmit"],["for","emailInput",1,"form-label"],["type","email","id","emailInput","formControlName","email",1,"form-control"],["class","showValidation",4,"ngIf"],["for","passwordInput",1,"form-label"],["type","password","id","passwordInput","formControlName","password",1,"form-control"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary","text-center","mt-4",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/signup",1,"button"],["routerLink","/forgot",1,"button"],[1,"showValidation"]],template:function(e,t){1&e&&(u.TgZ(0,"h4",0),u._uU(1,"Login"),u.qZA(),u.TgZ(2,"form",1),u.NdJ("ngSubmit",function(){return t.login()}),u.TgZ(3,"div",0)(4,"label",2),u._uU(5,"Email address"),u.qZA(),u._UZ(6,"input",3),u.YNc(7,BO,3,0,"div",4),u.qZA(),u.TgZ(8,"div",0)(9,"label",5),u._uU(10,"Password"),u.qZA(),u._UZ(11,"input",6),u.YNc(12,VO,3,0,"div",4),u.qZA(),u.TgZ(13,"div",7)(14,"button",8),u._uU(15,"Go"),u.qZA()()(),u.TgZ(16,"div",9)(17,"a",10)(18,"strong"),u._uU(19,"Register"),u.qZA()()(),u.TgZ(20,"div",9)(21,"a",11)(22,"strong"),u._uU(23,"Forgot Password?"),u.qZA()()()),2&e&&(u.xp6(2),u.Q6J("formGroup",t.reactiveForm),u.xp6(5),u.Q6J("ngIf",!t.reactiveForm.get("email").valid&&t.reactiveForm.get("email").touched),u.xp6(5),u.Q6J("ngIf",!t.reactiveForm.get("password").valid&&t.reactiveForm.get("password").touched),u.xp6(2),u.Q6J("disabled",!t.reactiveForm.valid))},dependencies:[M.ez,M.O5,Dn.UX,Dn._Y,Dn.Fj,Dn.JJ,Dn.JL,Dn.sg,Dn.u,tg.Bz,tg.rH],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.showValidation[_ngcontent-%COMP%]{color:red}"]});class yw{constructor(){}ngOnInit(){}}yw.\u0275fac=function(e){return new(e||yw)},yw.\u0275cmp=u.Xpm({type:yw,selectors:[["app-flow"]],standalone:!0,features:[u.jDz],decls:37,vars:0,consts:[[1,"text-center"],[1,"container","mt-3"],[1,"row","g-0","b-1"],[1,"col-lg-4"],[1,"card","text-black","bg-plan","rounded-0"],[1,"card-body"],[1,"card-text","text-start"],[1,"card","text-black","bg-prepare","rounded-0"],[1,"card","text-black","bg-tripon","rounded-0"]],template:function(e,t){1&e&&(u.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4"),u._uU(7,"Travel Plan"),u.qZA(),u.TgZ(8,"ul",6)(9,"li"),u._uU(10,"Capture where, when and with whom planning to travel"),u.qZA(),u.TgZ(11,"li"),u._uU(12,"Capture visiting places, transport, activities to do, food and stay"),u.qZA()()()()(),u.TgZ(13,"div",3)(14,"div",7)(15,"div",5)(16,"h4"),u._uU(17,"Prepare"),u.qZA(),u.TgZ(18,"ul",6)(19,"li"),u._uU(20,"Track your bookings for leave, transport, stay, activities"),u.qZA(),u.TgZ(21,"li"),u._uU(22,"Track your bag items using checklist"),u.qZA(),u.TgZ(23,"li"),u._uU(24,"Track your preparation status"),u.qZA()()()()(),u.TgZ(25,"div",3)(26,"div",8)(27,"div",5)(28,"h4"),u._uU(29,"Travel On"),u.qZA(),u.TgZ(30,"ul",6)(31,"li"),u._uU(32,"During travel, track your expenses against transport, food, shopping etc."),u.qZA(),u.TgZ(33,"li"),u._uU(34,"Add interesting notes"),u.qZA(),u.TgZ(35,"li"),u._uU(36,"Shared expenses are tracked with report"),u.qZA()()()()()()()())},dependencies:[M.ez],styles:[".container[_ngcontent-%COMP%]   .bg-plan[_ngcontent-%COMP%]{background-color:#639be4}.container[_ngcontent-%COMP%]   .bg-prepare[_ngcontent-%COMP%]{background-color:#ebe97e}.container[_ngcontent-%COMP%]   .bg-tripon[_ngcontent-%COMP%]{background-color:#addd9f}"]});const UO=[{text:"Own Car",value:"Own Car"},{text:"Hiring",value:"Hiring"},{text:"Cab/Public",value:"Cab/Public"},{text:"Flight",value:"Flight"},{text:"Ferry",value:"Ferry"},{text:"Walking",value:"Walking"}];class OE{constructor(e,t){this.store=e,this.authService=t,this.isLoading$=this.store.pipe((0,Ht.Ys)(ps)),this.error$=this.store.pipe((0,Ht.Ys)(so))}}const $O=["checkInput"];function HO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",8)(1,"input",9,10),u.NdJ("change",function(o){u.CHM(t);const d=u.oxw();return u.KtG(d.onSelectAllChange(o))}),u.qZA(),u.TgZ(3,"label",11),u._uU(4,"All"),u.qZA()()}}function GO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"option",12),u.NdJ("ngValue",function(){const d=u.CHM(t).$implicit;return u.KtG(d.value)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t.text)}}function jO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"div",15)(2,"div",16)(3,"span",17),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw(2);return u.KtG(_.openDetails(d))}),u._uU(4),u.TgZ(5,"span",18),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw(2);return u.KtG(_.removeTag(d))}),u._uU(6,"X"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(4),u.Oqu(t)}}function WO(n,e){if(1&n&&(u.TgZ(0,"div",13),u.YNc(1,jO,7,1,"div",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.tags)}}function zO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"div",15)(2,"div",16)(3,"span",19),u.NdJ("dblclick",function(){const d=u.CHM(t).$implicit,_=u.oxw(2);return u.KtG(_.removeTag(d))}),u._uU(4),u.TgZ(5,"span",18),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw(2);return u.KtG(_.removeTag(d))}),u._uU(6,"X"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(4),u.Oqu(t)}}function qO(n,e){if(1&n&&(u.TgZ(0,"div",13),u.YNc(1,zO,7,1,"div",14),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.tags)}}class zv{constructor(){this.showDetails=!0,this.showSelectAll=!1,this.allowEmptyTags=!1,this.isCollapsed=!0,this.value="-1",this.isSelectAll=!1,this.onTagClick=new u.vpe,this.touched=!1,this.disabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}ngOnChanges(){this.items&&this.checkInput?.nativeElement?.checked&&(this.checkInput.nativeElement.checked=!1)}onOptionsSelected(e){this.value=e.target.value,this.addtoTags(),e.target.value="-1",this.isCollapsed=!0}onSelectAllChange(e){e.target.checked?(this.tags=[],this.tags=this.items.map(t=>t.text)):this.tags=[],this.onChange(this.tags),this.isCollapsed=!0}addtoTags(){this.markAsTouched(),"-1"!==this.value&&!this.tags.includes(this.value)&&(this.tags=[...this.tags,this.value],this.onChange(this.tags))}removeTag(e){this.markAsTouched(),this.tags=this.tags?.filter(t=>t!=e),this.resetSelectAll(),this.onChange(this.tags)}openDetails(e){this.onTagClick.emit(e)}writeValue(e){this.tags=e??[],this.resetSelectAll()}resetSelectAll(){0===this.tags.length&&this.checkInput?.nativeElement?.checked&&(this.checkInput.nativeElement.checked=!1)}registerOnChange(e){this.onChange=e}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}validate(e){return this.allowEmptyTags||0!==this.tags?.length?null:{tagsAreEmpty:!0}}registerOnValidatorChange(e){}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}function KO(n,e){1&n&&(u.TgZ(0,"div",18)(1,"span"),u._uU(2,"Number required. "),u.qZA()())}function ZO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19)(1,"div",20)(2,"button",21),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.save())}),u._uU(3,"Set"),u.qZA(),u.TgZ(4,"button",22),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.cancel())}),u._uU(5,"Cancel"),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(2),u.Q6J("disabled",!t.formValid)}}function YO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",23),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.closeOffCanvas())}),u._uU(1,"Close"),u.qZA()}}zv.\u0275fac=function(e){return new(e||zv)},zv.\u0275cmp=u.Xpm({type:zv,selectors:[["app-selectformtag"]],viewQuery:function(e,t){if(1&e&&u.Gf($O,5),2&e){let i;u.iGM(i=u.CRH())&&(t.checkInput=i.first)}},inputs:{toggleLabel:"toggleLabel",items:"items",showDetails:"showDetails",showSelectAll:"showSelectAll",allowEmptyTags:"allowEmptyTags"},outputs:{onTagClick:"onTagClick"},standalone:!0,features:[u._Bn([{provide:Dn.JU,multi:!0,useExisting:(0,u.Gpc)(()=>zv)},{provide:Dn.Cf,multi:!0,useExisting:(0,u.Gpc)(()=>zv)}]),u.TTD,u.jDz],decls:13,vars:8,consts:[["role","button","aria-controls","toggleLabelLink",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mt-2","mb-2",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],["class","form-control form-check form-switch",4,"ngIf"],["aria-label",".form-select example",1,"form-control","form-select",3,"ngModel","ngModelChange","change"],["value","-1"],[3,"ngValue",4,"ngFor","ngForOf"],["class","itag-container",4,"ngIf"],[1,"form-control","form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"change"],["checkInput",""],["for","flexSwitchCheckDefault",1,"form-check-label"],[3,"ngValue"],[1,"itag-container"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"itag-tag",3,"click"],[1,"close",3,"click"],[1,"itag-tag",3,"dblclick"]],template:function(e,t){if(1&e){const i=u.EpF();u.TgZ(0,"div")(1,"div",0),u.NdJ("click",function(){u.CHM(i);const d=u.MAs(5);return u.KtG(d.toggle())}),u.TgZ(2,"strong"),u._uU(3),u.qZA()(),u.TgZ(4,"div",1,2),u.NdJ("ngbCollapseChange",function(d){return t.isCollapsed=d}),u.YNc(6,HO,5,0,"div",3),u.TgZ(7,"select",4),u.NdJ("ngModelChange",function(d){return t.value=d})("change",function(d){return t.onOptionsSelected(d)}),u.TgZ(8,"option",5),u._uU(9,"Choose"),u.qZA(),u.YNc(10,GO,2,1,"option",6),u.qZA()(),u.YNc(11,WO,2,1,"div",7),u.YNc(12,qO,2,1,"div",7),u.qZA()}2&e&&(u.xp6(1),u.uIk("aria-expanded",t.isCollapsed),u.xp6(2),u.Oqu(t.toggleLabel),u.xp6(1),u.Q6J("ngbCollapse",t.isCollapsed),u.xp6(2),u.Q6J("ngIf",t.showSelectAll),u.xp6(1),u.Q6J("ngModel",t.value),u.xp6(3),u.Q6J("ngForOf",t.items),u.xp6(1),u.Q6J("ngIf",t.showDetails),u.xp6(1),u.Q6J("ngIf",!t.showDetails))},dependencies:[M.ez,M.sg,M.O5,Dn.u5,Dn.YN,Dn.Kr,Dn.EJ,Dn.JJ,Dn.On,SC,jS],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-tag[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;line-height:50px;cursor:pointer;word-break:break-all;color:#00f}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-weight:700}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}"]});const JO=function(n){return{show:n}};class RE{constructor(e){this.fb=e,this.isOpen=!1,this.data={},this.formValid=!1,this.formDirty=!1,this.onSave=new u.vpe,this.title="",this.reactiveForm=this.fb.group({comments:new Dn.NI(null),cost:new Dn.NI(null,[Dn.kI.pattern(/^\d+(\.\d+)?$/)]),paidBy:new Dn.NI(null),sharedWith:new Dn.NI([])}),this.initialValue={name:this.data.tag?.name??null},this.commentsSubscription=this.reactiveForm.get("comments").valueChanges.subscribe(i=>{i&&(this.data={...this.data,tag:{...this.data.tag,comments:i}},this.setFormState())}),this.costSubscription=this.reactiveForm.get("cost").valueChanges.subscribe(i=>{i&&(this.data={...this.data,tag:{...this.data.tag,expense:{...this.data.tag.expense,cost:i}}},this.setFormState())}),this.paidBySubscription=this.reactiveForm.get("paidBy").valueChanges.subscribe(i=>{if(i){const o=i?.filter(_=>!this.data.tag.expense?.paidBy?.find(C=>C===_))??[],d=this.data.tag.expense?.paidBy?.filter(_=>i.includes(_))??[];this.data={...this.data,tag:{...this.data.tag,expense:{...this.data.tag.expense,paidBy:d.concat(o)}}},this.setFormState()}}),this.sharedWithSubscription=this.reactiveForm.get("sharedWith").valueChanges.subscribe(i=>{if(i){const o=i?.filter(_=>!this.data.tag.expense?.sharedWith?.find(C=>C===_))??[],d=this.data.tag.expense?.sharedWith?.filter(_=>i.includes(_))??[];this.data={...this.data,tag:{...this.data.tag,expense:{...this.data.tag.expense,sharedWith:d.concat(o)}}},this.setFormState()}})}ngOnChanges(){this.data&&(this.initialValue={...this.initialValue,name:this.data.tag?.name??null,comments:this.data.tag?.comments??null,expense:this.data.tag?.expense??null},this.reactiveForm.patchValue({comments:this.data.tag?.comments??null,cost:this.data.tag?.expense?.cost??null,paidBy:this.data.tag?.expense?.paidBy??null,sharedWith:this.data?.tag?.expense?.sharedWith??null}),this.title=`${this.data?.tag?.name}`)}setFormState(){this.formValid=this.reactiveForm.valid,this.formDirty=this.reactiveForm.dirty}toggleOffcanvas(){this.isOpen=!this.isOpen}showOffCanvas(){this.isOpen=!0}closeOffCanvas(){this.isOpen=!1}onHidden(){this.reactiveForm.reset(),this.setFormState()}save(){this.formValid&&this.formDirty&&(this.onSave.emit(this.data),this.reactiveForm.markAsPristine(),this.setFormState())}cancel(){this.reactiveForm.reset({comments:this.initialValue?.comments,cost:this.initialValue?.expense?.cost,paidBy:this.initialValue?.expense?.paidBy,sharedWith:this.initialValue?.expense?.sharedWith}),this.setFormState()}ngOnDestroy(){this.commentsSubscription&&this.commentsSubscription.unsubscribe(),this.costSubscription&&this.costSubscription.unsubscribe(),this.paidBySubscription&&this.paidBySubscription.unsubscribe(),this.sharedWithSubscription&&this.sharedWithSubscription.unsubscribe()}}RE.\u0275fac=function(e){return new(e||RE)(u.Y36(Dn.qu))},RE.\u0275cmp=u.Xpm({type:RE,selectors:[["app-offcanvasdetails"]],inputs:{data:"data"},outputs:{onSave:"onSave"},standalone:!0,features:[u.TTD,u.jDz],decls:23,vars:15,consts:[["tabindex","-1","id","myOffcanvas","aria-labelledby","offcanvasLabel",1,"offcanvas","offcanvas-end",3,"ngClass","hidden"],[1,"offcanvas-header"],["type","button","aria-label","Close",1,"btn-close","text-reset",3,"click"],["id","offcanvasLabel",1,"offcanvas-title"],[1,"offcanvas-body"],[1,"form-group",3,"formGroup"],[1,"mb-3","form-floating"],["placeholder","Comments","id","floatingTextareaComments","formControlName","comments",1,"form-control"],["for","floatingTextareaComments"],["type","text","placeholder","Cost","id","floatingInputCost","name","name","formControlName","cost",1,"form-control"],["for","floatingInputCost"],["class","showValidation",4,"ngIf"],[1,"mb-3"],["id","paidBySelect","toggleLabel","Paid By","formControlName","paidBy",3,"allowEmptyTags","items","showDetails"],["id","sharedWithSelect","toggleLabel","Share expense with","formControlName","sharedWith",3,"allowEmptyTags","items","showDetails","showSelectAll"],[1,"col","text-center","mt-5"],["class","row",4,"ngIf"],["type","submit","class","btn btn-primary btn-sm text-center",3,"click",4,"ngIf"],[1,"showValidation"],[1,"row"],["col-sm-6","","text-center",""],["type","submit",1,"btn","btn-primary","text-center","btn-sm","me-2",3,"disabled","click"],["type","submit",1,"btn","btn-primary","text-center","btn-sm","ms-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-sm","text-center",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.NdJ("hidden",function(){return t.onHidden()}),u.TgZ(1,"div",1)(2,"button",2),u.NdJ("click",function(){return t.closeOffCanvas()}),u.qZA(),u.TgZ(3,"h5",3),u._uU(4),u.qZA()(),u.TgZ(5,"div",4)(6,"form",5)(7,"div",6),u._UZ(8,"textarea",7),u.TgZ(9,"label",8),u._uU(10,"Comments"),u.qZA()(),u.TgZ(11,"div",6),u._UZ(12,"input",9),u.TgZ(13,"label",10),u._uU(14,"Cost (xxx.xx)"),u.qZA(),u.YNc(15,KO,3,0,"div",11),u.qZA(),u.TgZ(16,"div",12),u._UZ(17,"app-selectformtag",13),u.qZA(),u.TgZ(18,"div",12),u._UZ(19,"app-selectformtag",14),u.qZA(),u.TgZ(20,"div",15),u.YNc(21,ZO,6,1,"div",16),u.YNc(22,YO,2,0,"button",17),u.qZA()()()()),2&e&&(u.Q6J("ngClass",u.VKq(13,JO,t.isOpen)),u.xp6(4),u.hij("",t.title," Details"),u.xp6(2),u.Q6J("formGroup",t.reactiveForm),u.xp6(9),u.Q6J("ngIf",!t.reactiveForm.get("cost").valid&&t.reactiveForm.get("cost").touched&&t.reactiveForm.get("cost").dirty),u.xp6(2),u.Q6J("allowEmptyTags",!0)("items",null==t.data?null:t.data.people)("showDetails",!1),u.xp6(2),u.Q6J("allowEmptyTags",!0)("items",null==t.data?null:t.data.people)("showDetails",!1)("showSelectAll",!0),u.xp6(2),u.Q6J("ngIf",t.formDirty),u.xp6(1),u.Q6J("ngIf",!t.formDirty&&t.formValid))},dependencies:[M.ez,M.mk,M.O5,Dn.UX,Dn._Y,Dn.Fj,Dn.JJ,Dn.JL,Dn.sg,Dn.u,zv],styles:[".offcanvas-end[_ngcontent-%COMP%]{right:0;transform:translate(100%);max-width:80%;top:2%;bottom:2%}.offcanvas.show[_ngcontent-%COMP%]{transform:translate(0)}.showValidation[_ngcontent-%COMP%]{color:red}.offcanvas-backdrop[_ngcontent-%COMP%]{opacity:.5;background-color:#000}.offcanvas[_ngcontent-%COMP%]{border-color:#151616}"],changeDetection:0});var VI=L(7489);function QO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"div",6)(2,"div",7)(3,"span",8),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.openDetails(d))}),u._uU(4),u.TgZ(5,"span",9),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.removeTag(d))}),u._uU(6,"X"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(4),u.Oqu(t)}}class c0{constructor(){this.allowEmptyTags=!1,this.onTagClick=new u.vpe,this.isCollapsed=!0,this.userInput="",this.tags=[],this.touched=!1,this.disabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}ngOnInit(){}addtoTags(){if(this.markAsTouched(),this.userInput.length>0&&this.tags?.indexOf(this.userInput)<0){let e=this.userInput.replace(/\w+/g,VI.startCase);this.tags=[...this.tags,e],this.onChange(this.tags),this.userInput=""}this.isCollapsed=!0}removeTag(e){this.markAsTouched(),this.tags=this.tags?.filter(t=>t!=e),this.onChange(this.tags)}openDetails(e){this.onTagClick.emit(e)}writeValue(e){this.tags=e}registerOnChange(e){this.onChange=e}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}validate(e){return this.allowEmptyTags||0!==this.tags?.length?null:{tagsAreEmpty:!0}}registerOnValidatorChange(e){}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}function XO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",14),u.NdJ("mouseenter",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.hoveredDate=d)})("mouseleave",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.hoveredDate=null)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit,i=e.focused,o=u.oxw();u.ekj("disable",o.isDisabled(t))("focused",i)("range",o.isRange(t))("faded",o.isHovered(t)||o.isInside(t)),u.xp6(1),u.hij(" ",t.day," ")}}function eR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",15),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.onPrevious())}),u._uU(2),u.qZA(),u.BQk()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("disabled",t.formDirty),u.xp6(1),u.Oqu("< Previous")}}function tR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",16),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.onPrevious())}),u._uU(2),u.qZA(),u.BQk()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("disabled",t.formDirty),u.xp6(1),u.Oqu("< Previous")}}function nR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",17),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.saveTrip())}),u._uU(2,"Save"),u.qZA(),u.TgZ(3,"button",18),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.cancelChanges())}),u._uU(4,"Cancel"),u.qZA(),u.BQk()}}function rR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",17),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.saveTrip())}),u._uU(2,"Save"),u.qZA(),u.TgZ(3,"button",18),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.cancelChanges())}),u._uU(4,"Cancel"),u.qZA(),u.BQk()}}function iR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",19),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.onNext())}),u._uU(2),u.qZA(),u.BQk()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("disabled",t.formDirty),u.xp6(1),u.Oqu("Next >")}}c0.\u0275fac=function(e){return new(e||c0)},c0.\u0275cmp=u.Xpm({type:c0,selectors:[["app-textformtag"]],inputs:{toggleLabel:"toggleLabel",placeholderText:"placeholderText",allowEmptyTags:"allowEmptyTags"},outputs:{onTagClick:"onTagClick"},standalone:!0,features:[u._Bn([{provide:Dn.JU,multi:!0,useExisting:(0,u.Gpc)(()=>c0)},{provide:Dn.Cf,multi:!0,useExisting:(0,u.Gpc)(()=>c0)}]),u.jDz],decls:9,vars:6,consts:[["role","button","aria-controls","toggleLabelLink",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mt-2","mb-2",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],["type","text","id","nameInput",1,"form-control","itag-input",3,"placeholder","ngModel","ngModelChange","keydown.enter","focusout"],[1,"itag-container"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"itag-tag",3,"click"],[1,"close",3,"click"]],template:function(e,t){if(1&e){const i=u.EpF();u.TgZ(0,"div")(1,"div",0),u.NdJ("click",function(){u.CHM(i);const d=u.MAs(5);return u.KtG(d.toggle())}),u.TgZ(2,"strong"),u._uU(3),u.qZA()(),u.TgZ(4,"div",1,2),u.NdJ("ngbCollapseChange",function(d){return t.isCollapsed=d}),u.TgZ(6,"input",3),u.NdJ("ngModelChange",function(d){return t.userInput=d})("keydown.enter",function(){return t.addtoTags()})("focusout",function(){return t.addtoTags()}),u.qZA()(),u.TgZ(7,"div",4),u.YNc(8,QO,7,1,"div",5),u.qZA()()}2&e&&(u.xp6(1),u.uIk("aria-expanded",t.isCollapsed),u.xp6(2),u.Oqu(t.toggleLabel),u.xp6(1),u.Q6J("ngbCollapse",t.isCollapsed),u.xp6(2),u.s9C("placeholder",t.placeholderText),u.Q6J("ngModel",t.userInput),u.xp6(2),u.Q6J("ngForOf",t.tags))},dependencies:[M.ez,M.sg,Dn.u5,Dn.Fj,Dn.JJ,Dn.On,SC,jS],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-tag[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;line-height:50px;cursor:pointer;word-break:break-all;color:#00f}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-weight:700}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}"]});const sR=function(n,e,t){return{year:n,month:e,day:t}};class Ew extends OE{constructor(e,t,i,o){super(i),this.fb=e,this.parserFormatter=o,this.onNavigate=new u.vpe,this.formValid=!1,this.formDirty=!1,this.nextSlideExists=!1,this.offCanvasData={},this.hoveredDate=null,this.current=new Date,this.minDate={year:this.current.getFullYear(),month:this.current.getMonth()+1,day:this.current.getDate()},this.maxDate=this.minDate,this.isDisabled=d=>{const _=new Date(d.year,d.month-1,d.day);return _<new Date(this.minDate.year,this.minDate.month-1,this.minDate.day)||_>new Date(this.maxDate.year,this.maxDate.month-1,this.maxDate.day)},this.transportOptions=UO}ngOnInit(){this.trip&&this.setupReactiveForm(),this.fromDateSubscription=this.reactiveForm.get("fromDate").valueChanges.subscribe(e=>{this.currentPlace={...this.currentPlace,start_at:this.parserFormatter.format(e)},this.setFormState()}),this.toDateSubscription=this.reactiveForm.get("toDate").valueChanges.subscribe(e=>{this.currentPlace={...this.currentPlace,end_at:this.parserFormatter.format(e)},this.setFormState()}),this.transportsSubscription=this.reactiveForm.get("transports").valueChanges.subscribe(e=>{const i=(e.filter(d=>!this.currentPlace.transports?.find(_=>_.name===d))??[]).map(d=>({name:d})),o=this.currentPlace.transports?.filter(d=>e.includes(d.name))??[];this.currentPlace={...this.currentPlace,transports:o.concat(i)},this.setFormState()}),this.staysSubscription=this.reactiveForm.get("stays").valueChanges.subscribe(e=>{const i=(e.filter(d=>!this.currentPlace.stays?.find(_=>_.name===d))??[]).map(d=>({name:d})),o=this.currentPlace.stays?.filter(d=>e.includes(d.name))??[];this.currentPlace={...this.currentPlace,stays:o.concat(i)},this.setFormState()}),this.activitiesSubscription=this.reactiveForm.get("activities").valueChanges.subscribe(e=>{const i=(e.filter(d=>!this.currentPlace.activities?.find(_=>_.name===d))??[]).map(d=>({name:d})),o=this.currentPlace.activities?.filter(d=>e.includes(d.name))??[];this.currentPlace={...this.currentPlace,activities:o.concat(i)},this.setFormState()})}setupReactiveForm(e=!1){this.currentPlace=this.trip.places[this.slideIndex],this.nextSlideExists=!!this.trip.places[this.slideIndex+1];let t=new Date(this.trip.start_at),i=new Date(this.trip.end_at);this.minDate=new ko(t.getFullYear(),t.getMonth()+1,t.getDate()),this.maxDate=new ko(i.getFullYear(),i.getMonth()+1,i.getDate());const{start_at:o,end_at:d}=this.currentPlace;let _=o?new Date(o):t,C=d?new Date(d):i,O=this.currentPlace.transports?.map(he=>he.name)??[],$=this.currentPlace.stays?.map(he=>he.name)??[],Y=this.currentPlace.activities?.map(he=>he.name)??[];e?this.reactiveForm.reset({fromDate:new ko(_.getFullYear(),_.getMonth()+1,_.getDate()),toDate:new ko(C.getFullYear(),C.getMonth()+1,C.getDate()),transports:O,stays:$,activities:Y}):this.reactiveForm=this.fb.group({fromDate:new Dn.NI(new ko(_.getFullYear(),_.getMonth()+1,_.getDate())),toDate:new Dn.NI(new ko(C.getFullYear(),C.getMonth()+1,C.getDate())),transports:new Dn.NI(O),stays:new Dn.NI($),activities:new Dn.NI(Y)})}setFormState(){this.formValid=this.reactiveForm.valid,this.formDirty=this.reactiveForm.dirty}ngOnChanges(e){let t=e.trip;if(t&&t.previousValue&&t.currentValue&&t.previousValue!==t.currentValue){if(t.previousValue.start_at!==t.currentValue.start_at){const i=new Date(t.currentValue.start_at);this.minDate=new ko(i.getFullYear(),i.getMonth()+1,i.getDate()),this.reactiveForm.patchValue({fromDate:this.minDate})}if(t.previousValue.end_at!==t.currentValue.end_at){const i=new Date(t.currentValue.end_at);this.maxDate=new ko(i.getFullYear(),i.getMonth()+1,i.getDate()),this.reactiveForm.patchValue({toDate:this.maxDate})}t.previousValue.places.length!==t.currentValue.places.length&&(this.nextSlideExists=!!this.trip.places[this.slideIndex+1])}}ngAfterViewInit(){}ngOnDestroy(){this.fromDateSubscription&&this.fromDateSubscription.unsubscribe(),this.toDateSubscription&&this.toDateSubscription.unsubscribe(),this.transportsSubscription&&this.transportsSubscription.unsubscribe(),this.staysSubscription&&this.staysSubscription.unsubscribe(),this.activitiesSubscription&&this.activitiesSubscription.unsubscribe()}tagClicked(e,t){let i={};switch(i.type=e,e){case"transport":i.tag=this.currentPlace.transports.find(o=>o.name===t);break;case"stay":i.tag=this.currentPlace.stays.find(o=>o.name===t);break;case"activity":i.tag=this.currentPlace.activities.find(o=>o.name===t)}i.people=this.trip.people.map(o=>({text:o.name,value:o.name})),this.offCanvasData=i,this.offcanvasdetailsComponent.showOffCanvas()}saveTagData(e){switch(e.type){case"transport":const t=this.currentPlace.transports.findIndex(he=>he.name===e.tag.name),i={...this.currentPlace.transports[t],comments:e.tag.comments,expense:e.tag.expense},o=[...this.currentPlace.transports.slice(0,t),i,...this.currentPlace.transports.slice(t+1)];this.currentPlace={...this.currentPlace,transports:o},this.reactiveForm.get("transports").markAsDirty();break;case"stay":const d=this.currentPlace.stays.findIndex(he=>he.name===e.tag.name),_={...this.currentPlace.stays[d],comments:e.tag.comments,expense:e.tag.expense},C=[...this.currentPlace.stays.slice(0,d),_,...this.currentPlace.stays.slice(d+1)];this.currentPlace={...this.currentPlace,stays:C},this.reactiveForm.get("stays").markAsDirty();break;case"activity":const O=this.currentPlace.activities.findIndex(he=>he.name===e.tag.name),$={...this.currentPlace.activities[O],comments:e.tag.comments,expense:e.tag.expense},Y=[...this.currentPlace.activities.slice(0,O),$,...this.currentPlace.activities.slice(O+1)];this.currentPlace={...this.currentPlace,activities:Y},this.reactiveForm.get("activities").markAsDirty()}this.setFormState()}onNext(){this.onNavigate.emit(!0)}onPrevious(){this.onNavigate.emit(!1)}saveTrip(){if(this.reactiveForm.valid&&this.reactiveForm.dirty){const{fromDate:e,toDate:t}=this.reactiveForm.value;let i={name:this.currentPlace.name,start_at:this.parserFormatter.format(e),end_at:this.parserFormatter.format(t),transports:this.currentPlace.transports??null,stays:this.currentPlace.stays??null,activities:this.currentPlace.activities??null};this.store.dispatch(Ju({place:{...i}})),this.reactiveForm.markAsPristine(),this.setFormState()}}cancelChanges(){this.setupReactiveForm(!0),this.setFormState()}onDateSelection(e){this.reactiveForm.value.fromDate||this.reactiveForm.value.toDate?this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)?this.reactiveForm.patchValue({toDate:e}):(this.reactiveForm.patchValue({toDate:null}),this.reactiveForm.patchValue({fromDate:e})):this.reactiveForm.patchValue({fromDate:e}),this.reactiveForm.get("fromDate").markAsDirty(),this.reactiveForm.get("toDate").markAsDirty()}isHovered(e){return this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&this.hoveredDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.hoveredDate)}isInside(e){return this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.reactiveForm.value.toDate)}isRange(e){return e.equals(this.reactiveForm.value.fromDate)||this.reactiveForm.value.toDate&&e.equals(this.reactiveForm.value.toDate)||this.isInside(e)||this.isHovered(e)}}function oR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"span",5),u.NdJ("dblclick",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.removeTag(d))}),u._uU(4),u.TgZ(5,"span",6),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.removeTag(d))}),u._uU(6,"X"),u.qZA()()()()()}if(2&n){const t=e.$implicit;u.xp6(4),u.Oqu(t)}}Ew.\u0275fac=function(e){return new(e||Ew)(u.Y36(Dn.qu),u.Y36(AE),u.Y36(Ht.yh),u.Y36(MC))},Ew.\u0275cmp=u.Xpm({type:Ew,selectors:[["app-place"]],viewQuery:function(e,t){if(1&e&&(u.Gf(s0,5,u.SBq),u.Gf(RE,5)),2&e){let i;u.iGM(i=u.CRH())&&(t.datePicker=i.first),u.iGM(i=u.CRH())&&(t.offcanvasdetailsComponent=i.first)}},inputs:{slideIndex:"slideIndex",trip:"trip"},outputs:{onNavigate:"onNavigate"},standalone:!0,features:[u.qOj,u.TTD,u.jDz],decls:24,vars:21,consts:[[1,"container"],[3,"data","onSave"],[1,"form-group",3,"formGroup"],[1,"mb-3"],["for","placeDatesInput",1,"form-label"],["outsideDays","hidden",1,"ngb-dp",3,"id","displayMonths","dayTemplate","minDate","markDisabled","dateSelect"],["dpPlace{{slideIndex}}",""],["t",""],["toggleLabel","Add Transport","formControlName","transports",3,"allowEmptyTags","items","onTagClick"],["toggleLabel","Add Stays","placeholderText","Ex: Airbnb at XXX","formControlName","stays",3,"allowEmptyTags","onTagClick"],["toggleLabel","Add Activities","placeholderText","Ex: Waitomo Caves on 11th Sunday","formControlName","activities",3,"allowEmptyTags","onTagClick"],[1,"row","justify-content-center","mt-3"],[1,"col","text-center"],[4,"ngIf"],[1,"custom-day",3,"mouseenter","mouseleave"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"disabled","click"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-3",3,"disabled","click"]],template:function(e,t){if(1&e&&(u.TgZ(0,"div",0)(1,"app-offcanvasdetails",1),u.NdJ("onSave",function(o){return t.saveTagData(o)}),u.qZA(),u.TgZ(2,"form",2)(3,"div",3)(4,"label",4),u._uU(5),u.qZA(),u._UZ(6,"br"),u.TgZ(7,"ngb-datepicker",5,6),u.NdJ("dateSelect",function(o){return t.onDateSelection(o)}),u.qZA(),u.YNc(9,XO,2,9,"ng-template",null,7,u.W1O),u.qZA(),u.TgZ(11,"div",3)(12,"app-selectformtag",8),u.NdJ("onTagClick",function(o){return t.tagClicked("transport",o)}),u.qZA()(),u.TgZ(13,"div",3)(14,"app-textformtag",9),u.NdJ("onTagClick",function(o){return t.tagClicked("stay",o)}),u.qZA()(),u.TgZ(15,"div",3)(16,"app-textformtag",10),u.NdJ("onTagClick",function(o){return t.tagClicked("activity",o)}),u.qZA()(),u.TgZ(17,"div",11)(18,"div",12),u.YNc(19,eR,3,2,"ng-container",13),u.YNc(20,tR,3,2,"ng-container",13),u.YNc(21,nR,5,0,"ng-container",13),u.YNc(22,rR,5,0,"ng-container",13),u.YNc(23,iR,3,2,"ng-container",13),u.qZA()()()()),2&e){const i=u.MAs(10);u.xp6(1),u.Q6J("data",t.offCanvasData),u.xp6(1),u.Q6J("formGroup",t.reactiveForm),u.xp6(3),u.hij("Start & End Dates at ",t.currentPlace.name,""),u.xp6(2),u.MGl("id","dpPlace",t.slideIndex,""),u.Q6J("displayMonths",1)("dayTemplate",i)("minDate",u.kEZ(17,sR,t.minDate.year,t.minDate.month,t.minDate.day))("markDisabled",t.isDisabled),u.xp6(5),u.Q6J("allowEmptyTags",!0)("items",t.transportOptions),u.xp6(2),u.Q6J("allowEmptyTags",!0),u.xp6(2),u.Q6J("allowEmptyTags",!0),u.xp6(3),u.Q6J("ngIf",t.nextSlideExists&&!t.formDirty),u.xp6(1),u.Q6J("ngIf",!t.nextSlideExists&&!t.formDirty),u.xp6(1),u.Q6J("ngIf",t.formDirty&&t.nextSlideExists),u.xp6(1),u.Q6J("ngIf",t.formValid&&t.formDirty&&!t.nextSlideExists),u.xp6(1),u.Q6J("ngIf",t.nextSlideExists&&!t.formDirty)}},dependencies:[M.ez,M.O5,Dn.UX,Dn._Y,Dn.JJ,Dn.JL,Dn.sg,Dn.u,PC,s0,c0,zv,RE],styles:[".ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{background-color:#e5e9ec80;text-decoration:line-through}.ngb-dp[_ngcontent-%COMP%]   .custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.ngb-dp[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%], .ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.ngb-dp[_ngcontent-%COMP%]   .custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}.ngb-dp[_ngcontent-%COMP%]   .custom-day.disable[_ngcontent-%COMP%]{opacity:.7;pointer-events:none;text-decoration:line-through;background-color:#e9e9e9}"],changeDetection:0});class d0{constructor(){this.userInput="",this.tags=[],this.onChange=e=>{},this.onTouched=()=>{},this.touched=!1,this.disabled=!1}writeValue(e){this.tags=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}setDisabledState(e){this.disabled=e}validate(e){return 0===this.tags?.length?{tagsAreEmpty:!0}:null}ngOnInit(){}addtoTags(){if(this.markAsTouched(),!this.disabled&&this.userInput.length>0){let e=this.userInput.replace(/\w+/g,VI.startCase);this.tags?.indexOf(e)<0&&(this.tags=[...this.tags,e],this.onChange(this.tags))}this.userInput=""}removeTag(e){this.markAsTouched(),this.tags=this.tags.filter(t=>t!=e),this.onChange(this.tags)}}d0.\u0275fac=function(e){return new(e||d0)},d0.\u0275cmp=u.Xpm({type:d0,selectors:[["app-inputformtag"]],inputs:{placeholderText:"placeholderText"},standalone:!0,features:[u._Bn([{provide:Dn.JU,multi:!0,useExisting:(0,u.Gpc)(()=>d0)},{provide:Dn.Cf,multi:!0,useExisting:(0,u.Gpc)(()=>d0)}]),u.jDz],decls:3,vars:3,consts:[[1,"itag-container"],["type","text","id","nameInput","name","name",1,"form-control","itag-input",3,"placeholder","ngModel","ngModelChange","focusout","keydown.enter"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"itag-tag",3,"dblclick"],[1,"close",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"input",1),u.NdJ("ngModelChange",function(o){return t.userInput=o})("focusout",function(){return t.addtoTags()})("keydown.enter",function(){return t.addtoTags()}),u.qZA(),u.YNc(2,oR,7,1,"div",2),u.qZA()),2&e&&(u.xp6(1),u.s9C("placeholder",t.placeholderText),u.Q6J("ngModel",t.userInput),u.xp6(1),u.Q6J("ngForOf",t.tags))},dependencies:[M.ez,M.sg,Dn.u5,Dn.Fj,Dn.JJ,Dn.On],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-tag[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;line-height:50px;cursor:pointer;word-break:break-all;color:#00f}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-weight:700}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}"]});var UI=L(4465);const aR=["dpTravel"];function uR(n,e){1&n&&(u.TgZ(0,"div",18)(1,"span"),u._uU(2,"Please add places"),u.qZA()())}function lR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",19),u.NdJ("mouseenter",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.hoveredDate=d)})("mouseleave",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.hoveredDate=null)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit,i=e.focused,o=u.oxw();u.ekj("disable",o.isDisabled(t))("focused",i)("range",o.isRange(t))("faded",o.isHovered(t)||o.isInside(t)),u.xp6(1),u.hij(" ",t.day," ")}}function cR(n,e){1&n&&(u.TgZ(0,"div",18)(1,"span"),u._uU(2,"Please add people"),u.qZA()())}function dR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",20),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.saveTrip())}),u._uU(1,"Save"),u.qZA()}}function hR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",21),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.cancelChanges())}),u._uU(1,"Cancel"),u.qZA()}}function fR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",22),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.createTrip())}),u._uU(1,"Create"),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("disabled",!t.formValid)}}function pR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",23),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.onNext())}),u._uU(1),u.qZA()}2&n&&(u.xp6(1),u.Oqu("Next >"))}const gR=function(n,e,t){return{year:n,month:e,day:t}};class bw extends OE{constructor(e,t,i,o,d,_){super(e,t),this.fb=i,this.calendar=o,this.parserFormatter=d,this.toastService=_,this.onNavigate=new u.vpe,this.formValid=!1,this.formDirty=!1,this.hoveredDate=null,this.current=new Date,this.minDate={year:this.current.getFullYear(),month:this.current.getMonth()+1,day:this.current.getDate()},this.isDisabled=C=>new Date(C.year,C.month-1,C.day)<new Date(this.minDate.year,this.minDate.month-1,this.minDate.day)}ngOnInit(){if(this.trip){let e=this.trip.places.map(d=>d.name),t=this.trip.people.map(d=>d.name),i=new Date(this.trip.start_at),o=new Date(this.trip.end_at);this.reactiveForm=this.fb.group({places:new Dn.NI(e,[Dn.kI.required]),people:new Dn.NI(t,[Dn.kI.required]),fromDate:new Dn.NI(new ko(i.getFullYear(),i.getMonth()+1,i.getDate()),Dn.kI.required),toDate:new Dn.NI(new ko(o.getFullYear(),o.getMonth()+1,o.getDate()),Dn.kI.required)})}else this.reactiveForm=this.fb.group({places:new Dn.NI([],[Dn.kI.required]),people:new Dn.NI([],[Dn.kI.required]),fromDate:new Dn.NI(this.calendar.getToday(),Dn.kI.required),toDate:new Dn.NI(this.calendar.getNext(this.calendar.getToday(),"d",5),Dn.kI.required)});this.formSubscription=this.reactiveForm.valueChanges.subscribe(e=>{this.setFormState()})}setFormState(){this.formValid=this.reactiveForm.valid,this.formDirty=this.reactiveForm.dirty}ngAfterViewInit(){this.trip&&this.datepicker.navigateTo({year:this.reactiveForm.value.fromDate.year,month:this.reactiveForm.value.fromDate.month})}onDateSelection(e){this.reactiveForm.value.fromDate||this.reactiveForm.value.toDate?this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)?this.reactiveForm.patchValue({toDate:e}):(this.reactiveForm.patchValue({toDate:null}),this.reactiveForm.patchValue({fromDate:e})):this.reactiveForm.patchValue({fromDate:e}),this.reactiveForm.get("fromDate").markAsDirty(),this.reactiveForm.get("toDate").markAsDirty()}isHovered(e){return this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&this.hoveredDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.hoveredDate)}isInside(e){return this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.reactiveForm.value.toDate)}isRange(e){return e.equals(this.reactiveForm.value.fromDate)||this.reactiveForm.value.toDate&&e.equals(this.reactiveForm.value.toDate)||this.isInside(e)||this.isHovered(e)}saveTrip(){if(this.reactiveForm.valid&&this.reactiveForm.dirty){const{places:e,fromDate:t,toDate:i,people:o}=this.reactiveForm.value,d=this.trip.places.filter(Y=>e.includes(Y.name)),_=d.map(Y=>Y.name);e.forEach(Y=>{_.includes(Y)||d.push({name:Y})});const C=this.trip.people.filter(Y=>o.includes(Y.name)),O=C.map(Y=>Y.name);o.forEach(Y=>{O.includes(Y)||C.push({name:Y})});let $={places:d,start_at:this.parserFormatter.format(t),end_at:this.parserFormatter.format(i),people:C,userId:this.trip.userId,id:this.trip.id};this.store.dispatch(Hi({trip:{...$}})),this.reactiveForm.markAsPristine(),this.setFormState()}}createTrip(){if(this.reactiveForm.valid&&this.reactiveForm.dirty){this.formDirty=!1;const{places:e,fromDate:t,toDate:i,people:o}=this.reactiveForm.value;let d={places:e.map(_=>({name:_})),start_at:this.parserFormatter.format(t),end_at:this.parserFormatter.format(i),people:o.map(_=>({name:_})),userId:this.authService.user.uid,id:null};this.store.dispatch(Xl({trip:{...d}})),this.error$?(this.toastService.showWarningToast("New trip created.","Please continue capture other information in the Inprogress tab."),this.reactiveForm.markAsPristine(),this.setFormState()):(this.toastService.showWarningToast("Failed to Save","Something went Wrong. Please report using feedback feature."),console.log(this.error$))}}onNext(){this.onNavigate.emit(!0)}cancelChanges(){const e=this.trip.places.map(d=>d.name),t=this.trip.people.map(d=>d.name),i=new Date(this.trip.start_at),o=new Date(this.trip.end_at);this.reactiveForm.reset({places:e,people:t,fromDate:new ko(i.getFullYear(),i.getMonth()+1,i.getDate()),toDate:new ko(o.getFullYear(),o.getMonth()+1,o.getDate())})}ngOnDestroy(){this.formSubscription&&this.formSubscription.unsubscribe()}}function mR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",3)(1,"a",4),u.NdJ("click",function(){const d=u.CHM(t).index,_=u.oxw();return u.KtG(_.onClicked(d))}),u._uU(2),u.qZA()()}if(2&n){const t=e.$implicit,i=u.oxw();u.ekj("active",t===i.selection),u.uIk("aria-current",t===i.selection?"page":""),u.xp6(2),u.Oqu(t)}}bw.\u0275fac=function(e){return new(e||bw)(u.Y36(Ht.yh),u.Y36(hE.e),u.Y36(Dn.qu),u.Y36(AE),u.Y36(MC),u.Y36(UI.k))},bw.\u0275cmp=u.Xpm({type:bw,selectors:[["app-new-trip"]],viewQuery:function(e,t){if(1&e&&u.Gf(aR,5),2&e){let i;u.iGM(i=u.CRH())&&(t.datepicker=i.first)}},inputs:{trip:"trip"},outputs:{onNavigate:"onNavigate"},standalone:!0,features:[u.qOj,u.jDz],decls:26,vars:15,consts:[[1,"container"],[1,"form-group","pt-3",3,"formGroup"],[1,"mb-3"],["for","placesInput",1,"form-label"],["id","placesInput","placeholderText","Ex: Queenstown","formControlName","places"],["class","showValidation",4,"ngIf"],["for","travelDatesInput",1,"form-label"],["id","dpTravel","outsideDays","hidden",1,"ngb-dp",3,"displayMonths","dayTemplate","minDate","markDisabled","dateSelect"],["dpTravel",""],["t",""],["for","peopleInput",1,"form-label"],["id","peopleInput","placeholderText","Ex: John or John's family","formControlName","people"],[1,"row","mt-5"],[1,"col-sm","text-center"],["type","button","class","btn btn-primary btn-sm me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm ms-3",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"showValidation"],[1,"custom-day",3,"mouseenter","mouseleave"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(e,t){if(1&e&&(u.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),u._uU(4,"Travel places"),u.qZA(),u._UZ(5,"app-inputformtag",4),u.YNc(6,uR,3,0,"div",5),u.qZA(),u.TgZ(7,"div",2)(8,"label",6),u._uU(9,"Travel Start - End Date"),u.qZA(),u._UZ(10,"br"),u.TgZ(11,"ngb-datepicker",7,8),u.NdJ("dateSelect",function(o){return t.onDateSelection(o)}),u.qZA(),u.YNc(13,lR,2,9,"ng-template",null,9,u.W1O),u.qZA(),u.TgZ(15,"div",2)(16,"label",10),u._uU(17,"People"),u.qZA(),u._UZ(18,"app-inputformtag",11),u.YNc(19,cR,3,0,"div",5),u.qZA(),u.TgZ(20,"div",12)(21,"div",13),u.YNc(22,dR,2,0,"button",14),u.YNc(23,hR,2,0,"button",15),u.YNc(24,fR,2,1,"button",16),u.YNc(25,pR,2,1,"button",17),u.qZA()()()()),2&e){const i=u.MAs(14);u.xp6(1),u.Q6J("formGroup",t.reactiveForm),u.xp6(5),u.Q6J("ngIf",!t.reactiveForm.get("places").valid&&t.reactiveForm.get("places").touched&&t.reactiveForm.get("places").dirty),u.xp6(5),u.Q6J("displayMonths",1)("dayTemplate",i)("minDate",u.kEZ(11,gR,t.minDate.year,t.minDate.month,t.minDate.day))("markDisabled",t.isDisabled),u.xp6(8),u.Q6J("ngIf",!t.reactiveForm.get("people").valid&&t.reactiveForm.get("people").touched&&t.reactiveForm.get("people").dirty),u.xp6(3),u.Q6J("ngIf",void 0!==t.trip&&t.formValid&&t.formDirty),u.xp6(1),u.Q6J("ngIf",void 0!==t.trip&&t.formValid&&t.formDirty),u.xp6(1),u.Q6J("ngIf",void 0===t.trip),u.xp6(1),u.Q6J("ngIf",void 0!==t.trip&&!t.formDirty)}},dependencies:[M.ez,M.O5,Dn.UX,Dn._Y,Dn.JJ,Dn.JL,Dn.sg,Dn.u,PC,s0,d0],styles:["label[_ngcontent-%COMP%]{font-weight:500}app-inputformtag.ng-invalid.ng-touched.ng-dirty[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:red 1px solid}.showValidation[_ngcontent-%COMP%]{color:red}.ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]   .disable[_ngcontent-%COMP%]{background-color:#e5e9ec80;text-decoration:line-through}.ngb-dp[_ngcontent-%COMP%]   .custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.ngb-dp[_ngcontent-%COMP%]   .custom-day.range[_ngcontent-%COMP%], .ngb-dp[_ngcontent-%COMP%]   .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.ngb-dp[_ngcontent-%COMP%]   .custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}.ngb-dp[_ngcontent-%COMP%]   .custom-day.disable[_ngcontent-%COMP%]{opacity:.7;pointer-events:none;text-decoration:line-through;background-color:#e9e9e9}"],changeDetection:0});class ww{constructor(){this.onSelection=new u.vpe}onClicked(e){this.onSelection.emit(e)}}ww.\u0275fac=function(e){return new(e||ww)},ww.\u0275cmp=u.Xpm({type:ww,selectors:[["app-breadcrump"]],inputs:{items:"items",selection:"selection"},outputs:{onSelection:"onSelection"},standalone:!0,features:[u.jDz],decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["class","breadcrumb-item",3,"active",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"nav",0)(1,"ol",1),u.YNc(2,mR,3,4,"li",2),u.qZA()()),2&e&&(u.xp6(2),u.Q6J("ngForOf",t.items))},dependencies:[M.ez,M.sg],styles:[".breadcrumb[_ngcontent-%COMP%]{color:#333}.breadcrumb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#311de2;font-weight:bolder;font-size:large;border-bottom:2px}.breadcrumb[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{font-size:20px}"]});const _R=["ngcarousel"];function vR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",5)(1,"fieldset",6)(2,"div",7)(3,"app-new-trip",8,9),u.NdJ("onNavigate",function(o){u.CHM(t);const d=u.oxw();return u.KtG(d.navigate(o))}),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("trip",t.trip)}}function yR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",5)(1,"fieldset",6)(2,"div",11)(3,"app-breadcrump",12),u.NdJ("onSelection",function(o){u.CHM(t);const d=u.oxw(2);return u.KtG(d.navigateToSlide(o))}),u.qZA()(),u.TgZ(4,"div",7)(5,"app-place",13),u.NdJ("onNavigate",function(o){u.CHM(t);const d=u.oxw(2);return u.KtG(d.navigate(o))}),u.qZA()()()()}if(2&n){const t=u.oxw(),i=t.$implicit,o=t.index,d=u.oxw();u.xp6(3),u.Q6J("items",d.places)("selection",i),u.xp6(2),u.Q6J("trip",d.trip)("slideIndex",o)}}function ER(n,e){1&n&&u.YNc(0,yR,6,4,"ng-template",10),2&n&&u.MGl("id","slide-",e.index,"")}class Tw{constructor(){this.places=[]}ngOnInit(){this.trip&&(this.places=this.trip.places.map(e=>e.name))}ngOnChanges(e){let t=e.trip;t&&t.previousValue&&t.currentValue&&t.previousValue.places!==t.currentValue.places&&(this.places=t.currentValue?.places.map(i=>i.name))}navigateToSlide(e){this.ngCarousel.select("slide-"+e)}navigate(e){e?this.ngCarousel.next():this.ngCarousel.prev()}}function bR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"label",15),u._uU(4),u.qZA(),u.TgZ(5,"input",16),u.NdJ("change",function(o){const _=u.CHM(t).$implicit,C=u.oxw();return u.KtG(C.onCheckedChange(_,o))}),u.qZA()()(),u.TgZ(6,"div",13)(7,"button",17),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.removefromCheckList(d.name))}),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(4),u.Oqu(t.name),u.xp6(1),u.Q6J("checked",t.checked)}}function wR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",18),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.save())}),u._uU(2,"Save"),u.qZA(),u.TgZ(3,"button",19),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.cancelChanges())}),u._uU(4,"Cancel"),u.qZA(),u.BQk()}}function TR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",20),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.closeOffCanvas())}),u._uU(2,"Close"),u.qZA(),u.BQk()}}Tw.\u0275fac=function(e){return new(e||Tw)},Tw.\u0275cmp=u.Xpm({type:Tw,selectors:[["app-planning"]],viewQuery:function(e,t){if(1&e&&u.Gf(_R,7),2&e){let i;u.iGM(i=u.CRH())&&(t.ngCarousel=i.first)}},inputs:{trip:"trip"},standalone:!0,features:[u.TTD,u.jDz],decls:5,vars:5,consts:[[1,"container"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard"],["ngcarousel",""],["ngbSlide","","id","slide-main"],[4,"ngFor","ngForOf"],[1,"picsum-img-wrapper"],["id","step-1"],[1,"panel-body"],[3,"trip","onNavigate"],["newtrip",""],["ngbSlide","",3,"id"],[1,"place-heading","mb-3"],[3,"items","selection","onSelection"],[3,"trip","slideIndex","onNavigate"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"ngb-carousel",1,2),u.YNc(3,vR,5,1,"ng-template",3),u.YNc(4,ER,1,1,null,4),u.qZA()()),2&e&&(u.xp6(1),u.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!1)("interval",0)("keyboard",!1),u.xp6(3),u.Q6J("ngForOf",t.places))},dependencies:[M.ez,M.sg,_D,GS,HS,Ew,bw,ww],styles:["label[_ngcontent-%COMP%]{font-weight:500}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}"],changeDetection:0});const CR=function(n){return{show:n}};class PE extends OE{constructor(e){super(e),this.isOpen=!1,this.userInput="",this.bagItems=[],this.isChanged=!1}ngOnInit(){this.trip&&(this.bagItems=this.trip.bag??[])}get sortedItems(){return[...this.bagItems].sort((e,t)=>e.checked&&!t.checked?1:!e.checked&&t.checked?-1:0)}addtoCheckList(){this.userInput.length>0&&!this.bagItems.find(e=>e.name===this.userInput)&&(this.bagItems=[...this.bagItems,{name:this.userInput,checked:!1}]),this.userInput="",this.markasChanged()}markasChanged(){this.isChanged||(this.isChanged=!0)}removefromCheckList(e){this.bagItems=this.bagItems.filter(t=>t.name!=e),this.markasChanged()}onCheckedChange(e,t){const i={...e,checked:t.target.checked},o=this.bagItems.indexOf(e);this.bagItems=[...this.bagItems.slice(0,o),i,...this.bagItems.slice(o+1)],this.markasChanged()}toggleOffcanvas(){this.isOpen=!this.isOpen}showOffCanvas(){this.isOpen=!0}closeOffCanvas(){this.isOpen=!1}onHidden(){}save(){this.store.dispatch(ho({bag:this.bagItems})),this.isChanged=!1}cancelChanges(){this.bagItems=this.trip.bag??[],this.isChanged=!1}}PE.\u0275fac=function(e){return new(e||PE)(u.Y36(Ht.yh))},PE.\u0275cmp=u.Xpm({type:PE,selectors:[["app-offcanvasbag"]],inputs:{trip:"trip"},standalone:!0,features:[u.qOj,u.jDz],decls:14,vars:7,consts:[["tabindex","-1","id","myOffcanvas","aria-labelledby","offcanvasLabel",1,"offcanvas","offcanvas-end",3,"ngClass","hidden"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close","text-reset",3,"click"],[1,"offcanvas-body"],["type","text","placeholder","Ex: Mobile Charger","id","bagitemInput",1,"form-control","itag-input","mb-3",3,"ngModel","ngModelChange","keydown.enter","focusout"],[1,"container"],[1,"content"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","justify-content-center","mt-3"],[1,"col","text-center"],[4,"ngIf"],[1,"row","mb-2"],[1,"col"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","change"],["type","button","aria-label","Close",1,"btn-close","btn-sm",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","text-center",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.NdJ("hidden",function(){return t.onHidden()}),u.TgZ(1,"div",1)(2,"h5",2),u._uU(3,"Bag Checklist"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return t.closeOffCanvas()}),u.qZA()(),u.TgZ(5,"div",4)(6,"input",5),u.NdJ("ngModelChange",function(o){return t.userInput=o})("keydown.enter",function(){return t.addtoCheckList()})("focusout",function(){return t.addtoCheckList()}),u.qZA(),u.TgZ(7,"div",6)(8,"div",7),u.YNc(9,bR,8,2,"div",8),u.qZA()(),u.TgZ(10,"div",9)(11,"div",10),u.YNc(12,wR,5,0,"ng-container",11),u.YNc(13,TR,3,0,"ng-container",11),u.qZA()()()()),2&e&&(u.Q6J("ngClass",u.VKq(5,CR,t.isOpen)),u.xp6(6),u.Q6J("ngModel",t.userInput),u.xp6(3),u.Q6J("ngForOf",t.sortedItems),u.xp6(3),u.Q6J("ngIf",t.isChanged),u.xp6(1),u.Q6J("ngIf",!t.isChanged))},dependencies:[M.ez,M.mk,M.sg,M.O5,Dn.u5,Dn.Fj,Dn.JJ,Dn.On],styles:[".container[_ngcontent-%COMP%]{display:flex}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:auto;overflow-x:hidden}.offcanvas-end[_ngcontent-%COMP%]{right:0;transform:translate(100%);max-width:80%;top:2%;bottom:2%}.offcanvas.show[_ngcontent-%COMP%]{transform:translate(0)}.showValidation[_ngcontent-%COMP%]{color:red}.offcanvas-backdrop[_ngcontent-%COMP%]{opacity:.5;background-color:#000}.offcanvas[_ngcontent-%COMP%]{border-color:#151616}"]});const DR=[{name:"Leave requested at Office",checked:!1},{name:"Transport booked",checked:!1},{name:"Stay booked",checked:!1},{name:"Activities booked",checked:!1},{name:"Bag packed",checked:!1}];function SR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",5)(1,"div",8)(2,"input",9),u.NdJ("change",function(o){const _=u.CHM(t).$implicit,C=u.oxw();return u.KtG(C.onCheckedChange(_,o))}),u.qZA(),u.TgZ(3,"label",10),u._uU(4),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Q6J("checked",t.checked),u.xp6(2),u.Oqu(t.name)}}function IR(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"button",11),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.save())}),u._uU(2,"Save"),u.qZA(),u.TgZ(3,"button",12),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.cancelChanges())}),u._uU(4,"Cancel"),u.qZA(),u.BQk()}}class Cw extends OE{constructor(e){super(e),this.isChanged=!1,this.prepareList=DR}openBagCheckList(){this.offcanvasbagComponent.toggleOffcanvas()}ngOnInit(){this.trip&&this.trip.prepareCheck&&this.prepareList?.forEach(e=>{const t=this.trip.prepareCheck.find(i=>i.name===e.name);t&&(e.checked=t.checked??!1)})}onCheckedChange(e,t){const i={...e,checked:t.target.checked},o=this.prepareList.indexOf(e);this.prepareList=[...this.prepareList.slice(0,o),i,...this.prepareList.slice(o+1)],this.markasChanged()}markasChanged(){this.isChanged||(this.isChanged=!0)}save(){this.store.dispatch(gl({prepareCheck:this.prepareList})),this.isChanged=!1}cancelChanges(){this.prepareList=this.trip.prepareCheck??[],this.isChanged=!1}}function AR(n,e){1&n&&(u.TgZ(0,"strong"),u._uU(1,"Your Plan"),u.qZA())}function xR(n,e){if(1&n&&u._UZ(0,"app-planning",9),2&n){const t=u.oxw();u.Q6J("trip",t.trip)}}function MR(n,e){1&n&&(u.TgZ(0,"strong"),u._uU(1,"Preparation"),u.qZA())}function NR(n,e){if(1&n&&u._UZ(0,"app-prepare",9),2&n){const t=u.oxw();u.Q6J("trip",t.trip)}}function OR(n,e){1&n&&(u.TgZ(0,"strong"),u._uU(1,"Travel On"),u.qZA())}function RR(n,e){1&n&&u._uU(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}function PR(n,e){1&n&&(u.TgZ(0,"strong"),u._uU(1,"Summary and Expense Report"),u.qZA())}function kR(n,e){1&n&&u._uU(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}Cw.\u0275fac=function(e){return new(e||Cw)(u.Y36(Ht.yh))},Cw.\u0275cmp=u.Xpm({type:Cw,selectors:[["app-prepare"]],viewQuery:function(e,t){if(1&e&&u.Gf(PE,5),2&e){let i;u.iGM(i=u.CRH())&&(t.offcanvasbagComponent=i.first)}},inputs:{trip:"trip"},standalone:!0,features:[u.qOj,u.jDz],decls:10,vars:3,consts:[[1,"container"],["class","mb-3",4,"ngFor","ngForOf"],[1,"row","justify-content-center","mt-3"],[1,"col","text-center"],[4,"ngIf"],[1,"mb-3"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[3,"trip"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"checked","change"],["for","flexSwitchChecLeave",1,"form-check-label"],["type","button",1,"btn","btn-primary","btn-sm","me-3",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","ms-3",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.YNc(1,SR,5,2,"div",1),u.TgZ(2,"div",2)(3,"div",3),u.YNc(4,IR,5,0,"ng-container",4),u.qZA()(),u.TgZ(5,"div",5)(6,"div",6),u.NdJ("click",function(){return t.openBagCheckList()}),u.TgZ(7,"strong"),u._uU(8,"Bag Checklist"),u.qZA()()(),u._UZ(9,"app-offcanvasbag",7),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngForOf",t.prepareList),u.xp6(3),u.Q6J("ngIf",t.isChanged),u.xp6(5),u.Q6J("trip",t.trip))},dependencies:[M.ez,M.sg,M.O5,PE]});class Dw extends OE{constructor(e){super(e),this.activePanel="plan-panel",this.store.pipe((0,Ht.Ys)(ya),(0,Fs.x)(),(0,Wb.b)(t=>{t&&(this.trip=t)})).subscribe()}ngOnInit(){}}Dw.\u0275fac=function(e){return new(e||Dw)(u.Y36(Ht.yh))},Dw.\u0275cmp=u.Xpm({type:Dw,selectors:[["app-tripdetail"]],inputs:{activePanel:"activePanel"},standalone:!0,features:[u.qOj,u.jDz],decls:16,vars:6,consts:[[1,"container"],[3,"activeIds","destroyOnHide","closeOthers"],["acc","ngbAccordion"],["id","plan-panel"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","preparation-panel",3,"disabled"],["id","travelon-panel",3,"disabled"],["id","summary-panel",3,"disabled"],[3,"trip"]],template:function(e,t){1&e&&(u.TgZ(0,"section")(1,"div",0)(2,"ngb-accordion",1,2)(4,"ngb-panel",3),u.YNc(5,AR,2,0,"ng-template",4),u.YNc(6,xR,1,1,"ng-template",5),u.qZA(),u.TgZ(7,"ngb-panel",6),u.YNc(8,MR,2,0,"ng-template",4),u.YNc(9,NR,1,1,"ng-template",5),u.qZA(),u.TgZ(10,"ngb-panel",7),u.YNc(11,OR,2,0,"ng-template",4),u.YNc(12,RR,1,0,"ng-template",5),u.qZA(),u.TgZ(13,"ngb-panel",8),u.YNc(14,PR,2,0,"ng-template",4),u.YNc(15,kR,1,0,"ng-template",5),u.qZA()()()()),2&e&&(u.xp6(2),u.Q6J("activeIds",t.activePanel)("destroyOnHide",!1)("closeOthers",!0),u.xp6(5),u.Q6J("disabled",!t.trip),u.xp6(3),u.Q6J("disabled",!t.trip),u.xp6(3),u.Q6J("disabled",!t.trip))},dependencies:[M.ez,mD,CC,TC,pD,gD,Tw,Cw],styles:[".collapsible[_ngcontent-%COMP%]{background-color:#eee;color:#444;cursor:pointer;padding:18px;width:100%;border:none;text-align:left;outline:none;font-size:15px}.accordion[_ngcontent-%COMP%]{--bs-accordion-bg: rgb(255, 253, 253)}.collapse[_ngcontent-%COMP%]:not(.show){display:none}"]});const FR=["modelControl"];function LR(n,e){1&n&&(u.TgZ(0,"div",9),u._UZ(1,"img",10),u.qZA())}function BR(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.error$)}}function VR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",11),u.NdJ("click",function(){const d=u.CHM(t).$implicit,_=u.oxw();return u.KtG(_.showTripDetails({tripId:d.id}))}),u.TgZ(1,"div")(2,"div",7),u._uU(3),u.qZA(),u.TgZ(4,"div"),u._uU(5),u.ALo(6,"date"),u.ALo(7,"date"),u.qZA()()()}if(2&n){const t=e.$implicit,i=u.oxw();u.xp6(3),u.Oqu(i.getPlacesHeading(t)),u.xp6(2),u.AsE("(",u.xi3(6,3,t.start_at,"fullDate")," - ",u.xi3(7,6,t.end_at,"fullDate"),")")}}function UR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"h5",13),u._uU(2),u.qZA(),u.TgZ(3,"button",14),u.NdJ("click",function(){const d=u.CHM(t).$implicit;return u.KtG(d.dismiss("Cross click"))}),u.qZA()(),u.TgZ(4,"div",15),u._UZ(5,"app-tripdetail"),u.qZA(),u.TgZ(6,"div",16)(7,"button",17),u.NdJ("click",function(){const d=u.CHM(t).$implicit;return u.KtG(d.close("Close click"))}),u._uU(8,"Close"),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.title)}}class Sw extends OE{constructor(e,t,i){super(e),this.ngbModelconfig=t,this.modalService=i,this.isPast=!1,this.trips$=e.pipe((0,Ht.Ys)(Xa)),t.backdrop="static",t.keyboard=!1}ngOnInit(){this.store.dispatch(Qs())}getPlacesHeading(e){return e.places.map(t=>t.name)}showTripDetails(e){this.title=e?.tripId?"Edit Trip":"New Trip",e?.tripId&&this.store.dispatch(ml({tripId:e.tripId})),this.modalService.open(this.modelControl,{scrollable:!0,size:"xl"}).result.then(t=>{this.clearSelection()},t=>{this.clearSelection()})}clearSelection(){this.store.dispatch(Eu())}}function $R(n,e){1&n&&u._UZ(0,"app-triplist")}function HR(n,e){1&n&&u._UZ(0,"app-triplist",7),2&n&&u.Q6J("isPast",!0)}Sw.\u0275fac=function(e){return new(e||Sw)(u.Y36(Ht.yh),u.Y36(pI),u.Y36(gI))},Sw.\u0275cmp=u.Xpm({type:Sw,selectors:[["app-triplist"]],viewQuery:function(e,t){if(1&e&&u.Gf(FR,5),2&e){let i;u.iGM(i=u.CRH())&&(t.modelControl=i.first)}},inputs:{isPast:"isPast"},standalone:!0,features:[u.qOj,u.jDz],decls:17,vars:9,consts:[[1,"container"],[1,"pt-3"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"list-group","list-group-light","ms-1","me-1"],["type","button","class","btn list-group-item list-group-item-action d-flex justify-content-between align-items-center px-3 border-2 rounded-2 mt-1 mb-3 list-group-item-primary",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action","px-3","text-center","justify-content-between","align-items-center","border-2","rounded-3","mb-3","list-group-item-success",3,"click"],[1,"fw-bold"],["modelControl",""],[1,"text-center"],["src","assets/loading.gif","alt","Loading..."],["type","button",1,"btn","list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","px-3","border-2","rounded-2","mt-1","mb-3","list-group-item-primary",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,LR,2,0,"div",2),u.ALo(3,"async"),u.YNc(4,BR,2,1,"div",3),u.ALo(5,"async"),u.TgZ(6,"div",4),u.YNc(7,VR,8,9,"button",5),u.ALo(8,"async"),u.TgZ(9,"button",6),u.NdJ("click",function(){return t.showTripDetails()}),u.TgZ(10,"div")(11,"div",7),u._uU(12,"New Trip"),u.qZA(),u.TgZ(13,"div",7),u._uU(14,"+"),u.qZA()()()(),u.YNc(15,UR,9,1,"ng-template",null,8,u.W1O),u.qZA()()),2&e&&(u.xp6(2),u.Q6J("ngIf",u.lcZ(3,3,t.isLoading$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(5,5,t.error$)),u.xp6(3),u.Q6J("ngForOf",u.lcZ(8,7,t.trips$)))},dependencies:[M.ez,M.sg,M.O5,M.Ov,M.uU,Dw],styles:[".accordion-button.collapsed[_ngcontent-%COMP%]{background:rgb(243,245,247)}"],changeDetection:0});class Iw{}Iw.\u0275fac=function(e){return new(e||Iw)},Iw.\u0275cmp=u.Xpm({type:Iw,selectors:[["app-trip-tabs"]],standalone:!0,features:[u.jDz],decls:15,vars:4,consts:[[1,"container","mt-3","mb-3"],["ngbNav","",1,"nav-tabs","justify-content-center","nav-justified",3,"activeId"],["nav","ngbNav"],[1,"col-lg-4","text-center",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"isPast"]],template:function(e,t){if(1&e&&(u.TgZ(0,"section")(1,"div",0)(2,"ul",1,2)(4,"li",3)(5,"a",4)(6,"h5"),u._uU(7,"Trips"),u.qZA()(),u.YNc(8,$R,1,0,"ng-template",5),u.qZA(),u.TgZ(9,"li",3)(10,"a",4)(11,"h5"),u._uU(12,"Past Trips"),u.qZA()(),u.YNc(13,HR,1,1,"ng-template",5),u.qZA()(),u._UZ(14,"div",6),u.qZA()()),2&e){const i=u.MAs(3);u.xp6(2),u.Q6J("activeId",1),u.xp6(2),u.Q6J("ngbNavItem",1),u.xp6(5),u.Q6J("ngbNavItem",2),u.xp6(5),u.Q6J("ngbNavOutlet",i)}},dependencies:[M.ez,MD,SD,BC,LC,ID,xD,Sw],styles:[".nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#7a8dbb;border-width:0 0 2px 0;border-color:green}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#2c1cbe;border-width:2px 2px 0 2px}.tab-content[_ngcontent-%COMP%]{border-width:0 2px 2px 2px;border-color:green;border-style:solid;margin-top:-1px}"],changeDetection:0});class Aw{}Aw.\u0275fac=function(e){return new(e||Aw)},Aw.\u0275cmp=u.Xpm({type:Aw,selectors:[["app-trips"]],standalone:!0,features:[u.jDz],decls:2,vars:0,template:function(e,t){1&e&&u._UZ(0,"app-flow")(1,"app-trip-tabs")},dependencies:[M.ez,yw,Iw]});class kE{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return null!=this.authService.user||(this.router.navigate(["login"]),!1)}}kE.\u0275fac=function(e){return new(e||kE)(u.LFG(hE.e),u.LFG(tg.F0))},kE.\u0275prov=u.Yz7({token:kE,factory:kE.\u0275fac,providedIn:"root"});const GR=[{path:"",component:l0,children:[{path:"login",component:NE},{path:"",component:NE}]},{path:"signup",component:l0,children:[{path:"",loadComponent:()=>L.e(431).then(L.bind(L,5431)).then(n=>n.SignupComponent)}]},{path:"forgot",component:l0,children:[{path:"",loadComponent:()=>L.e(895).then(L.bind(L,9895)).then(n=>n.ForgotComponent)}]},{path:"trip",canActivate:[kE],children:[{path:"",component:Aw}]},{path:"**",loadComponent:()=>L.e(73).then(L.bind(L,73)).then(n=>n.PagenotfoundComponent)}];function jR(n,e){1&n&&(u.TgZ(0,"li",10)(1,"a",11)(2,"strong"),u._uU(3,"Login"),u.qZA()()())}function WR(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",12)(1,"a",13)(2,"strong"),u._uU(3),u.qZA()(),u.TgZ(4,"ul",14)(5,"li")(6,"a",15),u._uU(7,"Settings"),u.qZA()(),u.TgZ(8,"li")(9,"a",16),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return u.KtG(o.logOut())}),u._uU(10,"Logout"),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(3),u.Oqu(t.authService.user.displayName)}}class xw{constructor(e){this.authService=e}ngOnInit(){}logOut(){this.authService.SignOut()}}xw.\u0275fac=function(e){return new(e||xw)(u.Y36(hE.e))},xw.\u0275cmp=u.Xpm({type:xw,selectors:[["app-navbar"]],standalone:!0,features:[u.jDz],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container"],["href","#",1,"navbar-brand"],["src","assets/Logo.svg","alt","","width","70","height","30"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],["class","nav-item",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item"],["routerLink","login",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","data-bs-target","#navbardropdownmenu","aria-controls","navbardropdownmenu","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink","id","navbardropdownmenu","data-bs-popper","",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["routerLink","login",1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._UZ(3,"img",3),u.qZA(),u.TgZ(4,"button",4),u._UZ(5,"span",5),u.qZA(),u.TgZ(6,"div",6)(7,"ul",7),u.YNc(8,jR,4,0,"li",8),u.YNc(9,WR,11,1,"li",9),u.qZA()()()()),2&e&&(u.xp6(8),u.Q6J("ngIf",!t.authService.user),u.xp6(1),u.Q6J("ngIf",t.authService.user))},dependencies:[M.ez,M.O5,tg.Bz,tg.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff}"]});var zR=L(5356);function $I(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function HI(n){return[Lc,$d,Ud,Bc].some(function(e){return n[e]>=0})}const GI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function qR(n){var e=n.state,t=n.name,i=e.rects.reference,o=e.rects.popper,d=e.modifiersData.preventOverflow,_=hm(e,{elementContext:"reference"}),C=hm(e,{altBoundary:!0}),O=$I(_,i),$=$I(C,o,d),Y=HI(O),he=HI($);e.modifiersData[t]={referenceClippingOffsets:O,popperEscapeOffsets:$,isReferenceHidden:Y,hasPopperEscaped:he},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":Y,"data-popper-escaped":he})}};var ND=m({defaultModifiers:[G,ue,Mn,ei,EC,cw,dw,yC,GI]});const OD="transitionend",JR=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),jI=n=>{let e=n.getAttribute("data-bs-target");if(!e||"#"===e){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e},WI=n=>{const e=jI(n);return e&&document.querySelector(e)?e:null},w_=n=>{const e=jI(n);return e?document.querySelector(e):null},zI=n=>{n.dispatchEvent(new Event(OD))},T_=n=>!(!n||"object"!=typeof n)&&(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),qv=n=>T_(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(n):null,FE=n=>{if(!T_(n)||0===n.getClientRects().length)return!1;const e="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},Kv=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),qI=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?qI(n.parentNode):null},VC=()=>{},KI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,RD=[],ip=()=>"rtl"===document.documentElement.dir,sp=n=>{(n=>{"loading"===document.readyState?(RD.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of RD)e()}),RD.push(n)):n()})(()=>{const e=KI();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},C_=n=>{"function"==typeof n&&n()},ZI=(n,e,t=!0)=>{if(!t)return void C_(n);const o=(n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),o=Number.parseFloat(t);return i||o?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let d=!1;const _=({target:C})=>{C===e&&(d=!0,e.removeEventListener(OD,_),C_(n))};e.addEventListener(OD,_),setTimeout(()=>{d||zI(e)},o)},PD=(n,e,t,i)=>{const o=n.length;let d=n.indexOf(e);return-1===d?!t&&i?n[o-1]:n[0]:(d+=t?1:-1,i&&(d=(d+o)%o),n[Math.max(0,Math.min(d,o-1))])},tP=/[^.]*(?=\..*)\.|.*/,nP=/\..*/,rP=/::\d+$/,kD={};let YI=1;const JI={mouseenter:"mouseover",mouseleave:"mouseout"},iP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function QI(n,e){return e&&`${e}::${YI++}`||n.uidEvent||YI++}function XI(n){const e=QI(n);return n.uidEvent=e,kD[e]=kD[e]||{},kD[e]}function eA(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function tA(n,e,t){const i="string"==typeof e,o=i?t:e||t;let d=rA(n);return iP.has(d)||(d=n),[i,o,d]}function nA(n,e,t,i,o){if("string"!=typeof e||!n)return;let[d,_,C]=tA(e,t,i);var ft;e in JI&&(ft=_,_=function(Lt){if(!Lt.relatedTarget||Lt.relatedTarget!==Lt.delegateTarget&&!Lt.delegateTarget.contains(Lt.relatedTarget))return ft.call(this,Lt)});const O=XI(n),$=O[C]||(O[C]={}),Y=eA($,_,d?t:null);if(Y)return void(Y.oneOff=Y.oneOff&&o);const he=QI(_,e.replace(tP,"")),xe=d?function oP(n,e,t){return function i(o){const d=n.querySelectorAll(e);for(let{target:_}=o;_&&_!==this;_=_.parentNode)for(const C of d)if(C===_)return LD(o,{delegateTarget:_}),i.oneOff&&Sn.off(n,o.type,e,t),t.apply(_,[o])}}(n,t,_):function sP(n,e){return function t(i){return LD(i,{delegateTarget:n}),t.oneOff&&Sn.off(n,i.type,e),e.apply(n,[i])}}(n,_);xe.delegationSelector=d?t:null,xe.callable=_,xe.oneOff=o,xe.uidEvent=he,$[he]=xe,n.addEventListener(C,xe,d)}function FD(n,e,t,i,o){const d=eA(e[t],i,o);d&&(n.removeEventListener(t,d,Boolean(o)),delete e[t][d.uidEvent])}function aP(n,e,t,i){const o=e[t]||{};for(const d of Object.keys(o))if(d.includes(i)){const _=o[d];FD(n,e,t,_.callable,_.delegationSelector)}}function rA(n){return n=n.replace(nP,""),JI[n]||n}const Sn={on(n,e,t,i){nA(n,e,t,i,!1)},one(n,e,t,i){nA(n,e,t,i,!0)},off(n,e,t,i){if("string"!=typeof e||!n)return;const[o,d,_]=tA(e,t,i),C=_!==e,O=XI(n),$=O[_]||{},Y=e.startsWith(".");if(typeof d<"u"){if(!Object.keys($).length)return;FD(n,O,_,d,o?t:null)}else{if(Y)for(const he of Object.keys(O))aP(n,O,he,e.slice(1));for(const he of Object.keys($)){const xe=he.replace(rP,"");if(!C||e.includes(xe)){const We=$[he];FD(n,O,_,We.callable,We.delegationSelector)}}}},trigger(n,e,t){if("string"!=typeof e||!n)return null;const i=KI();let _=null,C=!0,O=!0,$=!1;e!==rA(e)&&i&&(_=i.Event(e,t),i(n).trigger(_),C=!_.isPropagationStopped(),O=!_.isImmediatePropagationStopped(),$=_.isDefaultPrevented());let Y=new Event(e,{bubbles:C,cancelable:!0});return Y=LD(Y,t),$&&Y.preventDefault(),O&&n.dispatchEvent(Y),Y.defaultPrevented&&_&&_.preventDefault(),Y}};function LD(n,e){for(const[t,i]of Object.entries(e||{}))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get:()=>i})}return n}const Zv=new Map,BD={set(n,e,t){Zv.has(n)||Zv.set(n,new Map);const i=Zv.get(n);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,e)=>Zv.has(n)&&Zv.get(n).get(e)||null,remove(n,e){if(!Zv.has(n))return;const t=Zv.get(n);t.delete(e),0===t.size&&Zv.delete(n)}};function iA(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function VD(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const D_={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${VD(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${VD(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let o=i.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=iA(n.dataset[i])}return e},getDataAttribute:(n,e)=>iA(n.getAttribute(`data-bs-${VD(e)}`))};class Nw{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=T_(t)?D_.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...T_(t)?D_.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const i of Object.keys(t)){const o=t[i],d=e[i],_=T_(d)?"element":JR(d);if(!new RegExp(o).test(_))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${_}" but expected type "${o}".`)}}}class ig extends Nw{constructor(e,t){super(),(e=qv(e))&&(this._element=e,this._config=this._getConfig(t),BD.set(this._element,this.constructor.DATA_KEY,this))}dispose(){BD.remove(this._element,this.constructor.DATA_KEY),Sn.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){ZI(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return BD.get(qv(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const UC=(n,e="hide")=>{const i=n.NAME;Sn.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),Kv(this))return;const d=w_(this)||this.closest(`.${i}`);n.getOrCreateInstance(d)[e]()})},sA=".bs.alert",cP=`close${sA}`,dP=`closed${sA}`;class $C extends ig{static get NAME(){return"alert"}close(){if(Sn.trigger(this._element,cP).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),Sn.trigger(this._element,dP),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=$C.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}UC($C,"close"),sp($C);const oA='[data-bs-toggle="button"]';class HC extends ig{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=HC.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}Sn.on(document,"click.bs.button.data-api",oA,n=>{n.preventDefault();const e=n.target.closest(oA);HC.getOrCreateInstance(e).toggle()}),sp(HC);const vs={find:(n,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,n)),findOne:(n,e=document.documentElement)=>Element.prototype.querySelector.call(e,n),children:(n,e)=>[].concat(...n.children).filter(t=>t.matches(e)),parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Kv(t)&&FE(t))}},LE=".bs.swipe",EP=`touchstart${LE}`,bP=`touchmove${LE}`,wP=`touchend${LE}`,TP=`pointerdown${LE}`,CP=`pointerup${LE}`,xP={endCallback:null,leftCallback:null,rightCallback:null},MP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class GC extends Nw{constructor(e,t){super(),this._element=e,e&&GC.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return xP}static get DefaultType(){return MP}static get NAME(){return"swipe"}dispose(){Sn.off(this._element,LE)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),C_(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&C_(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Sn.on(this._element,TP,e=>this._start(e)),Sn.on(this._element,CP,e=>this._end(e)),this._element.classList.add("pointer-event")):(Sn.on(this._element,EP,e=>this._start(e)),Sn.on(this._element,bP,e=>this._move(e)),Sn.on(this._element,wP,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Yv=".bs.carousel",aA=".data-api",Ow="next",BE="prev",VE="left",jC="right",kP=`slide${Yv}`,UD=`slid${Yv}`,FP=`keydown${Yv}`,LP=`mouseenter${Yv}`,BP=`mouseleave${Yv}`,VP=`dragstart${Yv}`,UP=`load${Yv}${aA}`,$P=`click${Yv}${aA}`,uA="carousel",WC="active",lA=".active",cA=".carousel-item",qP=lA+cA,QP={ArrowLeft:jC,ArrowRight:VE},XP={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},e2={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Rw extends ig{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=vs.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===uA&&this.cycle()}static get Default(){return XP}static get DefaultType(){return e2}static get NAME(){return"carousel"}next(){this._slide(Ow)}nextWhenVisible(){!document.hidden&&FE(this._element)&&this.next()}prev(){this._slide(BE)}pause(){this._isSliding&&zI(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Sn.one(this._element,UD,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Sn.one(this._element,UD,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?Ow:BE,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Sn.on(this._element,FP,e=>this._keydown(e)),"hover"===this._config.pause&&(Sn.on(this._element,LP,()=>this.pause()),Sn.on(this._element,BP,()=>this._maybeEnableCycle())),this._config.touch&&GC.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of vs.find(".carousel-item img",this._element))Sn.on(i,VP,o=>o.preventDefault());this._swipeHelper=new GC(this._element,{leftCallback:()=>this._slide(this._directionToOrder(VE)),rightCallback:()=>this._slide(this._directionToOrder(jC)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=QP[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=vs.findOne(lA,this._indicatorsElement);t.classList.remove(WC),t.removeAttribute("aria-current");const i=vs.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(WC),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),o=e===Ow,d=t||PD(this._getItems(),i,o,this._config.wrap);if(d===i)return;const _=this._getItemIndex(d),C=We=>Sn.trigger(this._element,We,{relatedTarget:d,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:_});if(C(kP).defaultPrevented||!i||!d)return;const $=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(_),this._activeElement=d;const Y=o?"carousel-item-start":"carousel-item-end",he=o?"carousel-item-next":"carousel-item-prev";d.classList.add(he),i.classList.add(Y),d.classList.add(Y),this._queueCallback(()=>{d.classList.remove(Y,he),d.classList.add(WC),i.classList.remove(WC,he,Y),this._isSliding=!1,C(UD)},i,this._isAnimated()),$&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return vs.findOne(qP,this._element)}_getItems(){return vs.find(cA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ip()?e===VE?BE:Ow:e===VE?Ow:BE}_orderToDirection(e){return ip()?e===BE?VE:jC:e===BE?jC:VE}static jQueryInterface(e){return this.each(function(){const t=Rw.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}Sn.on(document,$P,"[data-bs-slide], [data-bs-slide-to]",function(n){const e=w_(this);if(!e||!e.classList.contains(uA))return;n.preventDefault();const t=Rw.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===D_.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),Sn.on(window,UP,()=>{const n=vs.find('[data-bs-ride="carousel"]');for(const e of n)Rw.getOrCreateInstance(e)}),sp(Rw);const Pw=".bs.collapse",r2=`show${Pw}`,i2=`shown${Pw}`,s2=`hide${Pw}`,o2=`hidden${Pw}`,a2=`click${Pw}.data-api`,$D="show",UE="collapse",zC="collapsing",l2=`:scope .${UE} .${UE}`,HD='[data-bs-toggle="collapse"]',p2={parent:null,toggle:!0},g2={parent:"(null|element)",toggle:"boolean"};class kw extends ig{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=vs.find(HD);for(const o of i){const d=WI(o),_=vs.find(d).filter(C=>C===this._element);null!==d&&_.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return p2}static get DefaultType(){return g2}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(C=>C!==this._element).map(C=>kw.getOrCreateInstance(C,{toggle:!1}))),e.length&&e[0]._isTransitioning||Sn.trigger(this._element,r2).defaultPrevented)return;for(const C of e)C.hide();const i=this._getDimension();this._element.classList.remove(UE),this._element.classList.add(zC),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zC),this._element.classList.add(UE,$D),this._element.style[i]="",Sn.trigger(this._element,i2)},this._element,!0),this._element.style[i]=`${this._element[_]}px`}hide(){if(this._isTransitioning||!this._isShown()||Sn.trigger(this._element,s2).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(zC),this._element.classList.remove(UE,$D);for(const o of this._triggerArray){const d=w_(o);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(zC),this._element.classList.add(UE),Sn.trigger(this._element,o2)},this._element,!0)}_isShown(e=this._element){return e.classList.contains($D)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=qv(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(HD);for(const t of e){const i=w_(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=vs.find(l2,this._config.parent);return vs.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=kw.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Sn.on(document,a2,HD,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();const e=WI(this),t=vs.find(e);for(const i of t)kw.getOrCreateInstance(i,{toggle:!1}).toggle()}),sp(kw);const dA="dropdown",h0=".bs.dropdown",GD=".data-api",_2="ArrowUp",fA="ArrowDown",y2=`hide${h0}`,E2=`hidden${h0}`,b2=`show${h0}`,w2=`shown${h0}`,pA=`click${h0}${GD}`,gA=`keydown${h0}${GD}`,T2=`keyup${h0}${GD}`,$E="show",f0='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',x2=`${f0}.${$E}`,qC=".dropdown-menu",R2=ip()?"top-end":"top-start",P2=ip()?"top-start":"top-end",k2=ip()?"bottom-end":"bottom-start",F2=ip()?"bottom-start":"bottom-end",L2=ip()?"left-start":"right-start",B2=ip()?"right-start":"left-start",$2={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},H2={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class fm extends ig{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=vs.next(this._element,qC)[0]||vs.prev(this._element,qC)[0]||vs.findOne(qC,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $2}static get DefaultType(){return H2}static get NAME(){return dA}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Kv(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Sn.trigger(this._element,b2,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))Sn.on(i,"mouseover",VC);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($E),this._element.classList.add($E),Sn.trigger(this._element,w2,e)}}hide(){!Kv(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Sn.trigger(this._element,y2,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))Sn.off(i,"mouseover",VC);this._popper&&this._popper.destroy(),this._menu.classList.remove($E),this._element.classList.remove($E),this._element.setAttribute("aria-expanded","false"),D_.removeDataAttribute(this._menu,"popper"),Sn.trigger(this._element,E2,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!T_(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${dA.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof w>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:T_(this._config.reference)?e=qv(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=ND(e,this._menu,t)}_isShown(){return this._menu.classList.contains($E)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return L2;if(e.classList.contains("dropstart"))return B2;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?P2:R2:t?F2:k2}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(D_.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const i=vs.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(o=>FE(o));i.length&&PD(i,t,e===fA,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=fm.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=vs.find(x2);for(const i of t){const o=fm.getInstance(i);if(!o||!1===o._config.autoClose)continue;const d=e.composedPath(),_=d.includes(o._menu);if(d.includes(o._element)||"inside"===o._config.autoClose&&!_||"outside"===o._config.autoClose&&_||o._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const C={relatedTarget:o._element};"click"===e.type&&(C.clickEvent=e),o._completeHide(C)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,o=[_2,fA].includes(e.key);if(!o&&!i||t&&!i)return;e.preventDefault();const d=this.matches(f0)?this:vs.prev(this,f0)[0]||vs.next(this,f0)[0]||vs.findOne(f0,e.delegateTarget.parentNode),_=fm.getOrCreateInstance(d);if(o)return e.stopPropagation(),_.show(),void _._selectMenuItem(e);_._isShown()&&(e.stopPropagation(),_.hide(),d.focus())}}Sn.on(document,gA,f0,fm.dataApiKeydownHandler),Sn.on(document,gA,qC,fm.dataApiKeydownHandler),Sn.on(document,pA,fm.clearMenus),Sn.on(document,T2,fm.clearMenus),Sn.on(document,pA,f0,function(n){n.preventDefault(),fm.getOrCreateInstance(this).toggle()}),sp(fm);const mA=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_A=".sticky-top",KC="padding-right",vA="margin-right";class jD{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,KC,t=>t+e),this._setElementAttributes(mA,KC,t=>t+e),this._setElementAttributes(_A,vA,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,KC),this._resetElementAttributes(mA,KC),this._resetElementAttributes(_A,vA)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const o=this.getWidth();this._applyManipulationCallback(e,_=>{if(_!==this._element&&window.innerWidth>_.clientWidth+o)return;this._saveInitialAttribute(_,t);const C=window.getComputedStyle(_).getPropertyValue(t);_.style.setProperty(t,`${i(Number.parseFloat(C))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&D_.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,o=>{const d=D_.getDataAttribute(o,t);null!==d?(D_.removeDataAttribute(o,t),o.style.setProperty(t,d)):o.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(T_(e))t(e);else for(const i of vs.find(e,this._element))t(i)}}const yA="backdrop",bA=`mousedown.bs.${yA}`,j2={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},W2={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class wA extends Nw{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return j2}static get DefaultType(){return W2}static get NAME(){return yA}show(e){if(!this._config.isVisible)return void C_(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{C_(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),C_(e)})):C_(e)}dispose(){this._isAppended&&(Sn.off(this._element,bA),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=qv(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Sn.on(e,bA,()=>{C_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){ZI(e,this._getElement(),this._config.isAnimated)}}const ZC=".bs.focustrap",q2=`focusin${ZC}`,K2=`keydown.tab${ZC}`,TA="backward",J2={autofocus:!0,trapElement:null},Q2={autofocus:"boolean",trapElement:"element"};class CA extends Nw{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return J2}static get DefaultType(){return Q2}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Sn.off(document,ZC),Sn.on(document,q2,e=>this._handleFocusin(e)),Sn.on(document,K2,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Sn.off(document,ZC))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=vs.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===TA?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?TA:"forward")}}const sg=".bs.modal",nk=`hide${sg}`,rk=`hidePrevented${sg}`,DA=`hidden${sg}`,SA=`show${sg}`,ik=`shown${sg}`,sk=`resize${sg}`,ok=`click.dismiss${sg}`,ak=`mousedown.dismiss${sg}`,uk=`keydown.dismiss${sg}`,lk=`click${sg}.data-api`,IA="modal-open",WD="modal-static",gk={backdrop:!0,focus:!0,keyboard:!0},mk={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class HE extends ig{constructor(e,t){super(e,t),this._dialog=vs.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new jD,this._addEventListeners()}static get Default(){return gk}static get DefaultType(){return mk}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Sn.trigger(this._element,SA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(IA),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Sn.trigger(this._element,nk).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])Sn.off(e,sg);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new wA({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new CA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=vs.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Sn.trigger(this._element,ik,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){Sn.on(this._element,uk,e=>{if("Escape"===e.key){if(this._config.keyboard)return e.preventDefault(),void this.hide();this._triggerBackdropTransition()}}),Sn.on(window,sk,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Sn.on(this._element,ak,e=>{Sn.one(this._element,ok,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(IA),this._resetAdjustments(),this._scrollBar.reset(),Sn.trigger(this._element,DA)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Sn.trigger(this._element,rk).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(WD)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(WD),this._queueCallback(()=>{this._element.classList.remove(WD),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const o=ip()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!i&&e){const o=ip()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=HE.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}Sn.on(document,lk,'[data-bs-toggle="modal"]',function(n){const e=w_(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Sn.one(e,SA,o=>{o.defaultPrevented||Sn.one(e,DA,()=>{FE(this)&&this.focus()})});const t=vs.findOne(".modal.show");t&&HE.getInstance(t).hide(),HE.getOrCreateInstance(e).toggle(this)}),UC(HE),sp(HE);const S_=".bs.offcanvas",xA=".data-api",vk=`load${S_}${xA}`,NA="showing",RA=".offcanvas.show",bk=`show${S_}`,wk=`shown${S_}`,Tk=`hide${S_}`,PA=`hidePrevented${S_}`,kA=`hidden${S_}`,Ck=`resize${S_}`,Dk=`click${S_}${xA}`,Sk=`keydown.dismiss${S_}`,Ak={backdrop:!0,keyboard:!0,scroll:!1},xk={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Jv extends ig{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ak}static get DefaultType(){return xk}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||Sn.trigger(this._element,bk,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new jD).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(NA),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(NA),Sn.trigger(this._element,wk,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!Sn.trigger(this._element,Tk).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new jD).reset(),Sn.trigger(this._element,kA)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new wA({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():Sn.trigger(this._element,PA)}:null})}_initializeFocusTrap(){return new CA({trapElement:this._element})}_addEventListeners(){Sn.on(this._element,Sk,e=>{if("Escape"===e.key){if(!this._config.keyboard)return void Sn.trigger(this._element,PA);this.hide()}})}static jQueryInterface(e){return this.each(function(){const t=Jv.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Sn.on(document,Dk,'[data-bs-toggle="offcanvas"]',function(n){const e=w_(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Kv(this))return;Sn.one(e,kA,()=>{FE(this)&&this.focus()});const t=vs.findOne(RA);t&&t!==e&&Jv.getInstance(t).hide(),Jv.getOrCreateInstance(e).toggle(this)}),Sn.on(window,vk,()=>{for(const n of vs.find(RA))Jv.getOrCreateInstance(n).show()}),Sn.on(window,Ck,()=>{for(const n of vs.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Jv.getOrCreateInstance(n).hide()}),UC(Jv),sp(Jv);const Mk=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ok=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Rk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Pk=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?!Mk.has(t)||Boolean(Ok.test(n.nodeValue)||Rk.test(n.nodeValue)):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},FA={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Lk={allowList:FA,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Bk={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Vk={entry:"(string|element|function|null)",selector:"(string|element)"};class Uk extends Nw{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Lk}static get DefaultType(){return Bk}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,d]of Object.entries(this._config.content))this._setContent(e,d,o);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Vk)}_setContent(e,t,i){const o=vs.findOne(i,e);if(o){if(!(t=this._resolvePossibleFunction(t)))return void o.remove();if(T_(t))return void this._putElementInTemplate(qv(t),o);if(this._config.html)return void(o.innerHTML=this._maybeSanitize(t));o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function kk(n,e,t){if(!n.length)return n;if(t&&"function"==typeof t)return t(n);const o=(new window.DOMParser).parseFromString(n,"text/html"),d=[].concat(...o.body.querySelectorAll("*"));for(const _ of d){const C=_.nodeName.toLowerCase();if(!Object.keys(e).includes(C)){_.remove();continue}const O=[].concat(..._.attributes),$=[].concat(e["*"]||[],e[C]||[]);for(const Y of O)Pk(Y,$)||_.removeAttribute(Y.nodeName)}return o.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Hk=new Set(["sanitize","allowList","sanitizeFn"]),zD="fade",YC="show",BA="hide.bs.modal",Fw="hover",qD="focus",rF={AUTO:"auto",TOP:"top",RIGHT:ip()?"left":"right",BOTTOM:"bottom",LEFT:ip()?"right":"left"},iF={allowList:FA,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},sF={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class GE extends ig{constructor(e,t){if(typeof w>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return iF}static get DefaultType(){return sF}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Sn.off(this._element.closest(".modal"),BA,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Sn.trigger(this._element,this.constructor.eventName("show")),i=(qI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:d}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(d.append(o),Sn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(o),o.classList.add(YC),"ontouchstart"in document.documentElement)for(const C of[].concat(...document.body.children))Sn.on(C,"mouseover",VC);this._queueCallback(()=>{Sn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Sn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(YC),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))Sn.off(o,"mouseover",VC);this._activeTrigger.click=!1,this._activeTrigger[qD]=!1,this._activeTrigger[Fw]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Sn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(zD,YC),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(zD),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Uk({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zD)}_isShown(){return this.tip&&this.tip.classList.contains(YC)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,i=rF[t.toUpperCase()];return ND(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Sn.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===Fw?"mouseenter":"focusin"),o=this.constructor.eventName(t===Fw?"mouseleave":"focusout");Sn.on(this._element,i,this._config.selector,d=>{const _=this._initializeOnDelegatedTarget(d);_._activeTrigger["focusin"===d.type?qD:Fw]=!0,_._enter()}),Sn.on(this._element,o,this._config.selector,d=>{const _=this._initializeOnDelegatedTarget(d);_._activeTrigger["focusout"===d.type?qD:Fw]=_._element.contains(d.relatedTarget),_._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Sn.on(this._element.closest(".modal"),BA,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=D_.getDataAttributes(this._element);for(const i of Object.keys(t))Hk.has(i)&&delete t[i];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:qv(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=GE.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}sp(GE);const lF={...GE.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},cF={...GE.DefaultType,content:"(null|string|element|function)"};class KD extends GE{static get Default(){return lF}static get DefaultType(){return cF}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=KD.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}sp(KD);const ZD=".bs.scrollspy",fF=`activate${ZD}`,VA=`click${ZD}`,pF=`load${ZD}.data-api`,jE="active",YD="[href]",UA=".nav-link",vF=`${UA}, .nav-item > ${UA}, .list-group-item`,bF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},wF={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class JC extends ig{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return bF}static get DefaultType(){return wF}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=qv(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Sn.off(this._config.target,VA),Sn.on(this._config.target,VA,YD,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:o,behavior:"smooth"});i.scrollTop=o}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=_=>this._targetLinks.get(`#${_.target.id}`),i=_=>{this._previousScrollData.visibleEntryTop=_.target.offsetTop,this._process(t(_))},o=(this._rootElement||document.documentElement).scrollTop,d=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const _ of e){if(!_.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(_));continue}const C=_.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(d&&C){if(i(_),!o)return}else!d&&!C&&i(_)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=vs.find(YD,this._config.target);for(const t of e){if(!t.hash||Kv(t))continue;const i=vs.findOne(t.hash,this._element);FE(i)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(jE),this._activateParents(e),Sn.trigger(this._element,fF,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))vs.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(jE);else for(const t of vs.parents(e,".nav, .list-group"))for(const i of vs.prev(t,vF))i.classList.add(jE)}_clearActiveClass(e){e.classList.remove(jE);const t=vs.find(`${YD}.${jE}`,e);for(const i of t)i.classList.remove(jE)}static jQueryInterface(e){return this.each(function(){const t=JC.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Sn.on(window,pF,()=>{for(const n of vs.find('[data-bs-spy="scroll"]'))JC.getOrCreateInstance(n)}),sp(JC);const p0=".bs.tab",CF=`hide${p0}`,DF=`hidden${p0}`,SF=`show${p0}`,IF=`shown${p0}`,AF=`click${p0}`,xF=`keydown${p0}`,MF=`load${p0}`,NF="ArrowLeft",$A="ArrowRight",OF="ArrowUp",HA="ArrowDown",g0="active",JD="show",QD=":not(.dropdown-toggle)",jA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',XD=`.nav-link${QD}, .list-group-item${QD}, [role="tab"]${QD}, ${jA}`,VF=`.${g0}[data-bs-toggle="tab"], .${g0}[data-bs-toggle="pill"], .${g0}[data-bs-toggle="list"]`;class WE extends ig{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Sn.on(this._element,xF,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?Sn.trigger(t,CF,{relatedTarget:e}):null;Sn.trigger(e,SF,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(g0),this._activate(w_(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Sn.trigger(e,IF,{relatedTarget:t})):e.classList.add(JD)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(g0),e.blur(),this._deactivate(w_(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Sn.trigger(e,DF,{relatedTarget:t})):e.classList.remove(JD)},e,e.classList.contains("fade")))}_keydown(e){if(![NF,$A,OF,HA].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[$A,HA].includes(e.key),i=PD(this._getChildren().filter(o=>!Kv(o)),e.target,t,!0);i&&(i.focus({preventScroll:!0}),WE.getOrCreateInstance(i).show())}_getChildren(){return vs.find(XD,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=w_(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const o=(d,_)=>{const C=vs.findOne(d,i);C&&C.classList.toggle(_,t)};o(".dropdown-toggle",g0),o(".dropdown-menu",JD),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(g0)}_getInnerElement(e){return e.matches(XD)?e:vs.findOne(XD,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=WE.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Sn.on(document,AF,jA,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Kv(this)&&WE.getOrCreateInstance(this).show()}),Sn.on(window,MF,()=>{for(const n of vs.find(VF))WE.getOrCreateInstance(n)}),sp(WE);const Qv=".bs.toast",$F=`mouseover${Qv}`,HF=`mouseout${Qv}`,GF=`focusin${Qv}`,jF=`focusout${Qv}`,WF=`hide${Qv}`,zF=`hidden${Qv}`,qF=`show${Qv}`,KF=`shown${Qv}`,QC="show",XC="showing",YF={animation:"boolean",autohide:"boolean",delay:"number"},JF={animation:!0,autohide:!0,delay:5e3};class Lw extends ig{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return JF}static get DefaultType(){return YF}static get NAME(){return"toast"}show(){Sn.trigger(this._element,qF).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(QC,XC),this._queueCallback(()=>{this._element.classList.remove(XC),Sn.trigger(this._element,KF),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Sn.trigger(this._element,WF).defaultPrevented&&(this._element.classList.add(XC),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(XC,QC),Sn.trigger(this._element,zF)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(QC),super.dispose()}isShown(){return this._element.classList.contains(QC)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){Sn.on(this._element,$F,e=>this._onInteraction(e,!0)),Sn.on(this._element,HF,e=>this._onInteraction(e,!1)),Sn.on(this._element,GF,e=>this._onInteraction(e,!0)),Sn.on(this._element,jF,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Lw.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}UC(Lw),sp(Lw);const QF=["toastElement"];class Bw{constructor(){this.disposeEvent=new u.vpe}ngOnInit(){this.show()}show(){this.toast=new Lw(this.toastEl.nativeElement,this.type===zR.G.Error?{autohide:!1}:{delay:5e3}),Pu(this.toastEl.nativeElement,"hidden.bs.toast").pipe((0,Wr.q)(1)).subscribe(()=>this.hide()),this.toast.show()}hide(){this.toast.dispose(),this.disposeEvent.emit()}}function XF(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"app-toast",2),u.NdJ("disposeEvent",function(){const d=u.CHM(t).index,_=u.oxw();return u.KtG(_.dispose(d))}),u.qZA()()}if(2&n){const t=e.$implicit;u.xp6(1),u.Q6J("type",t.type)("title",t.title)("message",t.message)}}Bw.\u0275fac=function(e){return new(e||Bw)},Bw.\u0275cmp=u.Xpm({type:Bw,selectors:[["app-toast"]],viewQuery:function(e,t){if(1&e&&u.Gf(QF,7),2&e){let i;u.iGM(i=u.CRH())&&(t.toastEl=i.first)}},inputs:{type:"type",title:"title",message:"message"},outputs:{disposeEvent:"disposeEvent"},standalone:!0,features:[u.jDz],decls:8,vars:3,consts:[["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","fade","toast-width","mt-2",3,"ngClass"],["toastElement",""],[1,"toast-header"],[1,"me-auto"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0,1)(2,"div",2)(3,"strong",3),u._uU(4),u.qZA(),u.TgZ(5,"button",4),u.NdJ("click",function(){return t.hide()}),u.qZA()(),u.TgZ(6,"div",5),u._uU(7),u.qZA()()),2&e&&(u.Q6J("ngClass",t.type),u.xp6(4),u.Oqu(t.title),u.xp6(3),u.Oqu(t.message))},dependencies:[M.ez,M.mk],styles:[".success[_ngcontent-%COMP%]{background-color:#198754}.info[_ngcontent-%COMP%]{background-color:#0d6efd}.warning[_ngcontent-%COMP%]{background-color:#ffbf00}.error[_ngcontent-%COMP%]{background-color:#dc3545}"]});class Vw{constructor(e,t){this.toastService=e,this.cdr=t,this.currentToasts=[]}ngOnInit(){this.subscribeToToasts()}subscribeToToasts(){this.toastService.toastEvents.subscribe(e=>{this.currentToasts.push({type:e.type,title:e.title,message:e.message}),this.cdr.detectChanges()})}dispose(e){this.currentToasts.splice(e,1),this.cdr.detectChanges()}}Vw.\u0275fac=function(e){return new(e||Vw)(u.Y36(UI.k),u.Y36(u.sBO))},Vw.\u0275cmp=u.Xpm({type:Vw,selectors:[["app-toaster"]],standalone:!0,features:[u.jDz],decls:2,vars:1,consts:[[1,"toaster","position-fixed","top-0","end-0","px-3","py-2","m-16"],[4,"ngFor","ngForOf"],[3,"type","title","message","disposeEvent"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.YNc(1,XF,2,3,"div",1),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngForOf",t.currentToasts))},dependencies:[M.ez,M.sg,Bw],styles:[".toaster[_ngcontent-%COMP%]{z-index:1}"]});class Uw{constructor(){this.title="Lets Go"}}Uw.\u0275fac=function(e){return new(e||Uw)},Uw.\u0275cmp=u.Xpm({type:Uw,selectors:[["app-root"]],standalone:!0,features:[u.jDz],decls:5,vars:0,template:function(e,t){1&e&&(u.TgZ(0,"section"),u._UZ(1,"app-navbar"),u.qZA(),u.TgZ(2,"section"),u._UZ(3,"app-toaster")(4,"router-outlet"),u.qZA())},dependencies:[M.ez,xw,tg.Bz,tg.lC,Vw]});(0,u.G48)(),(0,Kn.Cg)(Uw,{providers:[(0,Ht.mW)({trips:fS}),function Rl(...n){const e=n.flat(),t=function wi(n){return n.filter(Pi)}(e);return(0,u.MR2)([t,{provide:u.Xts,multi:!0,useValue:()=>{(0,u.f3M)(Ht.qY),(0,u.f3M)(Ht.Py,{optional:!0});const i=(0,u.f3M)(On),o=(0,u.f3M)(Ze),d=!i.isStarted;d&&i.start();for(const _ of e){const C=Pi(_)?(0,u.f3M)(_):_;o.addEffects(C)}d&&(0,u.f3M)(Ht.yh).dispatch(Fo())}}])}([qy]),(0,Mr.rM)({maxAge:25,logOnly:!(0,u.X6Q)(),autoPause:!0,trace:!1,traceLimit:75}),(0,u.RIp)(J1.register("ngsw-worker.js",{enabled:!(0,u.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),tg.Bz.forRoot(GR),rn,LO,ba.hO.initializeApp({apiKey:"AIzaSyD28bx9WSPcz2LfXJ_IIqL9HKh4Czfd4jU",authDomain:"letsgo-2023.firebaseapp.com",projectId:"letsgo-2023",storageBucket:"letsgo-2023.appspot.com",messagingSenderId:"440416180307",appId:"1:440416180307:web:9fd89f262562afe8488ea6",measurementId:"G-3C9VKW051Z"}),cm.ww,qT.enablePersistence())]})},7489:function(He,we,L){var w;He=L.nmd(He),function(){var M,Me="Expected a function",ge="__lodash_hash_undefined__",pe="__lodash_placeholder__",ot=1/0,It=9007199254740991,Kt=4294967295,An=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],dn="[object Arguments]",Ln="[object Array]",Or="[object Boolean]",kr="[object Date]",gr="[object Error]",Xn="[object Function]",Jr="[object GeneratorFunction]",Gr="[object Map]",Cr="[object Number]",ar="[object Object]",er="[object Promise]",mn="[object RegExp]",Ar="[object Set]",Vi="[object String]",Ri="[object Symbol]",qr="[object WeakMap]",kn="[object ArrayBuffer]",cn="[object DataView]",Fn="[object Float32Array]",Wn="[object Float64Array]",jr="[object Int8Array]",es="[object Int16Array]",In="[object Int32Array]",us="[object Uint8Array]",yr="[object Uint8ClampedArray]",ys="[object Uint16Array]",fr="[object Uint32Array]",ls=/\b__p \+= '';/g,yi=/\b(__p \+=) '' \+/g,rn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,wn=/[&<>"']/g,Kn=RegExp(jt.source),Ht=RegExp(wn.source),Mr=/<%-([\s\S]+?)%>/g,Ve=/<%([\s\S]+?)%>/g,Ae=/<%=([\s\S]+?)%>/g,je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(Ie.source),Zt=/^\s+/,Tn=/\s/,$e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,ye=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/[()=,{}\[\]\/\s]/,Qt=/\\(\\)?/g,xn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,li=/\w*$/,ci=/^[-+]0x[0-9a-f]+$/i,Es=/^0b[01]+$/i,Wr=/^\[object .+?Constructor\]$/,zi=/^0o[0-7]+$/i,Rs=/^(?:0|[1-9]\d*)$/,$s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ds=/($^)/,di=/['\n\r\u2028\u2029\\]/g,Js="\\ud800-\\udfff",wi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ki="\\u2700-\\u27bf",oi="a-z\\xdf-\\xf6\\xf8-\\xff",ir="A-Z\\xc0-\\xd6\\xd8-\\xde",un="\\ufe0e\\ufe0f",Ps="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",va="["+Js+"]",_r="["+Ps+"]",sr="["+wi+"]",Fo="\\d+",oa="["+ki+"]",cs="["+oi+"]",co="[^"+Js+Ps+Fo+ki+oi+ir+"]",Ui="\\ud83c[\\udffb-\\udfff]",ke="[^"+Js+"]",vt="(?:\\ud83c[\\udde6-\\uddff]){2}",rt="[\\ud800-\\udbff][\\udc00-\\udfff]",kt="["+ir+"]",Te="(?:"+cs+"|"+co+")",Ze="(?:"+kt+"|"+co+")",Ot="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",tn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",On="(?:"+sr+"|"+Ui+")?",Nn="["+un+"]?",ds=Nn+On+"(?:\\u200d(?:"+[ke,vt,rt].join("|")+")"+Nn+On+")*",Qe="(?:"+[oa,vt,rt].join("|")+")"+ds,Pe="(?:"+[ke+sr+"?",sr,vt,rt,va].join("|")+")",Rl=RegExp("['\u2019]","g"),Ci=RegExp(sr,"g"),To=RegExp(Ui+"(?="+Ui+")|"+Pe+ds,"g"),Ua=RegExp([kt+"?"+cs+"+"+Ot+"(?="+[_r,kt,"$"].join("|")+")",Ze+"+"+tn+"(?="+[_r,kt+Te,"$"].join("|")+")",kt+"?"+Te+"+"+Ot,kt+"+"+tn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fo,Qe].join("|"),"g"),Qs=RegExp("[\\u200d"+Js+wi+un+"]"),Qa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Co=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xl=-1,Di={};Di[Fn]=Di[Wn]=Di[jr]=Di[es]=Di[In]=Di[us]=Di[yr]=Di[ys]=Di[fr]=!0,Di[dn]=Di[Ln]=Di[kn]=Di[Or]=Di[cn]=Di[kr]=Di[gr]=Di[Xn]=Di[Gr]=Di[Cr]=Di[ar]=Di[mn]=Di[Ar]=Di[Vi]=Di[qr]=!1;var Hi={};Hi[dn]=Hi[Ln]=Hi[kn]=Hi[cn]=Hi[Or]=Hi[kr]=Hi[Fn]=Hi[Wn]=Hi[jr]=Hi[es]=Hi[In]=Hi[Gr]=Hi[Cr]=Hi[ar]=Hi[mn]=Hi[Ar]=Hi[Vi]=Hi[Ri]=Hi[us]=Hi[yr]=Hi[ys]=Hi[fr]=!0,Hi[gr]=Hi[Xn]=Hi[qr]=!1;var Do={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fo=parseFloat,ml=parseInt,Eu="object"==typeof global&&global&&global.Object===Object&&global,ks="object"==typeof self&&self&&self.Object===Object&&self,ps=Eu||ks||Function("return this")(),Xa=we&&!we.nodeType&&we,so=Xa&&He&&!He.nodeType&&He,Lu=so&&so.exports===Xa,bu=Lu&&Eu.process,Hs=function(){try{return so&&so.require&&so.require("util").types||bu&&bu.binding&&bu.binding("util")}catch{}}(),ya=Hs&&Hs.isArrayBuffer,So=Hs&&Hs.isDate,xs=Hs&&Hs.isMap,po=Hs&&Hs.isRegExp,Ea=Hs&&Hs.isSet,oo=Hs&&Hs.isTypedArray;function Fs(Ge,At,lt){switch(lt.length){case 0:return Ge.call(At);case 1:return Ge.call(At,lt[0]);case 2:return Ge.call(At,lt[0],lt[1]);case 3:return Ge.call(At,lt[0],lt[1],lt[2])}return Ge.apply(At,lt)}function ba(Ge,At,lt,zn){for(var Lr=-1,Gi=null==Ge?0:Ge.length;++Lr<Gi;){var Ms=Ge[Lr];At(zn,Ms,lt(Ms),Ge)}return zn}function Io(Ge,At){for(var lt=-1,zn=null==Ge?0:Ge.length;++lt<zn&&!1!==At(Ge[lt],lt,Ge););return Ge}function eu(Ge,At){for(var lt=null==Ge?0:Ge.length;lt--&&!1!==At(Ge[lt],lt,Ge););return Ge}function $t(Ge,At){for(var lt=-1,zn=null==Ge?0:Ge.length;++lt<zn;)if(!At(Ge[lt],lt,Ge))return!1;return!0}function Si(Ge,At){for(var lt=-1,zn=null==Ge?0:Ge.length,Lr=0,Gi=[];++lt<zn;){var Ms=Ge[lt];At(Ms,lt,Ge)&&(Gi[Lr++]=Ms)}return Gi}function Ls(Ge,At){return!(null==Ge||!Ge.length)&&ao(Ge,At,0)>-1}function Ii(Ge,At,lt){for(var zn=-1,Lr=null==Ge?0:Ge.length;++zn<Lr;)if(lt(At,Ge[zn]))return!0;return!1}function Un(Ge,At){for(var lt=-1,zn=null==Ge?0:Ge.length,Lr=Array(zn);++lt<zn;)Lr[lt]=At(Ge[lt],lt,Ge);return Lr}function ns(Ge,At){for(var lt=-1,zn=At.length,Lr=Ge.length;++lt<zn;)Ge[Lr+lt]=At[lt];return Ge}function qi(Ge,At,lt,zn){var Lr=-1,Gi=null==Ge?0:Ge.length;for(zn&&Gi&&(lt=Ge[++Lr]);++Lr<Gi;)lt=At(lt,Ge[Lr],Lr,Ge);return lt}function $n(Ge,At,lt,zn){var Lr=null==Ge?0:Ge.length;for(zn&&Lr&&(lt=Ge[--Lr]);Lr--;)lt=At(lt,Ge[Lr],Lr,Ge);return lt}function Wo(Ge,At){for(var lt=-1,zn=null==Ge?0:Ge.length;++lt<zn;)if(At(Ge[lt],lt,Ge))return!0;return!1}var tr=Ss("length");function go(Ge,At,lt){var zn;return lt(Ge,function(Lr,Gi,Ms){if(At(Lr,Gi,Ms))return zn=Gi,!1}),zn}function _l(Ge,At,lt,zn){for(var Lr=Ge.length,Gi=lt+(zn?1:-1);zn?Gi--:++Gi<Lr;)if(At(Ge[Gi],Gi,Ge))return Gi;return-1}function ao(Ge,At,lt){return At==At?function Ec(Ge,At,lt){for(var zn=lt-1,Lr=Ge.length;++zn<Lr;)if(Ge[zn]===At)return zn;return-1}(Ge,At,lt):_l(Ge,zo,lt)}function tu(Ge,At,lt,zn){for(var Lr=lt-1,Gi=Ge.length;++Lr<Gi;)if(zn(Ge[Lr],At))return Lr;return-1}function zo(Ge){return Ge!=Ge}function Fr(Ge,At){var lt=null==Ge?0:Ge.length;return lt?nu(Ge,At)/lt:NaN}function Ss(Ge){return function(At){return null==At?M:At[Ge]}}function wu(Ge){return function(At){return null==Ge?M:Ge[At]}}function Is(Ge,At,lt,zn,Lr){return Lr(Ge,function(Gi,Ms,Vr){lt=zn?(zn=!1,Gi):At(lt,Gi,Ms,Vr)}),lt}function nu(Ge,At){for(var lt,zn=-1,Lr=Ge.length;++zn<Lr;){var Gi=At(Ge[zn]);Gi!==M&&(lt=lt===M?Gi:lt+Gi)}return lt}function Qu(Ge,At){for(var lt=-1,zn=Array(Ge);++lt<Ge;)zn[lt]=At(lt);return zn}function iu(Ge){return Ge&&Ge.slice(0,$a(Ge)+1).replace(Zt,"")}function B(Ge){return function(At){return Ge(At)}}function j(Ge,At){return Un(At,function(lt){return Ge[lt]})}function H(Ge,At){return Ge.has(At)}function le(Ge,At){for(var lt=-1,zn=Ge.length;++lt<zn&&ao(At,Ge[lt],0)>-1;);return lt}function gt(Ge,At){for(var lt=Ge.length;lt--&&ao(At,Ge[lt],0)>-1;);return lt}function Bn(Ge,At){for(var lt=Ge.length,zn=0;lt--;)Ge[lt]===At&&++zn;return zn}var ti=wu({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),gs=wu({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function wa(Ge){return"\\"+Do[Ge]}function Yi(Ge){return Qs.test(Ge)}function ts(Ge){var At=-1,lt=Array(Ge.size);return Ge.forEach(function(zn,Lr){lt[++At]=[Lr,zn]}),lt}function Bs(Ge,At){return function(lt){return Ge(At(lt))}}function _o(Ge,At){for(var lt=-1,zn=Ge.length,Lr=0,Gi=[];++lt<zn;){var Ms=Ge[lt];(Ms===At||Ms===pe)&&(Ge[lt]=pe,Gi[Lr++]=lt)}return Gi}function ms(Ge){var At=-1,lt=Array(Ge.size);return Ge.forEach(function(zn){lt[++At]=zn}),lt}function Bu(Ge){return Yi(Ge)?function ec(Ge){for(var At=To.lastIndex=0;To.test(Ge);)++At;return At}(Ge):tr(Ge)}function aa(Ge){return Yi(Ge)?function su(Ge){return Ge.match(To)||[]}(Ge):function Ai(Ge){return Ge.split("")}(Ge)}function $a(Ge){for(var At=Ge.length;At--&&Tn.test(Ge.charAt(At)););return At}var Vu=wu({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Uu=function Ge(At){var f,lt=(At=null==At?ps:Uu.defaults(ps.Object(),At,Uu.pick(ps,Co))).Array,zn=At.Date,Lr=At.Error,Gi=At.Function,Ms=At.Math,Vr=At.Object,Ao=At.RegExp,Ji=At.String,Zo=At.TypeError,kl=lt.prototype,$u=Vr.prototype,tc=At["__core-js_shared__"],Tu=Gi.prototype.toString,gi=$u.hasOwnProperty,U=0,X=(f=/[^.]+$/.exec(tc&&tc.keys&&tc.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",W=$u.toString,se=Tu.call(Vr),Be=ps._,yt=Ao("^"+Tu.call(gi).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=Lu?At.Buffer:M,yn=At.Symbol,mi=At.Uint8Array,_i=Vt?Vt.allocUnsafe:M,Fi=Bs(Vr.getPrototypeOf,Vr),ai=Vr.create,rs=$u.propertyIsEnumerable,Li=kl.splice,ni=yn?yn.isConcatSpreadable:M,Lo=yn?yn.iterator:M,bs=yn?yn.toStringTag:M,vo=function(){try{var f=wl(Vr,"defineProperty");return f({},"",{}),f}catch{}}(),Vs=At.clearTimeout!==ps.clearTimeout&&At.clearTimeout,ou=zn&&zn.now!==ps.Date.now&&zn.now,Cu=At.setTimeout!==ps.setTimeout&&At.setTimeout,Ga=Ms.ceil,vl=Ms.floor,au=Vr.getOwnPropertySymbols,ua=Vt?Vt.isBuffer:M,Yo=At.isFinite,el=kl.join,fd=Bs(Vr.keys,Vr),Ns=Ms.max,Xs=Ms.min,Na=zn.now,Nh=At.parseInt,yo=Ms.random,Fl=kl.reverse,eo=wl(At,"DataView"),Os=wl(At,"Map"),Du=wl(At,"Promise"),uu=wl(At,"Set"),tl=wl(At,"WeakMap"),ja=wl(Vr,"create"),Ws=tl&&new tl,is={},nl=qc(eo),Ta=qc(Os),la=qc(Du),rl=qc(uu),bc=qc(tl),Mo=yn?yn.prototype:M,No=Mo?Mo.valueOf:M,Ll=Mo?Mo.toString:M;function de(f){if(hs(f)&&!fi(f)&&!(f instanceof Kr)){if(f instanceof Qo)return f;if(gi.call(f,"__wrapped__"))return Xi(f)}return new Qo(f)}var to=function(){function f(){}return function(v){if(!Ho(v))return{};if(ai)return ai(v);f.prototype=v;var I=new f;return f.prototype=M,I}}();function Jo(){}function Qo(f,v){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=M}function Kr(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Kt,this.__views__=[]}function lu(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function cu(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function ol(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function _s(f){var v=-1,I=null==f?0:f.length;for(this.__data__=new ol;++v<I;)this.add(f[v])}function S(f){var v=this.__data__=new cu(f);this.size=v.size}function Jt(f,v){var I=fi(f),q=!I&&Dl(f),te=!I&&!q&&xc(f),ve=!I&&!q&&!te&&lh(f),Ue=I||q||te||ve,Ke=Ue?Qu(f.length,Ji):[],pt=Ke.length;for(var nn in f)(v||gi.call(f,nn))&&(!Ue||!("length"==nn||te&&("offset"==nn||"parent"==nn)||ve&&("buffer"==nn||"byteLength"==nn||"byteOffset"==nn)||gu(nn,pt)))&&Ke.push(nn);return Ke}function Jn(f){var v=f.length;return v?f[Hc(0,v-1)]:M}function Pn(f,v){return th(pu(f),z(v,0,f.length))}function hi(f){return th(pu(f))}function Ki(f,v,I){(I!==M&&!gc(f[v],I)||I===M&&!(v in f))&&ca(f,v,I)}function zs(f,v,I){var q=f[v];(!gi.call(f,v)||!gc(q,I)||I===M&&!(v in f))&&ca(f,v,I)}function qs(f,v){for(var I=f.length;I--;)if(gc(f[I][0],v))return I;return-1}function al(f,v,I,q){return en(f,function(te,ve,Ue){v(q,te,I(te),Ue)}),q}function Vo(f,v){return f&&$l(v,Go(v),f)}function ca(f,v,I){"__proto__"==v&&vo?vo(f,v,{configurable:!0,enumerable:!0,value:I,writable:!0}):f[v]=I}function pd(f,v){for(var I=-1,q=v.length,te=lt(q),ve=null==f;++I<q;)te[I]=ve?M:Wl(f,v[I]);return te}function z(f,v,I){return f==f&&(I!==M&&(f=f<=I?f:I),v!==M&&(f=f>=v?f:v)),f}function Z(f,v,I,q,te,ve){var Ue,Ke=1&v,pt=2&v,nn=4&v;if(I&&(Ue=te?I(f,q,te,ve):I(f)),Ue!==M)return Ue;if(!Ho(f))return f;var on=fi(f);if(on){if(Ue=function Ba(f){var v=f.length,I=new f.constructor(v);return v&&"string"==typeof f[0]&&gi.call(f,"index")&&(I.index=f.index,I.input=f.input),I}(f),!Ke)return pu(f,Ue)}else{var pn=Sa(f),Gn=pn==Xn||pn==Jr;if(xc(f))return Pt(f,Ke);if(pn==ar||pn==dn||Gn&&!te){if(Ue=pt||Gn?{}:ym(f),!Ke)return pt?function hg(f,v){return $l(f,pp(f),v)}(f,function ul(f,v){return f&&$l(v,Il(v),f)}(Ue,f)):function pm(f,v){return $l(f,hc(f),v)}(f,Vo(Ue,f))}else{if(!Hi[pn])return te?f:{};Ue=function Dd(f,v,I){var q=f.constructor;switch(v){case kn:return sn(f);case Or:case kr:return new q(+f);case cn:return function Ro(f,v){var I=v?sn(f.buffer):f.buffer;return new f.constructor(I,f.byteOffset,f.byteLength)}(f,I);case Fn:case Wn:case jr:case es:case In:case us:case yr:case ys:case fr:return lp(f,I);case Gr:return new q;case Cr:case Vi:return new q(f);case mn:return function fu(f){var v=new f.constructor(f.source,li.exec(f));return v.lastIndex=f.lastIndex,v}(f);case Ar:return new q;case Ri:return function qd(f){return No?Vr(No.call(f)):{}}(f)}}(f,pn,Ke)}}ve||(ve=new S);var Tr=ve.get(f);if(Tr)return Tr;ve.set(f,Ue),xp(f)?f.forEach(function($r){Ue.add(Z($r,v,I,$r,f,ve))}):af(f)&&f.forEach(function($r,Zi){Ue.set(Zi,Z($r,v,I,Zi,f,ve))});var pi=on?M:(nn?pt?Mu:Mf:pt?Il:Go)(f);return Io(pi||f,function($r,Zi){pi&&($r=f[Zi=$r]),zs(Ue,Zi,Z($r,v,I,Zi,f,ve))}),Ue}function Le(f,v,I){var q=I.length;if(null==f)return!q;for(f=Vr(f);q--;){var te=I[q],Ue=f[te];if(Ue===M&&!(te in f)||!(0,v[te])(Ue))return!1}return!0}function tt(f,v,I){if("function"!=typeof f)throw new Zo(Me);return mp(function(){f.apply(M,I)},v)}function Dt(f,v,I,q){var te=-1,ve=Ls,Ue=!0,Ke=f.length,pt=[],nn=v.length;if(!Ke)return pt;I&&(v=Un(v,B(I))),q?(ve=Ii,Ue=!1):v.length>=200&&(ve=H,Ue=!1,v=new _s(v));e:for(;++te<Ke;){var on=f[te],pn=null==I?on:I(on);if(on=q||0!==on?on:0,Ue&&pn==pn){for(var Gn=nn;Gn--;)if(v[Gn]===pn)continue e;pt.push(on)}else ve(v,pn,q)||pt.push(on)}return pt}de.templateSettings={escape:Mr,evaluate:Ve,interpolate:Ae,variable:"",imports:{_:de}},(de.prototype=Jo.prototype).constructor=de,(Qo.prototype=to(Jo.prototype)).constructor=Qo,(Kr.prototype=to(Jo.prototype)).constructor=Kr,lu.prototype.clear=function rc(){this.__data__=ja?ja(null):{},this.size=0},lu.prototype.delete=function yl(f){var v=this.has(f)&&delete this.__data__[f];return this.size-=v?1:0,v},lu.prototype.get=function ic(f){var v=this.__data__;if(ja){var I=v[f];return I===ge?M:I}return gi.call(v,f)?v[f]:M},lu.prototype.has=function Oh(f){var v=this.__data__;return ja?v[f]!==M:gi.call(v,f)},lu.prototype.set=function ji(f,v){var I=this.__data__;return this.size+=this.has(f)?0:1,I[f]=ja&&v===M?ge:v,this},cu.prototype.clear=function Bl(){this.__data__=[],this.size=0},cu.prototype.delete=function Vl(f){var v=this.__data__,I=qs(v,f);return!(I<0||(I==v.length-1?v.pop():Li.call(v,I,1),--this.size,0))},cu.prototype.get=function sl(f){var v=this.__data__,I=qs(v,f);return I<0?M:v[I][1]},cu.prototype.has=function Wa(f){return qs(this.__data__,f)>-1},cu.prototype.set=function $c(f,v){var I=this.__data__,q=qs(I,f);return q<0?(++this.size,I.push([f,v])):I[q][1]=v,this},ol.prototype.clear=function Ca(){this.size=0,this.__data__={hash:new lu,map:new(Os||cu),string:new lu}},ol.prototype.delete=function sc(f){var v=Da(this,f).delete(f);return this.size-=v?1:0,v},ol.prototype.get=function Oa(f){return Da(this,f).get(f)},ol.prototype.has=function Qi(f){return Da(this,f).has(f)},ol.prototype.set=function Bo(f,v){var I=Da(this,f),q=I.size;return I.set(f,v),this.size+=I.size==q?0:1,this},_s.prototype.add=_s.prototype.push=function x(f){return this.__data__.set(f,ge),this},_s.prototype.has=function R(f){return this.__data__.has(f)},S.prototype.clear=function V(){this.__data__=new cu,this.size=0},S.prototype.delete=function J(f){var v=this.__data__,I=v.delete(f);return this.size=v.size,I},S.prototype.get=function re(f){return this.__data__.get(f)},S.prototype.has=function ce(f){return this.__data__.has(f)},S.prototype.set=function Xe(f,v){var I=this.__data__;if(I instanceof cu){var q=I.__data__;if(!Os||q.length<199)return q.push([f,v]),this.size=++I.size,this;I=this.__data__=new ol(q)}return I.set(f,v),this.size=I.size,this};var en=fg(Uo),Zn=fg(Su,!0);function or(f,v){var I=!0;return en(f,function(q,te,ve){return I=!!v(q,te,ve)}),I}function cr(f,v,I){for(var q=-1,te=f.length;++q<te;){var ve=f[q],Ue=v(ve);if(null!=Ue&&(Ke===M?Ue==Ue&&!ra(Ue):I(Ue,Ke)))var Ke=Ue,pt=ve}return pt}function zr(f,v){var I=[];return en(f,function(q,te,ve){v(q,te,ve)&&I.push(q)}),I}function ws(f,v,I,q,te){var ve=-1,Ue=f.length;for(I||(I=zh),te||(te=[]);++ve<Ue;){var Ke=f[ve];v>0&&I(Ke)?v>1?ws(Ke,v-1,I,q,te):ns(te,Ke):q||(te[te.length]=Ke)}return te}var uo=bo(),za=bo(!0);function Uo(f,v){return f&&uo(f,v,Go)}function Su(f,v){return f&&za(f,v,Go)}function Oo(f,v){return Si(v,function(I){return _u(f[I])})}function Eo(f,v){for(var I=0,q=(v=hn(v,f)).length;null!=f&&I<q;)f=f[zc(v[I++])];return I&&I==q?f:M}function oc(f,v,I){var q=v(f);return fi(f)?q:ns(q,I(f))}function du(f){return null==f?f===M?"[object Undefined]":"[object Null]":bs&&bs in Vr(f)?function mm(f){var v=gi.call(f,bs),I=f[bs];try{f[bs]=M;var q=!0}catch{}var te=W.call(f);return q&&(v?f[bs]=I:delete f[bs]),te}(f):function Pf(f){return W.call(f)}(f)}function lo(f,v){return f>v}function Rh(f,v){return null!=f&&gi.call(f,v)}function wc(f,v){return null!=f&&v in Vr(f)}function ea(f,v,I){for(var q=I?Ii:Ls,te=f[0].length,ve=f.length,Ue=ve,Ke=lt(ve),pt=1/0,nn=[];Ue--;){var on=f[Ue];Ue&&v&&(on=Un(on,B(v))),pt=Xs(on.length,pt),Ke[Ue]=!I&&(v||te>=120&&on.length>=120)?new _s(Ue&&on):M}on=f[0];var pn=-1,Gn=Ke[0];e:for(;++pn<te&&nn.length<pt;){var Tr=on[pn],Br=v?v(Tr):Tr;if(Tr=I||0!==Tr?Tr:0,!(Gn?H(Gn,Br):q(nn,Br,I))){for(Ue=ve;--Ue;){var pi=Ke[Ue];if(!(pi?H(pi,Br):q(f[Ue],Br,I)))continue e}Gn&&Gn.push(Br),nn.push(Tr)}}return nn}function ll(f,v,I){var q=null==(f=Wc(f,v=hn(v,f)))?f:f[zc(Ia(v))];return null==q?M:Fs(q,f,I)}function ug(f){return hs(f)&&du(f)==dn}function Ra(f,v,I,q,te){return f===v||(null==f||null==v||!hs(f)&&!hs(v)?f!=f&&v!=v:function Wd(f,v,I,q,te,ve){var Ue=fi(f),Ke=fi(v),pt=Ue?Ln:Sa(f),nn=Ke?Ln:Sa(v),on=(pt=pt==dn?ar:pt)==ar,pn=(nn=nn==dn?ar:nn)==ar,Gn=pt==nn;if(Gn&&xc(f)){if(!xc(v))return!1;Ue=!0,on=!1}if(Gn&&!on)return ve||(ve=new S),Ue||lh(f)?bl(f,v,I,q,te,ve):function gm(f,v,I,q,te,ve,Ue){switch(I){case cn:if(f.byteLength!=v.byteLength||f.byteOffset!=v.byteOffset)return!1;f=f.buffer,v=v.buffer;case kn:return!(f.byteLength!=v.byteLength||!ve(new mi(f),new mi(v)));case Or:case kr:case Cr:return gc(+f,+v);case gr:return f.name==v.name&&f.message==v.message;case mn:case Vi:return f==v+"";case Gr:var Ke=ts;case Ar:if(Ke||(Ke=ms),f.size!=v.size&&!(1&q))return!1;var nn=Ue.get(f);if(nn)return nn==v;q|=2,Ue.set(f,v);var on=bl(Ke(f),Ke(v),q,te,ve,Ue);return Ue.delete(f),on;case Ri:if(No)return No.call(f)==No.call(v)}return!1}(f,v,pt,I,q,te,ve);if(!(1&I)){var Tr=on&&gi.call(f,"__wrapped__"),Br=pn&&gi.call(v,"__wrapped__");if(Tr||Br){var pi=Tr?f.value():f,$r=Br?v.value():v;return ve||(ve=new S),te(pi,$r,I,q,ve)}}return!!Gn&&(ve||(ve=new S),function xf(f,v,I,q,te,ve){var Ue=1&I,Ke=Mf(f),pt=Ke.length;if(pt!=Mf(v).length&&!Ue)return!1;for(var pn=pt;pn--;){var Gn=Ke[pn];if(!(Ue?Gn in v:gi.call(v,Gn)))return!1}var Tr=ve.get(f),Br=ve.get(v);if(Tr&&Br)return Tr==v&&Br==f;var pi=!0;ve.set(f,v),ve.set(v,f);for(var $r=Ue;++pn<pt;){var Zi=f[Gn=Ke[pn]],as=v[Gn];if(q)var Ml=Ue?q(as,Zi,Gn,v,f,ve):q(Zi,as,Gn,f,v,ve);if(!(Ml===M?Zi===as||te(Zi,as,I,q,ve):Ml)){pi=!1;break}$r||($r="constructor"==Gn)}if(pi&&!$r){var qu=f.constructor,Ku=v.constructor;qu!=Ku&&"constructor"in f&&"constructor"in v&&!("function"==typeof qu&&qu instanceof qu&&"function"==typeof Ku&&Ku instanceof Ku)&&(pi=!1)}return ve.delete(f),ve.delete(v),pi}(f,v,I,q,te,ve))}(f,v,I,q,Ra,te))}function gd(f,v,I,q){var te=I.length,ve=te,Ue=!q;if(null==f)return!ve;for(f=Vr(f);te--;){var Ke=I[te];if(Ue&&Ke[2]?Ke[1]!==f[Ke[0]]:!(Ke[0]in f))return!1}for(;++te<ve;){var pt=(Ke=I[te])[0],nn=f[pt],on=Ke[1];if(Ue&&Ke[2]){if(nn===M&&!(pt in f))return!1}else{var pn=new S;if(q)var Gn=q(nn,on,pt,f,v,pn);if(!(Gn===M?Ra(on,nn,3,q,pn):Gn))return!1}}return!0}function kh(f){return!(!Ho(f)||function Of(f){return!!X&&X in f}(f))&&(_u(f)?yt:Wr).test(qc(f))}function cg(f){return"function"==typeof f?f:null==f?jo:"object"==typeof f?fi(f)?Df(f[0],f[1]):hu(f):mf(f)}function Fh(f){if(!Jd(f))return fd(f);var v=[];for(var I in Vr(f))gi.call(f,I)&&"constructor"!=I&&v.push(I);return v}function Lh(f,v){return f<v}function md(f,v){var I=-1,q=Wu(f)?lt(f.length):[];return en(f,function(te,ve,Ue){q[++I]=v(te,ve,Ue)}),q}function hu(f){var v=fp(f);return 1==v.length&&v[0][2]?Em(v[0][0],v[0][1]):function(I){return I===f||gd(I,f,v)}}function Df(f,v){return jc(f)&&Cc(v)?Em(zc(f),v):function(I){var q=Wl(I,f);return q===M&&q===v?Rp(I,f):Ra(v,q,3)}}function _d(f,v,I,q,te){f!==v&&uo(v,function(ve,Ue){if(te||(te=new S),Ho(ve))!function zd(f,v,I,q,te,ve,Ue){var Ke=Xd(f,I),pt=Xd(v,I),nn=Ue.get(pt);if(nn)Ki(f,I,nn);else{var on=ve?ve(Ke,pt,I+"",f,v,Ue):M,pn=on===M;if(pn){var Gn=fi(pt),Tr=!Gn&&xc(pt),Br=!Gn&&!Tr&&lh(pt);on=pt,Gn||Tr||Br?fi(Ke)?on=Ke:_a(Ke)?on=pu(Ke):Tr?(pn=!1,on=Pt(pt,!0)):Br?(pn=!1,on=lp(pt,!0)):on=[]:lf(pt)||Dl(pt)?(on=Ke,Dl(Ke)?on=Y_(Ke):(!Ho(Ke)||_u(Ke))&&(on=ym(pt))):pn=!1}pn&&(Ue.set(pt,on),te(on,pt,q,ve,Ue),Ue.delete(pt)),Ki(f,I,on)}}(f,v,Ue,I,_d,q,te);else{var Ke=q?q(Xd(f,Ue),ve,Ue+"",f,v,te):M;Ke===M&&(Ke=ve),Ki(f,Ue,Ke)}},Il)}function El(f,v){var I=f.length;if(I)return gu(v+=v<0?I:0,I)?f[v]:M}function vd(f,v,I){v=v.length?Un(v,function(ve){return fi(ve)?function(Ue){return Eo(Ue,1===ve.length?ve[0]:ve)}:ve}):[jo];var q=-1;return v=Un(v,B(Yr())),function Ma(Ge,At){var lt=Ge.length;for(Ge.sort(At);lt--;)Ge[lt]=Ge[lt].value;return Ge}(md(f,function(ve,Ue,Ke){return{criteria:Un(v,function(nn){return nn(ve)}),index:++q,value:ve}}),function(ve,Ue){return function $h(f,v,I){for(var q=-1,te=f.criteria,ve=v.criteria,Ue=te.length,Ke=I.length;++q<Ue;){var pt=If(te[q],ve[q]);if(pt)return q>=Ke?pt:pt*("desc"==I[q]?-1:1)}return f.index-v.index}(ve,Ue,I)})}function Sf(f,v,I){for(var q=-1,te=v.length,ve={};++q<te;){var Ue=v[q],Ke=Eo(f,Ue);I(Ke,Ue)&&Au(ve,hn(Ue,f),Ke)}return ve}function da(f,v,I,q){var te=q?tu:ao,ve=-1,Ue=v.length,Ke=f;for(f===v&&(v=pu(v)),I&&(Ke=Un(f,B(I)));++ve<Ue;)for(var pt=0,nn=v[ve],on=I?I(nn):nn;(pt=te(Ke,on,pt,q))>-1;)Ke!==f&&Li.call(Ke,pt,1),Li.call(f,pt,1);return f}function yd(f,v){for(var I=f?v.length:0,q=I-1;I--;){var te=v[I];if(I==q||te!==ve){var ve=te;gu(te)?Li.call(f,te,1):k(f,te)}}return f}function Hc(f,v){return f+vl(yo()*(v-f+1))}function ac(f,v){var I="";if(!f||v<1||v>It)return I;do{v%2&&(I+=f),(v=vl(v/2))&&(f+=f)}while(v);return I}function dr(f,v){return I_(Tl(f,v,jo),f+"")}function Ed(f){return Jn(Al(f))}function Pa(f,v){var I=Al(f);return th(I,z(v,0,I.length))}function Au(f,v,I,q){if(!Ho(f))return f;for(var te=-1,ve=(v=hn(v,f)).length,Ue=ve-1,Ke=f;null!=Ke&&++te<ve;){var pt=zc(v[te]),nn=I;if("__proto__"===pt||"constructor"===pt||"prototype"===pt)return f;if(te!=Ue){var on=Ke[pt];(nn=q?q(on,pt,Ke):M)===M&&(nn=Ho(on)?on:gu(v[te+1])?[]:{})}zs(Ke,pt,nn),Ke=Ke[pt]}return f}var Bh=Ws?function(f,v){return Ws.set(f,v),f}:jo,uc=vo?function(f,v){return vo(f,"toString",{configurable:!0,enumerable:!1,value:Wg(v),writable:!0})}:jo;function ha(f){return th(Al(f))}function ka(f,v,I){var q=-1,te=f.length;v<0&&(v=-v>te?0:te+v),(I=I>te?te:I)<0&&(I+=te),te=v>I?0:I-v>>>0,v>>>=0;for(var ve=lt(te);++q<te;)ve[q]=f[q+v];return ve}function Vh(f,v){var I;return en(f,function(q,te,ve){return!(I=v(q,te,ve))}),!!I}function lc(f,v,I){var q=0,te=null==f?q:f.length;if("number"==typeof v&&v==v&&te<=2147483647){for(;q<te;){var ve=q+te>>>1,Ue=f[ve];null!==Ue&&!ra(Ue)&&(I?Ue<=v:Ue<v)?q=ve+1:te=ve}return te}return Uh(f,v,jo,I)}function Uh(f,v,I,q){var te=0,ve=null==f?0:f.length;if(0===ve)return 0;for(var Ue=(v=I(v))!=v,Ke=null===v,pt=ra(v),nn=v===M;te<ve;){var on=vl((te+ve)/2),pn=I(f[on]),Gn=pn!==M,Tr=null===pn,Br=pn==pn,pi=ra(pn);if(Ue)var $r=q||Br;else $r=nn?Br&&(q||Gn):Ke?Br&&Gn&&(q||!Tr):pt?Br&&Gn&&!Tr&&(q||!pi):!Tr&&!pi&&(q?pn<=v:pn<v);$r?te=on+1:ve=on}return Xs(ve,4294967294)}function Gc(f,v){for(var I=-1,q=f.length,te=0,ve=[];++I<q;){var Ue=f[I],Ke=v?v(Ue):Ue;if(!I||!gc(Ke,pt)){var pt=Ke;ve[te++]=0===Ue?0:Ue}}return ve}function N(f){return"number"==typeof f?f:ra(f)?NaN:+f}function b(f){if("string"==typeof f)return f;if(fi(f))return Un(f,b)+"";if(ra(f))return Ll?Ll.call(f):"";var v=f+"";return"0"==v&&1/f==-ot?"-0":v}function D(f,v,I){var q=-1,te=Ls,ve=f.length,Ue=!0,Ke=[],pt=Ke;if(I)Ue=!1,te=Ii;else if(ve>=200){var nn=v?null:pg(f);if(nn)return ms(nn);Ue=!1,te=H,pt=new _s}else pt=v?[]:Ke;e:for(;++q<ve;){var on=f[q],pn=v?v(on):on;if(on=I||0!==on?on:0,Ue&&pn==pn){for(var Gn=pt.length;Gn--;)if(pt[Gn]===pn)continue e;v&&pt.push(pn),Ke.push(on)}else te(pt,pn,I)||(pt!==Ke&&pt.push(pn),Ke.push(on))}return Ke}function k(f,v){return null==(f=Wc(f,v=hn(v,f)))||delete f[zc(Ia(v))]}function ne(f,v,I,q){return Au(f,v,I(Eo(f,v)),q)}function me(f,v,I,q){for(var te=f.length,ve=q?te:-1;(q?ve--:++ve<te)&&v(f[ve],ve,f););return I?ka(f,q?0:ve,q?ve+1:te):ka(f,q?ve+1:0,q?te:ve)}function mt(f,v){var I=f;return I instanceof Kr&&(I=I.value()),qi(v,function(q,te){return te.func.apply(te.thisArg,ns([q],te.args))},I)}function qe(f,v,I){var q=f.length;if(q<2)return q?D(f[0]):[];for(var te=-1,ve=lt(q);++te<q;)for(var Ue=f[te],Ke=-1;++Ke<q;)Ke!=te&&(ve[te]=Dt(ve[te]||Ue,f[Ke],v,I));return D(ws(ve,1),v,I)}function En(f,v,I){for(var q=-1,te=f.length,ve=v.length,Ue={};++q<te;)I(Ue,f[q],q<ve?v[q]:M);return Ue}function nr(f){return _a(f)?f:[]}function Rr(f){return"function"==typeof f?f:jo}function hn(f,v){return fi(f)?f:jc(f,v)?[f]:vr(ii(f))}var Yn=dr;function qa(f,v,I){var q=f.length;return I=I===M?q:I,!v&&I>=q?f:ka(f,v,I)}var Vn=Vs||function(f){return ps.clearTimeout(f)};function Pt(f,v){if(v)return f.slice();var I=f.length,q=_i?_i(I):new f.constructor(I);return f.copy(q),q}function sn(f){var v=new f.constructor(f.byteLength);return new mi(v).set(new mi(f)),v}function lp(f,v){var I=v?sn(f.buffer):f.buffer;return new f.constructor(I,f.byteOffset,f.length)}function If(f,v){if(f!==v){var I=f!==M,q=null===f,te=f==f,ve=ra(f),Ue=v!==M,Ke=null===v,pt=v==v,nn=ra(v);if(!Ke&&!nn&&!ve&&f>v||ve&&Ue&&pt&&!Ke&&!nn||q&&Ue&&pt||!I&&pt||!te)return 1;if(!q&&!ve&&!nn&&f<v||nn&&I&&te&&!q&&!ve||Ke&&I&&te||!Ue&&te||!pt)return-1}return 0}function cp(f,v,I,q){for(var te=-1,ve=f.length,Ue=I.length,Ke=-1,pt=v.length,nn=Ns(ve-Ue,0),on=lt(pt+nn),pn=!q;++Ke<pt;)on[Ke]=v[Ke];for(;++te<Ue;)(pn||te<ve)&&(on[I[te]]=f[te]);for(;nn--;)on[Ke++]=f[te++];return on}function dp(f,v,I,q){for(var te=-1,ve=f.length,Ue=-1,Ke=I.length,pt=-1,nn=v.length,on=Ns(ve-Ke,0),pn=lt(on+nn),Gn=!q;++te<on;)pn[te]=f[te];for(var Tr=te;++pt<nn;)pn[Tr+pt]=v[pt];for(;++Ue<Ke;)(Gn||te<ve)&&(pn[Tr+I[Ue]]=f[te++]);return pn}function pu(f,v){var I=-1,q=f.length;for(v||(v=lt(q));++I<q;)v[I]=f[I];return v}function $l(f,v,I,q){var te=!I;I||(I={});for(var ve=-1,Ue=v.length;++ve<Ue;){var Ke=v[ve],pt=q?q(I[Ke],f[Ke],Ke,I,f):M;pt===M&&(pt=f[Ke]),te?ca(I,Ke,pt):zs(I,Ke,pt)}return I}function Zr(f,v){return function(I,q){var te=fi(I)?ba:al,ve=v?v():{};return te(I,f,Yr(q,2),ve)}}function Hl(f){return dr(function(v,I){var q=-1,te=I.length,ve=te>1?I[te-1]:M,Ue=te>2?I[2]:M;for(ve=f.length>3&&"function"==typeof ve?(te--,ve):M,Ue&&ga(I[0],I[1],Ue)&&(ve=te<3?M:ve,te=1),v=Vr(v);++q<te;){var Ke=I[q];Ke&&f(v,Ke,q,ve)}return v})}function fg(f,v){return function(I,q){if(null==I)return I;if(!Wu(I))return f(I,q);for(var te=I.length,ve=v?te:-1,Ue=Vr(I);(v?ve--:++ve<te)&&!1!==q(Ue[ve],ve,Ue););return I}}function bo(f){return function(v,I,q){for(var te=-1,ve=Vr(v),Ue=q(v),Ke=Ue.length;Ke--;){var pt=Ue[f?Ke:++te];if(!1===I(ve[pt],pt,ve))break}return v}}function cc(f){return function(v){var I=Yi(v=ii(v))?aa(v):M,q=I?I[0]:v.charAt(0),te=I?qa(I,1).join(""):v.slice(1);return q[f]()+te}}function Bi(f){return function(v){return qi(Jm(zf(v).replace(Rl,"")),f,"")}}function Fa(f){return function(){var v=arguments;switch(v.length){case 0:return new f;case 1:return new f(v[0]);case 2:return new f(v[0],v[1]);case 3:return new f(v[0],v[1],v[2]);case 4:return new f(v[0],v[1],v[2],v[3]);case 5:return new f(v[0],v[1],v[2],v[3],v[4]);case 6:return new f(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new f(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var I=to(f.prototype),q=f.apply(I,v);return Ho(q)?q:I}}function Hn(f){return function(v,I,q){var te=Vr(v);if(!Wu(v)){var ve=Yr(I,3);v=Go(v),I=function(Ke){return ve(te[Ke],Ke,te)}}var Ue=f(v,I,q);return Ue>-1?te[ve?v[Ue]:Ue]:M}}function bd(f){return xu(function(v){var I=v.length,q=I,te=Qo.prototype.thru;for(f&&v.reverse();q--;){var ve=v[q];if("function"!=typeof ve)throw new Zo(Me);if(te&&!Ue&&"wrapper"==Nf(ve))var Ue=new Qo([],!0)}for(q=Ue?q:I;++q<I;){var Ke=Nf(ve=v[q]),pt="wrapper"==Ke?Tc(ve):M;Ue=pt&&gp(pt[0])&&424==pt[1]&&!pt[4].length&&1==pt[9]?Ue[Nf(pt[0])].apply(Ue,pt[3]):1==ve.length&&gp(ve)?Ue[Ke]():Ue.thru(ve)}return function(){var nn=arguments,on=nn[0];if(Ue&&1==nn.length&&fi(on))return Ue.plant(on).value();for(var pn=0,Gn=I?v[pn].apply(this,nn):on;++pn<I;)Gn=v[pn].call(this,Gn);return Gn}})}function Kd(f,v,I,q,te,ve,Ue,Ke,pt,nn){var on=128&v,pn=1&v,Gn=2&v,Tr=24&v,Br=512&v,pi=Gn?M:Fa(f);return function $r(){for(var Zi=arguments.length,as=lt(Zi),Ml=Zi;Ml--;)as[Ml]=arguments[Ml];if(Tr)var qu=Wh($r),Ku=Bn(as,qu);if(q&&(as=cp(as,q,te,Tr)),ve&&(as=dp(as,ve,Ue,Tr)),Zi-=Ku,Tr&&Zi<nn){var Us=_o(as,qu);return Hu(f,v,Kd,$r.placeholder,I,as,Us,Ke,pt,nn-Zi)}var Ou=pn?I:this,ld=Gn?Ou[f]:f;return Zi=as.length,Ke?as=mg(as,Ke):Br&&Zi>1&&as.reverse(),on&&pt<Zi&&(as.length=pt),this&&this!==ps&&this instanceof $r&&(ld=pi||Fa(ld)),ld.apply(Ou,as)}}function wd(f,v){return function(I,q){return function Iu(f,v,I,q){return Uo(f,function(te,ve,Ue){v(q,I(te),ve,Ue)}),q}(I,f,v(q),{})}}function Af(f,v){return function(I,q){var te;if(I===M&&q===M)return v;if(I!==M&&(te=I),q!==M){if(te===M)return q;"string"==typeof I||"string"==typeof q?(I=b(I),q=b(q)):(I=N(I),q=N(q)),te=f(I,q)}return te}}function dc(f){return xu(function(v){return v=Un(v,B(Yr())),dr(function(I){var q=this;return f(v,function(te){return Fs(te,q,I)})})})}function Td(f,v){var I=(v=v===M?" ":b(v)).length;if(I<2)return I?ac(v,f):v;var q=ac(v,Ga(f/Bu(v)));return Yi(v)?qa(aa(q),0,f).join(""):q.slice(0,f)}function Cd(f){return function(v,I,q){return q&&"number"!=typeof q&&ga(v,I,q)&&(I=q=M),v=nd(v),I===M?(I=v,v=0):I=nd(I),function ta(f,v,I,q){for(var te=-1,ve=Ns(Ga((v-f)/(I||1)),0),Ue=lt(ve);ve--;)Ue[q?ve:++te]=f,f+=I;return Ue}(v,I,q=q===M?v<I?1:-1:nd(q),f)}}function Zd(f){return function(v,I){return"string"==typeof v&&"string"==typeof I||(v=jl(v),I=jl(I)),f(v,I)}}function Hu(f,v,I,q,te,ve,Ue,Ke,pt,nn){var on=8&v;v|=on?32:64,4&(v&=~(on?64:32))||(v&=-4);var pi=[f,v,te,on?ve:M,on?Ue:M,on?M:ve,on?M:Ue,Ke,pt,nn],$r=I.apply(M,pi);return gp(f)&&eh($r,pi),$r.placeholder=q,ey($r,f,v)}function Gh(f){var v=Ms[f];return function(I,q){if(I=jl(I),(q=null==q?0:Xs(Ni(q),292))&&Yo(I)){var te=(ii(I)+"e").split("e");return+((te=(ii(v(te[0]+"e"+(+te[1]+q)))+"e").split("e"))[0]+"e"+(+te[1]-q))}return v(I)}}var pg=uu&&1/ms(new uu([,-0]))[1]==ot?function(f){return new uu(f)}:vc;function hp(f){return function(v){var I=Sa(v);return I==Gr?ts(v):I==Ar?function Ko(Ge){var At=-1,lt=Array(Ge.size);return Ge.forEach(function(zn){lt[++At]=[zn,zn]}),lt}(v):function ru(Ge,At){return Un(At,function(lt){return[lt,Ge[lt]]})}(v,f(v))}}function La(f,v,I,q,te,ve,Ue,Ke){var pt=2&v;if(!pt&&"function"!=typeof f)throw new Zo(Me);var nn=q?q.length:0;if(nn||(v&=-97,q=te=M),Ue=Ue===M?Ue:Ns(Ni(Ue),0),Ke=Ke===M?Ke:Ni(Ke),nn-=te?te.length:0,64&v){var on=q,pn=te;q=te=M}var Gn=pt?M:Tc(f),Tr=[f,v,I,q,te,on,pn,ve,Ue,Ke];if(Gn&&function bm(f,v){var I=f[1],q=v[1],te=I|q;if(!(te<131)&&!(128==q&&8==I||128==q&&256==I&&f[7].length<=v[8]||384==q&&v[7].length<=v[8]&&8==I))return f;1&q&&(f[2]=v[2],te|=1&I?0:4);var Ke=v[3];if(Ke){var pt=f[3];f[3]=pt?cp(pt,Ke,v[4]):Ke,f[4]=pt?_o(f[3],pe):v[4]}(Ke=v[5])&&(f[5]=(pt=f[5])?dp(pt,Ke,v[6]):Ke,f[6]=pt?_o(f[5],pe):v[6]),(Ke=v[7])&&(f[7]=Ke),128&q&&(f[8]=null==f[8]?v[8]:Xs(f[8],v[8])),null==f[9]&&(f[9]=v[9]),f[0]=v[0],f[1]=te}(Tr,Gn),f=Tr[0],v=Tr[1],I=Tr[2],q=Tr[3],te=Tr[4],!(Ke=Tr[9]=Tr[9]===M?pt?0:f.length:Ns(Tr[9]-nn,0))&&24&v&&(v&=-25),v&&1!=v)Br=8==v||16==v?function fa(f,v,I){var q=Fa(f);return function te(){for(var ve=arguments.length,Ue=lt(ve),Ke=ve,pt=Wh(te);Ke--;)Ue[Ke]=arguments[Ke];var nn=ve<3&&Ue[0]!==pt&&Ue[ve-1]!==pt?[]:_o(Ue,pt);return(ve-=nn.length)<I?Hu(f,v,Kd,te.placeholder,M,Ue,nn,M,M,I-ve):Fs(this&&this!==ps&&this instanceof te?q:f,this,Ue)}}(f,v,Ke):32!=v&&33!=v||te.length?Kd.apply(M,Tr):function Hh(f,v,I,q){var te=1&v,ve=Fa(f);return function Ue(){for(var Ke=-1,pt=arguments.length,nn=-1,on=q.length,pn=lt(on+pt),Gn=this&&this!==ps&&this instanceof Ue?ve:f;++nn<on;)pn[nn]=q[nn];for(;pt--;)pn[nn++]=arguments[++Ke];return Fs(Gn,te?I:this,pn)}}(f,v,I,q);else var Br=function Cn(f,v,I){var q=1&v,te=Fa(f);return function ve(){return(this&&this!==ps&&this instanceof ve?te:f).apply(q?I:this,arguments)}}(f,v,I);return ey((Gn?Bh:eh)(Br,Tr),f,v)}function gg(f,v,I,q){return f===M||gc(f,$u[I])&&!gi.call(q,I)?v:f}function Rt(f,v,I,q,te,ve){return Ho(f)&&Ho(v)&&(ve.set(v,f),_d(f,v,M,Rt,ve),ve.delete(v)),f}function jh(f){return lf(f)?M:f}function bl(f,v,I,q,te,ve){var Ue=1&I,Ke=f.length,pt=v.length;if(Ke!=pt&&!(Ue&&pt>Ke))return!1;var nn=ve.get(f),on=ve.get(v);if(nn&&on)return nn==v&&on==f;var pn=-1,Gn=!0,Tr=2&I?new _s:M;for(ve.set(f,v),ve.set(v,f);++pn<Ke;){var Br=f[pn],pi=v[pn];if(q)var $r=Ue?q(pi,Br,pn,v,f,ve):q(Br,pi,pn,f,v,ve);if($r!==M){if($r)continue;Gn=!1;break}if(Tr){if(!Wo(v,function(Zi,as){if(!H(Tr,as)&&(Br===Zi||te(Br,Zi,I,q,ve)))return Tr.push(as)})){Gn=!1;break}}else if(Br!==pi&&!te(Br,pi,I,q,ve)){Gn=!1;break}}return ve.delete(f),ve.delete(v),Gn}function xu(f){return I_(Tl(f,M,M_),f+"")}function Mf(f){return oc(f,Go,hc)}function Mu(f){return oc(f,Il,pp)}var Tc=Ws?function(f){return Ws.get(f)}:vc;function Nf(f){for(var v=f.name+"",I=is[v],q=gi.call(is,v)?I.length:0;q--;){var te=I[q],ve=te.func;if(null==ve||ve==f)return te.name}return v}function Wh(f){return(gi.call(de,"placeholder")?de:f).placeholder}function Yr(){var f=de.iteratee||ia;return f=f===ia?cg:f,arguments.length?f(arguments[0],arguments[1]):f}function Da(f,v){var I=f.__data__;return function qh(f){var v=typeof f;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==f:null===f}(v)?I["string"==typeof v?"string":"hash"]:I.map}function fp(f){for(var v=Go(f),I=v.length;I--;){var q=v[I],te=f[q];v[I]=[q,te,Cc(te)]}return v}function wl(f,v){var I=function js(Ge,At){return null==Ge?M:Ge[At]}(f,v);return kh(I)?I:M}var hc=au?function(f){return null==f?[]:(f=Vr(f),Si(au(f),function(v){return rs.call(f,v)}))}:Hp,pp=au?function(f){for(var v=[];f;)ns(v,hc(f)),f=Fi(f);return v}:Hp,Sa=du;function vm(f,v,I){for(var q=-1,te=(v=hn(v,f)).length,ve=!1;++q<te;){var Ue=zc(v[q]);if(!(ve=null!=f&&I(f,Ue)))break;f=f[Ue]}return ve||++q!=te?ve:!!(te=null==f?0:f.length)&&sf(te)&&gu(Ue,te)&&(fi(f)||Dl(f))}function ym(f){return"function"!=typeof f.constructor||Jd(f)?{}:to(Fi(f))}function zh(f){return fi(f)||Dl(f)||!!(ni&&f&&f[ni])}function gu(f,v){var I=typeof f;return!!(v=v??It)&&("number"==I||"symbol"!=I&&Rs.test(f))&&f>-1&&f%1==0&&f<v}function ga(f,v,I){if(!Ho(I))return!1;var q=typeof v;return!!("number"==q?Wu(I)&&gu(v,I.length):"string"==q&&v in I)&&gc(I[v],f)}function jc(f,v){if(fi(f))return!1;var I=typeof f;return!("number"!=I&&"symbol"!=I&&"boolean"!=I&&null!=f&&!ra(f))||Ce.test(f)||!je.test(f)||null!=v&&f in Vr(v)}function gp(f){var v=Nf(f),I=de[v];if("function"!=typeof I||!(v in Kr.prototype))return!1;if(f===I)return!0;var q=Tc(I);return!!q&&f===q[0]}(eo&&Sa(new eo(new ArrayBuffer(1)))!=cn||Os&&Sa(new Os)!=Gr||Du&&Sa(Du.resolve())!=er||uu&&Sa(new uu)!=Ar||tl&&Sa(new tl)!=qr)&&(Sa=function(f){var v=du(f),I=v==ar?f.constructor:M,q=I?qc(I):"";if(q)switch(q){case nl:return cn;case Ta:return Gr;case la:return er;case rl:return Ar;case bc:return qr}return v});var Sd=tc?_u:Kg;function Jd(f){var v=f&&f.constructor;return f===("function"==typeof v&&v.prototype||$u)}function Cc(f){return f==f&&!Ho(f)}function Em(f,v){return function(I){return null!=I&&I[f]===v&&(v!==M||f in Vr(I))}}function Tl(f,v,I){return v=Ns(v===M?f.length-1:v,0),function(){for(var q=arguments,te=-1,ve=Ns(q.length-v,0),Ue=lt(ve);++te<ve;)Ue[te]=q[v+te];te=-1;for(var Ke=lt(v+1);++te<v;)Ke[te]=q[te];return Ke[v]=I(Ue),Fs(f,this,Ke)}}function Wc(f,v){return v.length<2?f:Eo(f,ka(v,0,-1))}function mg(f,v){for(var I=f.length,q=Xs(v.length,I),te=pu(f);q--;){var ve=v[q];f[q]=gu(ve,I)?te[ve]:M}return f}function Xd(f,v){if(("constructor"!==v||"function"!=typeof f[v])&&"__proto__"!=v)return f[v]}var eh=_p(Bh),mp=Cu||function(f,v){return ps.setTimeout(f,v)},I_=_p(uc);function ey(f,v,I){var q=v+"";return I_(f,function pa(f,v){var I=v.length;if(!I)return f;var q=I-1;return v[q]=(I>1?"& ":"")+v[q],v=v.join(I>2?", ":" "),f.replace($e,"{\n/* [wrapped with "+v+"] */\n")}(q,function Kc(f,v){return Io(An,function(I){var q="_."+I[0];v&I[1]&&!Ls(f,q)&&f.push(q)}),f.sort()}(function _m(f){var v=f.match(Fe);return v?v[1].split(ye):[]}(q),I)))}function _p(f){var v=0,I=0;return function(){var q=Na(),te=16-(q-I);if(I=q,te>0){if(++v>=800)return arguments[0]}else v=0;return f.apply(M,arguments)}}function th(f,v){var I=-1,q=f.length,te=q-1;for(v=v===M?q:v;++I<v;){var ve=Hc(I,te),Ue=f[ve];f[ve]=f[I],f[I]=Ue}return f.length=v,f}var vr=function Rf(f){var v=Sp(f,function(q){return 500===I.size&&I.clear(),q}),I=v.cache;return v}(function(f){var v=[];return 46===f.charCodeAt(0)&&v.push(""),f.replace(ae,function(I,q,te,ve){v.push(te?ve.replace(Qt,"$1"):q||I)}),v});function zc(f){if("string"==typeof f||ra(f))return f;var v=f+"";return"0"==v&&1/f==-ot?"-0":v}function qc(f){if(null!=f){try{return Tu.call(f)}catch{}try{return f+""}catch{}}return""}function Xi(f){if(f instanceof Kr)return f.clone();var v=new Qo(f.__wrapped__,f.__chain__);return v.__actions__=pu(f.__actions__),v.__index__=f.__index__,v.__values__=f.__values__,v}var nh=dr(function(f,v){return _a(f)?Dt(f,ws(v,1,_a,!0)):[]}),A_=dr(function(f,v){var I=Ia(v);return _a(I)&&(I=M),_a(f)?Dt(f,ws(v,1,_a,!0),Yr(I,2)):[]}),vp=dr(function(f,v){var I=Ia(v);return _a(I)&&(I=M),_a(f)?Dt(f,ws(v,1,_a,!0),M,I):[]});function yp(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=null==I?0:Ni(I);return te<0&&(te=Ns(q+te,0)),_l(f,Yr(v,3),te)}function Cm(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=q-1;return I!==M&&(te=Ni(I),te=I<0?Ns(q+te,0):Xs(te,q-1)),_l(f,Yr(v,3),te,!0)}function M_(f){return null!=f&&f.length?ws(f,1):[]}function Ff(f){return f&&f.length?f[0]:M}var Zc=dr(function(f){var v=Un(f,nr);return v.length&&v[0]===f[0]?ea(v):[]}),mu=dr(function(f){var v=Ia(f),I=Un(f,nr);return v===Ia(I)?v=M:I.pop(),I.length&&I[0]===f[0]?ea(I,Yr(v,2)):[]}),Zs=dr(function(f){var v=Ia(f),I=Un(f,nr);return(v="function"==typeof v?v:M)&&I.pop(),I.length&&I[0]===f[0]?ea(I,M,v):[]});function Ia(f){var v=null==f?0:f.length;return v?f[v-1]:M}var Lf=dr(As);function As(f,v){return f&&f.length&&v&&v.length?da(f,v):f}var Bf=xu(function(f,v){var I=null==f?0:f.length,q=pd(f,v);return yd(f,Un(v,function(te){return gu(te,I)?+te:te}).sort(If)),q});function Nu(f){return null==f?f:Fl.call(f)}var Qc=dr(function(f){return D(ws(f,1,_a,!0))}),Mi=dr(function(f){var v=Ia(f);return _a(v)&&(v=M),D(ws(f,1,_a,!0),Yr(v,2))}),bg=dr(function(f){var v=Ia(f);return v="function"==typeof v?v:M,D(ws(f,1,_a,!0),M,v)});function wp(f){if(!f||!f.length)return[];var v=0;return f=Si(f,function(I){if(_a(I))return v=Ns(I.length,v),!0}),Qu(v,function(I){return Un(f,Ss(I))})}function Tp(f,v){if(!f||!f.length)return[];var I=wp(f);return null==v?I:Un(I,function(q){return Fs(v,M,q)})}var Sm=dr(function(f,v){return _a(f)?Dt(f,v):[]}),iy=dr(function(f){return qe(Si(f,_a))}),wg=dr(function(f){var v=Ia(f);return _a(v)&&(v=M),qe(Si(f,_a),Yr(v,2))}),Ad=dr(function(f){var v=Ia(f);return v="function"==typeof v?v:M,qe(Si(f,_a),M,v)}),P_=dr(wp),xd=dr(function(f){var v=f.length,I=v>1?f[v-1]:M;return I="function"==typeof I?(f.pop(),I):M,Tp(f,I)});function Tg(f){var v=de(f);return v.__chain__=!0,v}function $f(f,v){return v(f)}var Hf=xu(function(f){var v=f.length,I=v?f[0]:0,q=this.__wrapped__,te=function(ve){return pd(ve,f)};return!(v>1||this.__actions__.length)&&q instanceof Kr&&gu(I)?((q=q.slice(I,+I+(v?1:0))).__actions__.push({func:$f,args:[te],thisArg:M}),new Qo(q,this.__chain__).thru(function(ve){return v&&!ve.length&&ve.push(M),ve})):this.thru(te)}),ef=Zr(function(f,v,I){gi.call(f,I)?++f[I]:ca(f,I,1)}),Md=Hn(yp),sy=Hn(Cm);function pc(f,v){return(fi(f)?Io:en)(f,Yr(v,3))}function Sg(f,v){return(fi(f)?eu:Zn)(f,Yr(v,3))}var F_=Zr(function(f,v,I){gi.call(f,I)?f[I].push(v):ca(f,I,[v])}),L_=dr(function(f,v,I){var q=-1,te="function"==typeof v,ve=Wu(f)?lt(f.length):[];return en(f,function(Ue){ve[++q]=te?Fs(v,Ue,I):ll(Ue,v,I)}),ve}),B_=Zr(function(f,v,I){ca(f,I,v)});function ma(f,v){return(fi(f)?Un:md)(f,Yr(v,3))}var Ig=Zr(function(f,v,I){f[I?0:1].push(v)},function(){return[[],[]]}),Mm=dr(function(f,v){if(null==f)return[];var I=v.length;return I>1&&ga(f,v[0],v[1])?v=[]:I>2&&ga(v[0],v[1],v[2])&&(v=[v[0]]),vd(f,ws(v,1),[])}),sh=ou||function(){return ps.Date.now()};function Nm(f,v,I){return v=I?M:v,La(f,128,M,M,M,M,v=f&&null==v?f.length:v)}function bi(f,v){var I;if("function"!=typeof v)throw new Zo(Me);return f=Ni(f),function(){return--f>0&&(I=v.apply(this,arguments)),f<=1&&(v=M),I}}var Cp=dr(function(f,v,I){var q=1;if(I.length){var te=_o(I,Wh(Cp));q|=32}return La(f,q,v,I,te)}),Dp=dr(function(f,v,I){var q=3;if(I.length){var te=_o(I,Wh(Dp));q|=32}return La(v,q,f,I,te)});function oh(f,v,I){var q,te,ve,Ue,Ke,pt,nn=0,on=!1,pn=!1,Gn=!0;if("function"!=typeof f)throw new Zo(Me);function Tr(Us){var Ou=q,ld=te;return q=te=M,nn=Us,Ue=f.apply(ld,Ou)}function Br(Us){return nn=Us,Ke=mp(Zi,v),on?Tr(Us):Ue}function $r(Us){var Ou=Us-pt;return pt===M||Ou>=v||Ou<0||pn&&Us-nn>=ve}function Zi(){var Us=sh();if($r(Us))return as(Us);Ke=mp(Zi,function pi(Us){var Eh=v-(Us-pt);return pn?Xs(Eh,ve-(Us-nn)):Eh}(Us))}function as(Us){return Ke=M,Gn&&q?Tr(Us):(q=te=M,Ue)}function Ku(){var Us=sh(),Ou=$r(Us);if(q=arguments,te=this,pt=Us,Ou){if(Ke===M)return Br(pt);if(pn)return Vn(Ke),Ke=mp(Zi,v),Tr(pt)}return Ke===M&&(Ke=mp(Zi,v)),Ue}return v=jl(v)||0,Ho(I)&&(on=!!I.leading,ve=(pn="maxWait"in I)?Ns(jl(I.maxWait)||0,v):ve,Gn="trailing"in I?!!I.trailing:Gn),Ku.cancel=function Ml(){Ke!==M&&Vn(Ke),nn=0,q=pt=te=Ke=M},Ku.flush=function qu(){return Ke===M?Ue:as(sh())},Ku}var ed=dr(function(f,v){return tt(f,1,v)}),U_=dr(function(f,v,I){return tt(f,jl(v)||0,I)});function Sp(f,v){if("function"!=typeof f||null!=v&&"function"!=typeof v)throw new Zo(Me);var I=function(){var q=arguments,te=v?v.apply(this,q):q[0],ve=I.cache;if(ve.has(te))return ve.get(te);var Ue=f.apply(this,q);return I.cache=ve.set(te,Ue)||ve,Ue};return I.cache=new(Sp.Cache||ol),I}function Ip(f){if("function"!=typeof f)throw new Zo(Me);return function(){var v=arguments;switch(v.length){case 0:return!f.call(this);case 1:return!f.call(this,v[0]);case 2:return!f.call(this,v[0],v[1]);case 3:return!f.call(this,v[0],v[1],v[2])}return!f.apply(this,v)}}Sp.Cache=ol;var ay=Yn(function(f,v){var I=(v=1==v.length&&fi(v[0])?Un(v[0],B(Yr())):Un(ws(v,1),B(Yr()))).length;return dr(function(q){for(var te=-1,ve=Xs(q.length,I);++te<ve;)q[te]=v[te].call(this,q[te]);return Fs(f,this,q)})}),Rm=dr(function(f,v){var I=_o(v,Wh(Rm));return La(f,32,M,v,I)}),uy=dr(function(f,v){var I=_o(v,Wh(uy));return La(f,64,M,v,I)}),H_=xu(function(f,v){return La(f,256,M,M,M,v)});function gc(f,v){return f===v||f!=f&&v!=v}var W_=Zd(lo),Ac=Zd(function(f,v){return f>=v}),Dl=ug(function(){return arguments}())?ug:function(f){return hs(f)&&gi.call(f,"callee")&&!rs.call(f,"callee")},fi=lt.isArray,uh=ya?B(ya):function Ph(f){return hs(f)&&du(f)==kn};function Wu(f){return null!=f&&sf(f.length)&&!_u(f)}function _a(f){return hs(f)&&Wu(f)}var xc=ua||Kg,Mg=So?B(So):function lg(f){return hs(f)&&du(f)==kr};function Ng(f){if(!hs(f))return!1;var v=du(f);return v==gr||"[object DOMException]"==v||"string"==typeof f.message&&"string"==typeof f.name&&!lf(f)}function _u(f){if(!Ho(f))return!1;var v=du(f);return v==Xn||v==Jr||"[object AsyncFunction]"==v||"[object Proxy]"==v}function Fm(f){return"number"==typeof f&&f==Ni(f)}function sf(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=It}function Ho(f){var v=typeof f;return null!=f&&("object"==v||"function"==v)}function hs(f){return null!=f&&"object"==typeof f}var af=xs?B(xs):function Tf(f){return hs(f)&&Sa(f)==Gr};function uf(f){return"number"==typeof f||hs(f)&&du(f)==Cr}function lf(f){if(!hs(f)||du(f)!=ar)return!1;var v=Fi(f);if(null===v)return!0;var I=gi.call(v,"constructor")&&v.constructor;return"function"==typeof I&&I instanceof I&&Tu.call(I)==se}var cf=po?B(po):function Cf(f){return hs(f)&&du(f)==mn},xp=Ea?B(Ea):function op(f){return hs(f)&&Sa(f)==Ar};function Mp(f){return"string"==typeof f||!fi(f)&&hs(f)&&du(f)==Vi}function ra(f){return"symbol"==typeof f||hs(f)&&du(f)==Ri}var lh=oo?B(oo):function ap(f){return hs(f)&&sf(f.length)&&!!Di[du(f)]},cy=Zd(Lh),dy=Zd(function(f,v){return f<=v});function $m(f){if(!f)return[];if(Wu(f))return Mp(f)?aa(f):pu(f);if(Lo&&f[Lo])return function mo(Ge){for(var At,lt=[];!(At=Ge.next()).done;)lt.push(At.value);return lt}(f[Lo]());var v=Sa(f);return(v==Gr?ts:v==Ar?ms:Al)(f)}function nd(f){return f?(f=jl(f))===ot||f===-ot?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function Ni(f){var v=nd(f),I=v%1;return v==v?I?v-I:v:0}function Fg(f){return f?z(Ni(f),0,Kt):0}function jl(f){if("number"==typeof f)return f;if(ra(f))return NaN;if(Ho(f)){var v="function"==typeof f.valueOf?f.valueOf():f;f=Ho(v)?v+"":v}if("string"!=typeof f)return 0===f?f:+f;f=iu(f);var I=Es.test(f);return I||zi.test(f)?ml(f.slice(2),I?2:8):ci.test(f)?NaN:+f}function Y_(f){return $l(f,Il(f))}function ii(f){return null==f?"":b(f)}var Hm=Hl(function(f,v){if(Jd(v)||Wu(v))$l(v,Go(v),f);else for(var I in v)gi.call(v,I)&&zs(f,I,v[I])}),Gm=Hl(function(f,v){$l(v,Il(v),f)}),rd=Hl(function(f,v,I,q){$l(v,Il(v),f,q)}),Rd=Hl(function(f,v,I,q){$l(v,Go(v),f,q)}),J_=xu(pd),Lg=dr(function(f,v){f=Vr(f);var I=-1,q=v.length,te=q>2?v[2]:M;for(te&&ga(v[0],v[1],te)&&(q=1);++I<q;)for(var ve=v[I],Ue=Il(ve),Ke=-1,pt=Ue.length;++Ke<pt;){var nn=Ue[Ke],on=f[nn];(on===M||gc(on,$u[nn])&&!gi.call(f,nn))&&(f[nn]=ve[nn])}return f}),Np=dr(function(f){return f.push(M,Rt),Fs(kp,M,f)});function Wl(f,v,I){var q=null==f?M:Eo(f,v);return q===M?I:q}function Rp(f,v){return null!=f&&vm(f,v,wc)}var qm=wd(function(f,v,I){null!=v&&"function"!=typeof v.toString&&(v=W.call(v)),f[v]=I},Wg(jo)),id=wd(function(f,v,I){null!=v&&"function"!=typeof v.toString&&(v=W.call(v)),gi.call(f,v)?f[v].push(I):f[v]=[I]},Yr),dh=dr(ll);function Go(f){return Wu(f)?Jt(f):Fh(f)}function Il(f){return Wu(f)?Jt(f,!0):function up(f){if(!Ho(f))return function Qd(f){var v=[];if(null!=f)for(var I in Vr(f))v.push(I);return v}(f);var v=Jd(f),I=[];for(var q in f)"constructor"==q&&(v||!gi.call(f,q))||I.push(q);return I}(f)}var fy=Hl(function(f,v,I){_d(f,v,I)}),kp=Hl(function(f,v,I,q){_d(f,v,I,q)}),hh=xu(function(f,v){var I={};if(null==f)return I;var q=!1;v=Un(v,function(ve){return ve=hn(ve,f),q||(q=ve.length>1),ve}),$l(f,Mu(f),I),q&&(I=Z(I,7,jh));for(var te=v.length;te--;)k(I,v[te]);return I}),fh=xu(function(f,v){return null==f?{}:function dg(f,v){return Sf(f,v,function(I,q){return Rp(f,q)})}(f,v)});function Fp(f,v){if(null==f)return{};var I=Un(Mu(f),function(q){return[q]});return v=Yr(v),Sf(f,I,function(q,te){return v(q,te[0])})}var hf=hp(Go),ph=hp(Il);function Al(f){return null==f?[]:j(f,Go(f))}var nv=Bi(function(f,v,I){return v=v.toLowerCase(),f+(I?sd(v):v)});function sd(f){return ad(ii(f).toLowerCase())}function zf(f){return(f=ii(f))&&f.replace($s,ti).replace(Ci,"")}var xl=Bi(function(f,v,I){return f+(I?"-":"")+v.toLowerCase()}),iv=Bi(function(f,v,I){return f+(I?" ":"")+v.toLowerCase()}),Ug=cc("toLowerCase"),ov=Bi(function(f,v,I){return f+(I?"_":"")+v.toLowerCase()}),av=Bi(function(f,v,I){return f+(I?" ":"")+ad(v)}),Vp=Bi(function(f,v,I){return f+(I?" ":"")+v.toUpperCase()}),ad=cc("toUpperCase");function Jm(f,v,I){return f=ii(f),(v=I?M:v)===M?function qo(Ge){return Qa.test(Ge)}(f)?function Pl(Ge){return Ge.match(Ua)||[]}(f):function Gs(Ge){return Ge.match(nt)||[]}(f):f.match(v)||[]}var mc=dr(function(f,v){try{return Fs(f,M,v)}catch(I){return Ng(I)?I:new Lr(I)}}),Kf=xu(function(f,v){return Io(v,function(I){I=zc(I),ca(f,I,Cp(f[I],f))}),f});function Wg(f){return function(){return f}}var Up=bd(),zu=bd(!0);function jo(f){return f}function ia(f){return cg("function"==typeof f?f:Z(f,1))}var Rc=dr(function(f,v){return function(I){return ll(I,f,v)}}),pf=dr(function(f,v){return function(I){return ll(f,I,v)}});function ud(f,v,I){var q=Go(v),te=Oo(v,q);null==I&&(!Ho(v)||!te.length&&q.length)&&(I=v,v=f,f=this,te=Oo(v,Go(v)));var ve=!(Ho(I)&&"chain"in I&&!I.chain),Ue=_u(f);return Io(te,function(Ke){var pt=v[Ke];f[Ke]=pt,Ue&&(f.prototype[Ke]=function(){var nn=this.__chain__;if(ve||nn){var on=f(this.__wrapped__),pn=on.__actions__=pu(this.__actions__);return pn.push({func:pt,args:arguments,thisArg:f}),on.__chain__=nn,on}return pt.apply(f,ns([this.value()],arguments))})}),f}function vc(){}var mh=dc(Un),_h=dc($t),vh=dc(Wo);function mf(f){return jc(f)?Ss(zc(f)):function Ul(f){return function(v){return Eo(v,f)}}(f)}var qg=Cd(),_f=Cd(!0);function Hp(){return[]}function Kg(){return!1}var hv=Af(function(f,v){return f+v},0),fv=Gh("ceil"),yh=Af(function(f,v){return f/v},1),Ld=Gh("floor"),Jf=Af(function(f,v){return f*v},1),pv=Gh("round"),jp=Af(function(f,v){return f-v},0);return de.after=function oy(f,v){if("function"!=typeof v)throw new Zo(Me);return f=Ni(f),function(){if(--f<1)return v.apply(this,arguments)}},de.ary=Nm,de.assign=Hm,de.assignIn=Gm,de.assignInWith=rd,de.assignWith=Rd,de.at=J_,de.before=bi,de.bind=Cp,de.bindAll=Kf,de.bindKey=Dp,de.castArray=function j_(){if(!arguments.length)return[];var f=arguments[0];return fi(f)?f:[f]},de.chain=Tg,de.chunk=function Ks(f,v,I){v=(I?ga(f,v,I):v===M)?1:Ns(Ni(v),0);var q=null==f?0:f.length;if(!q||v<1)return[];for(var te=0,ve=0,Ue=lt(Ga(q/v));te<q;)Ue[ve++]=ka(f,te,te+=v);return Ue},de.compact=function kf(f){for(var v=-1,I=null==f?0:f.length,q=0,te=[];++v<I;){var ve=f[v];ve&&(te[q++]=ve)}return te},de.concat=function _g(){var f=arguments.length;if(!f)return[];for(var v=lt(f-1),I=arguments[0],q=f;q--;)v[q-1]=arguments[q];return ns(fi(I)?pu(I):[I],ws(v,1))},de.cond=function Qm(f){var v=null==f?0:f.length,I=Yr();return f=v?Un(f,function(q){if("function"!=typeof q[1])throw new Zo(Me);return[I(q[0]),q[1]]}):[],dr(function(q){for(var te=-1;++te<v;){var ve=f[te];if(Fs(ve[0],this,q))return Fs(ve[1],this,q)}})},de.conforms=function jg(f){return function oe(f){var v=Go(f);return function(I){return Le(I,f,v)}}(Z(f,1))},de.constant=Wg,de.countBy=ef,de.create=function Q_(f,v){var I=to(f);return null==v?I:Vo(I,v)},de.curry=function ri(f,v,I){var q=La(f,8,M,M,M,M,M,v=I?M:v);return q.placeholder=ri.placeholder,q},de.curryRight=function Nd(f,v,I){var q=La(f,16,M,M,M,M,M,v=I?M:v);return q.placeholder=Nd.placeholder,q},de.debounce=oh,de.defaults=Lg,de.defaultsDeep=Np,de.defer=ed,de.delay=U_,de.difference=nh,de.differenceBy=A_,de.differenceWith=vp,de.drop=function x_(f,v,I){var q=null==f?0:f.length;return q?ka(f,(v=I||v===M?1:Ni(v))<0?0:v,q):[]},de.dropRight=function na(f,v,I){var q=null==f?0:f.length;return q?ka(f,0,(v=q-(v=I||v===M?1:Ni(v)))<0?0:v):[]},de.dropRightWhile=function wm(f,v){return f&&f.length?me(f,Yr(v,3),!0,!0):[]},de.dropWhile=function Tm(f,v){return f&&f.length?me(f,Yr(v,3),!0):[]},de.fill=function ty(f,v,I,q){var te=null==f?0:f.length;return te?(I&&"number"!=typeof I&&ga(f,v,I)&&(I=0,q=te),function Ur(f,v,I,q){var te=f.length;for((I=Ni(I))<0&&(I=-I>te?0:te+I),(q=q===M||q>te?te:Ni(q))<0&&(q+=te),q=I>q?0:Fg(q);I<q;)f[I++]=v;return f}(f,v,I,q)):[]},de.filter=function Dc(f,v){return(fi(f)?Si:zr)(f,Yr(v,3))},de.flatMap=function Dg(f,v){return ws(ma(f,v),1)},de.flatMapDeep=function tf(f,v){return ws(ma(f,v),ot)},de.flatMapDepth=function cl(f,v,I){return I=I===M?1:Ni(I),ws(ma(f,v),I)},de.flatten=M_,de.flattenDeep=function N_(f){return null!=f&&f.length?ws(f,ot):[]},de.flattenDepth=function ny(f,v){return null!=f&&f.length?ws(f,v=v===M?1:Ni(v)):[]},de.flip=function $_(f){return La(f,512)},de.flow=Up,de.flowRight=zu,de.fromPairs=function O_(f){for(var v=-1,I=null==f?0:f.length,q={};++v<I;){var te=f[v];q[te[0]]=te[1]}return q},de.functions=function zm(f){return null==f?[]:Oo(f,Go(f))},de.functionsIn=function X_(f){return null==f?[]:Oo(f,Il(f))},de.groupBy=F_,de.initial=function ss(f){return null!=f&&f.length?ka(f,0,-1):[]},de.intersection=Zc,de.intersectionBy=mu,de.intersectionWith=Zs,de.invert=qm,de.invertBy=id,de.invokeMap=L_,de.iteratee=ia,de.keyBy=B_,de.keys=Go,de.keysIn=Il,de.map=ma,de.mapKeys=function Pp(f,v){var I={};return v=Yr(v,3),Uo(f,function(q,te,ve){ca(I,v(q,te,ve),q)}),I},de.mapValues=function hy(f,v){var I={};return v=Yr(v,3),Uo(f,function(q,te,ve){ca(I,te,v(q,te,ve))}),I},de.matches=function _c(f){return hu(Z(f,1))},de.matchesProperty=function zg(f,v){return Df(f,Z(v,1))},de.memoize=Sp,de.merge=fy,de.mergeWith=kp,de.method=Rc,de.methodOf=pf,de.mixin=ud,de.negate=Ip,de.nthArg=function gf(f){return f=Ni(f),dr(function(v){return El(v,f)})},de.omit=hh,de.omitBy=function zl(f,v){return Fp(f,Ip(Yr(v)))},de.once=function Om(f){return bi(2,f)},de.orderBy=function os(f,v,I,q){return null==f?[]:(fi(v)||(v=null==v?[]:[v]),fi(I=q?M:I)||(I=null==I?[]:[I]),vd(f,v,I))},de.over=mh,de.overArgs=ay,de.overEvery=_h,de.overSome=vh,de.partial=Rm,de.partialRight=uy,de.partition=Ig,de.pick=fh,de.pickBy=Fp,de.property=mf,de.propertyOf=function $p(f){return function(v){return null==f?M:Eo(f,v)}},de.pull=Lf,de.pullAll=As,de.pullAllBy=function vg(f,v,I){return f&&f.length&&v&&v.length?da(f,v,Yr(I,2)):f},de.pullAllWith=function xi(f,v,I){return f&&f.length&&v&&v.length?da(f,v,M,I):f},de.pullAt=Bf,de.range=qg,de.rangeRight=_f,de.rearg=H_,de.reject=function b0(f,v){return(fi(f)?Si:zr)(f,Ip(Yr(v,3)))},de.remove=function $o(f,v){var I=[];if(!f||!f.length)return I;var q=-1,te=[],ve=f.length;for(v=Yr(v,3);++q<ve;){var Ue=f[q];v(Ue,q,f)&&(I.push(Ue),te.push(q))}return yd(f,te),I},de.rest=function nf(f,v){if("function"!=typeof f)throw new Zo(Me);return dr(f,v=v===M?v:Ni(v))},de.reverse=Nu,de.sampleSize=function Sc(f,v,I){return v=(I?ga(f,v,I):v===M)?1:Ni(v),(fi(f)?Pn:Pa)(f,v)},de.set=function Km(f,v,I){return null==f?f:Au(f,v,I)},de.setWith=function ev(f,v,I,q){return q="function"==typeof q?q:M,null==f?f:Au(f,v,I,q)},de.shuffle=function ih(f){return(fi(f)?hi:ha)(f)},de.slice=function Zh(f,v,I){var q=null==f?0:f.length;return q?(I&&"number"!=typeof I&&ga(f,v,I)?(v=0,I=q):(v=null==v?0:Ni(v),I=I===M?q:Ni(I)),ka(f,v,I)):[]},de.sortBy=Mm,de.sortedUniq=function Uf(f){return f&&f.length?Gc(f):[]},de.sortedUniqBy=function Jc(f,v){return f&&f.length?Gc(f,Yr(v,2)):[]},de.split=function qf(f,v,I){return I&&"number"!=typeof I&&ga(f,v,I)&&(v=I=M),(I=I===M?Kt:I>>>0)?(f=ii(f))&&("string"==typeof v||null!=v&&!cf(v))&&!(v=b(v))&&Yi(f)?qa(aa(f),0,I):f.split(v,I):[]},de.spread=function ah(f,v){if("function"!=typeof f)throw new Zo(Me);return v=null==v?0:Ns(Ni(v),0),dr(function(I){var q=I[v],te=qa(I,0,v);return q&&ns(te,q),Fs(f,this,te)})},de.tail=function Eg(f){var v=null==f?0:f.length;return v?ka(f,1,v):[]},de.take=function Id(f,v,I){return f&&f.length?ka(f,0,(v=I||v===M?1:Ni(v))<0?0:v):[]},de.takeRight=function Gu(f,v,I){var q=null==f?0:f.length;return q?ka(f,(v=q-(v=I||v===M?1:Ni(v)))<0?0:v,q):[]},de.takeRightWhile=function Dm(f,v){return f&&f.length?me(f,Yr(v,3),!1,!0):[]},de.takeWhile=function Jh(f,v){return f&&f.length?me(f,Yr(v,3)):[]},de.tap=function Ya(f,v){return v(f),f},de.throttle=function G_(f,v,I){var q=!0,te=!0;if("function"!=typeof f)throw new Zo(Me);return Ho(I)&&(q="leading"in I?!!I.leading:q,te="trailing"in I?!!I.trailing:te),oh(f,v,{leading:q,maxWait:v,trailing:te})},de.thru=$f,de.toArray=$m,de.toPairs=hf,de.toPairsIn=ph,de.toPath=function t_(f){return fi(f)?Un(f,zc):ra(f)?[f]:pu(vr(ii(f)))},de.toPlainObject=Y_,de.transform=function Lp(f,v,I){var q=fi(f),te=q||xc(f)||lh(f);if(v=Yr(v,4),null==I){var ve=f&&f.constructor;I=te?q?new ve:[]:Ho(f)&&_u(ve)?to(Fi(f)):{}}return(te?Io:Uo)(f,function(Ue,Ke,pt){return v(I,Ue,Ke,pt)}),I},de.unary=function ui(f){return Nm(f,1)},de.union=Qc,de.unionBy=Mi,de.unionWith=bg,de.uniq=function rh(f){return f&&f.length?D(f):[]},de.uniqBy=function Ep(f,v){return f&&f.length?D(f,Yr(v,2)):[]},de.uniqWith=function bp(f,v){return v="function"==typeof v?v:M,f&&f.length?D(f,M,v):[]},de.unset=function Nc(f,v){return null==f||k(f,v)},de.unzip=wp,de.unzipWith=Tp,de.update=function jf(f,v,I){return null==f?f:ne(f,v,Rr(I))},de.updateWith=function Bp(f,v,I,q){return q="function"==typeof q?q:M,null==f?f:ne(f,v,Rr(I),q)},de.values=Al,de.valuesIn=function py(f){return null==f?[]:j(f,Il(f))},de.without=Sm,de.words=Jm,de.wrap=function Ap(f,v){return Rm(Rr(v),f)},de.xor=iy,de.xorBy=wg,de.xorWith=Ad,de.zip=P_,de.zipObject=function Qh(f,v){return En(f||[],v||[],zs)},de.zipObjectDeep=function ju(f,v){return En(f||[],v||[],Au)},de.zipWith=xd,de.entries=hf,de.entriesIn=ph,de.extend=Gm,de.extendWith=rd,ud(de,de),de.add=hv,de.attempt=mc,de.camelCase=nv,de.capitalize=sd,de.ceil=fv,de.clamp=function Bg(f,v,I){return I===M&&(I=v,v=M),I!==M&&(I=(I=jl(I))==I?I:0),v!==M&&(v=(v=jl(v))==v?v:0),z(jl(f),v,I)},de.clone=function xg(f){return Z(f,4)},de.cloneDeep=function Pm(f){return Z(f,5)},de.cloneDeepWith=function km(f,v){return Z(f,5,v="function"==typeof v?v:M)},de.cloneWith=function td(f,v){return Z(f,4,v="function"==typeof v?v:M)},de.conformsTo=function rf(f,v){return null==v||Le(f,v,Go(v))},de.deburr=zf,de.defaultTo=function Oc(f,v){return null==f||f!=f?v:f},de.divide=yh,de.endsWith=function Vg(f,v,I){f=ii(f),v=b(v);var q=f.length,te=I=I===M?q:z(Ni(I),0,q);return(I-=v.length)>=0&&f.slice(I,te)==v},de.eq=gc,de.escape=function Zm(f){return(f=ii(f))&&Ht.test(f)?f.replace(wn,gs):f},de.escapeRegExp=function rv(f){return(f=ii(f))&&Et.test(f)?f.replace(Ie,"\\$&"):f},de.every=function Cg(f,v,I){var q=fi(f)?$t:or;return I&&ga(f,v,I)&&(v=M),q(f,Yr(v,3))},de.find=Md,de.findIndex=yp,de.findKey=function Sl(f,v){return go(f,Yr(v,3),Uo)},de.findLast=sy,de.findLastIndex=Cm,de.findLastKey=function ch(f,v){return go(f,Yr(v,3),Su)},de.floor=Ld,de.forEach=pc,de.forEachRight=Sg,de.forIn=function Pd(f,v){return null==f?f:uo(f,Yr(v,3),Il)},de.forInRight=function df(f,v){return null==f?f:za(f,Yr(v,3),Il)},de.forOwn=function jm(f,v){return f&&Uo(f,Yr(v,3))},de.forOwnRight=function Wm(f,v){return f&&Su(f,Yr(v,3))},de.get=Wl,de.gt=W_,de.gte=Ac,de.has=function Op(f,v){return null!=f&&vm(f,v,Rh)},de.hasIn=Rp,de.head=Ff,de.identity=jo,de.includes=function Gf(f,v,I,q){f=Wu(f)?f:Al(f),I=I&&!q?Ni(I):0;var te=f.length;return I<0&&(I=Ns(te+I,0)),Mp(f)?I<=te&&f.indexOf(v,I)>-1:!!te&&ao(f,v,I)>-1},de.indexOf=function ry(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=null==I?0:Ni(I);return te<0&&(te=Ns(q+te,0)),ao(f,v,te)},de.inRange=function Wf(f,v,I){return v=nd(v),I===M?(I=v,v=0):I=nd(I),function jd(f,v,I){return f>=Xs(v,I)&&f<Ns(v,I)}(f=jl(f),v,I)},de.invoke=dh,de.isArguments=Dl,de.isArray=fi,de.isArrayBuffer=uh,de.isArrayLike=Wu,de.isArrayLikeObject=_a,de.isBoolean=function z_(f){return!0===f||!1===f||hs(f)&&du(f)==Or},de.isBuffer=xc,de.isDate=Mg,de.isElement=function ly(f){return hs(f)&&1===f.nodeType&&!lf(f)},de.isEmpty=function q_(f){if(null==f)return!0;if(Wu(f)&&(fi(f)||"string"==typeof f||"function"==typeof f.splice||xc(f)||lh(f)||Dl(f)))return!f.length;var v=Sa(f);if(v==Gr||v==Ar)return!f.size;if(Jd(f))return!Fh(f).length;for(var I in f)if(gi.call(f,I))return!1;return!0},de.isEqual=function K_(f,v){return Ra(f,v)},de.isEqualWith=function dl(f,v,I){var q=(I="function"==typeof I?I:M)?I(f,v):M;return q===M?Ra(f,v,M,I):!!q},de.isError=Ng,de.isFinite=function Od(f){return"number"==typeof f&&Yo(f)},de.isFunction=_u,de.isInteger=Fm,de.isLength=sf,de.isMap=af,de.isMatch=function Og(f,v){return f===v||gd(f,v,fp(v))},de.isMatchWith=function Mc(f,v,I){return I="function"==typeof I?I:M,gd(f,v,fp(v),I)},de.isNaN=function Lm(f){return uf(f)&&f!=+f},de.isNative=function Rg(f){if(Sd(f))throw new Lr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kh(f)},de.isNil=function Pg(f){return null==f},de.isNull=function Bm(f){return null===f},de.isNumber=uf,de.isObject=Ho,de.isObjectLike=hs,de.isPlainObject=lf,de.isRegExp=cf,de.isSafeInteger=function Vm(f){return Fm(f)&&f>=-It&&f<=It},de.isSet=xp,de.isString=Mp,de.isSymbol=ra,de.isTypedArray=lh,de.isUndefined=function kg(f){return f===M},de.isWeakMap=function Z_(f){return hs(f)&&Sa(f)==qr},de.isWeakSet=function Um(f){return hs(f)&&"[object WeakSet]"==du(f)},de.join=function Kh(f,v){return null==f?"":el.call(f,v)},de.kebabCase=xl,de.last=Ia,de.lastIndexOf=function Ka(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=q;return I!==M&&(te=(te=Ni(I))<0?Ns(q+te,0):Xs(te,q-1)),v==v?function Xu(Ge,At,lt){for(var zn=lt+1;zn--;)if(Ge[zn]===At)return zn;return zn}(f,v,te):_l(f,zo,te,!0)},de.lowerCase=iv,de.lowerFirst=Ug,de.lt=cy,de.lte=dy,de.max=function n_(f){return f&&f.length?cr(f,jo,lo):M},de.maxBy=function vf(f,v){return f&&f.length?cr(f,Yr(v,2),lo):M},de.mean=function Gp(f){return Fr(f,jo)},de.meanBy=function yc(f,v){return Fr(f,Yr(v,2))},de.min=function r_(f){return f&&f.length?cr(f,jo,Lh):M},de.minBy=function Zg(f,v){return f&&f.length?cr(f,Yr(v,2),Lh):M},de.stubArray=Hp,de.stubFalse=Kg,de.stubObject=function Xm(){return{}},de.stubString=function dv(){return""},de.stubTrue=function e_(){return!0},de.multiply=Jf,de.nth=function Za(f,v){return f&&f.length?El(f,Ni(v)):M},de.noConflict=function Zf(){return ps._===this&&(ps._=Be),this},de.noop=vc,de.now=sh,de.pad=function ff(f,v,I){f=ii(f);var q=(v=Ni(v))?Bu(f):0;if(!v||q>=v)return f;var te=(v-q)/2;return Td(vl(te),I)+f+Td(Ga(te),I)},de.padEnd=function $g(f,v,I){f=ii(f);var q=(v=Ni(v))?Bu(f):0;return v&&q<v?f+Td(v-q,I):f},de.padStart=function od(f,v,I){f=ii(f);var q=(v=Ni(v))?Bu(f):0;return v&&q<v?Td(v-q,I)+f:f},de.parseInt=function kd(f,v,I){return I||null==v?v=0:v&&(v=+v),Nh(ii(f).replace(Zt,""),v||0)},de.random=function tv(f,v,I){if(I&&"boolean"!=typeof I&&ga(f,v,I)&&(v=I=M),I===M&&("boolean"==typeof v?(I=v,v=M):"boolean"==typeof f&&(I=f,f=M)),f===M&&v===M?(f=0,v=1):(f=nd(f),v===M?(v=f,f=0):v=nd(v)),f>v){var q=f;f=v,v=q}if(I||f%1||v%1){var te=yo();return Xs(f+te*(v-f+fo("1e-"+((te+"").length-1))),v)}return Hc(f,v)},de.reduce=function V_(f,v,I){var q=fi(f)?qi:Is,te=arguments.length<3;return q(f,Yr(v,4),I,te,en)},de.reduceRight=function Xc(f,v,I){var q=fi(f)?$n:Is,te=arguments.length<3;return q(f,Yr(v,4),I,te,Zn)},de.repeat=function sv(f,v,I){return v=(I?ga(f,v,I):v===M)?1:Ni(v),ac(ii(f),v)},de.replace=function Fd(){var f=arguments,v=ii(f[0]);return f.length<3?v:v.replace(f[1],f[2])},de.result=function w0(f,v,I){var q=-1,te=(v=hn(v,f)).length;for(te||(te=1,f=M);++q<te;){var ve=null==f?M:f[zc(v[q])];ve===M&&(q=te,ve=I),f=_u(ve)?ve.call(f):ve}return f},de.round=pv,de.runInContext=Ge,de.sample=function Cl(f){return(fi(f)?Jn:Ed)(f)},de.size=function Ag(f){if(null==f)return 0;if(Wu(f))return Mp(f)?Bu(f):f.length;var v=Sa(f);return v==Gr||v==Ar?f.size:Fh(f).length},de.snakeCase=ov,de.some=function Ic(f,v,I){var q=fi(f)?Wo:Vh;return I&&ga(f,v,I)&&(v=M),q(f,Yr(v,3))},de.sortedIndex=function Yc(f,v){return lc(f,v)},de.sortedIndexBy=function R_(f,v,I){return Uh(f,v,Yr(I,2))},de.sortedIndexOf=function Gl(f,v){var I=null==f?0:f.length;if(I){var q=lc(f,v);if(q<I&&gc(f[q],v))return q}return-1},de.sortedLastIndex=function Yh(f,v){return lc(f,v,!0)},de.sortedLastIndexBy=function Vf(f,v,I){return Uh(f,v,Yr(I,2),!0)},de.sortedLastIndexOf=function yg(f,v){if(null!=f&&f.length){var q=lc(f,v,!0)-1;if(gc(f[q],v))return q}return-1},de.startCase=av,de.startsWith=function gh(f,v,I){return f=ii(f),I=null==I?0:z(Ni(I),0,f.length),v=b(v),f.slice(I,I+v.length)==v},de.subtract=jp,de.sum=function Yg(f){return f&&f.length?nu(f,jo):0},de.sumBy=function i_(f,v){return f&&f.length?nu(f,Yr(v,2)):0},de.template=function uv(f,v,I){var q=de.templateSettings;I&&ga(f,v,I)&&(v=M),f=ii(f),v=rd({},v,q,gg);var Ke,pt,te=rd({},v.imports,q.imports,gg),ve=Go(te),Ue=j(te,ve),nn=0,on=v.interpolate||Ds,pn="__p += '",Gn=Ao((v.escape||Ds).source+"|"+on.source+"|"+(on===Ae?xn:Ds).source+"|"+(v.evaluate||Ds).source+"|$","g"),Tr="//# sourceURL="+(gi.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xl+"]")+"\n";f.replace(Gn,function($r,Zi,as,Ml,qu,Ku){return as||(as=Ml),pn+=f.slice(nn,Ku).replace(di,wa),Zi&&(Ke=!0,pn+="' +\n__e("+Zi+") +\n'"),qu&&(pt=!0,pn+="';\n"+qu+";\n__p += '"),as&&(pn+="' +\n((__t = ("+as+")) == null ? '' : __t) +\n'"),nn=Ku+$r.length,$r}),pn+="';\n";var Br=gi.call(v,"variable")&&v.variable;if(Br){if(Wt.test(Br))throw new Lr("Invalid `variable` option passed into `_.template`")}else pn="with (obj) {\n"+pn+"\n}\n";pn=(pt?pn.replace(ls,""):pn).replace(yi,"$1").replace(rn,"$1;"),pn="function("+(Br||"obj")+") {\n"+(Br?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Ke?", __e = _.escape":"")+(pt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+pn+"return __p\n}";var pi=mc(function(){return Gi(ve,Tr+"return "+pn).apply(M,Ue)});if(pi.source=pn,Ng(pi))throw pi;return pi},de.times=function _y(f,v){if((f=Ni(f))<1||f>It)return[];var I=Kt,q=Xs(f,Kt);v=Yr(v),f-=Kt;for(var te=Qu(q,v);++I<f;)v(I);return te},de.toFinite=nd,de.toInteger=Ni,de.toLength=Fg,de.toLower=function gy(f){return ii(f).toLowerCase()},de.toNumber=jl,de.toSafeInteger=function hl(f){return f?z(Ni(f),-It,It):0===f?f:0},de.toString=ii,de.toUpper=function my(f){return ii(f).toUpperCase()},de.trim=function lv(f,v,I){if((f=ii(f))&&(I||v===M))return iu(f);if(!f||!(v=b(v)))return f;var q=aa(f),te=aa(v);return qa(q,le(q,te),gt(q,te)+1).join("")},de.trimEnd=function Ym(f,v,I){if((f=ii(f))&&(I||v===M))return f.slice(0,$a(f)+1);if(!f||!(v=b(v)))return f;var q=aa(f);return qa(q,0,gt(q,aa(v))+1).join("")},de.trimStart=function Hg(f,v,I){if((f=ii(f))&&(I||v===M))return f.replace(Zt,"");if(!f||!(v=b(v)))return f;var q=aa(f);return qa(q,le(q,aa(v))).join("")},de.truncate=function Gg(f,v){var I=30,q="...";if(Ho(v)){var te="separator"in v?v.separator:te;I="length"in v?Ni(v.length):I,q="omission"in v?b(v.omission):q}var ve=(f=ii(f)).length;if(Yi(f)){var Ue=aa(f);ve=Ue.length}if(I>=ve)return f;var Ke=I-Bu(q);if(Ke<1)return q;var pt=Ue?qa(Ue,0,Ke).join(""):f.slice(0,Ke);if(te===M)return pt+q;if(Ue&&(Ke+=pt.length-Ke),cf(te)){if(f.slice(Ke).search(te)){var nn,on=pt;for(te.global||(te=Ao(te.source,ii(li.exec(te))+"g")),te.lastIndex=0;nn=te.exec(on);)var pn=nn.index;pt=pt.slice(0,pn===M?Ke:pn)}}else if(f.indexOf(b(te),Ke)!=Ke){var Gn=pt.lastIndexOf(te);Gn>-1&&(pt=pt.slice(0,Gn))}return pt+q},de.unescape=function cv(f){return(f=ii(f))&&Kn.test(f)?f.replace(jt,Vu):f},de.uniqueId=function Yf(f){var v=++U;return ii(f)+v},de.upperCase=Vp,de.upperFirst=ad,de.each=pc,de.eachRight=Sg,de.first=Ff,ud(de,function(){var f={};return Uo(de,function(v,I){gi.call(de.prototype,I)||(f[I]=v)}),f}(),{chain:!1}),de.VERSION="4.17.21",Io(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){de[f].placeholder=de}),Io(["drop","take"],function(f,v){Kr.prototype[f]=function(I){I=I===M?1:Ns(Ni(I),0);var q=this.__filtered__&&!v?new Kr(this):this.clone();return q.__filtered__?q.__takeCount__=Xs(I,q.__takeCount__):q.__views__.push({size:Xs(I,Kt),type:f+(q.__dir__<0?"Right":"")}),q},Kr.prototype[f+"Right"]=function(I){return this.reverse()[f](I).reverse()}}),Io(["filter","map","takeWhile"],function(f,v){var I=v+1,q=1==I||3==I;Kr.prototype[f]=function(te){var ve=this.clone();return ve.__iteratees__.push({iteratee:Yr(te,3),type:I}),ve.__filtered__=ve.__filtered__||q,ve}}),Io(["head","last"],function(f,v){var I="take"+(v?"Right":"");Kr.prototype[f]=function(){return this[I](1).value()[0]}}),Io(["initial","tail"],function(f,v){var I="drop"+(v?"":"Right");Kr.prototype[f]=function(){return this.__filtered__?new Kr(this):this[I](1)}}),Kr.prototype.compact=function(){return this.filter(jo)},Kr.prototype.find=function(f){return this.filter(f).head()},Kr.prototype.findLast=function(f){return this.reverse().find(f)},Kr.prototype.invokeMap=dr(function(f,v){return"function"==typeof f?new Kr(this):this.map(function(I){return ll(I,f,v)})}),Kr.prototype.reject=function(f){return this.filter(Ip(Yr(f)))},Kr.prototype.slice=function(f,v){f=Ni(f);var I=this;return I.__filtered__&&(f>0||v<0)?new Kr(I):(f<0?I=I.takeRight(-f):f&&(I=I.drop(f)),v!==M&&(I=(v=Ni(v))<0?I.dropRight(-v):I.take(v-f)),I)},Kr.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Kr.prototype.toArray=function(){return this.take(Kt)},Uo(Kr.prototype,function(f,v){var I=/^(?:filter|find|map|reject)|While$/.test(v),q=/^(?:head|last)$/.test(v),te=de[q?"take"+("last"==v?"Right":""):v],ve=q||/^find/.test(v);te&&(de.prototype[v]=function(){var Ue=this.__wrapped__,Ke=q?[1]:arguments,pt=Ue instanceof Kr,nn=Ke[0],on=pt||fi(Ue),pn=function(Zi){var as=te.apply(de,ns([Zi],Ke));return q&&Gn?as[0]:as};on&&I&&"function"==typeof nn&&1!=nn.length&&(pt=on=!1);var Gn=this.__chain__,Tr=!!this.__actions__.length,Br=ve&&!Gn,pi=pt&&!Tr;if(!ve&&on){Ue=pi?Ue:new Kr(this);var $r=f.apply(Ue,Ke);return $r.__actions__.push({func:$f,args:[pn],thisArg:M}),new Qo($r,Gn)}return Br&&pi?f.apply(this,Ke):($r=this.thru(pn),Br?q?$r.value()[0]:$r.value():$r)})}),Io(["pop","push","shift","sort","splice","unshift"],function(f){var v=kl[f],I=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",q=/^(?:pop|shift)$/.test(f);de.prototype[f]=function(){var te=arguments;if(q&&!this.__chain__){var ve=this.value();return v.apply(fi(ve)?ve:[],te)}return this[I](function(Ue){return v.apply(fi(Ue)?Ue:[],te)})}}),Uo(Kr.prototype,function(f,v){var I=de[v];if(I){var q=I.name+"";gi.call(is,q)||(is[q]=[]),is[q].push({name:v,func:I})}}),is[Kd(M,2).name]=[{name:"wrapper",func:M}],Kr.prototype.clone=function Xo(){var f=new Kr(this.__wrapped__);return f.__actions__=pu(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=pu(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=pu(this.__views__),f},Kr.prototype.reverse=function nc(){if(this.__filtered__){var f=new Kr(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Kr.prototype.value=function il(){var f=this.__wrapped__.value(),v=this.__dir__,I=fi(f),q=v<0,te=I?f.length:0,ve=function Yd(f,v,I){for(var q=-1,te=I.length;++q<te;){var ve=I[q],Ue=ve.size;switch(ve.type){case"drop":f+=Ue;break;case"dropRight":v-=Ue;break;case"take":v=Xs(v,f+Ue);break;case"takeRight":f=Ns(f,v-Ue)}}return{start:f,end:v}}(0,te,this.__views__),Ue=ve.start,Ke=ve.end,pt=Ke-Ue,nn=q?Ke:Ue-1,on=this.__iteratees__,pn=on.length,Gn=0,Tr=Xs(pt,this.__takeCount__);if(!I||!q&&te==pt&&Tr==pt)return mt(f,this.__actions__);var Br=[];e:for(;pt--&&Gn<Tr;){for(var pi=-1,$r=f[nn+=v];++pi<pn;){var Zi=on[pi],Ml=Zi.type,qu=(0,Zi.iteratee)($r);if(2==Ml)$r=qu;else if(!qu){if(1==Ml)continue e;break e}}Br[Gn++]=$r}return Br},de.prototype.at=Hf,de.prototype.chain=function Im(){return Tg(this)},de.prototype.commit=function Am(){return new Qo(this.value(),this.__chain__)},de.prototype.next=function Xh(){this.__values__===M&&(this.__values__=$m(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?M:this.__values__[this.__index__++]}},de.prototype.plant=function k_(f){for(var v,I=this;I instanceof Jo;){var q=Xi(I);q.__index__=0,q.__values__=M,v?te.__wrapped__=q:v=q;var te=q;I=I.__wrapped__}return te.__wrapped__=f,v},de.prototype.reverse=function wo(){var f=this.__wrapped__;if(f instanceof Kr){var v=f;return this.__actions__.length&&(v=new Kr(this)),(v=v.reverse()).__actions__.push({func:$f,args:[Nu],thisArg:M}),new Qo(v,this.__chain__)}return this.thru(Nu)},de.prototype.toJSON=de.prototype.valueOf=de.prototype.value=function fc(){return mt(this.__wrapped__,this.__actions__)},de.prototype.first=de.prototype.head,Lo&&(de.prototype[Lo]=function xm(){return this}),de}();ps._=Uu,(w=function(){return Uu}.call(we,L,we,He))!==M&&(He.exports=w)}.call(this)},1135:(He,we,L)=>{"use strict";L.d(we,{X:()=>M});var w=L(7579);class M extends w.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const _e=super._subscribe(fe);return!_e.closed&&fe.next(this._value),_e}getValue(){const{hasError:fe,thrownError:_e,_value:Me}=this;if(fe)throw _e;return this._throwIfClosed(),Me}next(fe){super.next(this._value=fe)}}},9751:(He,we,L)=>{"use strict";L.d(we,{y:()=>ge});var w=L(930),M=L(727),u=L(8822),fe=L(9635),_e=L(2416),Me=L(576),Se=L(2806);let ge=(()=>{class Ne{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const bt=new Ne;return bt.source=this,bt.operator=Je,bt}subscribe(Je,bt,ct){const Ye=function be(Ne){return Ne&&Ne instanceof w.Lv||function pe(Ne){return Ne&&(0,Me.m)(Ne.next)&&(0,Me.m)(Ne.error)&&(0,Me.m)(Ne.complete)}(Ne)&&(0,M.Nn)(Ne)}(Je)?Je:new w.Hp(Je,bt,ct);return(0,Se.x)(()=>{const{operator:at,source:st}=this;Ye.add(at?at.call(Ye,st):st?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Je){try{return this._subscribe(Je)}catch(bt){Je.error(bt)}}forEach(Je,bt){return new(bt=Ee(bt))((ct,Ye)=>{const at=new w.Hp({next:st=>{try{Je(st)}catch(Ct){Ye(Ct),at.unsubscribe()}},error:Ye,complete:ct});this.subscribe(at)})}_subscribe(Je){var bt;return null===(bt=this.source)||void 0===bt?void 0:bt.subscribe(Je)}[u.L](){return this}pipe(...Je){return(0,fe.U)(Je)(this)}toPromise(Je){return new(Je=Ee(Je))((bt,ct)=>{let Ye;this.subscribe(at=>Ye=at,at=>ct(at),()=>bt(Ye))})}}return Ne.create=ut=>new Ne(ut),Ne})();function Ee(Ne){var ut;return null!==(ut=Ne??_e.v.Promise)&&void 0!==ut?ut:Promise}},4707:(He,we,L)=>{"use strict";L.d(we,{t:()=>u});var w=L(7579),M=L(6063);class u extends w.x{constructor(_e=1/0,Me=1/0,Se=M.l){super(),this._bufferSize=_e,this._windowTime=Me,this._timestampProvider=Se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Me===1/0,this._bufferSize=Math.max(1,_e),this._windowTime=Math.max(1,Me)}next(_e){const{isStopped:Me,_buffer:Se,_infiniteTimeWindow:ge,_timestampProvider:Ee,_windowTime:pe}=this;Me||(Se.push(_e),!ge&&Se.push(Ee.now()+pe)),this._trimBuffer(),super.next(_e)}_subscribe(_e){this._throwIfClosed(),this._trimBuffer();const Me=this._innerSubscribe(_e),{_infiniteTimeWindow:Se,_buffer:ge}=this,Ee=ge.slice();for(let pe=0;pe<Ee.length&&!_e.closed;pe+=Se?1:2)_e.next(Ee[pe]);return this._checkFinalizedStatuses(_e),Me}_trimBuffer(){const{_bufferSize:_e,_timestampProvider:Me,_buffer:Se,_infiniteTimeWindow:ge}=this,Ee=(ge?1:2)*_e;if(_e<1/0&&Ee<Se.length&&Se.splice(0,Se.length-Ee),!ge){const pe=Me.now();let be=0;for(let Ne=1;Ne<Se.length&&Se[Ne]<=pe;Ne+=2)be=Ne;be&&Se.splice(0,be+1)}}}},7579:(He,we,L)=>{"use strict";L.d(we,{x:()=>Se});var w=L(9751),M=L(727);const fe=(0,L(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=L(8737),Me=L(2806);let Se=(()=>{class Ee extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(be){const Ne=new ge(this,this);return Ne.operator=be,Ne}_throwIfClosed(){if(this.closed)throw new fe}next(be){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(be)}})}error(be){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=be;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(be)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:be}=this;for(;be.length;)be.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var be;return(null===(be=this.observers)||void 0===be?void 0:be.length)>0}_trySubscribe(be){return this._throwIfClosed(),super._trySubscribe(be)}_subscribe(be){return this._throwIfClosed(),this._checkFinalizedStatuses(be),this._innerSubscribe(be)}_innerSubscribe(be){const{hasError:Ne,isStopped:ut,observers:Je}=this;return Ne||ut?M.Lc:(this.currentObservers=null,Je.push(be),new M.w0(()=>{this.currentObservers=null,(0,_e.P)(Je,be)}))}_checkFinalizedStatuses(be){const{hasError:Ne,thrownError:ut,isStopped:Je}=this;Ne?be.error(ut):Je&&be.complete()}asObservable(){const be=new w.y;return be.source=this,be}}return Ee.create=(pe,be)=>new ge(pe,be),Ee})();class ge extends Se{constructor(pe,be){super(),this.destination=pe,this.source=be}next(pe){var be,Ne;null===(Ne=null===(be=this.destination)||void 0===be?void 0:be.next)||void 0===Ne||Ne.call(be,pe)}error(pe){var be,Ne;null===(Ne=null===(be=this.destination)||void 0===be?void 0:be.error)||void 0===Ne||Ne.call(be,pe)}complete(){var pe,be;null===(be=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===be||be.call(pe)}_subscribe(pe){var be,Ne;return null!==(Ne=null===(be=this.source)||void 0===be?void 0:be.subscribe(pe))&&void 0!==Ne?Ne:M.Lc}}},930:(He,we,L)=>{"use strict";L.d(we,{Hp:()=>ct,Lv:()=>Ne});var w=L(576),M=L(727),u=L(2416),fe=L(7849),_e=L(5032);const Me=Ee("C",void 0,void 0);function Ee(dt,Mt,Tt){return{kind:dt,value:Mt,error:Tt}}var pe=L(3410),be=L(2806);class Ne extends M.w0{constructor(Mt){super(),this.isStopped=!1,Mt?(this.destination=Mt,(0,M.Nn)(Mt)&&Mt.add(this)):this.destination=Ct}static create(Mt,Tt,Ut){return new ct(Mt,Tt,Ut)}next(Mt){this.isStopped?st(function ge(dt){return Ee("N",dt,void 0)}(Mt),this):this._next(Mt)}error(Mt){this.isStopped?st(function Se(dt){return Ee("E",void 0,dt)}(Mt),this):(this.isStopped=!0,this._error(Mt))}complete(){this.isStopped?st(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Mt){this.destination.next(Mt)}_error(Mt){try{this.destination.error(Mt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function Je(dt,Mt){return ut.call(dt,Mt)}class bt{constructor(Mt){this.partialObserver=Mt}next(Mt){const{partialObserver:Tt}=this;if(Tt.next)try{Tt.next(Mt)}catch(Ut){Ye(Ut)}}error(Mt){const{partialObserver:Tt}=this;if(Tt.error)try{Tt.error(Mt)}catch(Ut){Ye(Ut)}else Ye(Mt)}complete(){const{partialObserver:Mt}=this;if(Mt.complete)try{Mt.complete()}catch(Tt){Ye(Tt)}}}class ct extends Ne{constructor(Mt,Tt,Ut){let ze;if(super(),(0,w.m)(Mt)||!Mt)ze={next:Mt??void 0,error:Tt??void 0,complete:Ut??void 0};else{let ht;this&&u.v.useDeprecatedNextContext?(ht=Object.create(Mt),ht.unsubscribe=()=>this.unsubscribe(),ze={next:Mt.next&&Je(Mt.next,ht),error:Mt.error&&Je(Mt.error,ht),complete:Mt.complete&&Je(Mt.complete,ht)}):ze=Mt}this.destination=new bt(ze)}}function Ye(dt){u.v.useDeprecatedSynchronousErrorHandling?(0,be.O)(dt):(0,fe.h)(dt)}function st(dt,Mt){const{onStoppedNotification:Tt}=u.v;Tt&&pe.z.setTimeout(()=>Tt(dt,Mt))}const Ct={closed:!0,next:_e.Z,error:function at(dt){throw dt},complete:_e.Z}},727:(He,we,L)=>{"use strict";L.d(we,{Lc:()=>Me,w0:()=>_e,Nn:()=>Se});var w=L(576);const u=(0,L(3888).d)(Ee=>function(be){Ee(this),this.message=be?`${be.length} errors occurred during unsubscription:\n${be.map((Ne,ut)=>`${ut+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=be});var fe=L(8737);class _e{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:be}=this;if(be)if(this._parentage=null,Array.isArray(be))for(const Je of be)Je.remove(this);else be.remove(this);const{initialTeardown:Ne}=this;if((0,w.m)(Ne))try{Ne()}catch(Je){pe=Je instanceof u?Je.errors:[Je]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const Je of ut)try{ge(Je)}catch(bt){pe=pe??[],bt instanceof u?pe=[...pe,...bt.errors]:pe.push(bt)}}if(pe)throw new u(pe)}}add(pe){var be;if(pe&&pe!==this)if(this.closed)ge(pe);else{if(pe instanceof _e){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(be=this._finalizers)&&void 0!==be?be:[]).push(pe)}}_hasParent(pe){const{_parentage:be}=this;return be===pe||Array.isArray(be)&&be.includes(pe)}_addParent(pe){const{_parentage:be}=this;this._parentage=Array.isArray(be)?(be.push(pe),be):be?[be,pe]:pe}_removeParent(pe){const{_parentage:be}=this;be===pe?this._parentage=null:Array.isArray(be)&&(0,fe.P)(be,pe)}remove(pe){const{_finalizers:be}=this;be&&(0,fe.P)(be,pe),pe instanceof _e&&pe._removeParent(this)}}_e.EMPTY=(()=>{const Ee=new _e;return Ee.closed=!0,Ee})();const Me=_e.EMPTY;function Se(Ee){return Ee instanceof _e||Ee&&"closed"in Ee&&(0,w.m)(Ee.remove)&&(0,w.m)(Ee.add)&&(0,w.m)(Ee.unsubscribe)}function ge(Ee){(0,w.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(He,we,L)=>{"use strict";L.d(we,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(He,we,L)=>{"use strict";L.d(we,{c:()=>Me});var w=L(9751),M=L(727),u=L(8343),fe=L(5403),_e=L(4482);class Me extends w.y{constructor(ge,Ee){super(),this.source=ge,this.subjectFactory=Ee,this._subject=null,this._refCount=0,this._connection=null,(0,_e.A)(ge)&&(this.lift=ge.lift)}_subscribe(ge){return this.getSubject().subscribe(ge)}getSubject(){const ge=this._subject;return(!ge||ge.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ge}=this;this._subject=this._connection=null,ge?.unsubscribe()}connect(){let ge=this._connection;if(!ge){ge=this._connection=new M.w0;const Ee=this.getSubject();ge.add(this.source.subscribe((0,fe.x)(Ee,void 0,()=>{this._teardown(),Ee.complete()},pe=>{this._teardown(),Ee.error(pe)},()=>this._teardown()))),ge.closed&&(this._connection=null,ge=M.w0.EMPTY)}return ge}refCount(){return(0,u.x)()(this)}}},9841:(He,we,L)=>{"use strict";L.d(we,{a:()=>pe});var w=L(9751),M=L(4742),u=L(8996),fe=L(4671),_e=L(3268),Me=L(3269),Se=L(1810),ge=L(5403),Ee=L(9672);function pe(...ut){const Je=(0,Me.yG)(ut),bt=(0,Me.jO)(ut),{args:ct,keys:Ye}=(0,M.D)(ut);if(0===ct.length)return(0,u.D)([],Je);const at=new w.y(function be(ut,Je,bt=fe.y){return ct=>{Ne(Je,()=>{const{length:Ye}=ut,at=new Array(Ye);let st=Ye,Ct=Ye;for(let dt=0;dt<Ye;dt++)Ne(Je,()=>{const Mt=(0,u.D)(ut[dt],Je);let Tt=!1;Mt.subscribe((0,ge.x)(ct,Ut=>{at[dt]=Ut,Tt||(Tt=!0,Ct--),Ct||ct.next(bt(at.slice()))},()=>{--st||ct.complete()}))},ct)},ct)}}(ct,Je,Ye?st=>(0,Se.n)(Ye,st):fe.y));return bt?at.pipe((0,_e.Z)(bt)):at}function Ne(ut,Je,bt){ut?(0,Ee.f)(bt,ut,Je):Je()}},7272:(He,we,L)=>{"use strict";L.d(we,{z:()=>_e});var w=L(8189),u=L(3269),fe=L(8996);function _e(...Me){return function M(){return(0,w.J)(1)}()((0,fe.D)(Me,(0,u.yG)(Me)))}},9770:(He,we,L)=>{"use strict";L.d(we,{P:()=>u});var w=L(9751),M=L(8421);function u(fe){return new w.y(_e=>{(0,M.Xf)(fe()).subscribe(_e)})}},515:(He,we,L)=>{"use strict";L.d(we,{E:()=>M});const M=new(L(9751).y)(_e=>_e.complete())},8996:(He,we,L)=>{"use strict";L.d(we,{D:()=>Mt});var w=L(8421),M=L(5363),u=L(9468),Me=L(9751),ge=L(2202),Ee=L(576),pe=L(9672);function Ne(Tt,Ut){if(!Tt)throw new Error("Iterable cannot be null");return new Me.y(ze=>{(0,pe.f)(ze,Ut,()=>{const ht=Tt[Symbol.asyncIterator]();(0,pe.f)(ze,Ut,()=>{ht.next().then(Ft=>{Ft.done?ze.complete():ze.next(Ft.value)})},0,!0)})})}var ut=L(3670),Je=L(8239),bt=L(1144),ct=L(6495),Ye=L(2206),at=L(4532),st=L(3260);function Mt(Tt,Ut){return Ut?function dt(Tt,Ut){if(null!=Tt){if((0,ut.c)(Tt))return function fe(Tt,Ut){return(0,w.Xf)(Tt).pipe((0,u.R)(Ut),(0,M.Q)(Ut))}(Tt,Ut);if((0,bt.z)(Tt))return function Se(Tt,Ut){return new Me.y(ze=>{let ht=0;return Ut.schedule(function(){ht===Tt.length?ze.complete():(ze.next(Tt[ht++]),ze.closed||this.schedule())})})}(Tt,Ut);if((0,Je.t)(Tt))return function _e(Tt,Ut){return(0,w.Xf)(Tt).pipe((0,u.R)(Ut),(0,M.Q)(Ut))}(Tt,Ut);if((0,Ye.D)(Tt))return Ne(Tt,Ut);if((0,ct.T)(Tt))return function be(Tt,Ut){return new Me.y(ze=>{let ht;return(0,pe.f)(ze,Ut,()=>{ht=Tt[ge.h](),(0,pe.f)(ze,Ut,()=>{let Ft,Yt;try{({value:Ft,done:Yt}=ht.next())}catch(zt){return void ze.error(zt)}Yt?ze.complete():ze.next(Ft)},0,!0)}),()=>(0,Ee.m)(ht?.return)&&ht.return()})}(Tt,Ut);if((0,st.L)(Tt))return function Ct(Tt,Ut){return Ne((0,st.Q)(Tt),Ut)}(Tt,Ut)}throw(0,at.z)(Tt)}(Tt,Ut):(0,w.Xf)(Tt)}},8421:(He,we,L)=>{"use strict";L.d(we,{Xf:()=>ut});var w=L(655),M=L(1144),u=L(8239),fe=L(9751),_e=L(3670),Me=L(2206),Se=L(4532),ge=L(6495),Ee=L(3260),pe=L(576),be=L(7849),Ne=L(8822);function ut(dt){if(dt instanceof fe.y)return dt;if(null!=dt){if((0,_e.c)(dt))return function Je(dt){return new fe.y(Mt=>{const Tt=dt[Ne.L]();if((0,pe.m)(Tt.subscribe))return Tt.subscribe(Mt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(dt);if((0,M.z)(dt))return function bt(dt){return new fe.y(Mt=>{for(let Tt=0;Tt<dt.length&&!Mt.closed;Tt++)Mt.next(dt[Tt]);Mt.complete()})}(dt);if((0,u.t)(dt))return function ct(dt){return new fe.y(Mt=>{dt.then(Tt=>{Mt.closed||(Mt.next(Tt),Mt.complete())},Tt=>Mt.error(Tt)).then(null,be.h)})}(dt);if((0,Me.D)(dt))return at(dt);if((0,ge.T)(dt))return function Ye(dt){return new fe.y(Mt=>{for(const Tt of dt)if(Mt.next(Tt),Mt.closed)return;Mt.complete()})}(dt);if((0,Ee.L)(dt))return function st(dt){return at((0,Ee.Q)(dt))}(dt)}throw(0,Se.z)(dt)}function at(dt){return new fe.y(Mt=>{(function Ct(dt,Mt){var Tt,Ut,ze,ht;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Tt=(0,w.KL)(dt);!(Ut=yield Tt.next()).done;)if(Mt.next(Ut.value),Mt.closed)return}catch(Ft){ze={error:Ft}}finally{try{Ut&&!Ut.done&&(ht=Tt.return)&&(yield ht.call(Tt))}finally{if(ze)throw ze.error}}Mt.complete()})})(dt,Mt).catch(Tt=>Mt.error(Tt))})}},6451:(He,we,L)=>{"use strict";L.d(we,{T:()=>Me});var w=L(8189),M=L(8421),u=L(515),fe=L(3269),_e=L(8996);function Me(...Se){const ge=(0,fe.yG)(Se),Ee=(0,fe._6)(Se,1/0),pe=Se;return pe.length?1===pe.length?(0,M.Xf)(pe[0]):(0,w.J)(Ee)((0,_e.D)(pe,ge)):u.E}},9646:(He,we,L)=>{"use strict";L.d(we,{of:()=>u});var w=L(3269),M=L(8996);function u(...fe){const _e=(0,w.yG)(fe);return(0,M.D)(fe,_e)}},2843:(He,we,L)=>{"use strict";L.d(we,{_:()=>u});var w=L(9751),M=L(576);function u(fe,_e){const Me=(0,M.m)(fe)?fe:()=>fe,Se=ge=>ge.error(Me());return new w.y(_e?ge=>_e.schedule(Se,0,ge):Se)}},5403:(He,we,L)=>{"use strict";L.d(we,{Q:()=>u,x:()=>M});var w=L(930);function M(fe,_e,Me,Se,ge){return new u(fe,_e,Me,Se,ge)}class u extends w.Lv{constructor(_e,Me,Se,ge,Ee,pe){super(_e),this.onFinalize=Ee,this.shouldUnsubscribe=pe,this._next=Me?function(be){try{Me(be)}catch(Ne){_e.error(Ne)}}:super._next,this._error=ge?function(be){try{ge(be)}catch(Ne){_e.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(be){_e.error(be)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},262:(He,we,L)=>{"use strict";L.d(we,{K:()=>fe});var w=L(8421),M=L(5403),u=L(4482);function fe(_e){return(0,u.e)((Me,Se)=>{let pe,ge=null,Ee=!1;ge=Me.subscribe((0,M.x)(Se,void 0,void 0,be=>{pe=(0,w.Xf)(_e(be,fe(_e)(Me))),ge?(ge.unsubscribe(),ge=null,pe.subscribe(Se)):Ee=!0})),Ee&&(ge.unsubscribe(),ge=null,pe.subscribe(Se))})}},4351:(He,we,L)=>{"use strict";L.d(we,{b:()=>u});var w=L(5577),M=L(576);function u(fe,_e){return(0,M.m)(_e)?(0,w.z)(fe,_e,1):(0,w.z)(fe,1)}},8372:(He,we,L)=>{"use strict";L.d(we,{b:()=>fe});var w=L(4986),M=L(4482),u=L(5403);function fe(_e,Me=w.z){return(0,M.e)((Se,ge)=>{let Ee=null,pe=null,be=null;const Ne=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const Je=pe;pe=null,ge.next(Je)}};function ut(){const Je=be+_e,bt=Me.now();if(bt<Je)return Ee=this.schedule(void 0,Je-bt),void ge.add(Ee);Ne()}Se.subscribe((0,u.x)(ge,Je=>{pe=Je,be=Me.now(),Ee||(Ee=Me.schedule(ut,_e),ge.add(Ee))},()=>{Ne(),ge.complete()},void 0,()=>{pe=Ee=null}))})}},6590:(He,we,L)=>{"use strict";L.d(we,{d:()=>u});var w=L(4482),M=L(5403);function u(fe){return(0,w.e)((_e,Me)=>{let Se=!1;_e.subscribe((0,M.x)(Me,ge=>{Se=!0,Me.next(ge)},()=>{Se||Me.next(fe),Me.complete()}))})}},1884:(He,we,L)=>{"use strict";L.d(we,{x:()=>fe});var w=L(4671),M=L(4482),u=L(5403);function fe(Me,Se=w.y){return Me=Me??_e,(0,M.e)((ge,Ee)=>{let pe,be=!0;ge.subscribe((0,u.x)(Ee,Ne=>{const ut=Se(Ne);(be||!Me(pe,ut))&&(be=!1,pe=ut,Ee.next(Ne))}))})}function _e(Me,Se){return Me===Se}},9300:(He,we,L)=>{"use strict";L.d(we,{h:()=>u});var w=L(4482),M=L(5403);function u(fe,_e){return(0,w.e)((Me,Se)=>{let ge=0;Me.subscribe((0,M.x)(Se,Ee=>fe.call(_e,Ee,ge++)&&Se.next(Ee)))})}},590:(He,we,L)=>{"use strict";L.d(we,{P:()=>Se});var w=L(6805),M=L(9300),u=L(5698),fe=L(6590),_e=L(8068),Me=L(4671);function Se(ge,Ee){const pe=arguments.length>=2;return be=>be.pipe(ge?(0,M.h)((Ne,ut)=>ge(Ne,ut,be)):Me.y,(0,u.q)(1),pe?(0,fe.d)(Ee):(0,_e.T)(()=>new w.K))}},4004:(He,we,L)=>{"use strict";L.d(we,{U:()=>u});var w=L(4482),M=L(5403);function u(fe,_e){return(0,w.e)((Me,Se)=>{let ge=0;Me.subscribe((0,M.x)(Se,Ee=>{Se.next(fe.call(_e,Ee,ge++))}))})}},9718:(He,we,L)=>{"use strict";L.d(we,{h:()=>M});var w=L(4004);function M(u){return(0,w.U)(()=>u)}},8189:(He,we,L)=>{"use strict";L.d(we,{J:()=>u});var w=L(5577),M=L(4671);function u(fe=1/0){return(0,w.z)(M.y,fe)}},5577:(He,we,L)=>{"use strict";L.d(we,{z:()=>ge});var w=L(4004),M=L(8421),u=L(4482),fe=L(9672),_e=L(5403),Se=L(576);function ge(Ee,pe,be=1/0){return(0,Se.m)(pe)?ge((Ne,ut)=>(0,w.U)((Je,bt)=>pe(Ne,Je,ut,bt))((0,M.Xf)(Ee(Ne,ut))),be):("number"==typeof pe&&(be=pe),(0,u.e)((Ne,ut)=>function Me(Ee,pe,be,Ne,ut,Je,bt,ct){const Ye=[];let at=0,st=0,Ct=!1;const dt=()=>{Ct&&!Ye.length&&!at&&pe.complete()},Mt=Ut=>at<Ne?Tt(Ut):Ye.push(Ut),Tt=Ut=>{Je&&pe.next(Ut),at++;let ze=!1;(0,M.Xf)(be(Ut,st++)).subscribe((0,_e.x)(pe,ht=>{ut?.(ht),Je?Mt(ht):pe.next(ht)},()=>{ze=!0},void 0,()=>{if(ze)try{for(at--;Ye.length&&at<Ne;){const ht=Ye.shift();bt?(0,fe.f)(pe,bt,()=>Tt(ht)):Tt(ht)}dt()}catch(ht){pe.error(ht)}}))};return Ee.subscribe((0,_e.x)(pe,Mt,()=>{Ct=!0,dt()})),()=>{ct?.()}}(Ne,ut,Ee,be)))}},5363:(He,we,L)=>{"use strict";L.d(we,{Q:()=>fe});var w=L(9672),M=L(4482),u=L(5403);function fe(_e,Me=0){return(0,M.e)((Se,ge)=>{Se.subscribe((0,u.x)(ge,Ee=>(0,w.f)(ge,_e,()=>ge.next(Ee),Me),()=>(0,w.f)(ge,_e,()=>ge.complete(),Me),Ee=>(0,w.f)(ge,_e,()=>ge.error(Ee),Me)))})}},8343:(He,we,L)=>{"use strict";L.d(we,{x:()=>u});var w=L(4482),M=L(5403);function u(){return(0,w.e)((fe,_e)=>{let Me=null;fe._refCount++;const Se=(0,M.x)(_e,void 0,void 0,void 0,()=>{if(!fe||fe._refCount<=0||0<--fe._refCount)return void(Me=null);const ge=fe._connection,Ee=Me;Me=null,ge&&(!Ee||ge===Ee)&&ge.unsubscribe(),_e.unsubscribe()});fe.subscribe(Se),Se.closed||(Me=fe.connect())})}},5026:(He,we,L)=>{"use strict";L.d(we,{R:()=>fe});var w=L(4482),M=L(5403);function u(_e,Me,Se,ge,Ee){return(pe,be)=>{let Ne=Se,ut=Me,Je=0;pe.subscribe((0,M.x)(be,bt=>{const ct=Je++;ut=Ne?_e(ut,bt,ct):(Ne=!0,bt),ge&&be.next(ut)},Ee&&(()=>{Ne&&be.next(ut),be.complete()})))}}function fe(_e,Me){return(0,w.e)(u(_e,Me,arguments.length>=2,!0))}},3099:(He,we,L)=>{"use strict";L.d(we,{B:()=>_e});var w=L(8421),M=L(7579),u=L(930),fe=L(4482);function _e(Se={}){const{connector:ge=(()=>new M.x),resetOnError:Ee=!0,resetOnComplete:pe=!0,resetOnRefCountZero:be=!0}=Se;return Ne=>{let ut,Je,bt,ct=0,Ye=!1,at=!1;const st=()=>{Je?.unsubscribe(),Je=void 0},Ct=()=>{st(),ut=bt=void 0,Ye=at=!1},dt=()=>{const Mt=ut;Ct(),Mt?.unsubscribe()};return(0,fe.e)((Mt,Tt)=>{ct++,!at&&!Ye&&st();const Ut=bt=bt??ge();Tt.add(()=>{ct--,0===ct&&!at&&!Ye&&(Je=Me(dt,be))}),Ut.subscribe(Tt),!ut&&ct>0&&(ut=new u.Hp({next:ze=>Ut.next(ze),error:ze=>{at=!0,st(),Je=Me(Ct,Ee,ze),Ut.error(ze)},complete:()=>{Ye=!0,st(),Je=Me(Ct,pe),Ut.complete()}}),(0,w.Xf)(Mt).subscribe(ut))})(Ne)}}function Me(Se,ge,...Ee){if(!0===ge)return void Se();if(!1===ge)return;const pe=new u.Hp({next:()=>{pe.unsubscribe(),Se()}});return ge(...Ee).subscribe(pe)}},5684:(He,we,L)=>{"use strict";L.d(we,{T:()=>M});var w=L(9300);function M(u){return(0,w.h)((fe,_e)=>u<=_e)}},8675:(He,we,L)=>{"use strict";L.d(we,{O:()=>fe});var w=L(7272),M=L(3269),u=L(4482);function fe(..._e){const Me=(0,M.yG)(_e);return(0,u.e)((Se,ge)=>{(Me?(0,w.z)(_e,Se,Me):(0,w.z)(_e,Se)).subscribe(ge)})}},9468:(He,we,L)=>{"use strict";L.d(we,{R:()=>M});var w=L(4482);function M(u,fe=0){return(0,w.e)((_e,Me)=>{Me.add(u.schedule(()=>_e.subscribe(Me),fe))})}},3900:(He,we,L)=>{"use strict";L.d(we,{w:()=>fe});var w=L(8421),M=L(4482),u=L(5403);function fe(_e,Me){return(0,M.e)((Se,ge)=>{let Ee=null,pe=0,be=!1;const Ne=()=>be&&!Ee&&ge.complete();Se.subscribe((0,u.x)(ge,ut=>{Ee?.unsubscribe();let Je=0;const bt=pe++;(0,w.Xf)(_e(ut,bt)).subscribe(Ee=(0,u.x)(ge,ct=>ge.next(Me?Me(ut,ct,bt,Je++):ct),()=>{Ee=null,Ne()}))},()=>{be=!0,Ne()}))})}},5698:(He,we,L)=>{"use strict";L.d(we,{q:()=>fe});var w=L(515),M=L(4482),u=L(5403);function fe(_e){return _e<=0?()=>w.E:(0,M.e)((Me,Se)=>{let ge=0;Me.subscribe((0,u.x)(Se,Ee=>{++ge<=_e&&(Se.next(Ee),_e<=ge&&Se.complete())}))})}},2722:(He,we,L)=>{"use strict";L.d(we,{R:()=>_e});var w=L(4482),M=L(5403),u=L(8421),fe=L(5032);function _e(Me){return(0,w.e)((Se,ge)=>{(0,u.Xf)(Me).subscribe((0,M.x)(ge,()=>ge.complete(),fe.Z)),!ge.closed&&Se.subscribe(ge)})}},8505:(He,we,L)=>{"use strict";L.d(we,{b:()=>_e});var w=L(576),M=L(4482),u=L(5403),fe=L(4671);function _e(Me,Se,ge){const Ee=(0,w.m)(Me)||Se||ge?{next:Me,error:Se,complete:ge}:Me;return Ee?(0,M.e)((pe,be)=>{var Ne;null===(Ne=Ee.subscribe)||void 0===Ne||Ne.call(Ee);let ut=!0;pe.subscribe((0,u.x)(be,Je=>{var bt;null===(bt=Ee.next)||void 0===bt||bt.call(Ee,Je),be.next(Je)},()=>{var Je;ut=!1,null===(Je=Ee.complete)||void 0===Je||Je.call(Ee),be.complete()},Je=>{var bt;ut=!1,null===(bt=Ee.error)||void 0===bt||bt.call(Ee,Je),be.error(Je)},()=>{var Je,bt;ut&&(null===(Je=Ee.unsubscribe)||void 0===Je||Je.call(Ee)),null===(bt=Ee.finalize)||void 0===bt||bt.call(Ee)}))}):fe.y}},8068:(He,we,L)=>{"use strict";L.d(we,{T:()=>fe});var w=L(6805),M=L(4482),u=L(5403);function fe(Me=_e){return(0,M.e)((Se,ge)=>{let Ee=!1;Se.subscribe((0,u.x)(ge,pe=>{Ee=!0,ge.next(pe)},()=>Ee?ge.complete():ge.error(Me())))})}function _e(){return new w.K}},7414:(He,we,L)=>{"use strict";L.d(we,{V:()=>Ee});var w=L(4986),M=L(1165),u=L(4482),fe=L(8421),_e=L(3888),Me=L(5403),Se=L(9672);const ge=(0,_e.d)(be=>function(ut=null){be(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=ut});function Ee(be,Ne){const{first:ut,each:Je,with:bt=pe,scheduler:ct=Ne??w.z,meta:Ye=null}=(0,M.q)(be)?{first:be}:"number"==typeof be?{each:be}:be;if(null==ut&&null==Je)throw new TypeError("No timeout provided.");return(0,u.e)((at,st)=>{let Ct,dt,Mt=null,Tt=0;const Ut=ze=>{dt=(0,Se.f)(st,ct,()=>{try{Ct.unsubscribe(),(0,fe.Xf)(bt({meta:Ye,lastValue:Mt,seen:Tt})).subscribe(st)}catch(ht){st.error(ht)}},ze)};Ct=at.subscribe((0,Me.x)(st,ze=>{dt?.unsubscribe(),Tt++,st.next(Mt=ze),Je>0&&Ut(Je)},void 0,void 0,()=>{dt?.closed||dt?.unsubscribe(),Mt=null})),!Tt&&Ut(null!=ut?"number"==typeof ut?ut:+ut-ct.now():Je)})}function pe(be){throw new ge(be)}},1365:(He,we,L)=>{"use strict";L.d(we,{M:()=>Se});var w=L(4482),M=L(5403),u=L(8421),fe=L(4671),_e=L(5032),Me=L(3269);function Se(...ge){const Ee=(0,Me.jO)(ge);return(0,w.e)((pe,be)=>{const Ne=ge.length,ut=new Array(Ne);let Je=ge.map(()=>!1),bt=!1;for(let ct=0;ct<Ne;ct++)(0,u.Xf)(ge[ct]).subscribe((0,M.x)(be,Ye=>{ut[ct]=Ye,!bt&&!Je[ct]&&(Je[ct]=!0,(bt=Je.every(fe.y))&&(Je=null))},_e.Z));pe.subscribe((0,M.x)(be,ct=>{if(bt){const Ye=[ct,...ut];be.next(Ee?Ee(...Ye):Ye)}}))})}},4408:(He,we,L)=>{"use strict";L.d(we,{o:()=>_e});var w=L(727);class M extends w.w0{constructor(Se,ge){super()}schedule(Se,ge=0){return this}}const u={setInterval(Me,Se,...ge){const{delegate:Ee}=u;return Ee?.setInterval?Ee.setInterval(Me,Se,...ge):setInterval(Me,Se,...ge)},clearInterval(Me){const{delegate:Se}=u;return(Se?.clearInterval||clearInterval)(Me)},delegate:void 0};var fe=L(8737);class _e extends M{constructor(Se,ge){super(Se,ge),this.scheduler=Se,this.work=ge,this.pending=!1}schedule(Se,ge=0){var Ee;if(this.closed)return this;this.state=Se;const pe=this.id,be=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(be,pe,ge)),this.pending=!0,this.delay=ge,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(be,this.id,ge),this}requestAsyncId(Se,ge,Ee=0){return u.setInterval(Se.flush.bind(Se,this),Ee)}recycleAsyncId(Se,ge,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ge;null!=ge&&u.clearInterval(ge)}execute(Se,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Se,ge);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,ge){let pe,Ee=!1;try{this.work(Se)}catch(be){Ee=!0,pe=be||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:Se,scheduler:ge}=this,{actions:Ee}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(Ee,this),null!=Se&&(this.id=this.recycleAsyncId(ge,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(He,we,L)=>{"use strict";L.d(we,{v:()=>u});var w=L(6063);class M{constructor(_e,Me=M.now){this.schedulerActionCtor=_e,this.now=Me}schedule(_e,Me=0,Se){return new this.schedulerActionCtor(this,_e).schedule(Se,Me)}}M.now=w.l.now;class u extends M{constructor(_e,Me=M.now){super(_e,Me),this.actions=[],this._active=!1}flush(_e){const{actions:Me}=this;if(this._active)return void Me.push(_e);let Se;this._active=!0;do{if(Se=_e.execute(_e.state,_e.delay))break}while(_e=Me.shift());if(this._active=!1,Se){for(;_e=Me.shift();)_e.unsubscribe();throw Se}}}},4986:(He,we,L)=>{"use strict";L.d(we,{P:()=>fe,z:()=>u});var w=L(4408);const u=new(L(7565).v)(w.o),fe=u},6063:(He,we,L)=>{"use strict";L.d(we,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},233:(He,we,L)=>{"use strict";L.d(we,{N:()=>_e});var w=L(4408),u=L(7565);const _e=new class fe extends u.v{}(class M extends w.o{constructor(ge,Ee){super(ge,Ee),this.scheduler=ge,this.work=Ee}schedule(ge,Ee=0){return Ee>0?super.schedule(ge,Ee):(this.delay=Ee,this.state=ge,this.scheduler.flush(this),this)}execute(ge,Ee){return Ee>0||this.closed?super.execute(ge,Ee):this._execute(ge,Ee)}requestAsyncId(ge,Ee,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(ge,Ee,pe):(ge.flush(this),0)}})},3410:(He,we,L)=>{"use strict";L.d(we,{z:()=>w});const w={setTimeout(M,u,...fe){const{delegate:_e}=w;return _e?.setTimeout?_e.setTimeout(M,u,...fe):setTimeout(M,u,...fe)},clearTimeout(M){const{delegate:u}=w;return(u?.clearTimeout||clearTimeout)(M)},delegate:void 0}},2202:(He,we,L)=>{"use strict";L.d(we,{h:()=>M});const M=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(He,we,L)=>{"use strict";L.d(we,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(He,we,L)=>{"use strict";L.d(we,{K:()=>M});const M=(0,L(3888).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(He,we,L)=>{"use strict";L.d(we,{_6:()=>Me,jO:()=>fe,yG:()=>_e});var w=L(576),M=L(3532);function u(Se){return Se[Se.length-1]}function fe(Se){return(0,w.m)(u(Se))?Se.pop():void 0}function _e(Se){return(0,M.K)(u(Se))?Se.pop():void 0}function Me(Se,ge){return"number"==typeof u(Se)?Se.pop():ge}},4742:(He,we,L)=>{"use strict";L.d(we,{D:()=>_e});const{isArray:w}=Array,{getPrototypeOf:M,prototype:u,keys:fe}=Object;function _e(Se){if(1===Se.length){const ge=Se[0];if(w(ge))return{args:ge,keys:null};if(function Me(Se){return Se&&"object"==typeof Se&&M(Se)===u}(ge)){const Ee=fe(ge);return{args:Ee.map(pe=>ge[pe]),keys:Ee}}}return{args:Se,keys:null}}},8737:(He,we,L)=>{"use strict";function w(M,u){if(M){const fe=M.indexOf(u);0<=fe&&M.splice(fe,1)}}L.d(we,{P:()=>w})},3888:(He,we,L)=>{"use strict";function w(M){const fe=M(_e=>{Error.call(_e),_e.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}L.d(we,{d:()=>w})},1810:(He,we,L)=>{"use strict";function w(M,u){return M.reduce((fe,_e,Me)=>(fe[_e]=u[Me],fe),{})}L.d(we,{n:()=>w})},2806:(He,we,L)=>{"use strict";L.d(we,{O:()=>fe,x:()=>u});var w=L(2416);let M=null;function u(_e){if(w.v.useDeprecatedSynchronousErrorHandling){const Me=!M;if(Me&&(M={errorThrown:!1,error:null}),_e(),Me){const{errorThrown:Se,error:ge}=M;if(M=null,Se)throw ge}}else _e()}function fe(_e){w.v.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=_e)}},9672:(He,we,L)=>{"use strict";function w(M,u,fe,_e=0,Me=!1){const Se=u.schedule(function(){fe(),Me?M.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(M.add(Se),!Me)return Se}L.d(we,{f:()=>w})},4671:(He,we,L)=>{"use strict";function w(M){return M}L.d(we,{y:()=>w})},1144:(He,we,L)=>{"use strict";L.d(we,{z:()=>w});const w=M=>M&&"number"==typeof M.length&&"function"!=typeof M},2206:(He,we,L)=>{"use strict";L.d(we,{D:()=>M});var w=L(576);function M(u){return Symbol.asyncIterator&&(0,w.m)(u?.[Symbol.asyncIterator])}},1165:(He,we,L)=>{"use strict";function w(M){return M instanceof Date&&!isNaN(M)}L.d(we,{q:()=>w})},576:(He,we,L)=>{"use strict";function w(M){return"function"==typeof M}L.d(we,{m:()=>w})},3670:(He,we,L)=>{"use strict";L.d(we,{c:()=>u});var w=L(8822),M=L(576);function u(fe){return(0,M.m)(fe[w.L])}},6495:(He,we,L)=>{"use strict";L.d(we,{T:()=>u});var w=L(2202),M=L(576);function u(fe){return(0,M.m)(fe?.[w.h])}},8239:(He,we,L)=>{"use strict";L.d(we,{t:()=>M});var w=L(576);function M(u){return(0,w.m)(u?.then)}},3260:(He,we,L)=>{"use strict";L.d(we,{L:()=>fe,Q:()=>u});var w=L(655),M=L(576);function u(_e){return(0,w.FC)(this,arguments,function*(){const Se=_e.getReader();try{for(;;){const{value:ge,done:Ee}=yield(0,w.qq)(Se.read());if(Ee)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ge)}}finally{Se.releaseLock()}})}function fe(_e){return(0,M.m)(_e?.getReader)}},3532:(He,we,L)=>{"use strict";L.d(we,{K:()=>M});var w=L(576);function M(u){return u&&(0,w.m)(u.schedule)}},4482:(He,we,L)=>{"use strict";L.d(we,{A:()=>M,e:()=>u});var w=L(576);function M(fe){return(0,w.m)(fe?.lift)}function u(fe){return _e=>{if(M(_e))return _e.lift(function(Me){try{return fe(Me,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(He,we,L)=>{"use strict";L.d(we,{Z:()=>fe});var w=L(4004);const{isArray:M}=Array;function fe(_e){return(0,w.U)(Me=>function u(_e,Me){return M(Me)?_e(...Me):_e(Me)}(_e,Me))}},5032:(He,we,L)=>{"use strict";function w(){}L.d(we,{Z:()=>w})},9635:(He,we,L)=>{"use strict";L.d(we,{U:()=>u,z:()=>M});var w=L(4671);function M(...fe){return u(fe)}function u(fe){return 0===fe.length?w.y:1===fe.length?fe[0]:function(Me){return fe.reduce((Se,ge)=>ge(Se),Me)}}},7849:(He,we,L)=>{"use strict";L.d(we,{h:()=>u});var w=L(2416),M=L(3410);function u(fe){M.z.setTimeout(()=>{const{onUnhandledError:_e}=w.v;if(!_e)throw fe;_e(fe)})}},4532:(He,we,L)=>{"use strict";function w(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(we,{z:()=>w})},655:(He,we,L)=>{"use strict";function fe(_t,ot){var It={};for(var Bt in _t)Object.prototype.hasOwnProperty.call(_t,Bt)&&ot.indexOf(Bt)<0&&(It[Bt]=_t[Bt]);if(null!=_t&&"function"==typeof Object.getOwnPropertySymbols){var qt=0;for(Bt=Object.getOwnPropertySymbols(_t);qt<Bt.length;qt++)ot.indexOf(Bt[qt])<0&&Object.prototype.propertyIsEnumerable.call(_t,Bt[qt])&&(It[Bt[qt]]=_t[Bt[qt]])}return It}function Ne(_t,ot,It,Bt){return new(It||(It=Promise))(function(Kt,_n){function an(Ln){try{dn(Bt.next(Ln))}catch(bn){_n(bn)}}function An(Ln){try{dn(Bt.throw(Ln))}catch(bn){_n(bn)}}function dn(Ln){Ln.done?Kt(Ln.value):function qt(Kt){return Kt instanceof It?Kt:new It(function(_n){_n(Kt)})}(Ln.value).then(an,An)}dn((Bt=Bt.apply(_t,ot||[])).next())})}function dt(_t){return this instanceof dt?(this.v=_t,this):new dt(_t)}function Mt(_t,ot,It){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qt,Bt=It.apply(_t,ot||[]),Kt=[];return qt={},_n("next"),_n("throw"),_n("return"),qt[Symbol.asyncIterator]=function(){return this},qt;function _n(Or){Bt[Or]&&(qt[Or]=function(kr){return new Promise(function(br,gr){Kt.push([Or,kr,br,gr])>1||an(Or,kr)})})}function an(Or,kr){try{!function An(Or){Or.value instanceof dt?Promise.resolve(Or.value.v).then(dn,Ln):bn(Kt[0][2],Or)}(Bt[Or](kr))}catch(br){bn(Kt[0][3],br)}}function dn(Or){an("next",Or)}function Ln(Or){an("throw",Or)}function bn(Or,kr){Or(kr),Kt.shift(),Kt.length&&an(Kt[0][0],Kt[0][1])}}function Ut(_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,ot=_t[Symbol.asyncIterator];return ot?ot.call(_t):(_t=function ct(_t){var ot="function"==typeof Symbol&&Symbol.iterator,It=ot&&_t[ot],Bt=0;if(It)return It.call(_t);if(_t&&"number"==typeof _t.length)return{next:function(){return _t&&Bt>=_t.length&&(_t=void 0),{value:_t&&_t[Bt++],done:!_t}}};throw new TypeError(ot?"Object is not iterable.":"Symbol.iterator is not defined.")}(_t),It={},Bt("next"),Bt("throw"),Bt("return"),It[Symbol.asyncIterator]=function(){return this},It);function Bt(Kt){It[Kt]=_t[Kt]&&function(_n){return new Promise(function(an,An){!function qt(Kt,_n,an,An){Promise.resolve(An).then(function(dn){Kt({value:dn,done:an})},_n)}(an,An,(_n=_t[Kt](_n)).done,_n.value)})}}}L.d(we,{FC:()=>Mt,KL:()=>Ut,_T:()=>fe,mG:()=>Ne,qq:()=>dt})},6895:(He,we,L)=>{"use strict";L.d(we,{Do:()=>st,EM:()=>xs,HT:()=>fe,JF:()=>ba,K0:()=>Me,Mn:()=>Bt,Mx:()=>ki,NF:()=>Lu,O5:()=>_r,Ov:()=>Nn,PM:()=>bu,S$:()=>ct,Tn:()=>zt,UT:()=>qt,V_:()=>Ee,Ye:()=>Ct,Zx:()=>Ju,ax:()=>Ps,b0:()=>at,bD:()=>ks,ez:()=>Eu,mk:()=>mr,ol:()=>It,p6:()=>Fn,q:()=>u,sg:()=>Ps,tP:()=>kt,uU:()=>Ci,w_:()=>_e,x:()=>Yt});var w=L(4650);let M=null;function u(){return M}function fe(U){M||(M=U)}class _e{}const Me=new w.OlP("DocumentToken");let Se=(()=>{class U{historyGo(W){throw new Error("Not implemented")}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=w.Yz7({token:U,factory:function(){return function ge(){return(0,w.LFG)(pe)}()},providedIn:"platform"}),U})();const Ee=new w.OlP("Location Initialized");let pe=(()=>{class U extends Se{constructor(W){super(),this._doc=W,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return u().getBaseHref(this._doc)}onPopState(W){const se=u().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",W,!1),()=>se.removeEventListener("popstate",W)}onHashChange(W){const se=u().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",W,!1),()=>se.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,se,Be){be()?this._history.pushState(W,se,Be):this._location.hash=Be}replaceState(W,se,Be){be()?this._history.replaceState(W,se,Be):this._location.hash=Be}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return U.\u0275fac=function(W){return new(W||U)(w.LFG(Me))},U.\u0275prov=w.Yz7({token:U,factory:function(){return function Ne(){return new pe((0,w.LFG)(Me))}()},providedIn:"platform"}),U})();function be(){return!!window.history.pushState}function ut(U,X){if(0==U.length)return X;if(0==X.length)return U;let W=0;return U.endsWith("/")&&W++,X.startsWith("/")&&W++,2==W?U+X.substring(1):1==W?U+X:U+"/"+X}function Je(U){const X=U.match(/#|\?|$/),W=X&&X.index||U.length;return U.slice(0,W-("/"===U[W-1]?1:0))+U.slice(W)}function bt(U){return U&&"?"!==U[0]?"?"+U:U}let ct=(()=>{class U{historyGo(W){throw new Error("Not implemented")}}return U.\u0275fac=function(W){return new(W||U)},U.\u0275prov=w.Yz7({token:U,factory:function(){return(0,w.f3M)(at)},providedIn:"root"}),U})();const Ye=new w.OlP("appBaseHref");let at=(()=>{class U extends ct{constructor(W,se){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=se??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return ut(this._baseHref,W)}path(W=!1){const se=this._platformLocation.pathname+bt(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&W?`${se}${Be}`:se}pushState(W,se,Be,yt){const Vt=this.prepareExternalUrl(Be+bt(yt));this._platformLocation.pushState(W,se,Vt)}replaceState(W,se,Be,yt){const Vt=this.prepareExternalUrl(Be+bt(yt));this._platformLocation.replaceState(W,se,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return U.\u0275fac=function(W){return new(W||U)(w.LFG(Se),w.LFG(Ye,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),st=(()=>{class U extends ct{constructor(W,se){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(W){const se=ut(this._baseHref,W);return se.length>0?"#"+se:se}pushState(W,se,Be,yt){let Vt=this.prepareExternalUrl(Be+bt(yt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(W,se,Vt)}replaceState(W,se,Be,yt){let Vt=this.prepareExternalUrl(Be+bt(yt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(W,se,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return U.\u0275fac=function(W){return new(W||U)(w.LFG(Se),w.LFG(Ye,8))},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac}),U})(),Ct=(()=>{class U{constructor(W){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const se=this._locationStrategy.getBaseHref();this._basePath=function Ut(U){if(new RegExp("^(https?:)?//").test(U)){const[,W]=U.split(/\/\/[^\/]+/);return W}return U}(Je(Tt(se))),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,se=""){return this.path()==this.normalize(W+bt(se))}normalize(W){return U.stripTrailingSlash(function Mt(U,X){return U&&new RegExp(`^${U}([/;?#]|$)`).test(X)?X.substring(U.length):X}(this._basePath,Tt(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,se="",Be=null){this._locationStrategy.pushState(Be,"",W,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+bt(se)),Be)}replaceState(W,se="",Be=null){this._locationStrategy.replaceState(Be,"",W,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+bt(se)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{const se=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",se){this._urlChangeListeners.forEach(Be=>Be(W,se))}subscribe(W,se,Be){return this._subject.subscribe({next:W,error:se,complete:Be})}}return U.normalizeQueryParams=bt,U.joinWithSlash=ut,U.stripTrailingSlash=Je,U.\u0275fac=function(W){return new(W||U)(w.LFG(ct))},U.\u0275prov=w.Yz7({token:U,factory:function(){return function dt(){return new Ct((0,w.LFG)(ct))}()},providedIn:"root"}),U})();function Tt(U){return U.replace(/\/index.html$/,"")}var ht=(()=>((ht=ht||{})[ht.Decimal=0]="Decimal",ht[ht.Percent=1]="Percent",ht[ht.Currency=2]="Currency",ht[ht.Scientific=3]="Scientific",ht))(),Yt=(()=>((Yt=Yt||{})[Yt.Format=0]="Format",Yt[Yt.Standalone=1]="Standalone",Yt))(),zt=(()=>((zt=zt||{})[zt.Narrow=0]="Narrow",zt[zt.Abbreviated=1]="Abbreviated",zt[zt.Wide=2]="Wide",zt[zt.Short=3]="Short",zt))(),Qn=(()=>((Qn=Qn||{})[Qn.Short=0]="Short",Qn[Qn.Medium=1]="Medium",Qn[Qn.Long=2]="Long",Qn[Qn.Full=3]="Full",Qn))(),fn=(()=>((fn=fn||{})[fn.Decimal=0]="Decimal",fn[fn.Group=1]="Group",fn[fn.List=2]="List",fn[fn.PercentSign=3]="PercentSign",fn[fn.PlusSign=4]="PlusSign",fn[fn.MinusSign=5]="MinusSign",fn[fn.Exponential=6]="Exponential",fn[fn.SuperscriptingExponent=7]="SuperscriptingExponent",fn[fn.PerMille=8]="PerMille",fn[fn.Infinity=9]="Infinity",fn[fn.NaN=10]="NaN",fn[fn.TimeSeparator=11]="TimeSeparator",fn[fn.CurrencyDecimal=12]="CurrencyDecimal",fn[fn.CurrencyGroup=13]="CurrencyGroup",fn))();function It(U,X,W){const se=(0,w.cg1)(U),yt=er([se[w.wAp.DayPeriodsFormat],se[w.wAp.DayPeriodsStandalone]],X);return er(yt,W)}function Bt(U,X,W){const se=(0,w.cg1)(U),yt=er([se[w.wAp.DaysFormat],se[w.wAp.DaysStandalone]],X);return er(yt,W)}function qt(U,X,W){const se=(0,w.cg1)(U),yt=er([se[w.wAp.MonthsFormat],se[w.wAp.MonthsStandalone]],X);return er(yt,W)}function An(U,X){return er((0,w.cg1)(U)[w.wAp.DateFormat],X)}function dn(U,X){return er((0,w.cg1)(U)[w.wAp.TimeFormat],X)}function Ln(U,X){return er((0,w.cg1)(U)[w.wAp.DateTimeFormat],X)}function bn(U,X){const W=(0,w.cg1)(U),se=W[w.wAp.NumberSymbols][X];if(typeof se>"u"){if(X===fn.CurrencyDecimal)return W[w.wAp.NumberSymbols][fn.Decimal];if(X===fn.CurrencyGroup)return W[w.wAp.NumberSymbols][fn.Group]}return se}function Gr(U){if(!U[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function er(U,X){for(let W=X;W>-1;W--)if(typeof U[W]<"u")return U[W];throw new Error("Locale data API: locale data undefined")}function Qr(U){const[X,W]=U.split(":");return{hours:+X,minutes:+W}}const Ri=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,si={},qr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.ShortGMT=1]="ShortGMT",xt[xt.Long=2]="Long",xt[xt.Extended=3]="Extended",xt))(),kn=(()=>((kn=kn||{})[kn.FullYear=0]="FullYear",kn[kn.Month=1]="Month",kn[kn.Date=2]="Date",kn[kn.Hours=3]="Hours",kn[kn.Minutes=4]="Minutes",kn[kn.Seconds=5]="Seconds",kn[kn.FractionalSeconds=6]="FractionalSeconds",kn[kn.Day=7]="Day",kn))(),cn=(()=>((cn=cn||{})[cn.DayPeriods=0]="DayPeriods",cn[cn.Days=1]="Days",cn[cn.Months=2]="Months",cn[cn.Eras=3]="Eras",cn))();function Fn(U,X,W,se){let Be=function Ie(U){if(Zt(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Be,yt=1,Vt=1]=U.split("-").map(yn=>+yn);return Wn(Be,yt-1,Vt)}const W=parseFloat(U);if(!isNaN(U-W))return new Date(W);let se;if(se=U.match(Ri))return function Et(U){const X=new Date(0);let W=0,se=0;const Be=U[8]?X.setUTCFullYear:X.setFullYear,yt=U[8]?X.setUTCHours:X.setHours;U[9]&&(W=Number(U[9]+U[10]),se=Number(U[9]+U[11])),Be.call(X,Number(U[1]),Number(U[2])-1,Number(U[3]));const Vt=Number(U[4]||0)-W,yn=Number(U[5]||0)-se,mi=Number(U[6]||0),_i=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return yt.call(X,Vt,yn,mi,_i),X}(se)}const X=new Date(U);if(!Zt(X))throw new Error(`Unable to convert "${U}" into a date`);return X}(U);X=jr(W,X)||X;let yn,Vt=[];for(;X;){if(yn=qr.exec(X),!yn){Vt.push(X);break}{Vt=Vt.concat(yn.slice(1));const Fi=Vt.pop();if(!Fi)break;X=Fi}}let mi=Be.getTimezoneOffset();se&&(mi=je(se,mi),Be=function ae(U,X,W){const se=W?-1:1,Be=U.getTimezoneOffset();return function Ce(U,X){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+X),U}(U,se*(je(X,Be)-Be))}(Be,se,!0));let _i="";return Vt.forEach(Fi=>{const ai=function Ae(U){if(Ve[U])return Ve[U];let X;switch(U){case"G":case"GG":case"GGG":X=fr(cn.Eras,zt.Abbreviated);break;case"GGGG":X=fr(cn.Eras,zt.Wide);break;case"GGGGG":X=fr(cn.Eras,zt.Narrow);break;case"y":X=yr(kn.FullYear,1,0,!1,!0);break;case"yy":X=yr(kn.FullYear,2,0,!0,!0);break;case"yyy":X=yr(kn.FullYear,3,0,!1,!0);break;case"yyyy":X=yr(kn.FullYear,4,0,!1,!0);break;case"Y":X=Mr(1);break;case"YY":X=Mr(2,!0);break;case"YYY":X=Mr(3);break;case"YYYY":X=Mr(4);break;case"M":case"L":X=yr(kn.Month,1,1);break;case"MM":case"LL":X=yr(kn.Month,2,1);break;case"MMM":X=fr(cn.Months,zt.Abbreviated);break;case"MMMM":X=fr(cn.Months,zt.Wide);break;case"MMMMM":X=fr(cn.Months,zt.Narrow);break;case"LLL":X=fr(cn.Months,zt.Abbreviated,Yt.Standalone);break;case"LLLL":X=fr(cn.Months,zt.Wide,Yt.Standalone);break;case"LLLLL":X=fr(cn.Months,zt.Narrow,Yt.Standalone);break;case"w":X=Ht(1);break;case"ww":X=Ht(2);break;case"W":X=Ht(1,!0);break;case"d":X=yr(kn.Date,1);break;case"dd":X=yr(kn.Date,2);break;case"c":case"cc":X=yr(kn.Day,1);break;case"ccc":X=fr(cn.Days,zt.Abbreviated,Yt.Standalone);break;case"cccc":X=fr(cn.Days,zt.Wide,Yt.Standalone);break;case"ccccc":X=fr(cn.Days,zt.Narrow,Yt.Standalone);break;case"cccccc":X=fr(cn.Days,zt.Short,Yt.Standalone);break;case"E":case"EE":case"EEE":X=fr(cn.Days,zt.Abbreviated);break;case"EEEE":X=fr(cn.Days,zt.Wide);break;case"EEEEE":X=fr(cn.Days,zt.Narrow);break;case"EEEEEE":X=fr(cn.Days,zt.Short);break;case"a":case"aa":case"aaa":X=fr(cn.DayPeriods,zt.Abbreviated);break;case"aaaa":X=fr(cn.DayPeriods,zt.Wide);break;case"aaaaa":X=fr(cn.DayPeriods,zt.Narrow);break;case"b":case"bb":case"bbb":X=fr(cn.DayPeriods,zt.Abbreviated,Yt.Standalone,!0);break;case"bbbb":X=fr(cn.DayPeriods,zt.Wide,Yt.Standalone,!0);break;case"bbbbb":X=fr(cn.DayPeriods,zt.Narrow,Yt.Standalone,!0);break;case"B":case"BB":case"BBB":X=fr(cn.DayPeriods,zt.Abbreviated,Yt.Format,!0);break;case"BBBB":X=fr(cn.DayPeriods,zt.Wide,Yt.Format,!0);break;case"BBBBB":X=fr(cn.DayPeriods,zt.Narrow,Yt.Format,!0);break;case"h":X=yr(kn.Hours,1,-12);break;case"hh":X=yr(kn.Hours,2,-12);break;case"H":X=yr(kn.Hours,1);break;case"HH":X=yr(kn.Hours,2);break;case"m":X=yr(kn.Minutes,1);break;case"mm":X=yr(kn.Minutes,2);break;case"s":X=yr(kn.Seconds,1);break;case"ss":X=yr(kn.Seconds,2);break;case"S":X=yr(kn.FractionalSeconds,1);break;case"SS":X=yr(kn.FractionalSeconds,2);break;case"SSS":X=yr(kn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=yi(xt.Short);break;case"ZZZZZ":X=yi(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=yi(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=yi(xt.Long);break;default:return null}return Ve[U]=X,X}(Fi);_i+=ai?ai(Be,W,mi):"''"===Fi?"'":Fi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_i}function Wn(U,X,W){const se=new Date(0);return se.setFullYear(U,X,W),se.setHours(0,0,0),se}function jr(U,X){const W=function ot(U){return(0,w.cg1)(U)[w.wAp.LocaleId]}(U);if(si[W]=si[W]||{},si[W][X])return si[W][X];let se="";switch(X){case"shortDate":se=An(U,Qn.Short);break;case"mediumDate":se=An(U,Qn.Medium);break;case"longDate":se=An(U,Qn.Long);break;case"fullDate":se=An(U,Qn.Full);break;case"shortTime":se=dn(U,Qn.Short);break;case"mediumTime":se=dn(U,Qn.Medium);break;case"longTime":se=dn(U,Qn.Long);break;case"fullTime":se=dn(U,Qn.Full);break;case"short":const Be=jr(U,"shortTime"),yt=jr(U,"shortDate");se=es(Ln(U,Qn.Short),[Be,yt]);break;case"medium":const Vt=jr(U,"mediumTime"),yn=jr(U,"mediumDate");se=es(Ln(U,Qn.Medium),[Vt,yn]);break;case"long":const mi=jr(U,"longTime"),_i=jr(U,"longDate");se=es(Ln(U,Qn.Long),[mi,_i]);break;case"full":const Fi=jr(U,"fullTime"),ai=jr(U,"fullDate");se=es(Ln(U,Qn.Full),[Fi,ai])}return se&&(si[W][X]=se),se}function es(U,X){return X&&(U=U.replace(/\{([^}]+)}/g,function(W,se){return null!=X&&se in X?X[se]:W})),U}function In(U,X,W="-",se,Be){let yt="";(U<0||Be&&U<=0)&&(Be?U=1-U:(U=-U,yt=W));let Vt=String(U);for(;Vt.length<X;)Vt="0"+Vt;return se&&(Vt=Vt.slice(Vt.length-X)),yt+Vt}function yr(U,X,W=0,se=!1,Be=!1){return function(yt,Vt){let yn=function ys(U,X){switch(U){case kn.FullYear:return X.getFullYear();case kn.Month:return X.getMonth();case kn.Date:return X.getDate();case kn.Hours:return X.getHours();case kn.Minutes:return X.getMinutes();case kn.Seconds:return X.getSeconds();case kn.FractionalSeconds:return X.getMilliseconds();case kn.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,yt);if((W>0||yn>-W)&&(yn+=W),U===kn.Hours)0===yn&&-12===W&&(yn=12);else if(U===kn.FractionalSeconds)return function us(U,X){return In(U,3).substring(0,X)}(yn,X);const mi=bn(Vt,fn.MinusSign);return In(yn,X,mi,se,Be)}}function fr(U,X,W=Yt.Format,se=!1){return function(Be,yt){return function ls(U,X,W,se,Be,yt){switch(W){case cn.Months:return qt(X,Be,se)[U.getMonth()];case cn.Days:return Bt(X,Be,se)[U.getDay()];case cn.DayPeriods:const Vt=U.getHours(),yn=U.getMinutes();if(yt){const _i=function Cr(U){const X=(0,w.cg1)(U);return Gr(X),(X[w.wAp.ExtraData][2]||[]).map(se=>"string"==typeof se?Qr(se):[Qr(se[0]),Qr(se[1])])}(X),Fi=function vi(U,X,W){const se=(0,w.cg1)(U);Gr(se);const yt=er([se[w.wAp.ExtraData][0],se[w.wAp.ExtraData][1]],X)||[];return er(yt,W)||[]}(X,Be,se),ai=_i.findIndex(rs=>{if(Array.isArray(rs)){const[Li,ni]=rs,Lo=Vt>=Li.hours&&yn>=Li.minutes,bs=Vt<ni.hours||Vt===ni.hours&&yn<ni.minutes;if(Li.hours<ni.hours){if(Lo&&bs)return!0}else if(Lo||bs)return!0}else if(rs.hours===Vt&&rs.minutes===yn)return!0;return!1});if(-1!==ai)return Fi[ai]}return It(X,Be,se)[Vt<12?0:1];case cn.Eras:return function Kt(U,X){return er((0,w.cg1)(U)[w.wAp.Eras],X)}(X,se)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(Be,yt,U,X,W,se)}}function yi(U){return function(X,W,se){const Be=-1*se,yt=bn(W,fn.MinusSign),Vt=Be>0?Math.floor(Be/60):Math.ceil(Be/60);switch(U){case xt.Short:return(Be>=0?"+":"")+In(Vt,2,yt)+In(Math.abs(Be%60),2,yt);case xt.ShortGMT:return"GMT"+(Be>=0?"+":"")+In(Vt,1,yt);case xt.Long:return"GMT"+(Be>=0?"+":"")+In(Vt,2,yt)+":"+In(Math.abs(Be%60),2,yt);case xt.Extended:return 0===se?"Z":(Be>=0?"+":"")+In(Vt,2,yt)+":"+In(Math.abs(Be%60),2,yt);default:throw new Error(`Unknown zone width "${U}"`)}}}function Kn(U){return Wn(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function Ht(U,X=!1){return function(W,se){let Be;if(X){const yt=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,Vt=W.getDate();Be=1+Math.floor((Vt+yt)/7)}else{const yt=Kn(W),Vt=function wn(U){const X=Wn(U,0,1).getDay();return Wn(U,0,1+(X<=4?4:11)-X)}(yt.getFullYear()),yn=yt.getTime()-Vt.getTime();Be=1+Math.round(yn/6048e5)}return In(Be,U,bn(se,fn.MinusSign))}}function Mr(U,X=!1){return function(W,se){return In(Kn(W).getFullYear(),U,bn(se,fn.MinusSign),X)}}const Ve={};function je(U,X){U=U.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(W)?X:W}function Zt(U){return U instanceof Date&&!isNaN(U.valueOf())}const Tn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Js(U){const X=parseInt(U);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+U);return X}function ki(U,X){X=encodeURIComponent(X);for(const W of U.split(";")){const se=W.indexOf("="),[Be,yt]=-1==se?[W,""]:[W.slice(0,se),W.slice(se+1)];if(Be.trim()===X)return decodeURIComponent(yt)}return null}const oi=/\s+/,Rn=[];let mr=(()=>{class U{constructor(W,se,Be,yt){this._iterableDiffers=W,this._keyValueDiffers=se,this._ngEl=Be,this._renderer=yt,this.initialClasses=Rn,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(oi):Rn}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(oi):W}ngDoCheck(){for(const se of this.initialClasses)this._updateState(se,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const se of W)this._updateState(se,!0);else if(null!=W)for(const se of Object.keys(W))this._updateState(se,Boolean(W[se]));this._applyStateDiff()}_updateState(W,se){const Be=this.stateMap.get(W);void 0!==Be?(Be.enabled!==se&&(Be.changed=!0,Be.enabled=se),Be.touched=!0):this.stateMap.set(W,{enabled:se,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const se=W[0],Be=W[1];Be.changed?(this._toggleClass(se,Be.enabled),Be.changed=!1):Be.touched||(Be.enabled&&this._toggleClass(se,!1),this.stateMap.delete(se)),Be.touched=!1}}_toggleClass(W,se){(W=W.trim()).length>0&&W.split(oi).forEach(Be=>{se?this._renderer.addClass(this._ngEl.nativeElement,Be):this._renderer.removeClass(this._ngEl.nativeElement,Be)})}}return U.\u0275fac=function(W){return new(W||U)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class un{constructor(X,W,se,Be){this.$implicit=X,this.ngForOf=W,this.index=se,this.count=Be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ps=(()=>{class U{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,se,Be){this._viewContainer=W,this._template=se,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const se=this._viewContainer;W.forEachOperation((Be,yt,Vt)=>{if(null==Be.previousIndex)se.createEmbeddedView(this._template,new un(Be.item,this._ngForOf,-1,-1),null===Vt?void 0:Vt);else if(null==Vt)se.remove(null===yt?void 0:yt);else if(null!==yt){const yn=se.get(yt);se.move(yn,Vt),wr(yn,Be)}});for(let Be=0,yt=se.length;Be<yt;Be++){const yn=se.get(Be).context;yn.index=Be,yn.count=yt,yn.ngForOf=this._ngForOf}W.forEachIdentityChange(Be=>{wr(se.get(Be.currentIndex),Be)})}static ngTemplateContextGuard(W,se){return!0}}return U.\u0275fac=function(W){return new(W||U)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function wr(U,X){U.context.$implicit=X.item}let _r=(()=>{class U{constructor(W,se){this._viewContainer=W,this._context=new sr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){Fo("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){Fo("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,se){return!0}}return U.\u0275fac=function(W){return new(W||U)(w.Y36(w.s_b),w.Y36(w.Rgc))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class sr{constructor(){this.$implicit=null,this.ngIf=null}}function Fo(U,X){if(X&&!X.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,w.AaK)(X)}'.`)}let kt=(()=>{class U{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(W.ngTemplateOutlet||W.ngTemplateOutletInjector){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Be,ngTemplateOutletContext:yt,ngTemplateOutletInjector:Vt}=this;this._viewRef=se.createEmbeddedView(Be,yt,Vt?{injector:Vt}:void 0)}else this._viewRef=null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(W){return new(W||U)(w.Y36(w.s_b))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]}),U})();function Te(U,X){return new w.vHH(2100,!1)}class Ze{createSubscription(X,W){return X.subscribe({next:W,error:se=>{throw se}})}dispose(X){X.unsubscribe()}}class Ot{createSubscription(X,W){return X.then(W,se=>{throw se})}dispose(X){}}const tn=new Ot,On=new Ze;let Nn=(()=>{class U{constructor(W){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){return this._obj?W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue:(W&&this._subscribe(W),this._latestValue)}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,se=>this._updateLatestValue(W,se))}_selectStrategy(W){if((0,w.QGY)(W))return tn;if((0,w.F4k)(W))return On;throw Te()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,se){W===this._obj&&(this._latestValue=se,this._ref.markForCheck())}}return U.\u0275fac=function(W){return new(W||U)(w.Y36(w.sBO,16))},U.\u0275pipe=w.Yjl({name:"async",type:U,pure:!1,standalone:!0}),U})();const Pe=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rl=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ci=(()=>{class U{constructor(W,se,Be){this.locale=W,this.defaultTimezone=se,this.defaultOptions=Be}transform(W,se,Be,yt){if(null==W||""===W||W!=W)return null;try{return Fn(W,se??this.defaultOptions?.dateFormat??"mediumDate",yt||this.locale,Be??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Vt){throw Te()}}}return U.\u0275fac=function(W){return new(W||U)(w.Y36(w.soG,16),w.Y36(Pe,24),w.Y36(Rl,24))},U.\u0275pipe=w.Yjl({name:"date",type:U,pure:!0,standalone:!0}),U})(),Ju=(()=>{class U{constructor(W){this._locale=W}transform(W,se,Be){if(!function gl(U){return!(null==U||""===U||U!=U)}(W))return null;Be=Be||this._locale;try{return function Wr(U,X,W){return function ci(U,X,W,se,Be,yt,Vt=!1){let yn="",mi=!1;if(isFinite(U)){let _i=function Ds(U){let se,Be,yt,Vt,yn,X=Math.abs(U)+"",W=0;for((Be=X.indexOf("."))>-1&&(X=X.replace(".","")),(yt=X.search(/e/i))>0?(Be<0&&(Be=yt),Be+=+X.slice(yt+1),X=X.substring(0,yt)):Be<0&&(Be=X.length),yt=0;"0"===X.charAt(yt);yt++);if(yt===(yn=X.length))se=[0],Be=1;else{for(yn--;"0"===X.charAt(yn);)yn--;for(Be-=yt,se=[],Vt=0;yt<=yn;yt++,Vt++)se[Vt]=Number(X.charAt(yt))}return Be>22&&(se=se.splice(0,21),W=Be-1,Be=1),{digits:se,exponent:W,integerLen:Be}}(U);Vt&&(_i=function $s(U){if(0===U.digits[0])return U;const X=U.digits.length-U.integerLen;return U.exponent?U.exponent+=2:(0===X?U.digits.push(0,0):1===X&&U.digits.push(0),U.integerLen+=2),U}(_i));let Fi=X.minInt,ai=X.minFrac,rs=X.maxFrac;if(yt){const Vs=yt.match(Tn);if(null===Vs)throw new Error(`${yt} is not a valid digit info`);const ou=Vs[1],Cu=Vs[3],Ga=Vs[5];null!=ou&&(Fi=Js(ou)),null!=Cu&&(ai=Js(Cu)),null!=Ga?rs=Js(Ga):null!=Cu&&ai>rs&&(rs=ai)}!function di(U,X,W){if(X>W)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${W}).`);let se=U.digits,Be=se.length-U.integerLen;const yt=Math.min(Math.max(X,Be),W);let Vt=yt+U.integerLen,yn=se[Vt];if(Vt>0){se.splice(Math.max(U.integerLen,Vt));for(let ai=Vt;ai<se.length;ai++)se[ai]=0}else{Be=Math.max(0,Be),U.integerLen=1,se.length=Math.max(1,Vt=yt+1),se[0]=0;for(let ai=1;ai<Vt;ai++)se[ai]=0}if(yn>=5)if(Vt-1<0){for(let ai=0;ai>Vt;ai--)se.unshift(0),U.integerLen++;se.unshift(1),U.integerLen++}else se[Vt-1]++;for(;Be<Math.max(0,yt);Be++)se.push(0);let mi=0!==yt;const _i=X+U.integerLen,Fi=se.reduceRight(function(ai,rs,Li,ni){return ni[Li]=(rs+=ai)<10?rs:rs-10,mi&&(0===ni[Li]&&Li>=_i?ni.pop():mi=!1),rs>=10?1:0},0);Fi&&(se.unshift(Fi),U.integerLen++)}(_i,ai,rs);let Li=_i.digits,ni=_i.integerLen;const Lo=_i.exponent;let bs=[];for(mi=Li.every(Vs=>!Vs);ni<Fi;ni++)Li.unshift(0);for(;ni<0;ni++)Li.unshift(0);ni>0?bs=Li.splice(ni,Li.length):(bs=Li,Li=[0]);const vo=[];for(Li.length>=X.lgSize&&vo.unshift(Li.splice(-X.lgSize,Li.length).join(""));Li.length>X.gSize;)vo.unshift(Li.splice(-X.gSize,Li.length).join(""));Li.length&&vo.unshift(Li.join("")),yn=vo.join(bn(W,se)),bs.length&&(yn+=bn(W,Be)+bs.join("")),Lo&&(yn+=bn(W,fn.Exponential)+"+"+Lo)}else yn=bn(W,fn.Infinity);return yn=U<0&&!mi?X.negPre+yn+X.negSuf:X.posPre+yn+X.posSuf,yn}(U,function Rs(U,X="-"){const W={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},se=U.split(";"),Be=se[0],yt=se[1],Vt=-1!==Be.indexOf(".")?Be.split("."):[Be.substring(0,Be.lastIndexOf("0")+1),Be.substring(Be.lastIndexOf("0")+1)],yn=Vt[0],mi=Vt[1]||"";W.posPre=yn.substring(0,yn.indexOf("#"));for(let Fi=0;Fi<mi.length;Fi++){const ai=mi.charAt(Fi);"0"===ai?W.minFrac=W.maxFrac=Fi+1:"#"===ai?W.maxFrac=Fi+1:W.posSuf+=ai}const _i=yn.split(",");if(W.gSize=_i[1]?_i[1].length:0,W.lgSize=_i[2]||_i[1]?(_i[2]||_i[1]).length:0,yt){const Fi=Be.length-W.posPre.length-W.posSuf.length,ai=yt.indexOf("#");W.negPre=yt.substring(0,ai).replace(/'/g,""),W.negSuf=yt.slice(ai+Fi).replace(/'/g,"")}else W.negPre=X+W.posPre,W.negSuf=W.posSuf;return W}(function Or(U,X){return(0,w.cg1)(U)[w.wAp.NumberFormats][X]}(X,ht.Percent),bn(X,fn.MinusSign)),X,fn.Group,fn.Decimal,W,!0).replace(new RegExp("%","g"),bn(X,fn.PercentSign))}(function Do(U){if("string"==typeof U&&!isNaN(Number(U)-parseFloat(U)))return Number(U);if("number"!=typeof U)throw new Error(`${U} is not a number`);return U}(W),Be,se)}catch(yt){throw Te()}}}return U.\u0275fac=function(W){return new(W||U)(w.Y36(w.soG,16))},U.\u0275pipe=w.Yjl({name:"percent",type:U,pure:!0,standalone:!0}),U})();let Eu=(()=>{class U{}return U.\u0275fac=function(W){return new(W||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({}),U})();const ks="browser";function Lu(U){return U===ks}function bu(U){return"server"===U}let xs=(()=>{class U{}return U.\u0275prov=(0,w.Yz7)({token:U,providedIn:"root",factory:()=>new po((0,w.LFG)(Me),window)}),U})();class po{constructor(X,W){this.document=X,this.window=W,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const W=function oo(U,X){const W=U.getElementById(X)||U.getElementsByName(X)[0];if(W)return W;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const se=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Be=se.currentNode;for(;Be;){const yt=Be.shadowRoot;if(yt){const Vt=yt.getElementById(X)||yt.querySelector(`[name="${X}"]`);if(Vt)return Vt}Be=se.nextNode()}}return null}(this.document,X);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=X)}}scrollToElement(X){const W=X.getBoundingClientRect(),se=W.left+this.window.pageXOffset,Be=W.top+this.window.pageYOffset,yt=this.offset();this.window.scrollTo(se-yt[0],Be-yt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=Ea(this.window.history)||Ea(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ea(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class ba{}},4650:(He,we,L)=>{"use strict";L.d(we,{$8M:()=>Kr,$WT:()=>wi,$Z:()=>Og,AFp:()=>Pu,ALo:()=>Sb,AaK:()=>ge,AsE:()=>Iy,BQk:()=>Jf,CHM:()=>H,CRH:()=>AT,CZH:()=>pE,CqO:()=>f,D6c:()=>dw,EJc:()=>q1,EpF:()=>jp,F$t:()=>nn,F4k:()=>i_,FYo:()=>Tg,FiY:()=>tt,G48:()=>lC,Gf:()=>ST,GfV:()=>Im,Gpc:()=>be,Hsn:()=>on,Ikx:()=>l,JOm:()=>El,KtG:()=>le,LFG:()=>rn,LMc:()=>cD,Lbi:()=>jb,Lck:()=>By,MAs:()=>fv,MGl:()=>Gn,MMx:()=>yb,MR2:()=>Ia,MT6:()=>u_,NdJ:()=>v,OlP:()=>ji,Oqu:()=>wv,P3R:()=>O_,PXZ:()=>Ud,Q6J:()=>yh,QGY:()=>Yg,Qsj:()=>Ya,QtT:()=>mb,R0b:()=>Vd,RDi:()=>wl,RIp:()=>Ka,Rgc:()=>kv,SBq:()=>ju,SDv:()=>_1,Sil:()=>K1,Suo:()=>IT,TTD:()=>So,TgZ:()=>vf,Tol:()=>wy,Udp:()=>Jg,VKq:()=>pT,W1O:()=>NT,WLB:()=>d_,X6Q:()=>uC,XFs:()=>mn,Xpm:()=>ci,Xts:()=>Zc,Y36:()=>af,YKP:()=>Ly,YNc:()=>Yf,Yjl:()=>Js,Yz7:()=>bn,Z0I:()=>gr,ZZ4:()=>hm,_Bn:()=>cT,_UZ:()=>yc,_Vd:()=>Ad,_uU:()=>bv,aQg:()=>lw,c2e:()=>W1,cJS:()=>kr,cg1:()=>ie,dDg:()=>mE,dqk:()=>xt,ekj:()=>Qg,eoX:()=>iC,f3M:()=>wn,g9A:()=>ZT,h0i:()=>Sh,hij:()=>Tv,iGM:()=>DT,iPO:()=>Uv,ifc:()=>Zt,ip1:()=>KT,jDz:()=>Z0,kEZ:()=>T1,kL8:()=>it,lG2:()=>di,lcZ:()=>Ib,lqb:()=>Jc,lri:()=>Zb,n5z:()=>de,oAB:()=>Rs,oxw:()=>Ke,pQV:()=>gb,q4F:()=>Am,qLn:()=>fc,qOj:()=>kd,qZA:()=>Gp,rWj:()=>rC,s9C:()=>pn,sBO:()=>v_,s_b:()=>sE,soG:()=>Ky,tBr:()=>Le,tb:()=>rp,tp0:()=>en,uIk:()=>zg,vHH:()=>Ye,vpe:()=>hd,wAp:()=>Nt,xi3:()=>Ab,xp6:()=>Nd,ynx:()=>Zg,z2F:()=>Jy,zSh:()=>Gl,zs3:()=>ah});var w=L(7579),M=L(727),u=L(9751),fe=L(6451),_e=L(3099);function Me(s){for(let a in s)if(s[a]===Me)return a;throw Error("Could not find renamed property on target object.")}function Se(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function ge(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ge).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Ee(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const pe=Me({__forward_ref__:Me});function be(s){return s.__forward_ref__=be,s.toString=function(){return ge(this())},s}function Ne(s){return ut(s)?s():s}function ut(s){return"function"==typeof s&&s.hasOwnProperty(pe)&&s.__forward_ref__===be}function Je(s){return s&&!!s.\u0275providers}const ct="https://g.co/ng/security#xss";class Ye extends Error{constructor(a,c){super(function at(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function st(s){return"string"==typeof s?s:null==s?"":String(s)}function Ut(s,a){throw new Ye(-201,!1)}function an(s,a,c,g){throw new Error(`ASSERTION ERROR: ${s}`+(null==g?"":` [Expected=> ${c} ${g} ${a} <=Actual]`))}function bn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function kr(s){return{providers:s.providers||[],imports:s.imports||[]}}function br(s){return Xn(s,vi)||Xn(s,er)}function gr(s){return null!==br(s)}function Xn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Cr(s){return s&&(s.hasOwnProperty(ar)||s.hasOwnProperty(Qr))?s[ar]:null}const vi=Me({\u0275prov:Me}),ar=Me({\u0275inj:Me}),er=Me({ngInjectableDef:Me}),Qr=Me({ngInjectorDef:Me});var mn=(()=>((mn=mn||{})[mn.Default=0]="Default",mn[mn.Host=1]="Host",mn[mn.Self=2]="Self",mn[mn.SkipSelf=4]="SkipSelf",mn[mn.Optional=8]="Optional",mn))();let Ar;function Ri(s){const a=Ar;return Ar=s,a}function si(s,a,c){const g=br(s);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:c&mn.Optional?null:void 0!==a?a:void Ut(ge(s))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wn={},jr="__NG_DI_FLAG__",es="ngTempTokenPath",us=/\n/gm,ys="__source";let fr;function ls(s){const a=fr;return fr=s,a}function yi(s,a=mn.Default){if(void 0===fr)throw new Ye(-203,!1);return null===fr?si(s,void 0,a):fr.get(s,a&mn.Optional?null:void 0,a)}function rn(s,a=mn.Default){return(function Vi(){return Ar}()||yi)(Ne(s),a)}function wn(s,a=mn.Default){return rn(s,Kn(a))}function Kn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ht(s){const a=[];for(let c=0;c<s.length;c++){const g=Ne(s[c]);if(Array.isArray(g)){if(0===g.length)throw new Ye(900,!1);let m,E=mn.Default;for(let A=0;A<g.length;A++){const F=g[A],G=Ve(F);"number"==typeof G?-1===G?m=F.token:E|=G:m=F}a.push(rn(m,E))}else a.push(rn(g))}return a}function Mr(s,a){return s[jr]=a,s.prototype[jr]=a,s}function Ve(s){return s[jr]}function Ce(s){return{toString:s}.toString()}var ae=(()=>((ae=ae||{})[ae.OnPush=0]="OnPush",ae[ae.Default=1]="Default",ae))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const Tn={},$e=[],Fe=Me({\u0275cmp:Me}),ye=Me({\u0275dir:Me}),nt=Me({\u0275pipe:Me}),Wt=Me({\u0275mod:Me}),Qt=Me({\u0275fac:Me}),xn=Me({__NG_ELEMENT_ID__:Me});let li=0;function ci(s){return Ce(()=>{const c=!0===s.standalone,g={},m={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||$e,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c"+li++,styles:s.styles||$e,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},E=s.dependencies,A=s.features;return m.inputs=Ds(s.inputs,g),m.outputs=Ds(s.outputs),A&&A.forEach(F=>F(m)),m.directiveDefs=E?()=>("function"==typeof E?E():E).map(Wr).filter(zi):null,m.pipeDefs=E?()=>("function"==typeof E?E():E).map(Pi).filter(zi):null,m})}function Wr(s){return Xr(s)||Ei(s)}function zi(s){return null!==s}function Rs(s){return Ce(()=>({type:s.type,bootstrap:s.bootstrap||$e,declarations:s.declarations||$e,imports:s.imports||$e,exports:s.exports||$e,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ds(s,a){if(null==s)return Tn;const c={};for(const g in s)if(s.hasOwnProperty(g)){let m=s[g],E=m;Array.isArray(m)&&(E=m[1],m=m[0]),c[m]=g,a&&(a[m]=E)}return c}const di=ci;function Js(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Xr(s){return s[Fe]||null}function Ei(s){return s[ye]||null}function Pi(s){return s[nt]||null}function wi(s){const a=Xr(s)||Ei(s)||Pi(s);return null!==a&&a.standalone}function ki(s,a){const c=s[Wt]||null;if(!c&&!0===a)throw new Error(`Type ${ge(s)} does not have '\u0275mod' property.`);return c}function $i(s){return Array.isArray(s)&&"object"==typeof s[1]}function ds(s){return Array.isArray(s)&&!0===s[1]}function Qe(s){return 0!=(4&s.flags)}function Pe(s){return s.componentOffset>-1}function Rl(s){return 1==(1&s.flags)}function Ci(s){return null!==s.template}function To(s){return 0!=(256&s[2])}function Hs(s,a){return s.hasOwnProperty(Qt)?s[Qt]:null}class ya{constructor(a,c,g){this.previousValue=a,this.currentValue=c,this.firstChange=g}isFirstChange(){return this.firstChange}}function So(){return xs}function xs(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ea),po}function po(){const s=Fs(this),a=s?.current;if(a){const c=s.previous;if(c===Tn)s.previous=a;else for(let g in a)c[g]=a[g];s.current=null,this.ngOnChanges(a)}}function Ea(s,a,c,g){const m=this.declaredInputs[c],E=Fs(s)||function ba(s,a){return s[oo]=a}(s,{previous:Tn,current:null}),A=E.current||(E.current={}),F=E.previous,G=F[m];A[m]=new ya(G&&G.currentValue,a,F===Tn),s[g]=a}So.ngInherit=!0;const oo="__ngSimpleChanges__";function Fs(s){return s[oo]||null}function Ii(s){for(;Array.isArray(s);)s=s[0];return s}function ns(s,a){return Ii(a[s])}function qi(s,a){return Ii(a[s.index])}function Wo(s,a){return s.data[a]}function tr(s,a){return s[a]}function Ai(s,a){const c=a[s];return $i(c)?c:c[0]}function go(s){return 64==(64&s[2])}function ao(s,a){return null==a?null:s[a]}function tu(s){s[18]=0}function zo(s,a){s[5]+=a;let c=s,g=s[3];for(;null!==g&&(1===a&&1===c[5]||-1===a&&0===c[5]);)g[5]+=a,c=g,g=g[3]}const Fr={lFrame:At(null),bindingsEnabled:!0};function Qu(){return Fr.bindingsEnabled}function B(){return Fr.lFrame.lView}function j(){return Fr.lFrame.tView}function H(s){return Fr.lFrame.contextLView=s,s[8]}function le(s){return Fr.lFrame.contextLView=null,s}function gt(){let s=Bn();for(;null!==s&&64===s.type;)s=s.parent;return s}function Bn(){return Fr.lFrame.currentTNode}function ti(){const s=Fr.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function gs(s,a){const c=Fr.lFrame;c.currentTNode=s,c.isParent=a}function wa(){return Fr.lFrame.isParent}function js(){Fr.lFrame.isParent=!1}function ts(){const s=Fr.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Bs(){return Fr.lFrame.bindingIndex}function ms(){return Fr.lFrame.bindingIndex++}function Ko(s){const a=Fr.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function Xu(s){Fr.lFrame.inI18n=s}function Bu(s,a){const c=Fr.lFrame;c.bindingIndex=c.bindingRootIndex=s,$a(a)}function $a(s){Fr.lFrame.currentDirectiveIndex=s}function ec(){return Fr.lFrame.currentQueryIndex}function su(s){Fr.lFrame.currentQueryIndex=s}function Pl(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Ha(s,a,c){if(c&mn.SkipSelf){let m=a,E=s;for(;!(m=m.parent,null!==m||c&mn.Host||(m=Pl(E),null===m||(E=E[15],10&m.type))););if(null===m)return!1;a=m,s=E}const g=Fr.lFrame=Ge();return g.currentTNode=a,g.lView=s,!0}function Uu(s){const a=Ge(),c=s[1];Fr.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ge(){const s=Fr.lFrame,a=null===s?null:s.child;return null===a?At(s):a}function At(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function lt(){const s=Fr.lFrame;return Fr.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zn=lt;function Lr(){const s=lt();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Vr(){return Fr.lFrame.selectedIndex}function Ao(s){Fr.lFrame.selectedIndex=s}function Ji(){const s=Fr.lFrame;return Wo(s.tView,s.selectedIndex)}function gi(s,a){for(let c=a.directiveStart,g=a.directiveEnd;c<g;c++){const E=s.data[c].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:F,ngAfterViewInit:G,ngAfterViewChecked:Q,ngOnDestroy:ue}=E;A&&(s.contentHooks||(s.contentHooks=[])).push(-c,A),F&&((s.contentHooks||(s.contentHooks=[])).push(c,F),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,F)),G&&(s.viewHooks||(s.viewHooks=[])).push(-c,G),Q&&((s.viewHooks||(s.viewHooks=[])).push(c,Q),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,Q)),null!=ue&&(s.destroyHooks||(s.destroyHooks=[])).push(c,ue)}}function U(s,a,c){se(s,a,3,c)}function X(s,a,c,g){(3&s[2])===c&&se(s,a,c,g)}function W(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function se(s,a,c,g){const E=g??-1,A=a.length-1;let F=0;for(let G=void 0!==g?65535&s[18]:0;G<A;G++)if("number"==typeof a[G+1]){if(F=a[G],null!=g&&F>=g)break}else a[G]<0&&(s[18]+=65536),(F<E||-1==E)&&(Be(s,c,a,G),s[18]=(4294901760&s[18])+G+2),G++}function Be(s,a,c,g){const m=c[g]<0,E=c[g+1],F=s[m?-c[g]:c[g]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{E.call(F)}finally{}}}else try{E.call(F)}finally{}}class Vt{constructor(a,c,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=g}}function Lo(s,a,c){let g=0;for(;g<c.length;){const m=c[g];if("number"==typeof m){if(0!==m)break;g++;const E=c[g++],A=c[g++],F=c[g++];s.setAttribute(a,A,F,E)}else{const E=m,A=c[++g];vo(E)?s.setProperty(a,E,A):s.setAttribute(a,E,A),g++}}return g}function bs(s){return 3===s||4===s||6===s}function vo(s){return 64===s.charCodeAt(0)}function Vs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let g=0;g<a.length;g++){const m=a[g];"number"==typeof m?c=m:0===c||ou(s,c,m,null,-1===c||2===c?a[++g]:null)}}return s}function ou(s,a,c,g,m){let E=0,A=s.length;if(-1===a)A=-1;else for(;E<s.length;){const F=s[E++];if("number"==typeof F){if(F===a){A=-1;break}if(F>a){A=E-1;break}}}for(;E<s.length;){const F=s[E];if("number"==typeof F)break;if(F===c){if(null===g)return void(null!==m&&(s[E+1]=m));if(g===s[E+1])return void(s[E+2]=m)}E++,null!==g&&E++,null!==m&&E++}-1!==A&&(s.splice(A,0,a),E=A+1),s.splice(E++,0,c),null!==g&&s.splice(E++,0,g),null!==m&&s.splice(E++,0,m)}function Cu(s){return-1!==s}function Ga(s){return 32767&s}function au(s,a){let c=function vl(s){return s>>16}(s),g=a;for(;c>0;)g=g[15],c--;return g}let ua=!0;function Yo(s){const a=ua;return ua=s,a}let Xs=0;const Na={};function yo(s,a){const c=eo(s,a);if(-1!==c)return c;const g=a[1];g.firstCreatePass&&(s.injectorIndex=a.length,Fl(g.data,s),Fl(a,null),Fl(g.blueprint,null));const m=Os(s,a),E=s.injectorIndex;if(Cu(m)){const A=Ga(m),F=au(m,a),G=F[1].data;for(let Q=0;Q<8;Q++)a[E+Q]=F[A+Q]|G[A+Q]}return a[E+8]=m,E}function Fl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function eo(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Os(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,g=null,m=a;for(;null!==m;){if(g=Qo(m),null===g)return-1;if(c++,m=m[15],-1!==g.injectorIndex)return g.injectorIndex|c<<16}return-1}function Du(s,a,c){!function Nh(s,a,c){let g;"string"==typeof c?g=c.charCodeAt(0)||0:c.hasOwnProperty(xn)&&(g=c[xn]),null==g&&(g=c[xn]=Xs++);const m=255&g;a.data[s+(m>>5)]|=1<<m}(s,a,c)}function tl(s,a,c){if(c&mn.Optional||void 0!==s)return s;Ut()}function ja(s,a,c,g){if(c&mn.Optional&&void 0===g&&(g=null),!(c&(mn.Self|mn.Host))){const m=s[9],E=Ri(void 0);try{return m?m.get(a,g,c&mn.Optional):si(a,g,c&mn.Optional)}finally{Ri(E)}}return tl(g,0,c)}function Ws(s,a,c,g=mn.Default,m){if(null!==s){if(1024&a[2]){const A=function Jo(s,a,c,g,m){let E=s,A=a;for(;null!==E&&null!==A&&1024&A[2]&&!(256&A[2]);){const F=is(E,A,c,g|mn.Self,Na);if(F!==Na)return F;let G=E.parent;if(!G){const Q=A[21];if(Q){const ue=Q.get(c,Na,g);if(ue!==Na)return ue}G=Qo(A),A=A[15]}E=G}return m}(s,a,c,g,Na);if(A!==Na)return A}const E=is(s,a,c,g,Na);if(E!==Na)return E}return ja(a,c,g,m)}function is(s,a,c,g,m){const E=function rl(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(xn)?s[xn]:void 0;return"number"==typeof a?a>=0?255&a:Ll:a}(c);if("function"==typeof E){if(!Ha(a,s,g))return g&mn.Host?tl(m,0,g):ja(a,c,g,m);try{const A=E(g);if(null!=A||g&mn.Optional)return A;Ut()}finally{zn()}}else if("number"==typeof E){let A=null,F=eo(s,a),G=-1,Q=g&mn.Host?a[16][6]:null;for((-1===F||g&mn.SkipSelf)&&(G=-1===F?Os(s,a):a[F+8],-1!==G&&Mo(g,!1)?(A=a[1],F=Ga(G),a=au(G,a)):F=-1);-1!==F;){const ue=a[1];if(bc(E,F,ue.data)){const Re=nl(F,a,c,A,g,Q);if(Re!==Na)return Re}G=a[F+8],-1!==G&&Mo(g,a[1].data[F+8]===Q)&&bc(E,F,a)?(A=ue,F=Ga(G),a=au(G,a)):F=-1}}return m}function nl(s,a,c,g,m,E){const A=a[1],F=A.data[s+8],ue=Ta(F,A,c,null==g?Pe(F)&&ua:g!=A&&0!=(3&F.type),m&mn.Host&&E===F);return null!==ue?la(a,A,ue,F):Na}function Ta(s,a,c,g,m){const E=s.providerIndexes,A=a.data,F=1048575&E,G=s.directiveStart,ue=E>>20,et=m?F+ue:s.directiveEnd;for(let St=g?F:F+ue;St<et;St++){const Xt=A[St];if(St<G&&c===Xt||St>=G&&Xt.type===c)return St}if(m){const St=A[G];if(St&&Ci(St)&&St.type===c)return G}return null}function la(s,a,c,g){let m=s[c];const E=a.data;if(function yn(s){return s instanceof Vt}(m)){const A=m;A.resolving&&function dt(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Ct(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():st(s)}(E[c]));const F=Yo(A.canSeeViewProviders);A.resolving=!0;const G=A.injectImpl?Ri(A.injectImpl):null;Ha(s,g,mn.Default);try{m=s[c]=A.factory(void 0,E,s,g),a.firstCreatePass&&c>=g.directiveStart&&function Tu(s,a,c){const{ngOnChanges:g,ngOnInit:m,ngDoCheck:E}=a.type.prototype;if(g){const A=xs(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,A),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,A)}m&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,m),E&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,E),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,E))}(c,E[c],a)}finally{null!==G&&Ri(G),Yo(F),A.resolving=!1,zn()}}return m}function bc(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function Mo(s,a){return!(s&mn.Self||s&mn.Host&&a)}class No{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,g){return Ws(this._tNode,this._lView,a,Kn(g),c)}}function Ll(){return new No(gt(),B())}function de(s){return Ce(()=>{const a=s.prototype.constructor,c=a[Qt]||to(a),g=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==g;){const E=m[Qt]||to(m);if(E&&E!==c)return E;m=Object.getPrototypeOf(m)}return E=>new E})}function to(s){return ut(s)?()=>{const a=to(Ne(s));return a&&a()}:Hs(s)}function Qo(s){const a=s[1],c=a.type;return 2===c?a.declTNode:1===c?s[6]:null}function Kr(s){return function uu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const g=c.length;let m=0;for(;m<g;){const E=c[m];if(bs(E))break;if(0===E)m+=2;else if("number"==typeof E)for(m++;m<g&&"string"==typeof c[m];)m++;else{if(E===a)return c[m+1];m+=2}}}return null}(gt(),s)}const nc="__parameters__";function yl(s,a,c){return Ce(()=>{const g=function rc(s){return function(...c){if(s){const g=s(...c);for(const m in g)this[m]=g[m]}}}(a);function m(...E){if(this instanceof m)return g.apply(this,E),this;const A=new m(...E);return F.annotation=A,F;function F(G,Q,ue){const Re=G.hasOwnProperty(nc)?G[nc]:Object.defineProperty(G,nc,{value:[]})[nc];for(;Re.length<=ue;)Re.push(null);return(Re[ue]=Re[ue]||[]).push(A),G}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class ji{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=bn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function S(s,a){s.forEach(c=>Array.isArray(c)?S(c,a):a(c))}function V(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function J(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function re(s,a){const c=[];for(let g=0;g<s;g++)c.push(a);return c}function Pn(s,a,c){let g=Ki(s,a);return g>=0?s[1|g]=c:(g=~g,function Jt(s,a,c,g){let m=s.length;if(m==a)s.push(c,g);else if(1===m)s.push(g,s[0]),s[0]=c;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=c,s[a+1]=g}}(s,g,a,c)),g}function hi(s,a){const c=Ki(s,a);if(c>=0)return s[1|c]}function Ki(s,a){return function qs(s,a,c){let g=0,m=s.length>>c;for(;m!==g;){const E=g+(m-g>>1),A=s[E<<c];if(a===A)return E<<c;A>a?m=E:g=E+1}return~(m<<c)}(s,a,1)}const Le=Mr(yl("Inject",s=>({token:s})),-1),tt=Mr(yl("Optional"),8),en=Mr(yl("SkipSelf"),4);var El=(()=>((El=El||{})[El.Important=1]="Important",El[El.DashCase=2]="DashCase",El))();const vd=/^>|^->|<!--|-->|--!>|<!-$/g,dg=/(<|>)/;const da=new Map;let yd=0;const uc="__ngContext__";function ha(s,a){$i(a)?(s[uc]=a[20],function ta(s){da.set(s[20],s)}(a)):s[uc]=a}let mt;function qe(s,a){return mt(s,a)}function nr(s){const a=s[3];return ds(a)?a[3]:a}function Yn(s){return Vn(s[13])}function qa(s){return Vn(s[4])}function Vn(s){for(;null!==s&&!ds(s);)s=s[4];return s}function Pt(s,a,c,g,m){if(null!=g){let E,A=!1;ds(g)?E=g:$i(g)&&(A=!0,g=g[0]);const F=Ii(g);0===s&&null!==c?null==m?Bi(a,c,F):cc(a,c,F,m||null,!0):1===s&&null!==c?cc(a,c,F,m||null,!0):2===s?pg(a,F,A):3===s&&a.destroyNode(F),null!=E&&function jh(s,a,c,g,m){const E=c[7];E!==Ii(c)&&Pt(a,s,g,E,m);for(let F=10;F<c.length;F++){const G=c[F];La(G[1],G,s,a,g,E)}}(a,s,E,c,m)}}function sn(s,a){return s.createText(a)}function Ro(s,a,c){s.setValue(a,c)}function fu(s,a){return s.createComment(function Ul(s){return s.replace(vd,a=>a.replace(dg,"\u200b$1\u200b"))}(a))}function qd(s,a,c){return s.createElement(a,c)}function $l(s,a){const c=s[9],g=c.indexOf(a),m=a[3];512&a[2]&&(a[2]&=-513,zo(m,-1)),c.splice(g,1)}function pm(s,a){if(s.length<=10)return;const c=10+a,g=s[c];if(g){const m=g[17];null!==m&&m!==s&&$l(m,g),a>0&&(s[c-1][4]=g[4]);const E=J(s,10+a);!function lp(s,a){La(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(g[1],g);const A=E[19];null!==A&&A.detachView(E[1]),g[3]=null,g[4]=null,g[2]&=-65}return g}function hg(s,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&La(s,a,c,3,null,null),function cp(s){let a=s[13];if(!a)return Zr(s[1],s);for(;a;){let c=null;if($i(a))c=a[13];else{const g=a[10];g&&(c=g)}if(!c){for(;a&&!a[4]&&a!==s;)$i(a)&&Zr(a[1],a),a=a[3];null===a&&(a=s),$i(a)&&Zr(a[1],a),c=a&&a[4]}a=c}}(a)}}function Zr(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function fg(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let g=0;g<c.length;g+=2){const m=a[c[g]];if(!(m instanceof Vt)){const E=c[g+1];if(Array.isArray(E))for(let A=0;A<E.length;A+=2){const F=m[E[A]],G=E[A+1];try{G.call(F)}finally{}}else try{E.call(m)}finally{}}}}(s,a),function Hl(s,a){const c=s.cleanup,g=a[7];let m=-1;if(null!==c)for(let E=0;E<c.length-1;E+=2)if("string"==typeof c[E]){const A=c[E+3];A>=0?g[m=A]():g[m=-A].unsubscribe(),E+=2}else{const A=g[m=c[E+1]];c[E].call(A)}if(null!==g){for(let E=m+1;E<g.length;E++)(0,g[E])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&ds(a[3])){c!==a[3]&&$l(c,a);const g=a[19];null!==g&&g.detachView(s)}!function dr(s){da.delete(s[20])}(a)}}function bo(s,a,c){return Cn(s,a.parent,c)}function Cn(s,a,c){let g=a;for(;null!==g&&40&g.type;)g=(a=g).parent;if(null===g)return c[0];{const{componentOffset:m}=g;if(m>-1){const{encapsulation:E}=s.data[g.directiveStart+m];if(E===Zt.None||E===Zt.Emulated)return null}return qi(g,c)}}function cc(s,a,c,g,m){s.insertBefore(a,c,g,m)}function Bi(s,a,c){s.appendChild(a,c)}function Fa(s,a,c,g,m){null!==g?cc(s,a,c,g,m):Bi(s,a,c)}function bd(s,a){return s.parentNode(a)}function wd(s,a,c){return dc(s,a,c)}function Af(s,a,c){return 40&s.type?qi(s,c):null}let Td,Mf,fp,hc,dc=Af;function Hh(s,a){dc=s,Td=a}function Cd(s,a,c,g){const m=bo(s,g,a),E=a[11],F=wd(g.parent||a[6],g,a);if(null!=m)if(Array.isArray(c))for(let G=0;G<c.length;G++)Fa(E,m,c[G],F,!1);else Fa(E,m,c,F,!1);void 0!==Td&&Td(E,g,a,c,m)}function Zd(s,a){if(null!==a){const c=a.type;if(3&c)return qi(a,s);if(4&c)return Gh(-1,s[a.index]);if(8&c){const g=a.child;if(null!==g)return Zd(s,g);{const m=s[a.index];return ds(m)?Gh(-1,m):Ii(m)}}if(32&c)return qe(a,s)()||Ii(s[a.index]);{const g=Hu(s,a);return null!==g?Array.isArray(g)?g[0]:Zd(nr(s[16]),g):Zd(s,a.next)}}return null}function Hu(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Gh(s,a){const c=10+s+1;if(c<a.length){const g=a[c],m=g[1].firstChild;if(null!==m)return Zd(g,m)}return a[7]}function pg(s,a,c){const g=bd(s,a);g&&function fa(s,a,c,g){s.removeChild(a,c,g)}(s,g,a,c)}function hp(s,a,c,g,m,E,A){for(;null!=c;){const F=g[c.index],G=c.type;if(A&&0===a&&(F&&ha(Ii(F),g),c.flags|=2),32!=(32&c.flags))if(8&G)hp(s,a,c.child,g,m,E,!1),Pt(a,s,m,F,E);else if(32&G){const Q=qe(c,g);let ue;for(;ue=Q();)Pt(a,s,m,ue,E);Pt(a,s,m,F,E)}else 16&G?Rt(s,a,g,c,m,E):Pt(a,s,m,F,E);c=A?c.projectionNext:c.next}}function La(s,a,c,g,m,E){hp(c,g,s.firstChild,a,m,E,!1)}function Rt(s,a,c,g,m,E){const A=c[16],G=A[6].projection[g.projection];if(Array.isArray(G))for(let Q=0;Q<G.length;Q++)Pt(a,s,m,G[Q],E);else hp(s,a,G,A[3],m,E,!0)}function xf(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function xu(s,a,c){const{mergedAttrs:g,classes:m,styles:E}=c;null!==g&&Lo(s,a,g),null!==m&&xf(s,a,m),null!==E&&function gm(s,a,c){s.setAttribute(a,"style",c)}(s,a,E)}function Tc(s){return function Mu(){if(void 0===Mf&&(Mf=null,xt.trustedTypes))try{Mf=xt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Mf}()?.createHTML(s)||s}function wl(s){fp=s}function _m(s){return function pp(){if(void 0===hc&&(hc=null,xt.trustedTypes))try{hc=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return hc}()?.createScriptURL(s)||s}class vm{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}function gu(s){return s instanceof vm?s.changingThisBreaksApplicationSecurity:s}function ga(s,a){const c=function jc(s){return s instanceof vm&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${ct})`)}return c===a}class Em{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Tc(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Rf{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const g=this.inertDocument.createElement("body");c.appendChild(g)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Tc(a),c;const g=this.inertDocument.createElement("body");return g.innerHTML=Tc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(a){const c=a.attributes;for(let m=c.length-1;0<m;m--){const A=c.item(m).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&a.removeAttribute(A)}let g=a.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const Qd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Pf(s){return(s=String(s)).match(Qd)?s:"unsafe:"+s}function Tl(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function Wc(...s){const a={};for(const c of s)for(const g in c)c.hasOwnProperty(g)&&(a[g]=!0);return a}const mg=Tl("area,br,col,hr,img,wbr"),Xd=Tl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eh=Tl("rp,rt"),_p=Wc(mg,Wc(Xd,Tl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wc(eh,Tl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wc(eh,Xd)),th=Tl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qc=Wc(th,Tl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var na=(()=>((na=na||{})[na.NONE=0]="NONE",na[na.HTML=1]="HTML",na[na.STYLE=2]="STYLE",na[na.SCRIPT=3]="SCRIPT",na[na.URL=4]="URL",na[na.RESOURCE_URL=5]="RESOURCE_URL",na))();function ty(s){const a=ss();return a?a.sanitize(na.URL,s)||"":ga(s,"URL")?gu(s):Pf(st(s))}function yp(s){const a=ss();if(a)return _m(a.sanitize(na.RESOURCE_URL,s)||"");if(ga(s,"ResourceURL"))return _m(gu(s));throw new Ye(904,!1)}function O_(s,a,c){return function ny(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?yp:ty}(a,c)(s)}function ss(){const s=B();return s&&s[12]}const Zc=new ji("ENVIRONMENT_INITIALIZER"),mu=new ji("INJECTOR",-1),Zs=new ji("INJECTOR_DEF_TYPES");class Kh{get(a,c=Wn){if(c===Wn){const g=new Error(`NullInjectorError: No provider for ${ge(a)}!`);throw g.name="NullInjectorError",g}return c}}function Ia(s){return{\u0275providers:s}}function Ka(...s){return{\u0275providers:Za(0,s),\u0275fromNgModule:!0}}function Za(s,...a){const c=[],g=new Set;let m;return S(a,E=>{const A=E;As(A,c,[],g)&&(m||(m=[]),m.push(A))}),void 0!==m&&Lf(m,c),c}function Lf(s,a){for(let c=0;c<s.length;c++){const{providers:m}=s[c];xi(m,E=>{a.push(E)})}}function As(s,a,c,g){if(!(s=Ne(s)))return!1;let m=null,E=Cr(s);const A=!E&&Xr(s);if(E||A){if(A&&!A.standalone)return!1;m=s}else{const G=s.ngModule;if(E=Cr(G),!E)return!1;m=G}const F=g.has(m);if(A){if(F)return!1;if(g.add(m),A.dependencies){const G="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const Q of G)As(Q,a,c,g)}}else{if(!E)return!1;{if(null!=E.imports&&!F){let Q;g.add(m);try{S(E.imports,ue=>{As(ue,a,c,g)&&(Q||(Q=[]),Q.push(ue))})}finally{}void 0!==Q&&Lf(Q,a)}if(!F){const Q=Hs(m)||(()=>new m);a.push({provide:m,useFactory:Q,deps:$e},{provide:Zs,useValue:m,multi:!0},{provide:Zc,useValue:()=>rn(m),multi:!0})}const G=E.providers;null==G||F||xi(G,ue=>{a.push(ue)})}}return m!==s&&void 0!==s.providers}function xi(s,a){for(let c of s)Je(c)&&(c=c.\u0275providers),Array.isArray(c)?xi(c,a):a(c)}const Bf=Me({provide:String,useValue:Me});function $o(s){return null!==s&&"object"==typeof s&&Bf in s}function Yc(s){return"function"==typeof s}const Gl=new ji("Set Injector scope."),Yh={},Vf={};let yg;function Uf(){return void 0===yg&&(yg=new Kh),yg}class Jc{}class Eg extends Jc{get destroyed(){return this._destroyed}constructor(a,c,g,m){super(),this.parent=c,this.source=g,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ep(a,A=>this.processProvider(A)),this.records.set(mu,Qc(void 0,this)),m.has("environment")&&this.records.set(Jc,Qc(void 0,this));const E=this.records.get(Gl);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(Zs.multi,$e,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=ls(this),g=Ri(void 0);try{return a()}finally{ls(c),Ri(g)}}get(a,c=Wn,g=mn.Default){this.assertNotDestroyed(),g=Kn(g);const m=ls(this),E=Ri(void 0);try{if(!(g&mn.SkipSelf)){let F=this.records.get(a);if(void 0===F){const G=function rh(s){return"function"==typeof s||"object"==typeof s&&s instanceof ji}(a)&&br(a);F=G&&this.injectableDefInScope(G)?Qc(Id(a),Yh):null,this.records.set(a,F)}if(null!=F)return this.hydrate(a,F)}return(g&mn.Self?Uf():this.parent).get(a,c=g&mn.Optional&&c===Wn?null:c)}catch(A){if("NullInjectorError"===A.name){if((A[es]=A[es]||[]).unshift(ge(a)),m)throw A;return function Ae(s,a,c,g){const m=s[es];throw a[ys]&&m.unshift(a[ys]),s.message=function je(s,a,c,g=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=ge(a);if(Array.isArray(a))m=a.map(ge).join(" -> ");else if("object"==typeof a){let E=[];for(let A in a)if(a.hasOwnProperty(A)){let F=a[A];E.push(A+":"+("string"==typeof F?JSON.stringify(F):ge(F)))}m=`{${E.join(", ")}}`}return`${c}${g?"("+g+")":""}[${m}]: ${s.replace(us,"\n  ")}`}("\n"+s.message,m,c,g),s.ngTokenPath=m,s[es]=null,s}(A,a,"R3InjectorError",this.source)}throw A}finally{Ri(E),ls(m)}}resolveInjectorInitializers(){const a=ls(this),c=Ri(void 0);try{const g=this.get(Zc.multi,$e,mn.Self);for(const m of g)m()}finally{ls(a),Ri(c)}}toString(){const a=[],c=this.records;for(const g of c.keys())a.push(ge(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(a){let c=Yc(a=Ne(a))?a:Ne(a&&a.provide);const g=function Dm(s){return $o(s)?Qc(void 0,s.useValue):Qc(Jh(s),Yh)}(a);if(Yc(a)||!0!==a.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=Qc(void 0,Yh,!0),m.factory=()=>Ht(m.multi),this.records.set(c,m)),c=a,m.multi.push(a)}this.records.set(c,g)}hydrate(a,c){return c.value===Yh&&(c.value=Vf,c.value=c.factory()),"object"==typeof c.value&&c.value&&function bg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Ne(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Id(s){const a=br(s),c=null!==a?a.factory:Hs(s);if(null!==c)return c;if(s instanceof ji)throw new Ye(204,!1);if(s instanceof Function)return function Gu(s){const a=s.length;if(a>0)throw re(a,"?"),new Ye(204,!1);const c=function Jr(s){const a=s&&(s[vi]||s[er]);if(a){const c=function Gr(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ye(204,!1)}function Jh(s,a,c){let g;if(Yc(s)){const m=Ne(s);return Hs(m)||Id(m)}if($o(s))g=()=>Ne(s.useValue);else if(function Zh(s){return!(!s||!s.useFactory)}(s))g=()=>s.useFactory(...Ht(s.deps||[]));else if(function Nu(s){return!(!s||!s.useExisting)}(s))g=()=>rn(Ne(s.useExisting));else{const m=Ne(s&&(s.useClass||s.provide));if(!function Mi(s){return!!s.deps}(s))return Hs(m)||Id(m);g=()=>new m(...Ht(s.deps))}return g}function Qc(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Ep(s,a){for(const c of s)Array.isArray(c)?Ep(c,a):c&&Je(c)?Ep(c.\u0275providers,a):a(c)}class bp{}class wp{}class wg{resolveComponentFactory(a){throw function Tp(s){const a=Error(`No component factory found for ${ge(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Ad=(()=>{class s{}return s.NULL=new wg,s})();function P_(){return Qh(gt(),B())}function Qh(s,a){return new ju(qi(s,a))}let ju=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=P_,s})();function xd(s){return s instanceof ju?s.nativeElement:s}class Tg{}let Ya=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function $f(){const s=B(),c=Ai(gt().index,s);return($i(c)?c:s)[11]}(),s})(),Hf=(()=>{class s{}return s.\u0275prov=bn({token:s,providedIn:"root",factory:()=>null}),s})();class Im{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Am=new Im("15.1.1"),Xh={};function wo(s){return s.ngOriginalError}class fc{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&wo(a);for(;c&&wo(c);)c=wo(c);return c||null}}function pc(s){return s instanceof Function?s():s}function os(s,a,c){let g=s.length;for(;;){const m=s.indexOf(a,c);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const E=a.length;if(m+E===g||s.charCodeAt(m+E)<=32)return m}c=m+1}}const Ig="ng-template";function V_(s,a,c){let g=0;for(;g<s.length;){let m=s[g++];if(c&&"class"===m){if(m=s[g],-1!==os(m.toLowerCase(),a,0))return!0}else if(1===m){for(;g<s.length&&"string"==typeof(m=s[g++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function Xc(s){return 4===s.type&&s.value!==Ig}function b0(s,a,c){return a===(4!==s.type||c?s.value:Ig)}function Cl(s,a,c){let g=4;const m=s.attrs||[],E=function Mm(s){for(let a=0;a<s.length;a++)if(bs(s[a]))return a;return s.length}(m);let A=!1;for(let F=0;F<a.length;F++){const G=a[F];if("number"!=typeof G){if(!A)if(4&g){if(g=2|1&g,""!==G&&!b0(s,G,c)||""===G&&1===a.length){if(Sc(g))return!1;A=!0}}else{const Q=8&g?G:a[++F];if(8&g&&null!==s.attrs){if(!V_(s.attrs,Q,c)){if(Sc(g))return!1;A=!0}continue}const Re=ih(8&g?"class":G,m,Xc(s),c);if(-1===Re){if(Sc(g))return!1;A=!0;continue}if(""!==Q){let et;et=Re>E?"":m[Re+1].toLowerCase();const St=8&g?et:null;if(St&&-1!==os(St,Q,0)||2&g&&Q!==et){if(Sc(g))return!1;A=!0}}}}else{if(!A&&!Sc(g)&&!Sc(G))return!1;if(A&&Sc(G))continue;A=!1,g=G|1&g}}return Sc(g)||A}function Sc(s){return 0==(1&s)}function ih(s,a,c,g){if(null===a)return-1;let m=0;if(g||!c){let E=!1;for(;m<a.length;){const A=a[m];if(A===s)return m;if(3===A||6===A)E=!0;else{if(1===A||2===A){let F=a[++m];for(;"string"==typeof F;)F=a[++m];continue}if(4===A)break;if(0===A){m+=4;continue}}m+=E?1:2}return-1}return function sh(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const g=s[c];if("number"==typeof g)return-1;if(g===a)return c;c++}return-1}(a,s)}function Ag(s,a,c=!1){for(let g=0;g<a.length;g++)if(Cl(s,a[g],c))return!0;return!1}function oy(s,a){e:for(let c=0;c<a.length;c++){const g=a[c];if(s.length===g.length){for(let m=0;m<s.length;m++)if(s[m]!==g[m])continue e;return!0}}return!1}function Nm(s,a){return s?":not("+a.trim()+")":a}function bi(s){let a=s[0],c=1,g=2,m="",E=!1;for(;c<s.length;){let A=s[c];if("string"==typeof A)if(2&g){const F=s[++c];m+="["+A+(F.length>0?'="'+F+'"':"")+"]"}else 8&g?m+="."+A:4&g&&(m+=" "+A);else""!==m&&!Sc(A)&&(a+=Nm(E,m),m=""),g=A,E=E||!Sc(g);c++}return""!==m&&(a+=Nm(E,m)),a}const ri={};function Nd(s){oh(j(),B(),Vr()+s,!1)}function oh(s,a,c,g){if(!g)if(3==(3&a[2])){const E=s.preOrderCheckHooks;null!==E&&U(a,E,c)}else{const E=s.preOrderHooks;null!==E&&X(a,E,0,c)}Ao(c)}function H_(s,a=null,c=null,g){const m=nf(s,a,c,g);return m.resolveInjectorInitializers(),m}function nf(s,a=null,c=null,g,m=new Set){const E=[c||$e,Ka(s)];return g=g||("object"==typeof s?void 0:ge(s)),new Eg(E,a||Uf(),g||null,m)}let ah=(()=>{class s{static create(c,g){if(Array.isArray(c))return H_({name:""},g,c,"");{const m=c.name??"";return H_({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=Wn,s.NULL=new Kh,s.\u0275prov=bn({token:s,providedIn:"any",factory:()=>rn(mu)}),s.__NG_ELEMENT_ID__=-1,s})();function af(s,a=mn.Default){const c=B();return null===c?rn(s,a):Ws(gt(),c,Ne(s),a)}function Og(){throw new Error("invalid")}function Lm(s,a){const c=s.contentQueries;if(null!==c)for(let g=0;g<c.length;g+=2){const E=c[g+1];if(-1!==E){const A=s.data[E];su(c[g]),A.contentQueries(2,a[E],E)}}}function Pg(s,a,c,g,m,E,A,F,G,Q,ue){const Re=a.blueprint.slice();return Re[0]=m,Re[2]=76|g,(null!==ue||s&&1024&s[2])&&(Re[2]|=1024),tu(Re),Re[3]=Re[15]=s,Re[8]=c,Re[10]=A||s&&s[10],Re[11]=F||s&&s[11],Re[12]=G||s&&s[12]||null,Re[9]=Q||s&&s[9]||null,Re[6]=E,Re[20]=function Hc(){return yd++}(),Re[21]=ue,Re[16]=2==a.type?s[16]:Re,Re}function uf(s,a,c,g,m){let E=s.data[a];if(null===E)E=lf(s,a,c,g,m),function Ec(){return Fr.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=c,E.value=g,E.attrs=m;const A=ti();E.injectorIndex=null===A?-1:A.injectorIndex}return gs(E,!0),E}function lf(s,a,c,g,m){const E=Bn(),A=wa(),G=s.data[a]=function nd(s,a,c,g,m,E){return{type:c,index:g,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?E:E&&E.parent,c,a,g,m);return null===s.firstChild&&(s.firstChild=G),null!==E&&(A?null==E.child&&null!==G.parent&&(E.child=G):null===E.next&&(E.next=G)),G}function cf(s,a,c,g){if(0===c)return-1;const m=a.length;for(let E=0;E<c;E++)a.push(g),s.blueprint.push(g),s.data.push(null);return m}function Vm(s,a,c){Uu(a);try{const g=s.viewQuery;null!==g&&Fp(1,g,c);const m=s.template;null!==m&&Mp(s,a,m,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Lm(s,a),s.staticViewQueries&&Fp(2,s.viewQuery,c);const E=s.components;null!==E&&function Bm(s,a){for(let c=0;c<a.length;c++)hy(s,a[c])}(a,E)}catch(g){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),g}finally{a[2]&=-5,Lr()}}function xp(s,a,c,g){const m=a[2];if(128!=(128&m)){Uu(a);try{tu(a),function _o(s){return Fr.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Mp(s,a,c,2,g);const A=3==(3&m);if(A){const Q=s.preOrderCheckHooks;null!==Q&&U(a,Q,null)}else{const Q=s.preOrderHooks;null!==Q&&X(a,Q,0,null),W(a,0)}if(function Go(s){for(let a=Yn(s);null!==a;a=qa(a)){if(!a[2])continue;const c=a[9];for(let g=0;g<c.length;g++){const m=c[g];512&m[2]||zo(m[3],1),m[2]|=512}}}(a),function dh(s){for(let a=Yn(s);null!==a;a=qa(a))for(let c=10;c<a.length;c++){const g=a[c],m=g[1];go(g)&&xp(m,g,m.template,g[8])}}(a),null!==s.contentQueries&&Lm(s,a),A){const Q=s.contentCheckHooks;null!==Q&&U(a,Q)}else{const Q=s.contentHooks;null!==Q&&X(a,Q,1),W(a,1)}!function Mc(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let g=0;g<c.length;g++){const m=c[g];if(m<0)Ao(~m);else{const E=m,A=c[++g],F=c[++g];Bu(A,E),F(2,a[E])}}}finally{Ao(-1)}}(s,a);const F=s.components;null!==F&&function Rg(s,a){for(let c=0;c<a.length;c++)Il(s,a[c])}(a,F);const G=s.viewQuery;if(null!==G&&Fp(2,G,g),A){const Q=s.viewCheckHooks;null!==Q&&U(a,Q)}else{const Q=s.viewHooks;null!==Q&&X(a,Q,2),W(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,zo(a[3],-1))}finally{Lr()}}}function Mp(s,a,c,g,m){const E=Vr(),A=2&g;try{Ao(-1),A&&a.length>22&&oh(s,a,22,!1),c(g,m)}finally{Ao(E)}}function ra(s,a,c){if(Qe(a)){const m=a.directiveEnd;for(let E=a.directiveStart;E<m;E++){const A=s.data[E];A.contentQueries&&A.contentQueries(1,c[E],E)}}}function lh(s,a,c){Qu()&&(function Lg(s,a,c,g){const m=c.directiveStart,E=c.directiveEnd;Pe(c)&&function X_(s,a,c){const g=qi(a,s),m=Z_(c),E=s[10],A=kp(s,Pg(s,m,null,c.onPush?32:16,g,a,E,E.createRenderer(g,c),null,null,null));s[a.index]=A}(a,c,s.data[m+c.componentOffset]),s.firstCreatePass||yo(c,a),ha(g,a);const A=c.initialInputs;for(let F=m;F<E;F++){const G=s.data[F],Q=la(a,s,F,c);ha(Q,a),null!==A&&Rp(0,F-m,Q,G,0,A),Ci(G)&&(Ai(c.index,a)[8]=la(a,s,F,c))}}(s,a,c,qi(c,a)),64==(64&c.flags)&&Np(s,a,c))}function kg(s,a,c=qi){const g=a.localNames;if(null!==g){let m=a.index+1;for(let E=0;E<g.length;E+=2){const A=g[E+1],F=-1===A?c(a,s):s[A];s[m++]=F}}}function Z_(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Um(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Um(s,a,c,g,m,E,A,F,G,Q){const ue=22+g,Re=ue+m,et=function cy(s,a){const c=[];for(let g=0;g<a;g++)c.push(g<s?null:ri);return c}(ue,Re),St="function"==typeof Q?Q():Q;return et[1]={type:s,blueprint:et,template:c,queries:null,viewQuery:F,declTNode:a,data:et.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:G,consts:St,incompleteFirstPass:!1}}function $m(s,a,c,g){const m=Km(a);null===c?m.push(g):(m.push(c),s.firstCreatePass&&ev(s).push(g,m.length-1))}function Ni(s,a,c,g){for(let m in s)if(s.hasOwnProperty(m)){c=null===c?{}:c;const E=s[m];null===g?Fg(c,a,m,E):g.hasOwnProperty(m)&&Fg(c,a,g[m],E)}return c}function Fg(s,a,c,g){s.hasOwnProperty(c)?s[c].push(a,g):s[c]=[a,g]}function hl(s,a,c,g,m,E,A,F){const G=qi(a,c);let ue,Q=a.inputs;!F&&null!=Q&&(ue=Q[g])?(Lp(s,c,ue,g,m),Pe(a)&&ii(c,a.index)):3&a.type&&(g=function Y_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(g),m=null!=A?A(m,a.value||"",g):m,E.setProperty(G,g,m))}function ii(s,a){const c=Ai(a,s);16&c[2]||(c[2]|=32)}function rd(s,a,c,g){let m=!1;if(Qu()){const E=null===g?null:{"":-1},A=function ch(s,a){const c=s.directiveRegistry;let g=null,m=null;if(c)for(let E=0;E<c.length;E++){const A=c[E];if(Ag(a,A.selectors,!1))if(g||(g=[]),Ci(A))if(null!==A.findHostDirectiveDefs){const F=[];m=m||new Map,A.findHostDirectiveDefs(A,F,m),g.unshift(...F,A),Pd(s,a,F.length)}else g.unshift(A),Pd(s,a,0);else m=m||new Map,A.findHostDirectiveDefs?.(A,g,m),g.push(A)}return null===g?null:[g,m]}(s,c);let F,G;null===A?F=G=null:[F,G]=A,null!==F&&(m=!0,Rd(s,a,c,F,E,G)),E&&function df(s,a,c){if(a){const g=s.localNames=[];for(let m=0;m<a.length;m+=2){const E=c[a[m+1]];if(null==E)throw new Ye(-301,!1);g.push(a[m],E)}}}(c,g,E)}return c.mergedAttrs=Vs(c.mergedAttrs,c.attrs),m}function Rd(s,a,c,g,m,E){for(let Q=0;Q<g.length;Q++)Du(yo(c,a),s,g[Q].type);!function Wm(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,g.length);for(let Q=0;Q<g.length;Q++){const ue=g[Q];ue.providersResolver&&ue.providersResolver(ue)}let A=!1,F=!1,G=cf(s,a,g.length,null);for(let Q=0;Q<g.length;Q++){const ue=g[Q];c.mergedAttrs=Vs(c.mergedAttrs,ue.hostAttrs),zm(s,c,a,G,ue),jm(G,ue,m),null!==ue.contentQueries&&(c.flags|=4),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(c.flags|=64);const Re=ue.type.prototype;!A&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),A=!0),!F&&(Re.ngOnChanges||Re.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),F=!0),G++}!function jl(s,a,c){const m=a.directiveEnd,E=s.data,A=a.attrs,F=[];let G=null,Q=null;for(let ue=a.directiveStart;ue<m;ue++){const Re=E[ue],et=c?c.get(Re):null,Xt=et?et.outputs:null;G=Ni(Re.inputs,ue,G,et?et.inputs:null),Q=Ni(Re.outputs,ue,Q,Xt);const Mn=null===G||null===A||Xc(a)?null:qm(G,ue,A);F.push(Mn)}null!==G&&(G.hasOwnProperty("class")&&(a.flags|=8),G.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=F,a.inputs=G,a.outputs=Q}(s,c,E)}function Np(s,a,c){const g=c.directiveStart,m=c.directiveEnd,E=c.index,A=function aa(){return Fr.lFrame.currentDirectiveIndex}();try{Ao(E);for(let F=g;F<m;F++){const G=s.data[F],Q=a[F];$a(F),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&Sl(G,Q)}}finally{Ao(-1),$a(A)}}function Sl(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Pd(s,a,c){a.componentOffset=c,(s.components||(s.components=[])).push(a.index)}function jm(s,a,c){if(c){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)c[a.exportAs[g]]=s;Ci(a)&&(c[""]=s)}}function zm(s,a,c,g,m){s.data[g]=m;const E=m.factory||(m.factory=Hs(m.type)),A=new Vt(E,Ci(m),af);s.blueprint[g]=A,c[g]=A,function J_(s,a,c,g,m){const E=m.hostBindings;if(E){let A=s.hostBindingOpCodes;null===A&&(A=s.hostBindingOpCodes=[]);const F=~a.index;(function Q_(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(A)!=F&&A.push(F),A.push(c,g,E)}}(s,a,g,cf(s,c,m.hostVars,ri),m)}function Op(s,a,c,g,m,E,A){if(null==E)s.removeAttribute(a,m,c);else{const F=null==A?st(E):A(E,g||"",m);s.setAttribute(a,m,F,c)}}function Rp(s,a,c,g,m,E){const A=E[a];if(null!==A){const F=g.setInput;for(let G=0;G<A.length;){const Q=A[G++],ue=A[G++],Re=A[G++];null!==F?g.setInput(c,Re,Q,ue):c[ue]=Re}}}function qm(s,a,c){let g=null,m=0;for(;m<c.length;){const E=c[m];if(0!==E)if(5!==E){if("number"==typeof E)break;if(s.hasOwnProperty(E)){null===g&&(g=[]);const A=s[E];for(let F=0;F<A.length;F+=2)if(A[F]===a){g.push(E,A[F+1],c[m+1]);break}}m+=2}else m+=2;else m+=4}return g}function id(s,a,c,g){return[s,!0,!1,a,null,0,g,c,null,null]}function Il(s,a){const c=Ai(a,s);if(go(c)){const g=c[1];48&c[2]?xp(g,c,g.template,c[8]):c[5]>0&&Pp(c)}}function Pp(s){for(let g=Yn(s);null!==g;g=qa(g))for(let m=10;m<g.length;m++){const E=g[m];if(go(E))if(512&E[2]){const A=E[1];xp(A,E,A.template,E[8])}else E[5]>0&&Pp(E)}const c=s[1].components;if(null!==c)for(let g=0;g<c.length;g++){const m=Ai(c[g],s);go(m)&&m[5]>0&&Pp(m)}}function hy(s,a){const c=Ai(a,s),g=c[1];(function fy(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(g,c),Vm(g,c,c[8])}function kp(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function hh(s){for(;s;){s[2]|=32;const a=nr(s);if(To(s)&&!a)return s;s=a}return null}function zl(s,a,c,g=!0){const m=a[10];m.begin&&m.begin();try{xp(s,a,s.template,c)}catch(A){throw g&&ph(a,A),A}finally{m.end&&m.end()}}function Fp(s,a,c){su(0),a(s,c)}function Km(s){return s[7]||(s[7]=[])}function ev(s){return s.cleanup||(s.cleanup=[])}function ph(s,a){const c=s[9],g=c?c.get(fc,null):null;g&&g.handleError(a)}function Lp(s,a,c,g,m){for(let E=0;E<c.length;){const A=c[E++],F=c[E++],G=a[A],Q=s.data[A];null!==Q.setInput?Q.setInput(G,m,g,F):G[F]=m}}function Nc(s,a,c){const g=ns(a,s);Ro(s[11],g,c)}function jf(s,a,c){let g=c?s.styles:null,m=c?s.classes:null,E=0;if(null!==a)for(let A=0;A<a.length;A++){const F=a[A];"number"==typeof F?E=F:1==E?m=Ee(m,F):2==E&&(g=Ee(g,F+": "+a[++A]+";"))}c?s.styles=g:s.stylesWithoutHost=g,c?s.classes=m:s.classesWithoutHost=m}function Bp(s,a,c,g,m=!1){for(;null!==c;){const E=a[c.index];if(null!==E&&g.push(Ii(E)),ds(E))for(let F=10;F<E.length;F++){const G=E[F],Q=G[1].firstChild;null!==Q&&Bp(G[1],G,Q,g)}const A=c.type;if(8&A)Bp(s,a,c.child,g);else if(32&A){const F=qe(c,a);let G;for(;G=F();)g.push(G)}else if(16&A){const F=Hu(a,c);if(Array.isArray(F))g.push(...F);else{const G=nr(a[16]);Bp(G[1],G,F,g,!0)}}c=m?c.projectionNext:c.next}return g}class Al{get rootNodes(){const a=this._lView,c=a[1];return Bp(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ds(a)){const c=a[8],g=c?c.indexOf(this):-1;g>-1&&(pm(a,g),J(c,g))}this._attachedToViewContainer=!1}hg(this._lView[1],this._lView)}onDestroy(a){$m(this._lView[1],this._lView,null,a)}markForCheck(){hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $h(s,a){La(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=a}}class py extends Al{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;zl(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Bg extends Ad{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Xr(a);return new sd(c,this.ngModule)}}function Wf(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class nv{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,g){g=Kn(g);const m=this.injector.get(a,Xh,g);return m!==Xh||c===Xh?m:this.parentInjector.get(a,c,g)}}class sd extends wp{get inputs(){return Wf(this.componentDef.inputs)}get outputs(){return Wf(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Cp(s){return s.map(bi).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,g,m){let E=(m=m||this.ngModule)instanceof Jc?m:m?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const A=E?new nv(a,E):a,F=A.get(Tg,null);if(null===F)throw new Ye(407,!1);const G=A.get(Hf,null),Q=F.createRenderer(null,this.componentDef),ue=this.componentDef.selectors[0][0]||"div",Re=g?function dy(s,a,c){return s.selectRootElement(a,c===Zt.ShadowDom)}(Q,g,this.componentDef.encapsulation):qd(Q,ue,function tv(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(ue)),et=this.componentDef.onPush?288:272,St=Um(0,null,null,1,0,null,null,null,null,null),Xt=Pg(null,St,null,et,null,null,F,Q,G,A,null);let Mn,rr;Uu(Xt);try{const Dr=this.componentDef;let ei,vn=null;Dr.findHostDirectiveDefs?(ei=[],vn=new Map,Dr.findHostDirectiveDefs(Dr,ei,vn),ei.push(Dr)):ei=[Dr];const Oi=function Zm(s,a){const c=s[1];return s[22]=a,uf(c,22,2,"#host",null)}(Xt,Re),Va=function rv(s,a,c,g,m,E,A,F){const G=m[1];!function xl(s,a,c,g){for(const m of s)a.mergedAttrs=Vs(a.mergedAttrs,m.hostAttrs);null!==a.mergedAttrs&&(jf(a,a.mergedAttrs,!0),null!==c&&xu(g,c,a))}(g,s,a,A);const Q=E.createRenderer(a,c),ue=Pg(m,Z_(c),null,c.onPush?32:16,m[s.index],s,E,Q,F||null,null,null);return G.firstCreatePass&&Pd(G,s,g.length-1),kp(m,ue),m[s.index]=ue}(Oi,Re,Dr,ei,Xt,F,Q);rr=Wo(St,22),Re&&function Ug(s,a,c,g){if(g)Lo(s,c,["ng-version",Am.full]);else{const{attrs:m,classes:E}=function Dp(s){const a=[],c=[];let g=1,m=2;for(;g<s.length;){let E=s[g];if("string"==typeof E)2===m?""!==E&&a.push(E,s[++g]):8===m&&c.push(E);else{if(!Sc(m))break;m=E}g++}return{attrs:a,classes:c}}(a.selectors[0]);m&&Lo(s,c,m),E&&E.length>0&&xf(s,c,E.join(" "))}}(Q,Dr,Re,g),void 0!==c&&function ff(s,a,c){const g=s.projection=[];for(let m=0;m<a.length;m++){const E=c[m];g.push(null!=E?Array.from(E):null)}}(rr,this.ngContentSelectors,c),Mn=function iv(s,a,c,g,m,E){const A=gt(),F=m[1],G=qi(A,m);Rd(F,m,A,c,null,g);for(let ue=0;ue<c.length;ue++)ha(la(m,F,A.directiveStart+ue,A),m);Np(F,m,A),G&&ha(G,m);const Q=la(m,F,A.directiveStart+A.componentOffset,A);if(s[8]=m[8]=Q,null!==E)for(const ue of E)ue(Q,a);return ra(F,A,s),Q}(Va,Dr,ei,vn,Xt,[$g]),Vm(St,Xt,null)}finally{Lr()}return new zf(this.componentType,Mn,Qh(rr,Xt),Xt,rr)}}class zf extends bp{constructor(a,c,g,m,E){super(),this.location=g,this._rootLView=m,this._tNode=E,this.instance=c,this.hostView=this.changeDetectorRef=new py(m),this.componentType=a}setInput(a,c){const g=this._tNode.inputs;let m;if(null!==g&&(m=g[a])){const E=this._rootLView;Lp(E[1],E,m,a,c),ii(E,this._tNode.index)}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function $g(){const s=gt();gi(B()[1],s)}function kd(s){let a=function od(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const g=[s];for(;a;){let m;if(Ci(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ye(903,!1);m=a.\u0275dir}if(m){if(c){g.push(m);const A=s;A.inputs=Fd(s.inputs),A.declaredInputs=Fd(s.declaredInputs),A.outputs=Fd(s.outputs);const F=m.hostBindings;F&&av(s,F);const G=m.viewQuery,Q=m.contentQueries;if(G&&ov(s,G),Q&&qf(s,Q),Se(s.inputs,m.inputs),Se(s.declaredInputs,m.declaredInputs),Se(s.outputs,m.outputs),Ci(m)&&m.data.animation){const ue=s.data;ue.animation=(ue.animation||[]).concat(m.data.animation)}}const E=m.features;if(E)for(let A=0;A<E.length;A++){const F=E[A];F&&F.ngInherit&&F(s),F===kd&&(c=!1)}}a=Object.getPrototypeOf(a)}!function sv(s){let a=0,c=null;for(let g=s.length-1;g>=0;g--){const m=s[g];m.hostVars=a+=m.hostVars,m.hostAttrs=Vs(m.hostAttrs,c=Vs(c,m.hostAttrs))}}(g)}function Fd(s){return s===Tn?{}:s===$e?[]:s}function ov(s,a){const c=s.viewQuery;s.viewQuery=c?(g,m)=>{a(g,m),c(g,m)}:a}function qf(s,a){const c=s.contentQueries;s.contentQueries=c?(g,m,E)=>{a(g,m,E),c(g,m,E)}:a}function av(s,a){const c=s.hostBindings;s.hostBindings=c?(g,m)=>{a(g,m),c(g,m)}:a}let Vp=null;function ad(){if(!Vp){const s=xt.Symbol;if(s&&s.iterator)Vp=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const g=a[c];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(Vp=g)}}}return Vp}function mc(s){return!!jg(s)&&(Array.isArray(s)||!(s instanceof Map)&&ad()in s)}function jg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Oc(s,a,c){return s[a]=c}function zu(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function jo(s,a,c,g){const m=zu(s,a,c);return zu(s,a+1,g)||m}function zg(s,a,c,g){const m=B();return zu(m,ms(),a)&&(j(),function Wl(s,a,c,g,m,E){const A=qi(s,a);Op(a[11],A,E,s.value,c,g,m)}(Ji(),m,s,a,c,g)),zg}function pf(s,a,c,g){return zu(s,ms(),c)?a+st(c)+g:ri}function ud(s,a,c,g,m,E){const F=jo(s,Bs(),c,m);return Ko(2),F?a+st(c)+g+st(m)+E:ri}function Yf(s,a,c,g,m,E,A,F){const G=B(),Q=j(),ue=s+22,Re=Q.firstCreatePass?function t_(s,a,c,g,m,E,A,F,G){const Q=a.consts,ue=uf(a,s,4,A||null,ao(Q,F));rd(a,c,ue,ao(Q,G)),gi(a,ue);const Re=ue.tViews=Um(2,ue,g,m,E,a.directiveRegistry,a.pipeRegistry,null,a.schemas,Q);return null!==a.queries&&(a.queries.template(a,ue),Re.queries=a.queries.embeddedTView(ue)),ue}(ue,Q,G,a,c,g,m,E,A):Q.data[ue];gs(Re,!1);const et=G[11].createComment("");Cd(Q,G,et,Re),ha(et,G),kp(G,G[ue]=id(et,G,et,Re)),Rl(Re)&&lh(Q,G,Re),null!=A&&kg(G,Re,F)}function fv(s){return tr(function Yi(){return Fr.lFrame.contextLView}(),22+s)}function yh(s,a,c){const g=B();return zu(g,ms(),a)&&hl(j(),Ji(),g,s,a,g[11],c,!1),yh}function Ld(s,a,c,g,m){const A=m?"class":"style";Lp(s,c,a.inputs[A],A,g)}function vf(s,a,c,g){const m=B(),E=j(),A=22+s,F=m[11],G=m[A]=qd(F,a,function tc(){return Fr.lFrame.currentNamespace}()),Q=E.firstCreatePass?function n_(s,a,c,g,m,E,A){const F=a.consts,Q=uf(a,s,2,m,ao(F,E));return rd(a,c,Q,ao(F,A)),null!==Q.attrs&&jf(Q,Q.attrs,!1),null!==Q.mergedAttrs&&jf(Q,Q.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,Q),Q}(A,E,m,0,a,c,g):E.data[A];return gs(Q,!0),xu(F,G,Q),32!=(32&Q.flags)&&Cd(E,m,G,Q),0===function Is(){return Fr.lFrame.elementDepthCount}()&&ha(G,m),function Ma(){Fr.lFrame.elementDepthCount++}(),Rl(Q)&&(lh(E,m,Q),ra(E,Q,m)),null!==g&&kg(m,Q),vf}function Gp(){let s=gt();wa()?js():(s=s.parent,gs(s,!1));const a=s;!function nu(){Fr.lFrame.elementDepthCount--}();const c=j();return c.firstCreatePass&&(gi(c,s),Qe(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ai(s){return 0!=(8&s.flags)}(a)&&Ld(c,a,B(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function rs(s){return 0!=(16&s.flags)}(a)&&Ld(c,a,B(),a.stylesWithoutHost,!1),Gp}function yc(s,a,c,g){return vf(s,a,c,g),Gp(),yc}function Zg(s,a,c){const g=B(),m=j(),E=s+22,A=m.firstCreatePass?function r_(s,a,c,g,m){const E=a.consts,A=ao(E,g),F=uf(a,s,8,"ng-container",A);return null!==A&&jf(F,A,!0),rd(a,c,F,ao(E,m)),null!==a.queries&&a.queries.elementStart(a,F),F}(E,m,g,a,c):m.data[E];gs(A,!0);const F=g[E]=g[11].createComment("");return Cd(m,g,F,A),ha(F,g),Rl(A)&&(lh(m,g,A),ra(m,A,g)),null!=c&&kg(g,A),Zg}function Jf(){let s=gt();const a=j();return wa()?js():(s=s.parent,gs(s,!1)),a.firstCreatePass&&(gi(a,s),Qe(s)&&a.queries.elementEnd(s)),Jf}function jp(){return B()}function Yg(s){return!!s&&"function"==typeof s.then}function i_(s){return!!s&&"function"==typeof s.subscribe}const f=i_;function v(s,a,c,g){const m=B(),E=j(),A=gt();return function te(s,a,c,g,m,E,A){const F=Rl(g),Q=s.firstCreatePass&&ev(s),ue=a[8],Re=Km(a);let et=!0;if(3&g.type||A){const Mn=qi(g,a),rr=A?A(Mn):Mn,Dr=Re.length,ei=A?Oi=>A(Ii(Oi[g.index])):g.index;let vn=null;if(!A&&F&&(vn=function q(s,a,c,g){const m=s.cleanup;if(null!=m)for(let E=0;E<m.length-1;E+=2){const A=m[E];if(A===c&&m[E+1]===g){const F=a[7],G=m[E+2];return F.length>G?F[G]:null}"string"==typeof A&&(E+=2)}return null}(s,a,m,g.index)),null!==vn)(vn.__ngLastListenerFn__||vn).__ngNextListenerFn__=E,vn.__ngLastListenerFn__=E,et=!1;else{E=Ue(g,a,ue,E,!1);const Oi=c.listen(rr,m,E);Re.push(E,Oi),Q&&Q.push(m,ei,Dr,Dr+1)}}else E=Ue(g,a,ue,E,!1);const St=g.outputs;let Xt;if(et&&null!==St&&(Xt=St[m])){const Mn=Xt.length;if(Mn)for(let rr=0;rr<Mn;rr+=2){const Va=a[Xt[rr]][Xt[rr+1]].subscribe(E),ku=Re.length;Re.push(E,Va),Q&&Q.push(m,g.index,ku,-(ku+1))}}}(E,m,m[11],A,s,a,g),v}function ve(s,a,c,g){try{return!1!==c(g)}catch(m){return ph(s,m),!1}}function Ue(s,a,c,g,m){return function E(A){if(A===Function)return g;hh(s.componentOffset>-1?Ai(s.index,a):a);let G=ve(a,0,g,A),Q=E.__ngNextListenerFn__;for(;Q;)G=ve(a,0,Q,A)&&G,Q=Q.__ngNextListenerFn__;return m&&!1===G&&(A.preventDefault(),A.returnValue=!1),G}}function Ke(s=1){return function Gi(s){return(Fr.lFrame.contextLView=function Ms(s,a){for(;s>0;)a=a[15],s--;return a}(s,Fr.lFrame.contextLView))[8]}(s)}function pt(s,a){let c=null;const g=function Ic(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(s);for(let m=0;m<a.length;m++){const E=a[m];if("*"!==E){if(null===g?Ag(s,E,!0):oy(g,E))return m}else c=m}return c}function nn(s){const a=B()[16][6];if(!a.projection){const g=a.projection=re(s?s.length:1,null),m=g.slice();let E=a.child;for(;null!==E;){const A=s?pt(E,s):0;null!==A&&(m[A]?m[A].projectionNext=E:g[A]=E,m[A]=E),E=E.next}}}function on(s,a=0,c){const g=B(),m=j(),E=uf(m,22+s,16,null,c||null);null===E.projection&&(E.projection=a),js(),32!=(32&E.flags)&&function gg(s,a,c){Rt(a[11],0,a,c,bo(s,c,a),wd(c.parent||a[6],c,a))}(m,g,E)}function pn(s,a,c){return Gn(s,"",a,"",c),pn}function Gn(s,a,c,g,m){const E=B(),A=pf(E,a,c,g);return A!==ri&&hl(j(),Ji(),E,s,A,E[11],m,!1),Gn}function Ku(s,a){return s<<17|a<<2}function Us(s){return s>>17&32767}function Eh(s){return 2|s}function bh(s){return(131068&s)>>2}function yf(s,a){return-131069&s|a<<2}function Qf(s){return 1|s}function mv(s,a,c,g,m){const E=s[c+1],A=null===a;let F=g?Us(E):bh(E),G=!1;for(;0!==F&&(!1===G||A);){const ue=s[F+1];wh(s[F],a)&&(G=!0,s[F+1]=g?Qf(ue):Eh(ue)),F=g?Us(ue):bh(ue)}G&&(s[c+1]=g?Eh(E):Qf(E))}function wh(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ki(s,a)>=0}const Ja={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ey(s){return s.substring(Ja.key,Ja.keyEnd)}function _v(s,a){const c=Ja.textEnd;return c===a?-1:(a=Ja.keyEnd=function D0(s,a,c){for(;a<c&&s.charCodeAt(a)>32;)a++;return a}(s,Ja.key=a,c),zp(s,a,c))}function zp(s,a,c){for(;a<c&&s.charCodeAt(a)<=32;)a++;return a}function Jg(s,a,c){return dd(s,a,c,!1),Jg}function Qg(s,a){return dd(s,a,null,!0),Qg}function wy(s){ql(Pn,Th,s,!0)}function Th(s,a){for(let c=function qE(s){return function s_(s){Ja.key=0,Ja.keyEnd=0,Ja.value=0,Ja.valueEnd=0,Ja.textEnd=s.length}(s),_v(s,zp(s,0,Ja.textEnd))}(a);c>=0;c=_v(a,c))Pn(s,Ey(a),!0)}function dd(s,a,c,g){const m=B(),E=j(),A=Ko(2);E.firstUpdatePass&&Ty(E,s,A,g),a!==ri&&zu(m,A,a)&&Zp(E,E.data[Vr()],m,m[11],s,m[A+1]=function Dy(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ge(gu(s)))),s}(a,c),g,A)}function ql(s,a,c,g){const m=j(),E=Ko(2);m.firstUpdatePass&&Ty(m,null,E,g);const A=B();if(c!==ri&&zu(A,E,c)){const F=m.data[Vr()];if(Sy(F,g)&&!Xg(m,E)){let G=g?F.classesWithoutHost:F.stylesWithoutHost;null!==G&&(c=Ee(G,c||"")),Ld(m,F,A,c,g)}else!function I0(s,a,c,g,m,E,A,F){m===ri&&(m=$e);let G=0,Q=0,ue=0<m.length?m[0]:null,Re=0<E.length?E[0]:null;for(;null!==ue||null!==Re;){const et=G<m.length?m[G+1]:void 0,St=Q<E.length?E[Q+1]:void 0;let Mn,Xt=null;ue===Re?(G+=2,Q+=2,et!==St&&(Xt=Re,Mn=St)):null===Re||null!==ue&&ue<Re?(G+=2,Xt=ue):(Q+=2,Xt=Re,Mn=St),null!==Xt&&Zp(s,a,c,g,Xt,Mn,A,F),ue=G<m.length?m[G]:null,Re=Q<E.length?E[Q]:null}}(m,F,A,A[11],A[E+1],A[E+1]=function em(s,a,c){if(null==c||""===c)return $e;const g=[],m=gu(c);if(Array.isArray(m))for(let E=0;E<m.length;E++)s(g,m[E],!0);else if("object"==typeof m)for(const E in m)m.hasOwnProperty(E)&&s(g,E,m[E]);else"string"==typeof m&&a(g,m);return g}(s,a,c),g,E)}}function Xg(s,a){return a>=s.expandoStartIndex}function Ty(s,a,c,g){const m=s.data;if(null===m[c+1]){const E=m[Vr()],A=Xg(s,c);Sy(E,g)&&null===a&&!A&&(a=!1),a=function yv(s,a,c,g){const m=function Vu(s){const a=Fr.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let E=g?a.residualClasses:a.residualStyles;if(null===m)0===(g?a.classBindings:a.styleBindings)&&(c=Kp(c=Bd(null,s,a,c,g),a.attrs,g),E=null);else{const A=a.directiveStylingLast;if(-1===A||s[A]!==m)if(c=Bd(m,s,a,c,g),null===E){let G=function Cy(s,a,c){const g=c?a.classBindings:a.styleBindings;if(0!==bh(g))return s[Us(g)]}(s,a,g);void 0!==G&&Array.isArray(G)&&(G=Bd(null,s,a,G[1],g),G=Kp(G,a.attrs,g),function S0(s,a,c,g){s[Us(c?a.classBindings:a.styleBindings)]=g}(s,a,g,G))}else E=function qp(s,a,c){let g;const m=a.directiveEnd;for(let E=1+a.directiveStylingLast;E<m;E++)g=Kp(g,s[E].hostAttrs,c);return Kp(g,a.attrs,c)}(s,a,g)}return void 0!==E&&(g?a.residualClasses=E:a.residualStyles=E),c}(m,E,a,g),function C0(s,a,c,g,m,E){let A=E?a.classBindings:a.styleBindings,F=Us(A),G=bh(A);s[g]=c;let ue,Q=!1;if(Array.isArray(c)?(ue=c[1],(null===ue||Ki(c,ue)>0)&&(Q=!0)):ue=c,m)if(0!==G){const et=Us(s[F+1]);s[g+1]=Ku(et,F),0!==et&&(s[et+1]=yf(s[et+1],g)),s[F+1]=function ld(s,a){return 131071&s|a<<17}(s[F+1],g)}else s[g+1]=Ku(F,0),0!==F&&(s[F+1]=yf(s[F+1],g)),F=g;else s[g+1]=Ku(G,0),0===F?F=g:s[G+1]=yf(s[G+1],g),G=g;Q&&(s[g+1]=Eh(s[g+1])),mv(s,ue,g,!0),mv(s,ue,g,!1),function yy(s,a,c,g,m){const E=m?s.residualClasses:s.residualStyles;null!=E&&"string"==typeof a&&Ki(E,a)>=0&&(c[g+1]=Qf(c[g+1]))}(a,ue,s,g,E),A=Ku(F,G),E?a.classBindings=A:a.styleBindings=A}(m,E,a,c,A,g)}}function Bd(s,a,c,g,m){let E=null;const A=c.directiveEnd;let F=c.directiveStylingLast;for(-1===F?F=c.directiveStart:F++;F<A&&(E=a[F],g=Kp(g,E.hostAttrs,m),E!==s);)F++;return null!==s&&(c.directiveStylingLast=F),g}function Kp(s,a,c){const g=c?1:2;let m=-1;if(null!==a)for(let E=0;E<a.length;E++){const A=a[E];"number"==typeof A?m=A:m===g&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Pn(s,A,!!c||a[++E]))}return void 0===s?null:s}function Zp(s,a,c,g,m,E,A,F){if(!(3&a.type))return;const G=s.data,Q=G[F+1],ue=function vy(s){return 1==(1&s)}(Q)?A0(G,a,c,m,bh(Q),A):void 0;Ev(ue)||(Ev(E)||function Ou(s){return 2==(2&s)}(Q)&&(E=A0(G,null,c,m,F,A)),function bl(s,a,c,g,m){if(a)m?s.addClass(c,g):s.removeClass(c,g);else{let E=-1===g.indexOf("-")?void 0:El.DashCase;null==m?s.removeStyle(c,g,E):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),E|=El.Important),s.setStyle(c,g,m,E))}}(g,A,ns(Vr(),c),m,E))}function A0(s,a,c,g,m,E){const A=null===a;let F;for(;m>0;){const G=s[m],Q=Array.isArray(G),ue=Q?G[1]:G,Re=null===ue;let et=c[m+1];et===ri&&(et=Re?$e:void 0);let St=Re?hi(et,g):ue===g?et:void 0;if(Q&&!Ev(St)&&(St=hi(G,g)),Ev(St)&&(F=St,A))return F;const Xt=s[m+1];m=A?Us(Xt):bh(Xt)}if(null!==a){let G=E?a.residualClasses:a.residualStyles;null!=G&&(F=hi(G,g))}return F}function Ev(s){return void 0!==s}function Sy(s,a){return 0!=(s.flags&(a?8:16))}function bv(s,a=""){const c=B(),g=j(),m=s+22,E=g.firstCreatePass?uf(g,m,1,a,null):g.data[m],A=c[m]=sn(c[11],a);Cd(g,c,A,E),gs(E,!1)}function wv(s){return Tv("",s,""),wv}function Tv(s,a,c){const g=B(),m=pf(g,s,a,c);return m!==ri&&Nc(g,Vr(),m),Tv}function Iy(s,a,c,g,m){const E=B(),A=ud(E,s,a,c,g,m);return A!==ri&&Nc(E,Vr(),A),Iy}function u_(s,a,c,g,m){ql(Pn,Th,ud(B(),s,a,c,g,m),!0)}function l(s,a,c){const g=B();return zu(g,ms(),a)&&hl(j(),Ji(),g,s,a,g[11],c,!0),l}const y=void 0;var P=["en",[["a","p"],["AM","PM"],y],[["AM","PM"],y,y],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],y,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],y,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",y,"{1} 'at' {0}",y],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function T(s){const c=Math.floor(Math.abs(s)),g=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===g?1:5}];let K={};function ie(s){const a=function pr(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Gt(a);if(c)return c;const g=a.split("-")[0];if(c=Gt(g),c)return c;if("en"===g)return P;throw new Ye(701,!1)}function it(s){return ie(s)[Nt.PluralCase]}function Gt(s){return s in K||(K[s]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[s]),K[s]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const qn=["zero","one","two","few","many"],ur="en-US",Po={marker:"element"},Zu={marker:"ICU"};var no=(()=>((no=no||{})[no.SHIFT=2]="SHIFT",no[no.APPEND_EAGERLY=1]="APPEND_EAGERLY",no[no.COMMENT=2]="COMMENT",no))();let Pc=ur;function xr(s){(function _n(s,a){null==s&&an(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Pc=s.toLowerCase().replace(/_/g,"-"))}function ro(s,a,c){const g=a.insertBeforeIndex,m=Array.isArray(g)?g[0]:g;return null===m?Af(s,0,c):Ii(c[m])}function fl(s,a,c,g,m){const E=a.insertBeforeIndex;if(Array.isArray(E)){let A=g,F=null;if(3&a.type||(F=A,A=m),null!==A&&-1===a.componentOffset)for(let G=1;G<E.length;G++)cc(s,A,c[E[G]],F,!1)}}function Xf(s,a){if(s.push(a),s.length>1)for(let c=s.length-2;c>=0;c--){const g=s[c];Ch(g)||ep(g,a)&&null===Dh(g)&&kc(g,a.index)}}function Ch(s){return!(64&s.type)}function ep(s,a){return Ch(a)||s.index>a.index}function Dh(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function kc(s,a){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=a:(Hh(ro,fl),s.insertBeforeIndex=a)}function Jp(s,a){const c=s.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function zw(s,a,c){const g=lf(s,c,64,null,null);return Xf(a,g),g}function c_(s,a){const c=a[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function Cs(s){return s>>>17}function ib(s){return(131070&s)>>>1}let Qp=0,Nv=0;function ob(s,a,c,g){const m=c[11];let A,E=null;for(let F=0;F<a.length;F++){const G=a[F];if("string"==typeof G){const Q=a[++F];null===c[Q]&&(c[Q]=sn(m,G))}else if("number"==typeof G)switch(1&G){case 0:const Q=Cs(G);let ue,Re;if(null===E&&(E=Q,A=bd(m,g)),Q===E?(ue=g,Re=A):(ue=null,Re=Ii(c[Q])),null!==Re){const Mn=ib(G);cc(m,Re,c[Mn],ue,!1);const Dr=Jp(s,Mn);if(null!==Dr&&"object"==typeof Dr){const ei=c_(Dr,c);null!==ei&&ob(s,Dr.create[ei],c,c[Dr.anchorIdx])}}break;case 1:const St=a[++F],Xt=a[++F];Op(m,ns(G>>>1,c),null,null,St,Xt,null)}else switch(G){case Zu:const Q=a[++F],ue=a[++F];null===c[ue]&&ha(c[ue]=fu(m,Q),c);break;case Po:const Re=a[++F],et=a[++F];null===c[et]&&ha(c[et]=qd(m,Re,null),c)}}}function Kw(s,a,c,g,m){for(let E=0;E<c.length;E++){const A=c[E],F=c[++E];if(A&m){let G="";for(let Q=E+1;Q<=E+F;Q++){const ue=c[Q];if("string"==typeof ue)G+=ue;else if("number"==typeof ue)if(ue<0)G+=st(a[g-ue]);else{const Re=ue>>>2;switch(3&ue){case 1:const et=c[++Q],St=c[++Q],Xt=s.data[Re];"string"==typeof Xt?Op(a[11],a[Re],null,Xt,et,G,St):hl(s,Xt,a,et,G,a[11],St,!1);break;case 0:const Mn=a[Re];null!==Mn&&Ro(a[11],Mn,G);break;case 2:Zw(s,Jp(s,Re),a,G);break;case 3:Py(s,Jp(s,Re),g,a)}}}}else{const G=c[E+1];if(G>0&&3==(3&G)){const ue=Jp(s,G>>>2);a[ue.currentCaseLViewIndex]<0&&Py(s,ue,g,a)}}E+=F}}function Py(s,a,c,g){let m=g[a.currentCaseLViewIndex];if(null!==m){let E=Qp;m<0&&(m=g[a.currentCaseLViewIndex]=~m,E=-1),Kw(s,g,a.update[m],c,E)}}function Zw(s,a,c,g){const m=function Yw(s,a){let c=s.cases.indexOf(a);if(-1===c)switch(s.type){case 1:{const g=function hr(s,a){const c=it(a)(parseInt(s,10)),g=qn[c];return void 0!==g?g:"other"}(a,function sa(){return Pc}());c=s.cases.indexOf(g),-1===c&&"other"!==g&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(a,g);if(c_(a,c)!==m&&(V0(s,a,c),c[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const A=c[a.anchorIdx];A&&ob(s,a.create[m],c,A)}}function V0(s,a,c){let g=c_(a,c);if(null!==g){const m=a.remove[g];for(let E=0;E<m.length;E++){const A=m[E];if(A>0){const F=ns(A,c);null!==F&&pg(c[11],F)}else V0(s,Jp(s,~A),c)}}}function U0(){const s=[];let c,g,a=-1;function E(F,G){a=0;const Q=c_(F,G);g=null!==Q?F.remove[Q]:$e}function A(){if(a<g.length){const F=g[a++];return F>0?c[F]:(s.push(a,g),E(c[1].data[~F],c),A())}return 0===s.length?null:(g=s.pop(),a=s.pop(),A())}return function m(F,G){for(c=G;s.length;)s.pop();return E(F.value,G),A}}const $0=/\ufffd(\d+):?\d*\ufffd/gi,Qw=/\ufffd(\d+)\ufffd/,H0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ab=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ub=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,lb=/\uE500/g;function ky(s,a,c,g,m,E,A){const F=cf(s,g,1,null);let G=F<<no.SHIFT,Q=ti();a===Q&&(Q=null),null===Q&&(G|=no.APPEND_EAGERLY),A&&(G|=no.COMMENT,function En(s){void 0===mt&&(mt=s())}(U0)),m.push(G,null===E?"":E);const ue=lf(s,F,A?32:1,null===E?"":E,null);Xf(c,ue);const Re=ue.index;return gs(ue,!1),null!==Q&&a!==Q&&function Ww(s,a){let c=s.insertBeforeIndex;null===c?(Hh(ro,fl),c=s.insertBeforeIndex=[null,a]):(function zt(s,a,c){s!=a&&an(c,s,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(Q,Re),ue}function cb(s,a,c,g,m,E,A){const F=A.match($0),G=ky(s,a,c,E,g,F?null:A,!1);F&&Rv(m,A,G.index,null,0,null)}function Rv(s,a,c,g,m,E){const A=s.length,F=A+1;s.push(null,null);const G=A+2,Q=a.split($0);let ue=0;for(let Re=0;Re<Q.length;Re++){const et=Q[Re];if(1&Re){const St=m+parseInt(et,10);s.push(-1-St),ue|=j0(St)}else""!==et&&s.push(et)}return s.push(c<<2|(g?1:0)),g&&s.push(g,E),s[A]=ue,s[F]=s.length-G,ue}function j0(s){return 1<<Math.min(s,31)}function tT(s){let a,E,c="",g=0,m=!1;for(;null!==(a=ab.exec(s));)m?a[0]===`\ufffd/*${E}\ufffd`&&(g=a.index,m=!1):(c+=s.substring(g,a.index+a[0].length),E=a[1],m=!0);return c+=s.slice(g),c}function hb(s,a,c,g,m,E){let A=0;const F={type:m.type,currentCaseLViewIndex:cf(s,a,1,null),anchorIdx:E,cases:[],create:[],remove:[],update:[]};(function fb(s,a,c){s.push(j0(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,m,E),function jw(s,a,c){const g=s.data[a];null===g?s.data[a]=c:g.value=c}(s,E,F);const G=m.values;for(let Q=0;Q<G.length;Q++){const ue=G[Q],Re=[];for(let et=0;et<ue.length;et++){const St=ue[et];if("string"!=typeof St){const Xt=Re.push(St)-1;ue[et]=`\x3c!--\ufffd${Xt}\ufffd--\x3e`}}A=l1(s,F,a,c,g,m.cases[Q],ue.join(""),Re)|A}A&&function d1(s,a,c){s.push(a,1,c<<2|3)}(c,A,E)}function u1(s){const a=[],c=[];let g=1,m=0;const E=W0(s=s.replace(H0,function(A,F,G){return g="select"===G?0:1,m=parseInt(F.slice(1),10),""}));for(let A=0;A<E.length;){let F=E[A++].trim();1===g&&(F=F.replace(/\s*(?:=)?(\w+)\s*/,"$1")),F.length&&a.push(F);const G=W0(E[A++]);a.length>c.length&&c.push(G)}return{type:g,mainBinding:m,cases:a,values:c}}function W0(s){if(!s)return[];let a=0;const c=[],g=[],m=/[{}]/g;let E;for(m.lastIndex=0;E=m.exec(s);){const F=E.index;if("}"==E[0]){if(c.pop(),0==c.length){const G=s.substring(a,F);H0.test(G)?g.push(u1(G)):g.push(G),a=F+1}}else{if(0==c.length){const G=s.substring(a,F);g.push(G),a=F+1}c.push("{")}}const A=s.substring(a);return g.push(A),g}function l1(s,a,c,g,m,E,A,F){const G=[],Q=[],ue=[];a.cases.push(E),a.create.push(G),a.remove.push(Q),a.update.push(ue);const et=function Cc(s){const a=new Rf(s);return function bm(){try{return!!(new window.DOMParser).parseFromString(Tc(""),"text/html")}catch{return!1}}()?new Em(a):a}(function mm(){return void 0!==fp?fp:typeof document<"u"?document:void 0}()).getInertBodyElement(A),St=function vp(s){return"content"in s&&function x_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(et)||et;return St?nT(s,a,c,g,G,Q,ue,St,m,F,0):0}function nT(s,a,c,g,m,E,A,F,G,Q,ue){let Re=0,et=F.firstChild;for(;et;){const St=cf(s,c,1,null);switch(et.nodeType){case Node.ELEMENT_NODE:const Xt=et,Mn=Xt.tagName.toLowerCase();if(_p.hasOwnProperty(Mn)){pb(m,Po,Mn,G,St),s.data[St]=Mn;const vn=Xt.attributes;for(let Oi=0;Oi<vn.length;Oi++){const Va=vn.item(Oi),ku=Va.name.toLowerCase();Va.value.match($0)?qc.hasOwnProperty(ku)&&Rv(A,Va.value,St,Va.name,0,th[ku]?Pf:null):xa(m,St,Va)}Re=nT(s,a,c,g,m,E,A,et,St,Q,ue+1)|Re,rT(E,St,ue)}break;case Node.TEXT_NODE:const rr=et.textContent||"",Dr=rr.match($0);pb(m,null,Dr?"":rr,G,St),rT(E,St,ue),Dr&&(Re=Rv(A,rr,St,null,0,null)|Re);break;case Node.COMMENT_NODE:const ei=Qw.exec(et.textContent||"");if(ei){const Oi=Q[parseInt(ei[1],10)];pb(m,Zu,"",G,St),hb(s,c,g,G,Oi,St),c1(E,St,ue)}}et=et.nextSibling}return Re}function rT(s,a,c){0===c&&s.push(a)}function c1(s,a,c){0===c&&(s.push(~a),s.push(a))}function pb(s,a,c,g,m){null!==a&&s.push(a),s.push(c,m,function qw(s,a,c){return s|a<<17|c<<1}(0,g,m))}function xa(s,a,c){s.push(a<<1|1,c.name,c.value)}function oT(s,a,c=-1){const g=j(),m=B(),E=22+s,A=ao(g.consts,a),F=ti();g.firstCreatePass&&function eT(s,a,c,g,m,E){const A=ti(),F=[],G=[],Q=[[]];m=function a1(s,a){if(function o1(s){return-1===s}(a))return tT(s);{const c=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,g=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return tT(s.substring(c,g))}}(m,E);const ue=function G0(s){return s.replace(lb," ")}(m).split(ub);for(let Re=0;Re<ue.length;Re++){let et=ue[Re];if(1&Re){const St=47===et.charCodeAt(0),Mn=(et.charCodeAt(St?1:0),22+Number.parseInt(et.substring(St?2:1)));if(St)Q.shift(),gs(ti(),!1);else{const rr=zw(s,Q[0],Mn);Q.unshift([]),gs(rr,!0)}}else{const St=W0(et);for(let Xt=0;Xt<St.length;Xt++){let Mn=St[Xt];if(1&Xt){const rr=Mn;if("object"!=typeof rr)throw new Error(`Unable to parse ICU expression in "${m}" message.`);hb(s,c,G,a,rr,ky(s,A,Q[0],c,F,"",!0).index)}else""!==Mn&&cb(s,A,Q[0],F,G,c,Mn)}}}s.data[g]={create:F,update:G}}(g,null===F?0:F.index,m,E,A,c);const G=g.data[E],ue=Cn(g,F===m[6]?null:F,m);(function tp(s,a,c,g){const m=s[11];for(let E=0;E<a.length;E++){const A=a[E++],F=a[E],Q=(A&no.APPEND_EAGERLY)===no.APPEND_EAGERLY,ue=A>>>no.SHIFT;let Re=s[ue];null===Re&&(Re=s[ue]=(A&no.COMMENT)===no.COMMENT?m.createComment(F):sn(m,F)),Q&&null!==c&&cc(m,c,Re,g,!1)}})(m,G.create,ue,F&&8&F.type?m[F.index]:null),Xu(!0)}function _1(s,a,c){oT(s,a,c),function aT(){Xu(!1)}()}function gb(s){return function Aa(s){s&&(Qp|=1<<Math.min(Nv,31)),Nv++}(zu(B(),ms(),s)),gb}function mb(s){!function Kl(s,a,c){if(Nv>0){const g=s.data[c];Kw(s,a,Array.isArray(g)?g:g.update,Bs()-Nv-1,Qp)}Qp=0,Nv=0}(j(),B(),s+22)}function uT(s,a,c,g,m){if(s=Ne(s),Array.isArray(s))for(let E=0;E<s.length;E++)uT(s[E],a,c,g,m);else{const E=j(),A=B();let F=Yc(s)?s:Ne(s.provide),G=Jh(s);const Q=gt(),ue=1048575&Q.providerIndexes,Re=Q.directiveStart,et=Q.providerIndexes>>20;if(Yc(s)||!s.multi){const St=new Vt(G,m,af),Xt=_b(F,a,m?ue:ue+et,Re);-1===Xt?(Du(yo(Q,A),E,F),eg(E,s,a.length),a.push(F),Q.directiveStart++,Q.directiveEnd++,m&&(Q.providerIndexes+=1048576),c.push(St),A.push(St)):(c[Xt]=St,A[Xt]=St)}else{const St=_b(F,a,ue+et,Re),Xt=_b(F,a,ue,ue+et),rr=Xt>=0&&c[Xt];if(m&&!rr||!m&&!(St>=0&&c[St])){Du(yo(Q,A),E,F);const Dr=function q0(s,a,c,g,m){const E=new Vt(s,c,af);return E.multi=[],E.index=a,E.componentProviders=0,Fy(E,m,g&&!c),E}(m?lT:y1,c.length,m,g,G);!m&&rr&&(c[Xt].providerFactory=Dr),eg(E,s,a.length,0),a.push(F),Q.directiveStart++,Q.directiveEnd++,m&&(Q.providerIndexes+=1048576),c.push(Dr),A.push(Dr)}else eg(E,s,St>-1?St:Xt,Fy(c[m?Xt:St],G,!m&&g));!m&&g&&rr&&c[Xt].componentProviders++}}}function eg(s,a,c,g){const m=Yc(a),E=function R_(s){return!!s.useClass}(a);if(m||E){const G=(E?Ne(a.useClass):a).prototype.ngOnDestroy;if(G){const Q=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const ue=Q.indexOf(c);-1===ue?Q.push(c,[g,G]):Q[ue+1].push(g,G)}else Q.push(c,G)}}}function Fy(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function _b(s,a,c,g){for(let m=c;m<g;m++)if(a[m]===s)return m;return-1}function y1(s,a,c,g){return z0(this.multi,[])}function lT(s,a,c,g){const m=this.multi;let E;if(this.providerFactory){const A=this.providerFactory.componentProviders,F=la(c,c[1],this.providerFactory.index,g);E=F.slice(0,A),z0(m,E);for(let G=A;G<F.length;G++)E.push(F[G])}else E=[],z0(m,E);return E}function z0(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function cT(s,a=[]){return c=>{c.providersResolver=(g,m)=>function Xp(s,a,c){const g=j();if(g.firstCreatePass){const m=Ci(s);uT(c,g.data,g.blueprint,m,!0),uT(a,g.data,g.blueprint,m,!1)}}(g,m?m(s):s,a)}}class Sh{}class Ly{}function By(s,a){return new K0(s,a??null)}class K0 extends Sh{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bg(this);const g=ki(a);this._bootstrapComponents=pc(g.bootstrap),this._r3Injector=nf(a,c,[{provide:Sh,useValue:this},{provide:Ad,useValue:this.componentFactoryResolver}],ge(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class vb extends Ly{constructor(a){super(),this.moduleType=a}create(a){return new K0(this.moduleType,a)}}class b1 extends Sh{constructor(a,c,g){super(),this.componentFactoryResolver=new Bg(this),this.instance=null;const m=new Eg([...a,{provide:Sh,useValue:this},{provide:Ad,useValue:this.componentFactoryResolver}],c||Uf(),g,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function yb(s,a,c=null){return new b1(s,a,c).injector}let Eb=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const g=Za(0,c.type),m=g.length>0?yb([g],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,m)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=bn({token:s,providedIn:"environment",factory:()=>new s(rn(Jc))}),s})();function Z0(s){s.getStandaloneInjector=a=>a.get(Eb).getOrCreateStandaloneInjector(s)}function pT(s,a,c,g){return gT(B(),ts(),s,a,c,g)}function d_(s,a,c,g,m){return mT(B(),ts(),s,a,c,g,m)}function T1(s,a,c,g,m,E){return function $y(s,a,c,g,m,E,A,F){const G=a+c;return function ia(s,a,c,g,m){const E=jo(s,a,c,g);return zu(s,a+2,m)||E}(s,G,m,E,A)?Oc(s,G+3,F?g.call(F,m,E,A):g(m,E,A)):im(s,G+3)}(B(),ts(),s,a,c,g,m,E)}function im(s,a){const c=s[a];return c===ri?void 0:c}function gT(s,a,c,g,m,E){const A=a+c;return zu(s,A,m)?Oc(s,A+1,E?g.call(E,m):g(m)):im(s,A+1)}function mT(s,a,c,g,m,E,A){const F=a+c;return jo(s,F,m,E)?Oc(s,F+2,A?g.call(A,m,E):g(m,E)):im(s,F+2)}function Sb(s,a){const c=j();let g;const m=s+22;c.firstCreatePass?(g=function yT(s,a){if(a)for(let c=a.length-1;c>=0;c--){const g=a[c];if(s===g.name)return g}}(a,c.pipeRegistry),c.data[m]=g,g.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(m,g.onDestroy)):g=c.data[m];const E=g.factory||(g.factory=Hs(g.type)),A=Ri(af);try{const F=Yo(!1),G=E();return Yo(F),function hv(s,a,c,g){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=g}(c,B(),m,G),G}finally{Ri(A)}}function Ib(s,a,c){const g=s+22,m=B(),E=tr(m,g);return Hy(m,g)?gT(m,ts(),a,E.transform,c,E):E.transform(c)}function Ab(s,a,c,g){const m=s+22,E=B(),A=tr(E,m);return Hy(E,m)?mT(E,ts(),a,A.transform,c,g,A):A.transform(c,g)}function Hy(s,a){return s[1].data[a].pure}function Ef(s){return a=>{setTimeout(s,void 0,a)}}const hd=class h_ extends w.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,g){let m=a,E=c||(()=>null),A=g;if(a&&"object"==typeof a){const G=a;m=G.next?.bind(G),E=G.error?.bind(G),A=G.complete?.bind(G)}this.__isAsync&&(E=Ef(E),m&&(m=Ef(m)),A&&(A=Ef(A)));const F=super.subscribe({next:m,error:E,complete:A});return a instanceof M.w0&&a.add(F),F}};function sm(){return this._results[ad()]()}class Mb{get changes(){return this._changes||(this._changes=new hd)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ad(),g=Mb.prototype;g[c]||(g[c]=sm)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const g=this;g.dirty=!1;const m=function R(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function x(s,a,c){if(s.length!==a.length)return!1;for(let g=0;g<s.length;g++){let m=s[g],E=a[g];if(c&&(m=c(m),E=c(E)),E!==m)return!1}return!0}(g._results,m,c))&&(g._results=m,g.length=m.length,g.last=m[this.length-1],g.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kv=(()=>{class s{}return s.__NG_ELEMENT_ID__=x1,s})();const A1=kv,om=class extends A1{constructor(a,c,g){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=g}createEmbeddedView(a,c){const g=this._declarationTContainer.tViews,m=Pg(this._declarationLView,g,a,16,null,g.declTNode,null,null,null,null,c||null);m[17]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[19];return null!==A&&(m[19]=A.createEmbeddedView(g)),Vm(g,m,a),new Al(m)}};function x1(){return iE(gt(),B())}function iE(s,a){return 4&s.type?new om(a,s,Qh(s,a)):null}let sE=(()=>{class s{}return s.__NG_ELEMENT_ID__=M1,s})();function M1(){return bT(gt(),B())}const N1=sE,Nb=class extends N1{constructor(a,c,g){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=g}get element(){return Qh(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const a=Os(this._hostTNode,this._hostLView);if(Cu(a)){const c=au(a,this._hostLView),g=Ga(a);return new No(c[1].data[g+8],c)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Ob(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,g){let m,E;"number"==typeof g?m=g:null!=g&&(m=g.index,E=g.injector);const A=a.createEmbeddedView(c||{},E);return this.insert(A,m),A}createComponent(a,c,g,m,E){const A=a&&!function _s(s){return"function"==typeof s}(a);let F;if(A)F=c;else{const Re=c||{};F=Re.index,g=Re.injector,m=Re.projectableNodes,E=Re.environmentInjector||Re.ngModuleRef}const G=A?a:new sd(Xr(a)),Q=g||this.parentInjector;if(!E&&null==G.ngModule){const et=(A?Q:this.parentInjector).get(Jc,null);et&&(E=et)}const ue=G.create(Q,m,void 0,E);return this.insert(ue.hostView,F),ue}insert(a,c){const g=a._lView,m=g[1];if(function _l(s){return ds(s[3])}(g)){const ue=this.indexOf(a);if(-1!==ue)this.detach(ue);else{const Re=g[3],et=new Nb(Re,Re[6],Re[3]);et.detach(et.indexOf(a))}}const E=this._adjustIndex(c),A=this._lContainer;!function dp(s,a,c,g){const m=10+g,E=c.length;g>0&&(c[m-1][4]=a),g<E-10?(a[4]=c[m],V(c,10+g,a)):(c.push(a),a[4]=null),a[3]=c;const A=a[17];null!==A&&c!==A&&function pu(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(A,a);const F=a[19];null!==F&&F.insertView(s),a[2]|=64}(m,g,A,E);const F=Gh(E,A),G=g[11],Q=bd(G,A[7]);return null!==Q&&function If(s,a,c,g,m,E){g[0]=m,g[6]=a,La(s,g,c,1,m,E)}(m,A[6],G,g,Q,F),a.attachToViewContainerRef(),V(Rb(A),E,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Ob(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),g=pm(this._lContainer,c);g&&(J(Rb(this._lContainer),c),hg(g[1],g))}detach(a){const c=this._adjustIndex(a,-1),g=pm(this._lContainer,c);return g&&null!=J(Rb(this._lContainer),c)?new Al(g):null}_adjustIndex(a,c=0){return a??this.length+c}};function Ob(s){return s[8]}function Rb(s){return s[8]||(s[8]=[])}function bT(s,a){let c;const g=a[s.index];if(ds(g))c=g;else{let m;if(8&s.type)m=Ii(g);else{const E=a[11];m=E.createComment("");const A=qi(s,a);cc(E,bd(E,A),m,function Kd(s,a){return s.nextSibling(a)}(E,A),!1)}a[s.index]=c=id(g,a,m,s),kp(a,c)}return new Nb(c,s,a)}class oE{constructor(a){this.queryList=a,this.matches=null}clone(){return new oE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pb{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const g=null!==a.contentQueries?a.contentQueries[0]:c.length,m=[];for(let E=0;E<g;E++){const A=c.getByIndex(E);m.push(this.queries[A.indexInDeclarationView].clone())}return new Pb(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==MT(a,c).matches&&this.queries[c].setDirty()}}class f_{constructor(a,c,g=null){this.predicate=a,this.flags=c,this.read=g}}class Gy{constructor(a=[]){this.queries=a}elementStart(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let g=0;g<this.length;g++){const m=null!==c?c.length:0,E=this.getByIndex(g).embeddedTView(a,m);E&&(E.indexInDeclarationView=g,null!==c?c.push(E):c=[E])}return null!==c?new Gy(c):null}template(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class wT{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new wT(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==c;)g=g.parent;return c===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const g=this.metadata.predicate;if(Array.isArray(g))for(let m=0;m<g.length;m++){const E=g[m];this.matchTNodeWithReadOption(a,c,lS(c,E)),this.matchTNodeWithReadOption(a,c,Ta(c,a,E,!1,!1))}else g===kv?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Ta(c,a,g,!1,!1))}matchTNodeWithReadOption(a,c,g){if(null!==g){const m=this.metadata.read;if(null!==m)if(m===ju||m===sE||m===kv&&4&c.type)this.addMatch(c.index,-2);else{const E=Ta(c,a,m,!1,!1);null!==E&&this.addMatch(c.index,E)}else this.addMatch(c.index,g)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function lS(s,a){const c=s.localNames;if(null!==c)for(let g=0;g<c.length;g+=2)if(c[g]===a)return c[g+1];return null}function TT(s,a,c,g){return-1===c?function O1(s,a){return 11&s.type?Qh(s,a):4&s.type?iE(s,a):null}(a,s):-2===c?function am(s,a,c){return c===ju?Qh(a,s):c===kv?iE(a,s):c===sE?bT(a,s):void 0}(s,a,g):la(s,s[1],c,a)}function CT(s,a,c,g){const m=a[19].queries[g];if(null===m.matches){const E=s.data,A=c.matches,F=[];for(let G=0;G<A.length;G+=2){const Q=A[G];F.push(Q<0?null:TT(a,E[Q],A[G+1],c.metadata.read))}m.matches=F}return m.matches}function kb(s,a,c,g){const m=s.queries.getByIndex(c),E=m.matches;if(null!==E){const A=CT(s,a,m,c);for(let F=0;F<E.length;F+=2){const G=E[F];if(G>0)g.push(A[F/2]);else{const Q=E[F+1],ue=a[-G];for(let Re=10;Re<ue.length;Re++){const et=ue[Re];et[17]===et[3]&&kb(et[1],et,Q,g)}if(null!==ue[9]){const Re=ue[9];for(let et=0;et<Re.length;et++){const St=Re[et];kb(St[1],St,Q,g)}}}}}return g}function DT(s){const a=B(),c=j(),g=ec();su(g+1);const m=MT(c,g);if(s.dirty&&function Gs(s){return 4==(4&s[2])}(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const E=m.crossesNgTemplate?kb(c,a,g,[]):CT(c,a,m,g);s.reset(E,xd),s.notifyOnChanges()}return!0}return!1}function ST(s,a,c){const g=j();g.firstCreatePass&&(k1(g,new f_(s,a,c),-1),2==(2&a)&&(g.staticViewQueries=!0)),P1(g,B(),a)}function IT(s,a,c,g){const m=j();if(m.firstCreatePass){const E=gt();k1(m,new f_(a,c,g),E.index),function xT(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(m,s),2==(2&c)&&(m.staticContentQueries=!0)}P1(m,B(),c)}function AT(){return function R1(s,a){return s[19].queries[a].queryList}(B(),ec())}function P1(s,a,c){const g=new Mb(4==(4&c));$m(s,a,g,g.destroy),null===a[19]&&(a[19]=new Pb),a[19].queries.push(new oE(g))}function k1(s,a,c){null===s.queries&&(s.queries=new Gy),s.queries.track(new wT(a,c))}function MT(s,a){return s.queries.getByIndex(a)}function NT(s,a){return iE(s,a)}function fE(...s){}const KT=new ji("Application Initializer");let pE=(()=>{class s{constructor(c){this.appInits=c,this.resolve=fE,this.reject=fE,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,m)=>{this.resolve=g,this.reject=m})}runInitializers(){if(this.initialized)return;const c=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const E=this.appInits[m]();if(Yg(E))c.push(E);else if(f(E)){const A=new Promise((F,G)=>{E.subscribe({complete:F,error:G})});c.push(A)}}Promise.all(c).then(()=>{g()}).catch(m=>{this.reject(m)}),0===c.length&&g(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(rn(KT,8))},s.\u0275prov=bn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Pu=new ji("AppId",{providedIn:"root",factory:function Hb(){return`${Gb()}${Gb()}${Gb()}`}});function Gb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ZT=new ji("Platform Initializer"),jb=new ji("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rp=new ji("appBootstrapListener");let W1=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=bn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ky=new ji("LocaleId",{providedIn:"root",factory:()=>wn(Ky,mn.Optional|mn.SkipSelf)||function z1(){return typeof $localize<"u"&&$localize.locale||ur}()}),q1=new ji("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YT{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let K1=(()=>{class s{compileModuleSync(c){return new vb(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const g=this.compileModuleSync(c),E=pc(ki(c).declarations).reduce((A,F)=>{const G=Xr(F);return G&&A.push(new sd(G)),A},[]);return new YT(g,E)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=bn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Y1=(()=>Promise.resolve(0))();function Zy(s){typeof Zone>"u"?Y1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Vd{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hd(!1),this.onMicrotaskEmpty=new hd(!1),this.onStable=new hd(!1),this.onError=new hd(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!g&&c,m.shouldCoalesceRunChangeDetection=g,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function eC(){let s=xt.requestAnimationFrame,a=xt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Q1(s){const a=()=>{!function J1(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(xt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,gE(s),s.isCheckStableRunning=!0,qb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),gE(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,g,m,E,A,F)=>{try{return Kb(s),c.invokeTask(m,E,A,F)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||s.shouldCoalesceRunChangeDetection)&&a(),nC(s)}},onInvoke:(c,g,m,E,A,F,G)=>{try{return Kb(s),c.invoke(m,E,A,F,G)}finally{s.shouldCoalesceRunChangeDetection&&a(),nC(s)}},onHasTask:(c,g,m,E)=>{c.hasTask(m,E),g===m&&("microTask"==E.change?(s._hasPendingMicrotasks=E.microTask,gE(s),qb(s)):"macroTask"==E.change&&(s.hasPendingMacrotasks=E.macroTask))},onHandleError:(c,g,m,E)=>(c.handleError(m,E),s.runOutsideAngular(()=>s.onError.emit(E)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vd.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(Vd.isInAngularZone())throw new Ye(909,!1)}run(a,c,g){return this._inner.run(a,c,g)}runTask(a,c,g,m){const E=this._inner,A=E.scheduleEventTask("NgZoneEvent: "+m,a,tC,fE,fE);try{return E.runTask(A,c,g)}finally{E.cancelTask(A)}}runGuarded(a,c,g){return this._inner.runGuarded(a,c,g)}runOutsideAngular(a){return this._outer.run(a)}}const tC={};function qb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function gE(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Kb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function nC(s){s._nesting--,qb(s)}class __{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hd,this.onMicrotaskEmpty=new hd,this.onStable=new hd,this.onError=new hd}run(a,c,g){return a.apply(c,g)}runGuarded(a,c,g){return a.apply(c,g)}runOutsideAngular(a){return a()}runTask(a,c,g,m){return a.apply(c,g)}}const Zb=new ji(""),rC=new ji("");let Yb,mE=(()=>{class s{constructor(c,g,m){this._ngZone=c,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yb||(function vu(s){Yb=s}(m),m.addToWindow(g)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vd.assertNotInAngularZone(),Zy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zy(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(c)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,g,m){let E=-1;g&&g>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==E),c(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:c,timeoutId:E,updateCb:m})}whenStable(c,g,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,g,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,g,m){return[]}}return s.\u0275fac=function(c){return new(c||s)(rn(Vd),rn(iC),rn(rC))},s.\u0275prov=bn({token:s,factory:s.\u0275fac}),s})(),iC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,g){this._applications.set(c,g)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,g=!0){return Yb?.findTestabilityInTree(this,c,g)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=bn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Dn=null;const Vv=new ji("PlatformDestroyListeners");class Ud{constructor(a,c){this.name=a,this.token=c}}function Uv(s){const{rootComponent:a,appProviders:c,platformProviders:g}=s,m=function Bc(s=[]){if(Dn)return Dn;const a=function Jb(s=[],a){return ah.create({name:a,providers:[{provide:Gl,useValue:"platform"},{provide:Vv,useValue:new Set([()=>Dn=null])},...s]})}(s);return Dn=a,function Yy(s){const a=s.get(ZT,null);a&&a.forEach(c=>c())}(a),a}(g),E=function vE(s,a){let c;return c="noop"===s?new __:("zone.js"===s?void 0:s)||new Vd(a),c}("zone.js",function _E(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}());return E.run(()=>{const F=yb([{provide:Vd,useValue:E},...c||[]],m,"Environment Injector"),G=F.get(fc,null);let Q;E.runOutsideAngular(()=>{Q=E.onError.subscribe({next:et=>{G.handleError(et)}})});const ue=()=>F.destroy(),Re=m.get(Vv);return Re.add(ue),F.onDestroy(()=>{Q.unsubscribe(),Re.delete(ue)}),function Xb(s,a,c){try{const g=c();return Yg(g)?g.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):g}catch(g){throw a.runOutsideAngular(()=>s.handleError(g)),g}}(G,E,()=>{const et=F.get(pE);return et.runInitializers(),et.donePromise.then(()=>{xr(F.get(Ky,ur)||ur);const Xt=F.get(Jy);return void 0!==a&&Xt.bootstrap(a),Xt})})})}let Jy=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,g,m){this._zone=c,this._injector=g,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new u.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),A=new u.y(F=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{Vd.assertNotInAngularZone(),Zy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{Vd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{G.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,fe.T)(E,A.pipe((0,_e.B)()))}bootstrap(c,g){const m=c instanceof wp;if(!this._injector.get(pE).done)throw!m&&wi(c),new Ye(405,false);let A;A=m?c:this._injector.get(Ad).resolveComponentFactory(c),this.componentTypes.push(A.componentType);const F=function Lc(s){return s.isBoundToModule}(A)?void 0:this._injector.get(Sh),Q=A.create(ah.NULL,[],g||A.selector,F),ue=Q.location.nativeElement,Re=Q.injector.get(Zb,null);return Re?.registerApplication(ue),Q.onDestroy(()=>{this.detachView(Q.hostView),Qy(this.components,Q),Re?.unregisterApplication(ue)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const g=c;this._views.push(g),g.attachToAppRef(this)}detachView(c){const g=c;Qy(this._views,g),g.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const g=this._injector.get(rp,[]);g.push(...this._bootstrapListeners),g.forEach(m=>m(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Qy(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ye(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(rn(Vd),rn(Jc),rn(fc))},s.\u0275prov=bn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Qy(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}function uC(){return!1}function lC(){}let v_=(()=>{class s{}return s.__NG_ELEMENT_ID__=xh,s})();function xh(s){return function nw(s,a,c){if(Pe(s)&&!c){const g=Ai(s.index,a);return new Al(g,g)}return 47&s.type?new Al(a[16],a):null}(gt(),B(),16==(16&s))}class wE{constructor(){}supports(a){return mc(a)}create(a){return new pC(a)}}const sD=(s,a)=>a;class pC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||sD}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,g=this._removalsHead,m=0,E=null;for(;c||g;){const A=!g||c&&c.currentIndex<TE(g,m,E)?c:g,F=TE(A,m,E),G=A.currentIndex;if(A===g)m--,g=g._nextRemoved;else if(c=c._next,null==A.previousIndex)m++;else{E||(E=[]);const Q=F-m,ue=G-m;if(Q!=ue){for(let et=0;et<Q;et++){const St=et<E.length?E[et]:E[et]=0,Xt=St+et;ue<=Xt&&Xt<Q&&(E[et]=St+1)}E[A.previousIndex]=ue-Q}}F!==G&&a(A,F,G)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!mc(a))throw new Ye(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,E,A,c=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let F=0;F<this.length;F++)E=a[F],A=this._trackByFn(F,E),null!==c&&Object.is(c.trackById,A)?(g&&(c=this._verifyReinsertion(c,E,A,F)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,A,F),g=!0),c=c._next}else m=0,function Qm(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[ad()]();let g;for(;!(g=c.next()).done;)a(g.value)}}(a,F=>{A=this._trackByFn(m,F),null!==c&&Object.is(c.trackById,A)?(g&&(c=this._verifyReinsertion(c,F,A,m)),Object.is(c.item,F)||this._addIdentityChange(c,F)):(c=this._mismatch(c,F,A,m),g=!0),c=c._next,m++}),this.length=m;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,g,m){let E;return null===a?E=this._itTail:(E=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,E,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,m))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,E,m)):a=this._addAfter(new oD(c,g),E,m),a}_verifyReinsertion(a,c,g,m){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==E?a=this._reinsertAfter(E,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,E=a._nextRemoved;return null===m?this._removalsHead=E:m._nextRemoved=E,null===E?this._removalsTail=m:E._prevRemoved=m,this._insertAfter(a,c,g),this._addToMoves(a,g),a}_moveAfter(a,c,g){return this._unlink(a),this._insertAfter(a,c,g),this._addToMoves(a,g),a}_addAfter(a,c,g){return this._insertAfter(a,c,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,g){const m=null===c?this._itHead:c._next;return a._next=m,a._prev=c,null===m?this._itTail=a:m._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new b_),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,g=a._next;return null===c?this._itHead=g:c._next=g,null===g?this._itTail=c:g._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b_),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class oD{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aD{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===c||c<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const c=a._prevDup,g=a._nextDup;return null===c?this._head=g:c._nextDup=g,null===g?this._tail=c:g._prevDup=c,null===this._head}}class b_{constructor(){this.map=new Map}put(a){const c=a.trackById;let g=this.map.get(c);g||(g=new aD,this.map.set(c,g)),g.add(a)}get(a,c){const m=this.map.get(a);return m?m.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TE(s,a,c){const g=s.previousIndex;if(null===g)return g;let m=0;return c&&g<c.length&&(m=c[g]),g+a+m}class aw{constructor(){}supports(a){return a instanceof Map||jg(a)}create(){return new gC}}class gC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||jg(a)))throw new Ye(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,m)=>{if(c&&c.key===m)this._maybeAddToChanges(c,g),this._appendAfter=c,c=c._next;else{const E=this._getOrCreateRecordForKey(m,g);c=this._insertBeforeOrAppend(c,E)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let g=c;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const g=a._prev;return c._next=a,c._prev=g,a._prev=c,g&&(g._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,c);const E=m._prev,A=m._next;return E&&(E._next=A),A&&(A._prev=E),m._next=null,m._prev=null,m}const g=new mC(a);return this._records.set(a,g),g.currentValue=c,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(g=>c(a[g],g))}}class mC{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uw(){return new hm([new wE])}let hm=(()=>{class s{constructor(c){this.factories=c}static create(c,g){if(null!=g){const m=g.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:g=>s.create(c,g||uw()),deps:[[s,new en,new tt]]}}find(c){const g=this.factories.find(m=>m.supports(c));if(null!=g)return g;throw new Ye(901,!1)}}return s.\u0275prov=bn({token:s,providedIn:"root",factory:uw}),s})();function _C(){return new lw([new aw])}let lw=(()=>{class s{constructor(c){this.factories=c}static create(c,g){if(g){const m=g.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:g=>s.create(c,g||_C()),deps:[[s,new en,new tt]]}}find(c){const g=this.factories.find(m=>m.supports(c));if(g)return g;throw new Ye(901,!1)}}return s.\u0275prov=bn({token:s,providedIn:"root",factory:_C}),s})();function dw(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function cD(s,a){const c=Xr(s),g=a.elementInjector||Uf();return new sd(c).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}},433:(He,we,L)=>{"use strict";L.d(we,{Fj:()=>dt,qu:()=>Is,NI:()=>Ui,u:()=>ml,cw:()=>ye,sg:()=>Di,u5:()=>ru,Cf:()=>ze,JU:()=>bt,JJ:()=>qr,JL:()=>xt,On:()=>Nn,YN:()=>so,UX:()=>iu,EJ:()=>Xa,kI:()=>Yt,_Y:()=>Sr,Kr:()=>xs});var w=L(4650),M=L(6895),u=L(8996),fe=L(9751),_e=L(4742),Me=L(8421),Se=L(3269),ge=L(5403),Ee=L(3268),pe=L(1810),Ne=L(4004);let ut=(()=>{class B{constructor(H,le){this._renderer=H,this._elementRef=le,this.onChange=gt=>{},this.onTouched=()=>{}}setProperty(H,le){this._renderer.setProperty(this._elementRef.nativeElement,H,le)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(w.Qsj),w.Y36(w.SBq))},B.\u0275dir=w.lG2({type:B}),B})(),Je=(()=>{class B extends ut{}return B.\u0275fac=function(){let j;return function(le){return(j||(j=w.n5z(B)))(le||B)}}(),B.\u0275dir=w.lG2({type:B,features:[w.qOj]}),B})();const bt=new w.OlP("NgValueAccessor"),at={provide:bt,useExisting:(0,w.Gpc)(()=>dt),multi:!0},Ct=new w.OlP("CompositionEventMode");let dt=(()=>{class B extends ut{constructor(H,le,gt){super(H,le),this._compositionMode=gt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function st(){const B=(0,M.q)()?(0,M.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(H){this.setProperty("value",H??"")}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Ct,8))},B.\u0275dir=w.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,le){1&H&&w.NdJ("input",function(Bn){return le._handleInput(Bn.target.value)})("blur",function(){return le.onTouched()})("compositionstart",function(){return le._compositionStart()})("compositionend",function(Bn){return le._compositionEnd(Bn.target.value)})},features:[w._Bn([at]),w.qOj]}),B})();function Tt(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}function Ut(B){return null!=B&&"number"==typeof B.length}const ze=new w.OlP("NgValidators"),ht=new w.OlP("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yt{static min(j){return function zt(B){return j=>{if(Tt(j.value)||Tt(B))return null;const H=parseFloat(j.value);return!isNaN(H)&&H<B?{min:{min:B,actual:j.value}}:null}}(j)}static max(j){return function Qn(B){return j=>{if(Tt(j.value)||Tt(B))return null;const H=parseFloat(j.value);return!isNaN(H)&&H>B?{max:{max:B,actual:j.value}}:null}}(j)}static required(j){return function fn(B){return Tt(B.value)?{required:!0}:null}(j)}static requiredTrue(j){return function _t(B){return!0===B.value?null:{required:!0}}(j)}static email(j){return function ot(B){return Tt(B.value)||Ft.test(B.value)?null:{email:!0}}(j)}static minLength(j){return function It(B){return j=>Tt(j.value)||!Ut(j.value)?null:j.value.length<B?{minlength:{requiredLength:B,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function Bt(B){return j=>Ut(j.value)&&j.value.length>B?{maxlength:{requiredLength:B,actualLength:j.value.length}}:null}(j)}static pattern(j){return function qt(B){if(!B)return Kt;let j,H;return"string"==typeof B?(H="","^"!==B.charAt(0)&&(H+="^"),H+=B,"$"!==B.charAt(B.length-1)&&(H+="$"),j=new RegExp(H)):(H=B.toString(),j=B),le=>{if(Tt(le.value))return null;const gt=le.value;return j.test(gt)?null:{pattern:{requiredPattern:H,actualValue:gt}}}}(j)}static nullValidator(j){return null}static compose(j){return Or(j)}static composeAsync(j){return br(j)}}function Kt(B){return null}function _n(B){return null!=B}function an(B){return(0,w.QGY)(B)?(0,u.D)(B):B}function An(B){let j={};return B.forEach(H=>{j=null!=H?{...j,...H}:j}),0===Object.keys(j).length?null:j}function dn(B,j){return j.map(H=>H(B))}function bn(B){return B.map(j=>function Ln(B){return!B.validate}(j)?j:H=>j.validate(H))}function Or(B){if(!B)return null;const j=B.filter(_n);return 0==j.length?null:function(H){return An(dn(H,j))}}function kr(B){return null!=B?Or(bn(B)):null}function br(B){if(!B)return null;const j=B.filter(_n);return 0==j.length?null:function(H){return function be(...B){const j=(0,Se.jO)(B),{args:H,keys:le}=(0,_e.D)(B),gt=new fe.y(Bn=>{const{length:ti}=H;if(!ti)return void Bn.complete();const gs=new Array(ti);let wa=ti,js=ti;for(let Yi=0;Yi<ti;Yi++){let qo=!1;(0,Me.Xf)(H[Yi]).subscribe((0,ge.x)(Bn,mo=>{qo||(qo=!0,js--),gs[Yi]=mo},()=>wa--,void 0,()=>{(!wa||!qo)&&(js||Bn.next(le?(0,pe.n)(le,gs):gs),Bn.complete())}))}});return j?gt.pipe((0,Ee.Z)(j)):gt}(dn(H,j).map(an)).pipe((0,Ne.U)(An))}}function gr(B){return null!=B?br(bn(B)):null}function Xn(B,j){return null===B?[j]:Array.isArray(B)?[...B,j]:[B,j]}function Jr(B){return B._rawValidators}function Gr(B){return B._rawAsyncValidators}function Cr(B){return B?Array.isArray(B)?B:[B]:[]}function vi(B,j){return Array.isArray(B)?B.includes(j):B===j}function ar(B,j){const H=Cr(j);return Cr(B).forEach(gt=>{vi(H,gt)||H.push(gt)}),H}function er(B,j){return Cr(j).filter(H=>!vi(B,H))}class Qr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=kr(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=gr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,H){return!!this.control&&this.control.hasError(j,H)}getError(j,H){return this.control?this.control.getError(j,H):null}}class mn extends Qr{get formDirective(){return null}get path(){return null}}class Ar extends Qr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vi{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qr=(()=>{class B extends Vi{constructor(H){super(H)}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(Ar,2))},B.\u0275dir=w.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,le){2&H&&w.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)},features:[w.qOj]}),B})(),xt=(()=>{class B extends Vi{constructor(H){super(H)}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(mn,10))},B.\u0275dir=w.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,le){2&H&&w.ekj("ng-untouched",le.isUntouched)("ng-touched",le.isTouched)("ng-pristine",le.isPristine)("ng-dirty",le.isDirty)("ng-valid",le.isValid)("ng-invalid",le.isInvalid)("ng-pending",le.isPending)("ng-submitted",le.isSubmitted)},features:[w.qOj]}),B})();const Mr="VALID",Ve="INVALID",Ae="PENDING",je="DISABLED";function Ce(B){return(Zt(B)?B.validators:B)||null}function Ie(B,j){return(Zt(j)?j.asyncValidators:B)||null}function Zt(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}function Tn(B,j,H){const le=B.controls;if(!(j?Object.keys(le):le).length)throw new w.vHH(1e3,"");if(!le[H])throw new w.vHH(1001,"")}function $e(B,j,H){B._forEachChild((le,gt)=>{if(void 0===H[gt])throw new w.vHH(1002,"")})}class Fe{constructor(j,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(H)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Mr}get invalid(){return this.status===Ve}get pending(){return this.status==Ae}get disabled(){return this.status===je}get enabled(){return this.status!==je}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(ar(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(ar(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(er(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(er(j,this._rawAsyncValidators))}hasValidator(j){return vi(this._rawValidators,j)}hasAsyncValidator(j){return vi(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(H=>{H.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(H=>{H.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Ae,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const H=this._parentMarkedDirty(j.onlySelf);this.status=je,this.errors=null,this._forEachChild(le=>{le.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:H}),this._onDisabledChange.forEach(le=>le(!0))}enable(j={}){const H=this._parentMarkedDirty(j.onlySelf);this.status=Mr,this._forEachChild(le=>{le.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:H}),this._onDisabledChange.forEach(le=>le(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mr||this.status===Ae)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:Mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Ae,this._hasOwnPendingAsyncValidator=!0;const H=an(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(le=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(le,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,H={}){this.errors=j,this._updateControlsErrors(!1!==H.emitEvent)}get(j){let H=j;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((le,gt)=>le&&le._find(gt),this)}getError(j,H){const le=H?this.get(H):this;return le&&le.errors?le.errors[j]:null}hasError(j,H){return!!this.getError(j,H)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?Ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ae)?Ae:this._anyControlsHaveStatus(Ve)?Ve:Mr}_anyControlsHaveStatus(j){return this._anyControls(H=>H.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){Zt(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function ae(B){return Array.isArray(B)?kr(B):B||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function Et(B){return Array.isArray(B)?gr(B):B||null}(this._rawAsyncValidators)}}class ye extends Fe{constructor(j,H,le){super(Ce(H),Ie(le,H)),this.controls=j,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,H){return this.controls[j]?this.controls[j]:(this.controls[j]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(j,H,le={}){this.registerControl(j,H),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}removeControl(j,H={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(j,H,le={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],H&&this.registerControl(j,H),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,H={}){$e(this,0,j),Object.keys(j).forEach(le=>{Tn(this,!0,le),this.controls[le].setValue(j[le],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(j,H={}){null!=j&&(Object.keys(j).forEach(le=>{const gt=this.controls[le];gt&&gt.patchValue(j[le],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(j={},H={}){this._forEachChild((le,gt)=>{le.reset(j[gt],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(j,H,le)=>(j[le]=H.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(H,le)=>!!le._syncPendingControls()||H);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(H=>{const le=this.controls[H];le&&j(le,H)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[H,le]of Object.entries(this.controls))if(this.contains(H)&&j(le))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,le,gt)=>((le.enabled||this.disabled)&&(H[gt]=le.value),H))}_reduceChildren(j,H){let le=j;return this._forEachChild((gt,Bn)=>{le=H(le,gt,Bn)}),le}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class Qt extends ye{}const li=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ci}),ci="always";function Es(B,j){return[...j.path,B]}function Wr(B,j,H=ci){Ds(B,j),j.valueAccessor.writeValue(B.value),(B.disabled||"always"===H)&&j.valueAccessor.setDisabledState?.(B.disabled),function Js(B,j){j.valueAccessor.registerOnChange(H=>{B._pendingValue=H,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&Ei(B,j)})}(B,j),function Pi(B,j){const H=(le,gt)=>{j.valueAccessor.writeValue(le),gt&&j.viewToModelUpdate(le)};B.registerOnChange(H),j._registerOnDestroy(()=>{B._unregisterOnChange(H)})}(B,j),function Xr(B,j){j.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&Ei(B,j),"submit"!==B.updateOn&&B.markAsTouched()})}(B,j),function $s(B,j){if(j.valueAccessor.setDisabledState){const H=le=>{j.valueAccessor.setDisabledState(le)};B.registerOnDisabledChange(H),j._registerOnDestroy(()=>{B._unregisterOnDisabledChange(H)})}}(B,j)}function zi(B,j,H=!0){const le=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(le),j.valueAccessor.registerOnTouched(le)),di(B,j),B&&(j._invokeOnDestroyCallbacks(),B._registerOnCollectionChange(()=>{}))}function Rs(B,j){B.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(j)})}function Ds(B,j){const H=Jr(B);null!==j.validator?B.setValidators(Xn(H,j.validator)):"function"==typeof H&&B.setValidators([H]);const le=Gr(B);null!==j.asyncValidator?B.setAsyncValidators(Xn(le,j.asyncValidator)):"function"==typeof le&&B.setAsyncValidators([le]);const gt=()=>B.updateValueAndValidity();Rs(j._rawValidators,gt),Rs(j._rawAsyncValidators,gt)}function di(B,j){let H=!1;if(null!==B){if(null!==j.validator){const gt=Jr(B);if(Array.isArray(gt)&&gt.length>0){const Bn=gt.filter(ti=>ti!==j.validator);Bn.length!==gt.length&&(H=!0,B.setValidators(Bn))}}if(null!==j.asyncValidator){const gt=Gr(B);if(Array.isArray(gt)&&gt.length>0){const Bn=gt.filter(ti=>ti!==j.asyncValidator);Bn.length!==gt.length&&(H=!0,B.setAsyncValidators(Bn))}}}const le=()=>{};return Rs(j._rawValidators,le),Rs(j._rawAsyncValidators,le),H}function Ei(B,j){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}function ir(B,j){if(!B.hasOwnProperty("model"))return!1;const H=B.model;return!!H.isFirstChange()||!Object.is(j,H.currentValue)}function wr(B,j){if(!j)return null;let H,le,gt;return Array.isArray(j),j.forEach(Bn=>{Bn.constructor===dt?H=Bn:function un(B){return Object.getPrototypeOf(B.constructor)===Je}(Bn)?le=Bn:gt=Bn}),gt||le||H||null}function cs(B,j){const H=B.indexOf(j);H>-1&&B.splice(H,1)}function co(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const Ui=class extends Fe{constructor(j=null,H,le){super(Ce(H),Ie(le,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zt(H)&&(H.nonNullable||H.initialValueIsDefault)&&(this.defaultValue=co(j)?j.value:j)}setValue(j,H={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(le=>le(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(j,H={}){this.setValue(j,H)}reset(j=this.defaultValue,H={}){this._applyFormState(j),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){cs(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){cs(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){co(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},tn={provide:Ar,useExisting:(0,w.Gpc)(()=>Nn)},On=(()=>Promise.resolve())();let Nn=(()=>{class B extends Ar{constructor(H,le,gt,Bn,ti,gs){super(),this._changeDetectorRef=ti,this.callSetDisabledState=gs,this.control=new Ui,this._registered=!1,this.update=new w.vpe,this._parent=H,this._setValidators(le),this._setAsyncValidators(gt),this.valueAccessor=wr(0,Bn)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const le=H.name.previousValue;this.formDirective.removeControl({name:le,path:this._getPath(le)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),ir(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){On.then(()=>{this.control.setValue(H,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(H){const le=H.isDisabled.currentValue,gt=0!==le&&(0,w.D6c)(le);On.then(()=>{gt&&!this.control.disabled?this.control.disable():!gt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(H){return this._parent?Es(H,this._parent):[H]}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(mn,9),w.Y36(ze,10),w.Y36(ht,10),w.Y36(bt,10),w.Y36(w.sBO,8),w.Y36(li,8))},B.\u0275dir=w.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w._Bn([tn]),w.qOj,w.TTD]}),B})(),Sr=(()=>{class B{}return B.\u0275fac=function(H){return new(H||B)},B.\u0275dir=w.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})(),Pe=(()=>{class B{}return B.\u0275fac=function(H){return new(H||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({}),B})();const Qs=new w.OlP("NgModelWithFormControlWarning"),Xl={provide:mn,useExisting:(0,w.Gpc)(()=>Di)};let Di=(()=>{class B extends mn{constructor(H,le,gt){super(),this.callSetDisabledState=gt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(H),this._setAsyncValidators(le)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(di(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const le=this.form.get(H.path);return Wr(le,H,this.callSetDisabledState),le.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),le}getControl(H){return this.form.get(H.path)}removeControl(H){zi(H.control||null,H,!1),function va(B,j){const H=B.indexOf(j);H>-1&&B.splice(H,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,le){this.form.get(H.path).setValue(le)}onSubmit(H){return this.submitted=!0,function Ps(B,j){B._syncPendingControls(),j.forEach(H=>{const le=H.control;"submit"===le.updateOn&&le._pendingChange&&(H.viewToModelUpdate(le._pendingValue),le._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const le=H.control,gt=this.form.get(H.path);le!==gt&&(zi(le||null,H),(B=>B instanceof Ui)(gt)&&(Wr(gt,H,this.callSetDisabledState),H.control=gt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const le=this.form.get(H.path);(function wi(B,j){Ds(B,j)})(le,H),le.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const le=this.form.get(H.path);le&&function ki(B,j){return di(B,j)}(le,H)&&le.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ds(this.form,this),this._oldForm&&di(this._oldForm,this)}_checkFormPresent(){}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(ze,10),w.Y36(ht,10),w.Y36(li,8))},B.\u0275dir=w.lG2({type:B,selectors:[["","formGroup",""]],hostBindings:function(H,le){1&H&&w.NdJ("submit",function(Bn){return le.onSubmit(Bn)})("reset",function(){return le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Xl]),w.qOj,w.TTD]}),B})();const fo={provide:Ar,useExisting:(0,w.Gpc)(()=>ml)};let ml=(()=>{class B extends Ar{set isDisabled(H){}constructor(H,le,gt,Bn,ti){super(),this._ngModelWarningConfig=ti,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(le),this._setAsyncValidators(gt),this.valueAccessor=wr(0,Bn)}ngOnChanges(H){this._added||this._setUpControl(),ir(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return Es(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return B._ngModelWarningSentOnce=!1,B.\u0275fac=function(H){return new(H||B)(w.Y36(mn,13),w.Y36(ze,10),w.Y36(ht,10),w.Y36(bt,10),w.Y36(Qs,8))},B.\u0275dir=w.lG2({type:B,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([fo]),w.qOj,w.TTD]}),B})();const Eu={provide:bt,useExisting:(0,w.Gpc)(()=>Xa),multi:!0};function ks(B,j){return null==B?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${B}: ${j}`.slice(0,50))}let Xa=(()=>{class B extends Je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(H){this._compareWith=H}writeValue(H){this.value=H;const gt=ks(this._getOptionId(H),H);this.setProperty("value",gt)}registerOnChange(H){this.onChange=le=>{this.value=this._getOptionValue(le),H(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(H){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le),H))return le;return null}_getOptionValue(H){const le=function ps(B){return B.split(":")[0]}(H);return this._optionMap.has(le)?this._optionMap.get(le):H}}return B.\u0275fac=function(){let j;return function(le){return(j||(j=w.n5z(B)))(le||B)}}(),B.\u0275dir=w.lG2({type:B,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(H,le){1&H&&w.NdJ("change",function(Bn){return le.onChange(Bn.target.value)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Eu]),w.qOj]}),B})(),so=(()=>{class B{constructor(H,le,gt){this._element=H,this._renderer=le,this._select=gt,this._select&&(this.id=this._select._registerOption())}set ngValue(H){null!=this._select&&(this._select._optionMap.set(this.id,H),this._setElementValue(ks(this.id,H)),this._select.writeValue(this._select.value))}set value(H){this._setElementValue(H),this._select&&this._select.writeValue(this._select.value)}_setElementValue(H){this._renderer.setProperty(this._element.nativeElement,"value",H)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(Xa,9))},B.\u0275dir=w.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})();const Lu={provide:bt,useExisting:(0,w.Gpc)(()=>So),multi:!0};function bu(B,j){return null==B?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${B}: ${j}`.slice(0,50))}let So=(()=>{class B extends Je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(H){this._compareWith=H}writeValue(H){let le;if(this.value=H,Array.isArray(H)){const gt=H.map(Bn=>this._getOptionId(Bn));le=(Bn,ti)=>{Bn._setSelected(gt.indexOf(ti.toString())>-1)}}else le=(gt,Bn)=>{gt._setSelected(!1)};this._optionMap.forEach(le)}registerOnChange(H){this.onChange=le=>{const gt=[],Bn=le.selectedOptions;if(void 0!==Bn){const ti=Bn;for(let gs=0;gs<ti.length;gs++){const js=this._getOptionValue(ti[gs].value);gt.push(js)}}else{const ti=le.options;for(let gs=0;gs<ti.length;gs++){const wa=ti[gs];if(wa.selected){const js=this._getOptionValue(wa.value);gt.push(js)}}}this.value=gt,H(gt)}}_registerOption(H){const le=(this._idCounter++).toString();return this._optionMap.set(le,H),le}_getOptionId(H){for(const le of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(le)._value,H))return le;return null}_getOptionValue(H){const le=function Hs(B){return B.split(":")[0]}(H);return this._optionMap.has(le)?this._optionMap.get(le)._value:H}}return B.\u0275fac=function(){let j;return function(le){return(j||(j=w.n5z(B)))(le||B)}}(),B.\u0275dir=w.lG2({type:B,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(H,le){1&H&&w.NdJ("change",function(Bn){return le.onChange(Bn.target)})("blur",function(){return le.onTouched()})},inputs:{compareWith:"compareWith"},features:[w._Bn([Lu]),w.qOj]}),B})(),xs=(()=>{class B{constructor(H,le,gt){this._element=H,this._renderer=le,this._select=gt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(H){null!=this._select&&(this._value=H,this._setElementValue(bu(this.id,H)),this._select.writeValue(this._select.value))}set value(H){this._select?(this._value=H,this._setElementValue(bu(this.id,H)),this._select.writeValue(this._select.value)):this._setElementValue(H)}_setElementValue(H){this._renderer.setProperty(this._element.nativeElement,"value",H)}_setSelected(H){this._renderer.setProperty(this._element.nativeElement,"selected",H)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return B.\u0275fac=function(H){return new(H||B)(w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(So,9))},B.\u0275dir=w.lG2({type:B,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),B})(),tu=(()=>{class B{}return B.\u0275fac=function(H){return new(H||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({imports:[Pe]}),B})();class zo extends Fe{constructor(j,H,le){super(Ce(H),Ie(le,H)),this.controls=j,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,H={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}insert(j,H,le={}){this.controls.splice(j,0,H),this._registerControl(H),this.updateValueAndValidity({emitEvent:le.emitEvent})}removeAt(j,H={}){let le=this._adjustIndex(j);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:H.emitEvent})}setControl(j,H,le={}){let gt=this._adjustIndex(j);gt<0&&(gt=0),this.controls[gt]&&this.controls[gt]._registerOnCollectionChange(()=>{}),this.controls.splice(gt,1),H&&(this.controls.splice(gt,0,H),this._registerControl(H)),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,H={}){$e(this,0,j),j.forEach((le,gt)=>{Tn(this,!1,gt),this.at(gt).setValue(le,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(j,H={}){null!=j&&(j.forEach((le,gt)=>{this.at(gt)&&this.at(gt).patchValue(le,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(j=[],H={}){this._forEachChild((le,gt)=>{le.reset(j[gt],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(H=>H._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((H,le)=>!!le._syncPendingControls()||H,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((H,le)=>{j(H,le)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(H=>H.enabled&&j(H))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){return this.at(j)??null}}function wu(B){return!!B&&(void 0!==B.asyncValidators||void 0!==B.validators||void 0!==B.updateOn)}let Is=(()=>{class B{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new B;return H.useNonNullable=!0,H}group(H,le=null){const gt=this._reduceControls(H);let Bn={};return wu(le)?Bn=le:null!==le&&(Bn.validators=le.validator,Bn.asyncValidators=le.asyncValidator),new ye(gt,Bn)}record(H,le=null){const gt=this._reduceControls(H);return new Qt(gt,le)}control(H,le,gt){let Bn={};return this.useNonNullable?(wu(le)?Bn=le:(Bn.validators=le,Bn.asyncValidators=gt),new Ui(H,{...Bn,nonNullable:!0})):new Ui(H,le,gt)}array(H,le,gt){const Bn=H.map(ti=>this._createControl(ti));return new zo(Bn,le,gt)}_reduceControls(H){const le={};return Object.keys(H).forEach(gt=>{le[gt]=this._createControl(H[gt])}),le}_createControl(H){return H instanceof Ui||H instanceof Fe?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}}return B.\u0275fac=function(H){return new(H||B)},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),ru=(()=>{class B{static withConfig(H){return{ngModule:B,providers:[{provide:li,useValue:H.callSetDisabledState??ci}]}}}return B.\u0275fac=function(H){return new(H||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({imports:[tu]}),B})(),iu=(()=>{class B{static withConfig(H){return{ngModule:B,providers:[{provide:Qs,useValue:H.warnOnNgModelWithFormControl??"always"},{provide:li,useValue:H.callSetDisabledState??ci}]}}}return B.\u0275fac=function(H){return new(H||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({imports:[tu]}),B})()},310:()=>{"use strict";class tb extends Error{constructor(r){super(`No translation found for ${Iv(r)}.`),this.parsedMessage=r,this.type="MissingTranslationError"}}const xv=function(p,...r){if(xv.translate){const h=xv.translate(p,r);p=h[0],r=h[1]}let l=l_(p[0],p.raw[0]);for(let h=1;h<p.length;h++)l+=r[h-1]+l_(p[h],p.raw[h]);return l};function l_(p,r){return":"===r.charAt(0)?p.substring(function Sv(p,r){for(let l=1,h=1;l<p.length;l++,h++)if("\\"===r[h])h++;else if(":"===p[l])return l;throw new Error(`Unterminated $localize metadata block in "${r}".`)}(p,r)+1):p}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=xv},1481:(He,we,L)=>{"use strict";L.d(we,{Cg:()=>bn,Dx:()=>si});var w=L(6895),M=L(4650);class u extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends u{static makeCurrent(){(0,w.HT)(new fe)}onAndCancel(Fe,ye,nt){return Fe.addEventListener(ye,nt,!1),()=>{Fe.removeEventListener(ye,nt,!1)}}dispatchEvent(Fe,ye){Fe.dispatchEvent(ye)}remove(Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)}createElement(Fe,ye){return(ye=ye||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,ye){return"window"===ye?window:"document"===ye?Fe:"body"===ye?Fe.body:null}getBaseHref(Fe){const ye=function Me(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==ye?null:function ge($e){Se=Se||document.createElement("a"),Se.setAttribute("href",$e);const Fe=Se.pathname;return"/"===Fe.charAt(0)?Fe:`/${Fe}`}(ye)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,w.Mx)(document.cookie,Fe)}}let Se,_e=null,ut=(()=>{class $e{build(){return new XMLHttpRequest}}return $e.\u0275fac=function(ye){return new(ye||$e)},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Je=new M.OlP("EventManagerPlugins");let bt=(()=>{class $e{constructor(ye,nt){this._zone=nt,this._eventNameToPlugin=new Map,ye.forEach(Wt=>Wt.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,nt,Wt){return this._findPluginFor(nt).addEventListener(ye,nt,Wt)}addGlobalEventListener(ye,nt,Wt){return this._findPluginFor(nt).addGlobalEventListener(ye,nt,Wt)}getZone(){return this._zone}_findPluginFor(ye){const nt=this._eventNameToPlugin.get(ye);if(nt)return nt;const Wt=this._plugins;for(let Qt=0;Qt<Wt.length;Qt++){const xn=Wt[Qt];if(xn.supports(ye))return this._eventNameToPlugin.set(ye,xn),xn}throw new Error(`No event manager plugin found for event ${ye}`)}}return $e.\u0275fac=function(ye){return new(ye||$e)(M.LFG(Je),M.LFG(M.R0b))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ct{constructor(Fe){this._doc=Fe}addGlobalEventListener(Fe,ye,nt){const Wt=(0,w.q)().getGlobalEventTarget(this._doc,Fe);if(!Wt)throw new Error(`Unsupported event target ${Wt} for event ${ye}`);return this.addEventListener(Wt,ye,nt)}}let Ye=(()=>{class $e{constructor(){this._stylesSet=new Set}addStyles(ye){const nt=new Set;ye.forEach(Wt=>{this._stylesSet.has(Wt)||(this._stylesSet.add(Wt),nt.add(Wt))}),this.onStylesAdded(nt)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return $e.\u0275fac=function(ye){return new(ye||$e)},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),at=(()=>{class $e extends Ye{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,nt,Wt){ye.forEach(Qt=>{const xn=this._doc.createElement("style");xn.textContent=Qt,Wt.push(nt.appendChild(xn))})}addHost(ye){const nt=[];this._addStylesToHost(this._stylesSet,ye,nt),this._hostNodes.set(ye,nt)}removeHost(ye){const nt=this._hostNodes.get(ye);nt&&nt.forEach(st),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((nt,Wt)=>{this._addStylesToHost(ye,Wt,nt)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(st))}}return $e.\u0275fac=function(ye){return new(ye||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function st($e){(0,w.q)().remove($e)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dt=/%COMP%/g;function Yt($e,Fe){return Fe.flat(100).map(ye=>ye.replace(dt,$e))}function zt($e){return Fe=>{if("__ngUnwrap__"===Fe)return $e;!1===$e(Fe)&&(Fe.preventDefault(),Fe.returnValue=!1)}}let Qn=(()=>{class $e{constructor(ye,nt,Wt){this.eventManager=ye,this.sharedStylesHost=nt,this.appId=Wt,this.rendererByCompId=new Map,this.defaultRenderer=new fn(ye)}createRenderer(ye,nt){if(!ye||!nt)return this.defaultRenderer;switch(nt.encapsulation){case M.ifc.Emulated:{let Wt=this.rendererByCompId.get(nt.id);return Wt||(Wt=new Bt(this.eventManager,this.sharedStylesHost,nt,this.appId),this.rendererByCompId.set(nt.id,Wt)),Wt.applyToHost(ye),Wt}case M.ifc.ShadowDom:return new qt(this.eventManager,this.sharedStylesHost,ye,nt);default:if(!this.rendererByCompId.has(nt.id)){const Wt=Yt(nt.id,nt.styles);this.sharedStylesHost.addStyles(Wt),this.rendererByCompId.set(nt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $e.\u0275fac=function(ye){return new(ye||$e)(M.LFG(bt),M.LFG(at),M.LFG(M.AFp))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class fn{constructor(Fe){this.eventManager=Fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Fe,ye){return ye?document.createElementNS(Ct[ye]||ye,Fe):document.createElement(Fe)}createComment(Fe){return document.createComment(Fe)}createText(Fe){return document.createTextNode(Fe)}appendChild(Fe,ye){(It(Fe)?Fe.content:Fe).appendChild(ye)}insertBefore(Fe,ye,nt){Fe&&(It(Fe)?Fe.content:Fe).insertBefore(ye,nt)}removeChild(Fe,ye){Fe&&Fe.removeChild(ye)}selectRootElement(Fe,ye){let nt="string"==typeof Fe?document.querySelector(Fe):Fe;if(!nt)throw new Error(`The selector "${Fe}" did not match any elements`);return ye||(nt.textContent=""),nt}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,ye,nt,Wt){if(Wt){ye=Wt+":"+ye;const Qt=Ct[Wt];Qt?Fe.setAttributeNS(Qt,ye,nt):Fe.setAttribute(ye,nt)}else Fe.setAttribute(ye,nt)}removeAttribute(Fe,ye,nt){if(nt){const Wt=Ct[nt];Wt?Fe.removeAttributeNS(Wt,ye):Fe.removeAttribute(`${nt}:${ye}`)}else Fe.removeAttribute(ye)}addClass(Fe,ye){Fe.classList.add(ye)}removeClass(Fe,ye){Fe.classList.remove(ye)}setStyle(Fe,ye,nt,Wt){Wt&(M.JOm.DashCase|M.JOm.Important)?Fe.style.setProperty(ye,nt,Wt&M.JOm.Important?"important":""):Fe.style[ye]=nt}removeStyle(Fe,ye,nt){nt&M.JOm.DashCase?Fe.style.removeProperty(ye):Fe.style[ye]=""}setProperty(Fe,ye,nt){Fe[ye]=nt}setValue(Fe,ye){Fe.nodeValue=ye}listen(Fe,ye,nt){return"string"==typeof Fe?this.eventManager.addGlobalEventListener(Fe,ye,zt(nt)):this.eventManager.addEventListener(Fe,ye,zt(nt))}}function It($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class Bt extends fn{constructor(Fe,ye,nt,Wt){super(Fe),this.component=nt;const Qt=Yt(Wt+"-"+nt.id,nt.styles);ye.addStyles(Qt),this.contentAttr=function ht($e){return"_ngcontent-%COMP%".replace(dt,$e)}(Wt+"-"+nt.id),this.hostAttr=function Ft($e){return"_nghost-%COMP%".replace(dt,$e)}(Wt+"-"+nt.id)}applyToHost(Fe){super.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,ye){const nt=super.createElement(Fe,ye);return super.setAttribute(nt,this.contentAttr,""),nt}}class qt extends fn{constructor(Fe,ye,nt,Wt){super(Fe),this.sharedStylesHost=ye,this.hostEl=nt,this.shadowRoot=nt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qt=Yt(Wt.id,Wt.styles);for(let xn=0;xn<Qt.length;xn++){const li=document.createElement("style");li.textContent=Qt[xn],this.shadowRoot.appendChild(li)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Fe,ye){return super.appendChild(this.nodeOrShadowRoot(Fe),ye)}insertBefore(Fe,ye,nt){return super.insertBefore(this.nodeOrShadowRoot(Fe),ye,nt)}removeChild(Fe,ye){return super.removeChild(this.nodeOrShadowRoot(Fe),ye)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}}let Kt=(()=>{class $e extends ct{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,nt,Wt){return ye.addEventListener(nt,Wt,!1),()=>this.removeEventListener(ye,nt,Wt)}removeEventListener(ye,nt,Wt){return ye.removeEventListener(nt,Wt)}}return $e.\u0275fac=function(ye){return new(ye||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const _n=["alt","control","meta","shift"],an={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let dn=(()=>{class $e extends ct{constructor(ye){super(ye)}supports(ye){return null!=$e.parseEventName(ye)}addEventListener(ye,nt,Wt){const Qt=$e.parseEventName(nt),xn=$e.eventCallback(Qt.fullKey,Wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(ye,Qt.domEventName,xn))}static parseEventName(ye){const nt=ye.toLowerCase().split("."),Wt=nt.shift();if(0===nt.length||"keydown"!==Wt&&"keyup"!==Wt)return null;const Qt=$e._normalizeKey(nt.pop());let xn="",li=nt.indexOf("code");if(li>-1&&(nt.splice(li,1),xn="code."),_n.forEach(Es=>{const Wr=nt.indexOf(Es);Wr>-1&&(nt.splice(Wr,1),xn+=Es+".")}),xn+=Qt,0!=nt.length||0===Qt.length)return null;const ci={};return ci.domEventName=Wt,ci.fullKey=xn,ci}static matchEventFullKeyCode(ye,nt){let Wt=an[ye.key]||ye.key,Qt="";return nt.indexOf("code.")>-1&&(Wt=ye.code,Qt="code."),!(null==Wt||!Wt)&&(Wt=Wt.toLowerCase()," "===Wt?Wt="space":"."===Wt&&(Wt="dot"),_n.forEach(xn=>{xn!==Wt&&(0,An[xn])(ye)&&(Qt+=xn+".")}),Qt+=Wt,Qt===nt)}static eventCallback(ye,nt,Wt){return Qt=>{$e.matchEventFullKeyCode(Qt,ye)&&Wt.runGuarded(()=>nt(Qt))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return $e.\u0275fac=function(ye){return new(ye||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function bn($e,Fe){return(0,M.iPO)({rootComponent:$e,...kr(Fe)})}function kr($e){return{appProviders:[...er,...$e?.providers??[]],platformProviders:Gr}}const Gr=[{provide:M.Lbi,useValue:w.bD},{provide:M.g9A,useValue:function gr(){fe.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function Jr(){return(0,M.RDi)(document),document},deps:[]}],er=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function Xn(){return new M.qLn},deps:[]},{provide:Je,useClass:Kt,multi:!0,deps:[w.K0,M.R0b,M.Lbi]},{provide:Je,useClass:dn,multi:!0,deps:[w.K0]},{provide:Qn,useClass:Qn,deps:[bt,at,M.AFp]},{provide:M.FYo,useExisting:Qn},{provide:Ye,useExisting:at},{provide:at,useClass:at,deps:[w.K0]},{provide:bt,useClass:bt,deps:[Je,M.R0b]},{provide:w.JF,useClass:ut,deps:[]},[]];let si=(()=>{class $e{constructor(ye){this._doc=ye}getTitle(){return this._doc.title}setTitle(ye){this._doc.title=ye||""}}return $e.\u0275fac=function(ye){return new(ye||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:function(ye){let nt=null;return nt=ye?new ye:function Ri(){return new si((0,M.LFG)(w.K0))}(),nt},providedIn:"root"}),$e})();typeof window<"u"&&window},4258:(He,we,L)=>{"use strict";L.d(we,{F0:()=>eo,rH:()=>Du,Bz:()=>Wa,lC:()=>bu});var w=L(4650),M=L(8996),u=L(9646),fe=L(1135),_e=L(6805),Me=L(9841),Se=L(7272),ge=L(9770),Ee=L(9635),pe=L(2843),be=L(9751),Ne=L(515),ut=L(4033),Je=L(7579),bt=L(6895),ct=L(4004),Ye=L(3900),at=L(5698),st=L(8675),Ct=L(9300),dt=L(5577),Mt=L(590),Tt=L(4351),Ut=L(8505),ze=L(262),ht=L(5026),Ft=L(4482),Yt=L(5403);function zt(x){return x<=0?()=>Ne.E:(0,Ft.e)((R,S)=>{let V=[];R.subscribe((0,Yt.x)(S,J=>{V.push(J),x<V.length&&V.shift()},()=>{for(const J of V)S.next(J);S.complete()},void 0,()=>{V=null}))})}var Qn=L(8068),fn=L(6590),_t=L(4671);function ot(x,R){const S=arguments.length>=2;return V=>V.pipe(x?(0,Ct.h)((J,re)=>x(J,re,V)):_t.y,zt(1),S?(0,fn.d)(R):(0,Qn.T)(()=>new _e.K))}var Bt=L(9718);function qt(x){return(0,Ft.e)((R,S)=>{try{R.subscribe(S)}finally{S.add(x)}})}var Kt=L(8343),_n=L(8189),an=L(1481);const An="primary",dn=Symbol("RouteTitle");class Ln{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S[0]:S}return null}getAll(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function bn(x){return new Ln(x)}function Or(x,R,S){const V=S.path.split("/");if(V.length>x.length||"full"===S.pathMatch&&(R.hasChildren()||V.length<x.length))return null;const J={};for(let re=0;re<V.length;re++){const ce=V[re],Xe=x[re];if(ce.startsWith(":"))J[ce.substring(1)]=Xe;else if(ce!==Xe.path)return null}return{consumed:x.slice(0,V.length),posParams:J}}function br(x,R){const S=x?Object.keys(x):void 0,V=R?Object.keys(R):void 0;if(!S||!V||S.length!=V.length)return!1;let J;for(let re=0;re<S.length;re++)if(J=S[re],!gr(x[J],R[J]))return!1;return!0}function gr(x,R){if(Array.isArray(x)&&Array.isArray(R)){if(x.length!==R.length)return!1;const S=[...x].sort(),V=[...R].sort();return S.every((J,re)=>V[re]===J)}return x===R}function Xn(x){return Array.prototype.concat.apply([],x)}function Jr(x){return x.length>0?x[x.length-1]:null}function Cr(x,R){for(const S in x)x.hasOwnProperty(S)&&R(x[S],S)}function vi(x){return(0,w.CqO)(x)?x:(0,w.QGY)(x)?(0,M.D)(Promise.resolve(x)):(0,u.of)(x)}const ar=!1,er={exact:function Vi(x,R,S){if(!jr(x.segments,R.segments)||!xt(x.segments,R.segments,S)||x.numberOfChildren!==R.numberOfChildren)return!1;for(const V in R.children)if(!x.children[V]||!Vi(x.children[V],R.children[V],S))return!1;return!0},subset:si},Qr={exact:function Ar(x,R){return br(x,R)},subset:function Ri(x,R){return Object.keys(R).length<=Object.keys(x).length&&Object.keys(R).every(S=>gr(x[S],R[S]))},ignored:()=>!0};function mn(x,R,S){return er[S.paths](x.root,R.root,S.matrixParams)&&Qr[S.queryParams](x.queryParams,R.queryParams)&&!("exact"===S.fragment&&x.fragment!==R.fragment)}function si(x,R,S){return qr(x,R,R.segments,S)}function qr(x,R,S,V){if(x.segments.length>S.length){const J=x.segments.slice(0,S.length);return!(!jr(J,S)||R.hasChildren()||!xt(J,S,V))}if(x.segments.length===S.length){if(!jr(x.segments,S)||!xt(x.segments,S,V))return!1;for(const J in R.children)if(!x.children[J]||!si(x.children[J],R.children[J],V))return!1;return!0}{const J=S.slice(0,x.segments.length),re=S.slice(x.segments.length);return!!(jr(x.segments,J)&&xt(x.segments,J,V)&&x.children[An])&&qr(x.children[An],R,re,V)}}function xt(x,R,S){return R.every((V,J)=>Qr[S](x[J].parameters,V.parameters))}class kn{constructor(R=new cn([],{}),S={},V=null){this.root=R,this.queryParams=S,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return yr.serialize(this)}}class cn{constructor(R,S){this.segments=R,this.children=S,this.parent=null,Cr(S,(V,J)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ys(this)}}class Fn{constructor(R,S){this.path=R,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return Ht(this)}}function jr(x,R){return x.length===R.length&&x.every((S,V)=>S.path===R[V].path)}let In=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return new us},providedIn:"root"}),x})();class us{parse(R){const S=new Zt(R);return new kn(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(R){const S=`/${fr(R.root,!0)}`,V=function Ve(x){const R=Object.keys(x).map(S=>{const V=x[S];return Array.isArray(V)?V.map(J=>`${yi(S)}=${yi(J)}`).join("&"):`${yi(S)}=${yi(V)}`}).filter(S=>!!S);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${S}${V}${"string"==typeof R.fragment?`#${function rn(x){return encodeURI(x)}(R.fragment)}`:""}`}}const yr=new us;function ys(x){return x.segments.map(R=>Ht(R)).join("/")}function fr(x,R){if(!x.hasChildren())return ys(x);if(R){const S=x.children[An]?fr(x.children[An],!1):"",V=[];return Cr(x.children,(J,re)=>{re!==An&&V.push(`${re}:${fr(J,!1)}`)}),V.length>0?`${S}(${V.join("//")})`:S}{const S=function es(x,R){let S=[];return Cr(x.children,(V,J)=>{J===An&&(S=S.concat(R(V,J)))}),Cr(x.children,(V,J)=>{J!==An&&(S=S.concat(R(V,J)))}),S}(x,(V,J)=>J===An?[fr(x.children[An],!1)]:[`${J}:${fr(V,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[An]?`${ys(x)}/${S[0]}`:`${ys(x)}/(${S.join("//")})`}}function ls(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(x){return ls(x).replace(/%3B/gi,";")}function jt(x){return ls(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wn(x){return decodeURIComponent(x)}function Kn(x){return wn(x.replace(/\+/g,"%20"))}function Ht(x){return`${jt(x.path)}${function Mr(x){return Object.keys(x).map(R=>`;${jt(R)}=${jt(x[R])}`).join("")}(x.parameters)}`}const Ae=/^[^\/()?;=#]+/;function je(x){const R=x.match(Ae);return R?R[0]:""}const Ce=/^[^=?&#]+/,Ie=/^[^&#]+/;class Zt{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(R.length>0||Object.keys(S).length>0)&&(V[An]=new cn(R,S)),V}parseSegment(){const R=je(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new w.vHH(4009,ar);return this.capture(R),new Fn(wn(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const S=je(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const J=je(this.remaining);J&&(V=J,this.capture(V))}R[wn(S)]=wn(V)}parseQueryParam(R){const S=function ae(x){const R=x.match(Ce);return R?R[0]:""}(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const ce=function Et(x){const R=x.match(Ie);return R?R[0]:""}(this.remaining);ce&&(V=ce,this.capture(V))}const J=Kn(S),re=Kn(V);if(R.hasOwnProperty(J)){let ce=R[J];Array.isArray(ce)||(ce=[ce],R[J]=ce),ce.push(re)}else R[J]=re}parseParens(R){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=je(this.remaining),J=this.remaining[V.length];if("/"!==J&&")"!==J&&";"!==J)throw new w.vHH(4010,ar);let re;V.indexOf(":")>-1?(re=V.slice(0,V.indexOf(":")),this.capture(re),this.capture(":")):R&&(re=An);const ce=this.parseChildren();S[re]=1===Object.keys(ce).length?ce[An]:new cn([],ce),this.consumeOptional("//")}return S}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new w.vHH(4011,ar)}}function Tn(x){return x.segments.length>0?new cn([],{[An]:x}):x}function $e(x){const R={};for(const V of Object.keys(x.children)){const re=$e(x.children[V]);(re.segments.length>0||re.hasChildren())&&(R[V]=re)}return function Fe(x){if(1===x.numberOfChildren&&x.children[An]){const R=x.children[An];return new cn(x.segments.concat(R.segments),R.children)}return x}(new cn(x.segments,R))}function ye(x){return x instanceof kn}function li(x,R,S,V,J){if(0===S.length)return Wr(R.root,R.root,R.root,V,J);const re=function $s(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new Rs(!0,0,x);let R=0,S=!1;const V=x.reduce((J,re,ce)=>{if("object"==typeof re&&null!=re){if(re.outlets){const Xe={};return Cr(re.outlets,(Jt,Jn)=>{Xe[Jn]="string"==typeof Jt?Jt.split("/"):Jt}),[...J,{outlets:Xe}]}if(re.segmentPath)return[...J,re.segmentPath]}return"string"!=typeof re?[...J,re]:0===ce?(re.split("/").forEach((Xe,Jt)=>{0==Jt&&"."===Xe||(0==Jt&&""===Xe?S=!0:".."===Xe?R++:""!=Xe&&J.push(Xe))}),J):[...J,re]},[]);return new Rs(S,R,V)}(S);return re.toRoot()?Wr(R.root,R.root,new cn([],{}),V,J):function ce(Jt){const Jn=function Js(x,R,S,V){if(x.isAbsolute)return new Ds(R.root,!0,0);if(-1===V)return new Ds(S,S===R.root,0);return function Xr(x,R,S){let V=x,J=R,re=S;for(;re>J;){if(re-=J,V=V.parent,!V)throw new w.vHH(4005,!1);J=V.segments.length}return new Ds(V,!1,J-re)}(S,V+(ci(x.commands[0])?0:1),x.numberOfDoubleDots)}(re,R,x.snapshot?._urlSegment,Jt),Pn=Jn.processChildren?wi(Jn.segmentGroup,Jn.index,re.commands):Pi(Jn.segmentGroup,Jn.index,re.commands);return Wr(R.root,Jn.segmentGroup,Pn,V,J)}(x.snapshot?._lastPathIndex)}function ci(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Es(x){return"object"==typeof x&&null!=x&&x.outlets}function Wr(x,R,S,V,J){let ce,re={};V&&Cr(V,(Jt,Jn)=>{re[Jn]=Array.isArray(Jt)?Jt.map(Pn=>`${Pn}`):`${Jt}`}),ce=x===R?S:zi(x,R,S);const Xe=Tn($e(ce));return new kn(Xe,re,J)}function zi(x,R,S){const V={};return Cr(x.children,(J,re)=>{V[re]=J===R?S:zi(J,R,S)}),new cn(x.segments,V)}class Rs{constructor(R,S,V){if(this.isAbsolute=R,this.numberOfDoubleDots=S,this.commands=V,R&&V.length>0&&ci(V[0]))throw new w.vHH(4003,!1);const J=V.find(Es);if(J&&J!==Jr(V))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ds{constructor(R,S,V){this.segmentGroup=R,this.processChildren=S,this.index=V}}function Pi(x,R,S){if(x||(x=new cn([],{})),0===x.segments.length&&x.hasChildren())return wi(x,R,S);const V=function ki(x,R,S){let V=0,J=R;const re={match:!1,pathIndex:0,commandIndex:0};for(;J<x.segments.length;){if(V>=S.length)return re;const ce=x.segments[J],Xe=S[V];if(Es(Xe))break;const Jt=`${Xe}`,Jn=V<S.length-1?S[V+1]:null;if(J>0&&void 0===Jt)break;if(Jt&&Jn&&"object"==typeof Jn&&void 0===Jn.outlets){if(!Ti(Jt,Jn,ce))return re;V+=2}else{if(!Ti(Jt,{},ce))return re;V++}J++}return{match:!0,pathIndex:J,commandIndex:V}}(x,R,S),J=S.slice(V.commandIndex);if(V.match&&V.pathIndex<x.segments.length){const re=new cn(x.segments.slice(0,V.pathIndex),{});return re.children[An]=new cn(x.segments.slice(V.pathIndex),x.children),wi(re,0,J)}return V.match&&0===J.length?new cn(x.segments,{}):V.match&&!x.hasChildren()?oi(x,R,S):V.match?wi(x,0,J):oi(x,R,S)}function wi(x,R,S){if(0===S.length)return new cn(x.segments,{});{const V=function Ei(x){return Es(x[0])?x[0].outlets:{[An]:x}}(S),J={};return Cr(V,(re,ce)=>{"string"==typeof re&&(re=[re]),null!==re&&(J[ce]=Pi(x.children[ce],R,re))}),Cr(x.children,(re,ce)=>{void 0===V[ce]&&(J[ce]=re)}),new cn(x.segments,J)}}function oi(x,R,S){const V=x.segments.slice(0,R);let J=0;for(;J<S.length;){const re=S[J];if(Es(re)){const Jt=Rn(re.outlets);return new cn(V,Jt)}if(0===J&&ci(S[0])){V.push(new Fn(x.segments[R].path,mr(S[0]))),J++;continue}const ce=Es(re)?re.outlets[An]:`${re}`,Xe=J<S.length-1?S[J+1]:null;ce&&Xe&&ci(Xe)?(V.push(new Fn(ce,mr(Xe))),J+=2):(V.push(new Fn(ce,{})),J++)}return new cn(V,{})}function Rn(x){const R={};return Cr(x,(S,V)=>{"string"==typeof S&&(S=[S]),null!==S&&(R[V]=oi(new cn([],{}),0,S))}),R}function mr(x){const R={};return Cr(x,(S,V)=>R[V]=`${S}`),R}function Ti(x,R,S){return x==S.path&&br(R,S.parameters)}const fs="imperative";class ir{constructor(R,S){this.id=R,this.url=S}}class un extends ir{constructor(R,S,V="imperative",J=null){super(R,S),this.type=0,this.navigationTrigger=V,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends ir{constructor(R,S,V){super(R,S),this.urlAfterRedirects=V,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wr extends ir{constructor(R,S,V,J){super(R,S),this.reason=V,this.code=J,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class va extends ir{constructor(R,S,V,J){super(R,S),this.reason=V,this.code=J,this.type=16}}class _r extends ir{constructor(R,S,V,J){super(R,S),this.error=V,this.target=J,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sr extends ir{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends ir{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa extends ir{constructor(R,S,V,J,re){super(R,S),this.urlAfterRedirects=V,this.state=J,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cs extends ir{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class co extends ir{constructor(R,S,V,J){super(R,S),this.urlAfterRedirects=V,this.state=J,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wt{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ke{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(R,S,V){this.routerEvent=R,this.position=S,this.anchor=V,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ot=(()=>{class x{createUrlTree(S,V,J,re,ce,Xe){return li(S||V.root,J,re,ce,Xe)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})(),On=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(R){return Ot.\u0275fac(R)},providedIn:"root"}),x})();class Nn{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const S=this.pathFromRoot(R);return S.length>1?S[S.length-2]:null}children(R){const S=Sr(R,this._root);return S?S.children.map(V=>V.value):[]}firstChild(R){const S=Sr(R,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(R){const S=Nr(R,this._root);return S.length<2?[]:S[S.length-2].children.map(J=>J.value).filter(J=>J!==R)}pathFromRoot(R){return Nr(R,this._root).map(S=>S.value)}}function Sr(x,R){if(x===R.value)return R;for(const S of R.children){const V=Sr(x,S);if(V)return V}return null}function Nr(x,R){if(x===R.value)return[R];for(const S of R.children){const V=Nr(x,S);if(V.length)return V.unshift(R),V}return[]}class $i{constructor(R,S){this.value=R,this.children=S}toString(){return`TreeNode(${this.value})`}}function ds(x){const R={};return x&&x.children.forEach(S=>R[S.value.outlet]=S),R}class Qe extends Nn{constructor(R,S){super(R),this.snapshot=S,Co(this,R)}toString(){return this.snapshot.toString()}}function Pe(x,R){const S=function Rl(x,R){const ce=new Qs([],{},{},"",{},An,R,null,x.root,-1,{});return new Qa("",new $i(ce,[]))}(x,R),V=new fe.X([new Fn("",{})]),J=new fe.X({}),re=new fe.X({}),ce=new fe.X({}),Xe=new fe.X(""),Jt=new Ci(V,J,ce,Xe,re,An,R,S.root);return Jt.snapshot=S.root,new Qe(new $i(Jt,[]),S)}class Ci{constructor(R,S,V,J,re,ce,Xe,Jt){this.url=R,this.params=S,this.queryParams=V,this.fragment=J,this.data=re,this.outlet=ce,this.component=Xe,this.title=this.data?.pipe((0,ct.U)(Jn=>Jn[dn]))??(0,u.of)(void 0),this._futureSnapshot=Jt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(R=>bn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(R=>bn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function To(x,R="emptyOnly"){const S=x.pathFromRoot;let V=0;if("always"!==R)for(V=S.length-1;V>=1;){const J=S[V],re=S[V-1];if(J.routeConfig&&""===J.routeConfig.path)V--;else{if(re.component)break;V--}}return function Ua(x){return x.reduce((R,S)=>({params:{...R.params,...S.params},data:{...R.data,...S.data},resolve:{...S.data,...R.resolve,...S.routeConfig?.data,...S._resolvedData}}),{params:{},data:{},resolve:{}})}(S.slice(V))}class Qs{get title(){return this.data?.[dn]}constructor(R,S,V,J,re,ce,Xe,Jt,Jn,Pn,hi){this.url=R,this.params=S,this.queryParams=V,this.fragment=J,this.data=re,this.outlet=ce,this.component=Xe,this.routeConfig=Jt,this._urlSegment=Jn,this._lastPathIndex=Pn,this._resolve=hi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qa extends Nn{constructor(R,S){super(S),this.url=R,Co(this,S)}toString(){return Xl(this._root)}}function Co(x,R){R.value._routerState=x,R.children.forEach(S=>Co(x,S))}function Xl(x){const R=x.children.length>0?` { ${x.children.map(Xl).join(", ")} } `:"";return`${x.value}${R}`}function Di(x){if(x.snapshot){const R=x.snapshot,S=x._futureSnapshot;x.snapshot=S,br(R.queryParams,S.queryParams)||x.queryParams.next(S.queryParams),R.fragment!==S.fragment&&x.fragment.next(S.fragment),br(R.params,S.params)||x.params.next(S.params),function kr(x,R){if(x.length!==R.length)return!1;for(let S=0;S<x.length;++S)if(!br(x[S],R[S]))return!1;return!0}(R.url,S.url)||x.url.next(S.url),br(R.data,S.data)||x.data.next(S.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function Hi(x,R){const S=br(x.params,R.params)&&function Wn(x,R){return jr(x,R)&&x.every((S,V)=>br(S.parameters,R[V].parameters))}(x.url,R.url);return S&&!(!x.parent!=!R.parent)&&(!x.parent||Hi(x.parent,R.parent))}function ho(x,R,S){if(S&&x.shouldReuseRoute(R.value,S.value.snapshot)){const V=S.value;V._futureSnapshot=R.value;const J=function gl(x,R,S){return R.children.map(V=>{for(const J of S.children)if(x.shouldReuseRoute(V.value,J.value.snapshot))return ho(x,V,J);return ho(x,V)})}(x,R,S);return new $i(V,J)}{if(x.shouldAttach(R.value)){const re=x.retrieve(R.value);if(null!==re){const ce=re.route;return ce.value._futureSnapshot=R.value,ce.children=R.children.map(Xe=>ho(x,Xe)),ce}}const V=function Do(x){return new Ci(new fe.X(x.url),new fe.X(x.params),new fe.X(x.queryParams),new fe.X(x.fragment),new fe.X(x.data),x.outlet,x.component,x)}(R.value),J=R.children.map(re=>ho(x,re));return new $i(V,J)}}const fo="ngNavigationCancelingError";function ml(x,R){const{redirectTo:S,navigationBehaviorOptions:V}=ye(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,J=Eu(!1,0,R);return J.url=S,J.navigationBehaviorOptions=V,J}function Eu(x,R,S){const V=new Error("NavigationCancelingError: "+(x||""));return V[fo]=!0,V.cancellationCode=R,S&&(V.url=S),V}function ks(x){return ps(x)&&ye(x.url)}function ps(x){return x&&x[fo]}class Xa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new so,this.attachRef=null}}let so=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(S,V){const J=this.getOrCreateContext(S);J.outlet=V,this.contexts.set(S,J)}onChildOutletDestroyed(S){const V=this.getContext(S);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let V=this.getContext(S);return V||(V=new Xa,this.contexts.set(S,V)),V}getContext(S){return this.contexts.get(S)||null}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Lu=!1;let bu=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=An,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(so),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(S){if(S.name){const{firstChange:V,previousValue:J}=S.name;if(V)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Lu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Lu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Lu);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,V){this.activated=S,this._activatedRoute=V,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,V){if(this.isActivated)throw new w.vHH(4013,Lu);this._activatedRoute=S;const J=this.location,ce=S.snapshot.component,Xe=this.parentContexts.getOrCreateContext(this.name).children,Jt=new Hs(S,Xe,J.injector);if(V&&function ya(x){return!!x.resolveComponentFactory}(V)){const Jn=V.resolveComponentFactory(ce);this.activated=J.createComponent(Jn,J.length,Jt)}else this.activated=J.createComponent(ce,{index:J.length,injector:Jt,environmentInjector:V??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275dir=w.lG2({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),x})();class Hs{constructor(R,S,V){this.route=R,this.childContexts=S,this.parent=V}get(R,S){return R===Ci?this.route:R===so?this.childContexts:this.parent.get(R,S)}}let So=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275cmp=w.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(S,V){1&S&&w._UZ(0,"router-outlet")},dependencies:[bu],encapsulation:2}),x})();function xs(x,R){return x.providers&&!x._injector&&(x._injector=(0,w.MMx)(x.providers,R,`Route: ${x.path}`)),x._injector??R}function Si(x){const R=x.children&&x.children.map(Si),S=R?{...x,children:R}:{...x};return!S.component&&!S.loadComponent&&(R||S.loadChildren)&&S.outlet&&S.outlet!==An&&(S.component=So),S}function Ls(x){return x.outlet||An}function Ii(x,R){const S=x.filter(V=>Ls(V)===R);return S.push(...x.filter(V=>Ls(V)!==R)),S}function Un(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let R=x.parent;R;R=R.parent){const S=R.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class qi{constructor(R,S,V,J){this.routeReuseStrategy=R,this.futureState=S,this.currState=V,this.forwardEvent=J}activate(R){const S=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,V,R),Di(this.futureState.root),this.activateChildRoutes(S,V,R)}deactivateChildRoutes(R,S,V){const J=ds(S);R.children.forEach(re=>{const ce=re.value.outlet;this.deactivateRoutes(re,J[ce],V),delete J[ce]}),Cr(J,(re,ce)=>{this.deactivateRouteAndItsChildren(re,V)})}deactivateRoutes(R,S,V){const J=R.value,re=S?S.value:null;if(J===re)if(J.component){const ce=V.getContext(J.outlet);ce&&this.deactivateChildRoutes(R,S,ce.children)}else this.deactivateChildRoutes(R,S,V);else re&&this.deactivateRouteAndItsChildren(S,V)}deactivateRouteAndItsChildren(R,S){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,S):this.deactivateRouteAndOutlet(R,S)}detachAndStoreRouteSubtree(R,S){const V=S.getContext(R.value.outlet),J=V&&R.value.component?V.children:S,re=ds(R);for(const ce of Object.keys(re))this.deactivateRouteAndItsChildren(re[ce],J);if(V&&V.outlet){const ce=V.outlet.detach(),Xe=V.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:ce,route:R,contexts:Xe})}}deactivateRouteAndOutlet(R,S){const V=S.getContext(R.value.outlet),J=V&&R.value.component?V.children:S,re=ds(R);for(const ce of Object.keys(re))this.deactivateRouteAndItsChildren(re[ce],J);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(R,S,V){const J=ds(S);R.children.forEach(re=>{this.activateRoutes(re,J[re.value.outlet],V),this.forwardEvent(new kt(re.value.snapshot))}),R.children.length&&this.forwardEvent(new vt(R.value.snapshot))}activateRoutes(R,S,V){const J=R.value,re=S?S.value:null;if(Di(J),J===re)if(J.component){const ce=V.getOrCreateContext(J.outlet);this.activateChildRoutes(R,S,ce.children)}else this.activateChildRoutes(R,S,V);else if(J.component){const ce=V.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const Xe=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),ce.children.onOutletReAttached(Xe.contexts),ce.attachRef=Xe.componentRef,ce.route=Xe.route.value,ce.outlet&&ce.outlet.attach(Xe.componentRef,Xe.route.value),Di(Xe.route.value),this.activateChildRoutes(R,null,ce.children)}else{const Xe=Un(J.snapshot),Jt=Xe?.get(w._Vd)??null;ce.attachRef=null,ce.route=J,ce.resolver=Jt,ce.injector=Xe,ce.outlet&&ce.outlet.activateWith(J,ce.injector),this.activateChildRoutes(R,null,ce.children)}}else this.activateChildRoutes(R,null,V)}}class $n{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Wo{constructor(R,S){this.component=R,this.route=S}}function tr(x,R,S){const V=x._root;return go(V,R?R._root:null,S,[V.value])}function Gs(x,R){const S=Symbol(),V=R.get(x,S);return V===S?"function"!=typeof x||(0,w.Z0I)(x)?R.get(x):x:V}function go(x,R,S,V,J={canDeactivateChecks:[],canActivateChecks:[]}){const re=ds(R);return x.children.forEach(ce=>{(function _l(x,R,S,V,J={canDeactivateChecks:[],canActivateChecks:[]}){const re=x.value,ce=R?R.value:null,Xe=S?S.getContext(x.value.outlet):null;if(ce&&re.routeConfig===ce.routeConfig){const Jt=function ao(x,R,S){if("function"==typeof S)return S(x,R);switch(S){case"pathParamsChange":return!jr(x.url,R.url);case"pathParamsOrQueryParamsChange":return!jr(x.url,R.url)||!br(x.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hi(x,R)||!br(x.queryParams,R.queryParams);default:return!Hi(x,R)}}(ce,re,re.routeConfig.runGuardsAndResolvers);Jt?J.canActivateChecks.push(new $n(V)):(re.data=ce.data,re._resolvedData=ce._resolvedData),go(x,R,re.component?Xe?Xe.children:null:S,V,J),Jt&&Xe&&Xe.outlet&&Xe.outlet.isActivated&&J.canDeactivateChecks.push(new Wo(Xe.outlet.component,ce))}else ce&&tu(R,Xe,J),J.canActivateChecks.push(new $n(V)),go(x,null,re.component?Xe?Xe.children:null:S,V,J)})(ce,re[ce.value.outlet],S,V.concat([ce.value]),J),delete re[ce.value.outlet]}),Cr(re,(ce,Xe)=>tu(ce,S.getContext(Xe),J)),J}function tu(x,R,S){const V=ds(x),J=x.value;Cr(V,(re,ce)=>{tu(re,J.component?R?R.children.getContext(ce):null:R,S)}),S.canDeactivateChecks.push(new Wo(J.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,J))}function zo(x){return"function"==typeof x}function iu(x){return x instanceof _e.K||"EmptyError"===x?.name}const B=Symbol("INITIAL_VALUE");function j(){return(0,Ye.w)(x=>(0,Me.a)(x.map(R=>R.pipe((0,at.q)(1),(0,st.O)(B)))).pipe((0,ct.U)(R=>{for(const S of R)if(!0!==S){if(S===B)return B;if(!1===S||S instanceof kn)return S}return!0}),(0,Ct.h)(R=>R!==B),(0,at.q)(1)))}function qo(x){return(0,Ee.z)((0,Ut.b)(R=>{if(ye(R))throw ml(0,R)}),(0,ct.U)(R=>!0===R))}const ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bs(x,R,S,V,J){const re=_o(x,R,S);return re.matched?function mo(x,R,S,V){const J=R.canMatch;if(!J||0===J.length)return(0,u.of)(!0);const re=J.map(ce=>{const Xe=Gs(ce,x);return vi(function nu(x){return x&&zo(x.canMatch)}(Xe)?Xe.canMatch(R,S):x.runInContext(()=>Xe(R,S)))});return(0,u.of)(re).pipe(j(),qo())}(V=xs(R,V),R,S).pipe((0,ct.U)(ce=>!0===ce?re:{...ts})):(0,u.of)(re)}function _o(x,R,S){if(""===R.path)return"full"===R.pathMatch&&(x.hasChildren()||S.length>0)?{...ts}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const J=(R.matcher||Or)(S,x,R);if(!J)return{...ts};const re={};Cr(J.posParams,(Xe,Jt)=>{re[Jt]=Xe.path});const ce=J.consumed.length>0?{...re,...J.consumed[J.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:J.consumed,remainingSegments:S.slice(J.consumed.length),parameters:ce,positionalParamSegments:J.posParams??{}}}function ms(x,R,S,V){if(S.length>0&&function Xu(x,R,S){return S.some(V=>aa(x,R,V)&&Ls(V)!==An)}(x,S,V)){const re=new cn(R,function Ec(x,R,S,V){const J={};J[An]=V,V._sourceSegment=x,V._segmentIndexShift=R.length;for(const re of S)if(""===re.path&&Ls(re)!==An){const ce=new cn([],{});ce._sourceSegment=x,ce._segmentIndexShift=R.length,J[Ls(re)]=ce}return J}(x,R,V,new cn(S,x.children)));return re._sourceSegment=x,re._segmentIndexShift=R.length,{segmentGroup:re,slicedSegments:[]}}if(0===S.length&&function Bu(x,R,S){return S.some(V=>aa(x,R,V))}(x,S,V)){const re=new cn(x.segments,function Ko(x,R,S,V,J){const re={};for(const ce of V)if(aa(x,S,ce)&&!J[Ls(ce)]){const Xe=new cn([],{});Xe._sourceSegment=x,Xe._segmentIndexShift=R.length,re[Ls(ce)]=Xe}return{...J,...re}}(x,R,S,V,x.children));return re._sourceSegment=x,re._segmentIndexShift=R.length,{segmentGroup:re,slicedSegments:S}}const J=new cn(x.segments,x.children);return J._sourceSegment=x,J._segmentIndexShift=R.length,{segmentGroup:J,slicedSegments:S}}function aa(x,R,S){return(!(x.hasChildren()||R.length>0)||"full"!==S.pathMatch)&&""===S.path}function $a(x,R,S,V){return!!(Ls(x)===V||V!==An&&aa(R,S,x))&&("**"===x.path||_o(R,x,S).matched)}function Vu(x,R,S){return 0===R.length&&!x.children[S]}const ec=!1;class su{constructor(R){this.segmentGroup=R||null}}class Pl{constructor(R){this.urlTree=R}}function Ha(x){return(0,pe._)(new su(x))}function Uu(x){return(0,pe._)(new Pl(x))}class zn{constructor(R,S,V,J,re){this.injector=R,this.configLoader=S,this.urlSerializer=V,this.urlTree=J,this.config=re,this.allowRedirects=!0}apply(){const R=ms(this.urlTree.root,[],[],this.config).segmentGroup,S=new cn(R.segments,R.children);return this.expandSegmentGroup(this.injector,this.config,S,An).pipe((0,ct.U)(re=>this.createUrlTree($e(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ze.K)(re=>{if(re instanceof Pl)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof su?this.noMatchError(re):re}))}match(R){return this.expandSegmentGroup(this.injector,this.config,R.root,An).pipe((0,ct.U)(J=>this.createUrlTree($e(J),R.queryParams,R.fragment))).pipe((0,ze.K)(J=>{throw J instanceof su?this.noMatchError(J):J}))}noMatchError(R){return new w.vHH(4002,ec)}createUrlTree(R,S,V){const J=Tn(R);return new kn(J,S,V)}expandSegmentGroup(R,S,V,J){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(R,S,V).pipe((0,ct.U)(re=>new cn([],re))):this.expandSegment(R,V,S,V.segments,J,!0)}expandChildren(R,S,V){const J=[];for(const re of Object.keys(V.children))"primary"===re?J.unshift(re):J.push(re);return(0,M.D)(J).pipe((0,Tt.b)(re=>{const ce=V.children[re],Xe=Ii(S,re);return this.expandSegmentGroup(R,Xe,ce,re).pipe((0,ct.U)(Jt=>({segment:Jt,outlet:re})))}),(0,ht.R)((re,ce)=>(re[ce.outlet]=ce.segment,re),{}),ot())}expandSegment(R,S,V,J,re,ce){return(0,M.D)(V).pipe((0,Tt.b)(Xe=>this.expandSegmentAgainstRoute(R,S,V,Xe,J,re,ce).pipe((0,ze.K)(Jn=>{if(Jn instanceof su)return(0,u.of)(null);throw Jn}))),(0,Mt.P)(Xe=>!!Xe),(0,ze.K)((Xe,Jt)=>{if(iu(Xe))return Vu(S,J,re)?(0,u.of)(new cn([],{})):Ha(S);throw Xe}))}expandSegmentAgainstRoute(R,S,V,J,re,ce,Xe){return $a(J,S,re,ce)?void 0===J.redirectTo?this.matchSegmentAgainstRoute(R,S,J,re,ce):Xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,S,V,J,re,ce):Ha(S):Ha(S)}expandSegmentAgainstRouteUsingRedirect(R,S,V,J,re,ce){return"**"===J.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,V,J,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,J,re,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,S,V,J){const re=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?Uu(re):this.lineralizeSegments(V,re).pipe((0,dt.z)(ce=>{const Xe=new cn(ce,{});return this.expandSegment(R,Xe,S,ce,J,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,J,re,ce){const{matched:Xe,consumedSegments:Jt,remainingSegments:Jn,positionalParamSegments:Pn}=_o(S,J,re);if(!Xe)return Ha(S);const hi=this.applyRedirectCommands(Jt,J.redirectTo,Pn);return J.redirectTo.startsWith("/")?Uu(hi):this.lineralizeSegments(J,hi).pipe((0,dt.z)(Ki=>this.expandSegment(R,S,V,Ki.concat(Jn),ce,!1)))}matchSegmentAgainstRoute(R,S,V,J,re){return"**"===V.path?(R=xs(V,R),V.loadChildren?(V._loadedRoutes?(0,u.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):this.configLoader.loadChildren(R,V)).pipe((0,ct.U)(Xe=>(V._loadedRoutes=Xe.routes,V._loadedInjector=Xe.injector,new cn(J,{})))):(0,u.of)(new cn(J,{}))):Bs(S,V,J,R).pipe((0,Ye.w)(({matched:ce,consumedSegments:Xe,remainingSegments:Jt})=>ce?this.getChildConfig(R=V._injector??R,V,J).pipe((0,dt.z)(Pn=>{const hi=Pn.injector??R,Ki=Pn.routes,{segmentGroup:zs,slicedSegments:qs}=ms(S,Xe,Jt,Ki),al=new cn(zs.segments,zs.children);if(0===qs.length&&al.hasChildren())return this.expandChildren(hi,Ki,al).pipe((0,ct.U)(pd=>new cn(Xe,pd)));if(0===Ki.length&&0===qs.length)return(0,u.of)(new cn(Xe,{}));const Vo=Ls(V)===re;return this.expandSegment(hi,al,Ki,qs,Vo?An:re,!0).pipe((0,ct.U)(ca=>new cn(Xe.concat(ca.segments),ca.children)))})):Ha(S)))}getChildConfig(R,S,V){return S.children?(0,u.of)({routes:S.children,injector:R}):S.loadChildren?void 0!==S._loadedRoutes?(0,u.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function Yi(x,R,S,V){const J=R.canLoad;if(void 0===J||0===J.length)return(0,u.of)(!0);const re=J.map(ce=>{const Xe=Gs(ce,x);return vi(function Ss(x){return x&&zo(x.canLoad)}(Xe)?Xe.canLoad(R,S):x.runInContext(()=>Xe(R,S)))});return(0,u.of)(re).pipe(j(),qo())}(R,S,V).pipe((0,dt.z)(J=>J?this.configLoader.loadChildren(R,S).pipe((0,Ut.b)(re=>{S._loadedRoutes=re.routes,S._loadedInjector=re.injector})):function At(x){return(0,pe._)(Eu(ec,3))}())):(0,u.of)({routes:[],injector:R})}lineralizeSegments(R,S){let V=[],J=S.root;for(;;){if(V=V.concat(J.segments),0===J.numberOfChildren)return(0,u.of)(V);if(J.numberOfChildren>1||!J.children[An])return(0,pe._)(new w.vHH(4e3,ec));J=J.children[An]}}applyRedirectCommands(R,S,V){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),R,V)}applyRedirectCreateUrlTree(R,S,V,J){const re=this.createSegmentGroup(R,S.root,V,J);return new kn(re,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(R,S){const V={};return Cr(R,(J,re)=>{if("string"==typeof J&&J.startsWith(":")){const Xe=J.substring(1);V[re]=S[Xe]}else V[re]=J}),V}createSegmentGroup(R,S,V,J){const re=this.createSegments(R,S.segments,V,J);let ce={};return Cr(S.children,(Xe,Jt)=>{ce[Jt]=this.createSegmentGroup(R,Xe,V,J)}),new cn(re,ce)}createSegments(R,S,V,J){return S.map(re=>re.path.startsWith(":")?this.findPosParam(R,re,J):this.findOrReturn(re,V))}findPosParam(R,S,V){const J=V[S.path.substring(1)];if(!J)throw new w.vHH(4001,ec);return J}findOrReturn(R,S){let V=0;for(const J of S){if(J.path===R.path)return S.splice(V),J;V++}return R}}class Ms{}class Ji{constructor(R,S,V,J,re,ce,Xe){this.injector=R,this.rootComponentType=S,this.config=V,this.urlTree=J,this.url=re,this.paramsInheritanceStrategy=ce,this.urlSerializer=Xe}recognize(){const R=ms(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,An).pipe((0,ct.U)(S=>{if(null===S)return null;const V=new Qs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),J=new $i(V,S),re=new Qa(this.url,J);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(R){const S=R.value,V=To(S,this.paramsInheritanceStrategy);S.params=Object.freeze(V.params),S.data=Object.freeze(V.data),R.children.forEach(J=>this.inheritParamsAndData(J))}processSegmentGroup(R,S,V,J){return 0===V.segments.length&&V.hasChildren()?this.processChildren(R,S,V):this.processSegment(R,S,V,V.segments,J)}processChildren(R,S,V){return(0,M.D)(Object.keys(V.children)).pipe((0,Tt.b)(J=>{const re=V.children[J],ce=Ii(S,J);return this.processSegmentGroup(R,ce,re,J)}),(0,ht.R)((J,re)=>J&&re?(J.push(...re),J):null),function It(x,R=!1){return(0,Ft.e)((S,V)=>{let J=0;S.subscribe((0,Yt.x)(V,re=>{const ce=x(re,J++);(ce||R)&&V.next(re),!ce&&V.complete()}))})}(J=>null!==J),(0,fn.d)(null),ot(),(0,ct.U)(J=>{if(null===J)return null;const re=$u(J);return function Zo(x){x.sort((R,S)=>R.value.outlet===An?-1:S.value.outlet===An?1:R.value.outlet.localeCompare(S.value.outlet))}(re),re}))}processSegment(R,S,V,J,re){return(0,M.D)(S).pipe((0,Tt.b)(ce=>this.processSegmentAgainstRoute(ce._injector??R,ce,V,J,re)),(0,Mt.P)(ce=>!!ce),(0,ze.K)(ce=>{if(iu(ce))return Vu(V,J,re)?(0,u.of)([]):(0,u.of)(null);throw ce}))}processSegmentAgainstRoute(R,S,V,J,re){if(S.redirectTo||!$a(S,V,J,re))return(0,u.of)(null);let ce;if("**"===S.path){const Xe=J.length>0?Jr(J).parameters:{},Jt=gi(V)+J.length,Jn=new Qs(J,Xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(S),Ls(S),S.component??S._loadedComponent??null,S,Tu(V),Jt,W(S));ce=(0,u.of)({snapshot:Jn,consumedSegments:[],remainingSegments:[]})}else ce=Bs(V,S,J,R).pipe((0,ct.U)(({matched:Xe,consumedSegments:Jt,remainingSegments:Jn,parameters:Pn})=>{if(!Xe)return null;const hi=gi(V)+Jt.length;return{snapshot:new Qs(Jt,Pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(S),Ls(S),S.component??S._loadedComponent??null,S,Tu(V),hi,W(S)),consumedSegments:Jt,remainingSegments:Jn}}));return ce.pipe((0,Ye.w)(Xe=>{if(null===Xe)return(0,u.of)(null);const{snapshot:Jt,consumedSegments:Jn,remainingSegments:Pn}=Xe;R=S._injector??R;const hi=S._loadedInjector??R,Ki=function kl(x){return x.children?x.children:x.loadChildren?x._loadedRoutes:[]}(S),{segmentGroup:zs,slicedSegments:qs}=ms(V,Jn,Pn,Ki.filter(Vo=>void 0===Vo.redirectTo));if(0===qs.length&&zs.hasChildren())return this.processChildren(hi,Ki,zs).pipe((0,ct.U)(Vo=>null===Vo?null:[new $i(Jt,Vo)]));if(0===Ki.length&&0===qs.length)return(0,u.of)([new $i(Jt,[])]);const al=Ls(S)===re;return this.processSegment(hi,Ki,zs,qs,al?An:re).pipe((0,ct.U)(Vo=>null===Vo?null:[new $i(Jt,Vo)]))}))}}function xo(x){const R=x.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function $u(x){const R=[],S=new Set;for(const V of x){if(!xo(V)){R.push(V);continue}const J=R.find(re=>V.value.routeConfig===re.value.routeConfig);void 0!==J?(J.children.push(...V.children),S.add(J)):R.push(V)}for(const V of S){const J=$u(V.children);R.push(new $i(V.value,J))}return R.filter(V=>!S.has(V))}function Tu(x){let R=x;for(;R._sourceSegment;)R=R._sourceSegment;return R}function gi(x){let R=x,S=R._segmentIndexShift??0;for(;R._sourceSegment;)R=R._sourceSegment,S+=R._segmentIndexShift??0;return S-1}function X(x){return x.data||{}}function W(x){return x.resolve||{}}function _i(x){return"string"==typeof x.title||null===x.title}function Fi(x){return(0,Ye.w)(R=>{const S=x(R);return S?(0,M.D)(S).pipe((0,ct.U)(()=>R)):(0,u.of)(R)})}const Li=new w.OlP("ROUTES");let ni=(()=>{class x{constructor(S,V){this.injector=S,this.compiler=V,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,u.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const V=vi(S.loadComponent()).pipe((0,ct.U)(bs),(0,Ut.b)(re=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=re}),qt(()=>{this.componentLoaders.delete(S)})),J=new ut.c(V,()=>new Je.x).pipe((0,Kt.x)());return this.componentLoaders.set(S,J),J}loadChildren(S,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,u.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const re=this.loadModuleFactoryOrRoutes(V.loadChildren).pipe((0,ct.U)(Xe=>{this.onLoadEndListener&&this.onLoadEndListener(V);let Jt,Jn,Pn=!1;Array.isArray(Xe)?Jn=Xe:(Jt=Xe.create(S).injector,Jn=Xn(Jt.get(Li,[],w.XFs.Self|w.XFs.Optional)));return{routes:Jn.map(Si),injector:Jt}}),qt(()=>{this.childrenLoaders.delete(V)})),ce=new ut.c(re,()=>new Je.x).pipe((0,Kt.x)());return this.childrenLoaders.set(V,ce),ce}loadModuleFactoryOrRoutes(S){return vi(S()).pipe((0,ct.U)(bs),(0,dt.z)(J=>J instanceof w.YKP||Array.isArray(J)?(0,u.of)(J):(0,M.D)(this.compiler.compileModuleAsync(J))))}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(w.zs3),w.LFG(w.Sil))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function bs(x){return function Lo(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let Vs=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Je.x,this.configLoader=(0,w.f3M)(ni),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(In),this.rootContexts=(0,w.f3M)(so),this.navigationId=0,this.afterPreactivation=()=>(0,u.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new wt(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new Ui(J))}complete(){this.transitions?.complete()}handleNavigationRequest(S){const V=++this.navigationId;this.transitions?.next({...this.transitions.value,...S,id:V})}setupNavigations(S){return this.transitions=new fe.X({id:0,targetPageId:0,currentUrlTree:S.currentUrlTree,currentRawUrl:S.currentUrlTree,extractedUrl:S.urlHandlingStrategy.extract(S.currentUrlTree),urlAfterRedirects:S.urlHandlingStrategy.extract(S.currentUrlTree),rawUrl:S.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fs,restoredState:null,currentSnapshot:S.routerState.snapshot,targetSnapshot:null,currentRouterState:S.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ct.h)(V=>0!==V.id),(0,ct.U)(V=>({...V,extractedUrl:S.urlHandlingStrategy.extract(V.rawUrl)})),(0,Ye.w)(V=>{let J=!1,re=!1;return(0,u.of)(V).pipe((0,Ut.b)(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(ce=>{const Xe=S.browserUrlTree.toString(),Jt=!S.navigated||ce.extractedUrl.toString()!==Xe||Xe!==S.currentUrlTree.toString();if(!Jt&&"reload"!==(ce.extras.onSameUrlNavigation??S.onSameUrlNavigation)){const Pn="";return this.events.next(new va(ce.id,S.serializeUrl(V.rawUrl),Pn,0)),S.rawUrlTree=ce.rawUrl,ce.resolve(null),Ne.E}if(S.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return ou(ce.source)&&(S.browserUrlTree=ce.extractedUrl),(0,u.of)(ce).pipe((0,Ye.w)(Pn=>{const hi=this.transitions?.getValue();return this.events.next(new un(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),Pn.source,Pn.restoredState)),hi!==this.transitions?.getValue()?Ne.E:Promise.resolve(Pn)}),function Lr(x,R,S,V){return(0,Ye.w)(J=>function lt(x,R,S,V,J){return new zn(x,R,S,V,J).apply()}(x,R,S,J.extractedUrl,V).pipe((0,ct.U)(re=>({...J,urlAfterRedirects:re}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,S.config),(0,Ut.b)(Pn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Pn.urlAfterRedirects},V.urlAfterRedirects=Pn.urlAfterRedirects}),function se(x,R,S,V,J){return(0,dt.z)(re=>function Ao(x,R,S,V,J,re,ce="emptyOnly"){return new Ji(x,R,S,V,J,ce,re).recognize().pipe((0,Ye.w)(Xe=>null===Xe?function Vr(x){return new be.y(R=>R.error(x))}(new Ms):(0,u.of)(Xe)))}(x,R,S,re.urlAfterRedirects,V.serialize(re.urlAfterRedirects),V,J).pipe((0,ct.U)(ce=>({...re,targetSnapshot:ce}))))}(this.environmentInjector,this.rootComponentType,S.config,this.urlSerializer,S.paramsInheritanceStrategy),(0,Ut.b)(Pn=>{if(V.targetSnapshot=Pn.targetSnapshot,"eager"===S.urlUpdateStrategy){if(!Pn.extras.skipLocationChange){const Ki=S.urlHandlingStrategy.merge(Pn.urlAfterRedirects,Pn.rawUrl);S.setBrowserUrl(Ki,Pn)}S.browserUrlTree=Pn.urlAfterRedirects}const hi=new sr(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(hi)}));if(Jt&&S.urlHandlingStrategy.shouldProcessUrl(S.rawUrlTree)){const{id:Pn,extractedUrl:hi,source:Ki,restoredState:zs,extras:qs}=ce,al=new un(Pn,this.urlSerializer.serialize(hi),Ki,zs);this.events.next(al);const Vo=Pe(hi,this.rootComponentType).snapshot;return V={...ce,targetSnapshot:Vo,urlAfterRedirects:hi,extras:{...qs,skipLocationChange:!1,replaceUrl:!1}},(0,u.of)(V)}{const Pn="";return this.events.next(new va(ce.id,S.serializeUrl(V.extractedUrl),Pn,1)),S.rawUrlTree=ce.rawUrl,ce.resolve(null),Ne.E}}),(0,Ut.b)(ce=>{const Xe=new Fo(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Xe)}),(0,ct.U)(ce=>V={...ce,guards:tr(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)}),function H(x,R){return(0,dt.z)(S=>{const{targetSnapshot:V,currentSnapshot:J,guards:{canActivateChecks:re,canDeactivateChecks:ce}}=S;return 0===ce.length&&0===re.length?(0,u.of)({...S,guardsResult:!0}):function le(x,R,S,V){return(0,M.D)(x).pipe((0,dt.z)(J=>function js(x,R,S,V,J){const re=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,u.of)(!0);const ce=re.map(Xe=>{const Jt=Un(R)??J,Jn=Gs(Xe,Jt);return vi(function Ma(x){return x&&zo(x.canDeactivate)}(Jn)?Jn.canDeactivate(x,R,S,V):Jt.runInContext(()=>Jn(x,R,S,V))).pipe((0,Mt.P)())});return(0,u.of)(ce).pipe(j())}(J.component,J.route,S,R,V)),(0,Mt.P)(J=>!0!==J,!0))}(ce,V,J,x).pipe((0,dt.z)(Xe=>Xe&&function Fr(x){return"boolean"==typeof x}(Xe)?function gt(x,R,S,V){return(0,M.D)(R).pipe((0,Tt.b)(J=>(0,Se.z)(function ti(x,R){return null!==x&&R&&R(new ke(x)),(0,u.of)(!0)}(J.route.parent,V),function Bn(x,R){return null!==x&&R&&R(new rt(x)),(0,u.of)(!0)}(J.route,V),function wa(x,R,S){const V=R[R.length-1],re=R.slice(0,R.length-1).reverse().map(ce=>function Ai(x){const R=x.routeConfig?x.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:x,guards:R}:null}(ce)).filter(ce=>null!==ce).map(ce=>(0,ge.P)(()=>{const Xe=ce.guards.map(Jt=>{const Jn=Un(ce.node)??S,Pn=Gs(Jt,Jn);return vi(function Is(x){return x&&zo(x.canActivateChild)}(Pn)?Pn.canActivateChild(V,x):Jn.runInContext(()=>Pn(V,x))).pipe((0,Mt.P)())});return(0,u.of)(Xe).pipe(j())}));return(0,u.of)(re).pipe(j())}(x,J.path,S),function gs(x,R,S){const V=R.routeConfig?R.routeConfig.canActivate:null;if(!V||0===V.length)return(0,u.of)(!0);const J=V.map(re=>(0,ge.P)(()=>{const ce=Un(R)??S,Xe=Gs(re,ce);return vi(function wu(x){return x&&zo(x.canActivate)}(Xe)?Xe.canActivate(R,x):ce.runInContext(()=>Xe(R,x))).pipe((0,Mt.P)())}));return(0,u.of)(J).pipe(j())}(x,J.route,S))),(0,Mt.P)(J=>!0!==J,!0))}(V,re,x,R):(0,u.of)(Xe)),(0,ct.U)(Xe=>({...S,guardsResult:Xe})))})}(this.environmentInjector,ce=>this.events.next(ce)),(0,Ut.b)(ce=>{if(V.guardsResult=ce.guardsResult,ye(ce.guardsResult))throw ml(0,ce.guardsResult);const Xe=new oa(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(Xe)}),(0,Ct.h)(ce=>!!ce.guardsResult||(S.restoreHistory(ce),this.cancelNavigationTransition(ce,"",3),!1)),Fi(ce=>{if(ce.guards.canActivateChecks.length)return(0,u.of)(ce).pipe((0,Ut.b)(Xe=>{const Jt=new cs(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(Jt)}),(0,Ye.w)(Xe=>{let Jt=!1;return(0,u.of)(Xe).pipe(function Be(x,R){return(0,dt.z)(S=>{const{targetSnapshot:V,guards:{canActivateChecks:J}}=S;if(!J.length)return(0,u.of)(S);let re=0;return(0,M.D)(J).pipe((0,Tt.b)(ce=>function yt(x,R,S,V){const J=x.routeConfig,re=x._resolve;return void 0!==J?.title&&!_i(J)&&(re[dn]=J.title),function Vt(x,R,S,V){const J=function yn(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===J.length)return(0,u.of)({});const re={};return(0,M.D)(J).pipe((0,dt.z)(ce=>function mi(x,R,S,V){const J=Un(R)??V,re=Gs(x,J);return vi(re.resolve?re.resolve(R,S):J.runInContext(()=>re(R,S)))}(x[ce],R,S,V).pipe((0,Mt.P)(),(0,Ut.b)(Xe=>{re[ce]=Xe}))),zt(1),(0,Bt.h)(re),(0,ze.K)(ce=>iu(ce)?Ne.E:(0,pe._)(ce)))}(re,x,R,V).pipe((0,ct.U)(ce=>(x._resolvedData=ce,x.data=To(x,S).resolve,J&&_i(J)&&(x.data[dn]=J.title),null)))}(ce.route,V,x,R)),(0,Ut.b)(()=>re++),zt(1),(0,dt.z)(ce=>re===J.length?(0,u.of)(S):Ne.E))})}(S.paramsInheritanceStrategy,this.environmentInjector),(0,Ut.b)({next:()=>Jt=!0,complete:()=>{Jt||(S.restoreHistory(Xe),this.cancelNavigationTransition(Xe,"",2))}}))}),(0,Ut.b)(Xe=>{const Jt=new co(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(Jt)}))}),Fi(ce=>{const Xe=Jt=>{const Jn=[];Jt.routeConfig?.loadComponent&&!Jt.routeConfig._loadedComponent&&Jn.push(this.configLoader.loadComponent(Jt.routeConfig).pipe((0,Ut.b)(Pn=>{Jt.component=Pn}),(0,ct.U)(()=>{})));for(const Pn of Jt.children)Jn.push(...Xe(Pn));return Jn};return(0,Me.a)(Xe(ce.targetSnapshot.root)).pipe((0,fn.d)(),(0,at.q)(1))}),Fi(()=>this.afterPreactivation()),(0,ct.U)(ce=>{const Xe=function Ju(x,R,S){const V=ho(x,R._root,S?S._root:void 0);return new Qe(V,R)}(S.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return V={...ce,targetRouterState:Xe}}),(0,Ut.b)(ce=>{S.currentUrlTree=ce.urlAfterRedirects,S.rawUrlTree=S.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),S.routerState=ce.targetRouterState,"deferred"===S.urlUpdateStrategy&&(ce.extras.skipLocationChange||S.setBrowserUrl(S.rawUrlTree,ce),S.browserUrlTree=ce.urlAfterRedirects)}),((x,R,S)=>(0,ct.U)(V=>(new qi(R,V.targetRouterState,V.currentRouterState,S).activate(x),V)))(this.rootContexts,S.routeReuseStrategy,ce=>this.events.next(ce)),(0,Ut.b)({next:ce=>{J=!0,this.lastSuccessfulNavigation=this.currentNavigation,S.navigated=!0,this.events.next(new Ps(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(S.currentUrlTree))),S.titleStrategy?.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{J=!0}}),qt(()=>{J||re||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),(0,ze.K)(ce=>{if(re=!0,ps(ce)){ks(ce)||(S.navigated=!0,S.restoreHistory(V,!0));const Xe=new wr(V.id,this.urlSerializer.serialize(V.extractedUrl),ce.message,ce.cancellationCode);if(this.events.next(Xe),ks(ce)){const Jt=S.urlHandlingStrategy.merge(ce.url,S.rawUrlTree),Jn={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===S.urlUpdateStrategy||ou(V.source)};S.scheduleNavigation(Jt,fs,null,Jn,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{S.restoreHistory(V,!0);const Xe=new _r(V.id,this.urlSerializer.serialize(V.extractedUrl),ce,V.targetSnapshot??void 0);this.events.next(Xe);try{V.resolve(S.errorHandler(ce))}catch(Jt){V.reject(Jt)}}return Ne.E}))}))}cancelNavigationTransition(S,V,J){const re=new wr(S.id,this.urlSerializer.serialize(S.extractedUrl),V,J);this.events.next(re),S.resolve(!1)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function ou(x){return x!==fs}let Cu=(()=>{class x{buildTitle(S){let V,J=S.root;for(;void 0!==J;)V=this.getResolvedTitleForRoute(J)??V,J=J.children.find(re=>re.outlet===An);return V}getResolvedTitleForRoute(S){return S.data[dn]}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(Ga)},providedIn:"root"}),x})(),Ga=(()=>{class x extends Cu{constructor(S){super(),this.title=S}updateTitle(S){const V=this.buildTitle(S);void 0!==V&&this.title.setTitle(V)}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(an.Dx))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),vl=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(ua)},providedIn:"root"}),x})();class au{shouldDetach(R){return!1}store(R,S){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,S){return R.routeConfig===S.routeConfig}}let ua=(()=>{class x extends au{}return x.\u0275fac=function(){let R;return function(V){return(R||(R=w.n5z(x)))(V||x)}}(),x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const el=new w.OlP("",{providedIn:"root",factory:()=>({})});let fd=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(Ns)},providedIn:"root"}),x})(),Ns=(()=>{class x{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,V){return S}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Na(x){throw x}function Nh(x,R,S){return R.parse("/")}const yo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let eo=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(el,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Na,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Nh,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(fd),this.routeReuseStrategy=(0,w.f3M)(vl),this.urlCreationStrategy=(0,w.f3M)(On),this.titleStrategy=(0,w.f3M)(Cu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Xn((0,w.f3M)(Li,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(Vs),this.urlSerializer=(0,w.f3M)(In),this.location=(0,w.f3M)(bt.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pe(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(S=>{this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const S=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fs,S)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const V="popstate"===S.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{this.navigateToSyncWithBrowser(S.url,V,S.state)},0)}))}navigateToSyncWithBrowser(S,V,J){const re={replaceUrl:!0},ce=J?.navigationId?J:null;if(J){const Jt={...J};delete Jt.navigationId,delete Jt.\u0275routerPageId,0!==Object.keys(Jt).length&&(re.state=Jt)}const Xe=this.parseUrl(S);this.scheduleNavigation(Xe,V,ce,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(S){this.config=S.map(Si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,V={}){const{relativeTo:J,queryParams:re,fragment:ce,queryParamsHandling:Xe,preserveFragment:Jt}=V,Jn=Jt?this.currentUrlTree.fragment:ce;let Pn=null;switch(Xe){case"merge":Pn={...this.currentUrlTree.queryParams,...re};break;case"preserve":Pn=this.currentUrlTree.queryParams;break;default:Pn=re||null}return null!==Pn&&(Pn=this.removeEmptyProps(Pn)),this.urlCreationStrategy.createUrlTree(J,this.routerState,this.currentUrlTree,S,Pn,Jn??null)}navigateByUrl(S,V={skipLocationChange:!1}){const J=ye(S)?S:this.parseUrl(S),re=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(re,fs,null,V)}navigate(S,V={skipLocationChange:!1}){return function Os(x){for(let R=0;R<x.length;R++){if(null==x[R])throw new w.vHH(4008,!1)}}(S),this.navigateByUrl(this.createUrlTree(S,V),V)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let V;try{V=this.urlSerializer.parse(S)}catch(J){V=this.malformedUriErrorHandler(J,this.urlSerializer,S)}return V}isActive(S,V){let J;if(J=!0===V?{...yo}:!1===V?{...Fl}:V,ye(S))return mn(this.currentUrlTree,S,J);const re=this.parseUrl(S);return mn(this.currentUrlTree,re,J)}removeEmptyProps(S){return Object.keys(S).reduce((V,J)=>{const re=S[J];return null!=re&&(V[J]=re),V},{})}scheduleNavigation(S,V,J,re,ce){if(this.disposed)return Promise.resolve(!1);let Xe,Jt,Jn,Pn;return ce?(Xe=ce.resolve,Jt=ce.reject,Jn=ce.promise):Jn=new Promise((hi,Ki)=>{Xe=hi,Jt=Ki}),Pn="computed"===this.canceledNavigationResolution?J&&J.\u0275routerPageId?J.\u0275routerPageId:re.replaceUrl||re.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Pn,source:V,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:re,resolve:Xe,reject:Jt,promise:Jn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jn.catch(hi=>Promise.reject(hi))}setBrowserUrl(S,V){const J=this.urlSerializer.serialize(S),re={...V.extras.state,...this.generateNgRouterState(V.id,V.targetPageId)};this.location.isCurrentPathEqualTo(J)||V.extras.replaceUrl?this.location.replaceState(J,"",re):this.location.go(J,"",re)}restoreHistory(S,V=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===J?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(J)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,V){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:V}:{navigationId:S}}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Du=(()=>{class x{constructor(S,V,J,re,ce,Xe){this.router=S,this.route=V,this.tabIndexAttribute=J,this.renderer=re,this.el=ce,this.locationStrategy=Xe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Je.x;const Jt=ce.nativeElement.tagName;this.isAnchorElement="A"===Jt||"AREA"===Jt,this.isAnchorElement?this.subscription=S.events.subscribe(Jn=>{Jn instanceof Ps&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,w.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,w.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,w.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(S,V,J,re,ce){return!!(null===this.urlTree||this.isAnchorElement&&(0!==S||V||J||re||ce||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const S=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(S,V){const J=this.renderer,re=this.el.nativeElement;null!==V?J.setAttribute(re,S,V):J.removeAttribute(re,S)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return x.\u0275fac=function(S){return new(S||x)(w.Y36(eo),w.Y36(Ci),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(bt.S$))},x.\u0275dir=w.lG2({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,V){1&S&&w.NdJ("click",function(re){return V.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&S&&w.uIk("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),x})();class ja{}let nl=(()=>{class x{constructor(S,V,J,re,ce){this.router=S,this.injector=J,this.preloadingStrategy=re,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.h)(S=>S instanceof Ps),(0,Tt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,V){const J=[];for(const re of V){re.providers&&!re._injector&&(re._injector=(0,w.MMx)(re.providers,S,`Route: ${re.path}`));const ce=re._injector??S,Xe=re._loadedInjector??ce;re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent?J.push(this.preloadConfig(ce,re)):(re.children||re._loadedRoutes)&&J.push(this.processRoutes(Xe,re.children??re._loadedRoutes))}return(0,M.D)(J).pipe((0,_n.J)())}preloadConfig(S,V){return this.preloadingStrategy.preload(V,()=>{let J;J=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(S,V):(0,u.of)(null);const re=J.pipe((0,dt.z)(ce=>null===ce?(0,u.of)(void 0):(V._loadedRoutes=ce.routes,V._loadedInjector=ce.injector,this.processRoutes(ce.injector??S,ce.routes))));if(V.loadComponent&&!V._loadedComponent){const ce=this.loader.loadComponent(V);return(0,M.D)([re,ce]).pipe((0,_n.J)())}return re})}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(eo),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(ja),w.LFG(ni))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Ta=new w.OlP("");let la=(()=>{class x{constructor(S,V,J,re,ce={}){this.urlSerializer=S,this.transitions=V,this.viewportScroller=J,this.zone=re,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Ps&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof De&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new De(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return x.\u0275fac=function(S){w.$Z()},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})();function No(x,R){return{\u0275kind:x,\u0275providers:R}}function Qo(){const x=(0,w.f3M)(w.zs3);return R=>{const S=x.get(w.z2F);if(R!==S.components[0])return;const V=x.get(eo),J=x.get(Kr);1===x.get(Xo)&&V.initialNavigation(),x.get(rc,null,w.XFs.Optional)?.setUpPreloading(),x.get(Ta,null,w.XFs.Optional)?.init(),V.resetRootComponentType(S.componentTypes[0]),J.closed||(J.next(),J.unsubscribe())}}const Kr=new w.OlP("",{factory:()=>new Je.x}),Xo=new w.OlP("",{providedIn:"root",factory:()=>1});const rc=new w.OlP("");function yl(x){return No(0,[{provide:rc,useExisting:nl},{provide:ja,useExisting:x}])}const Bl=new w.OlP("ROUTER_FORROOT_GUARD"),Vl=[bt.Ye,{provide:In,useClass:us},eo,so,{provide:Ci,useFactory:function Mo(x){return x.routerState.root},deps:[eo]},ni,[]];function sl(){return new w.PXZ("Router",eo)}let Wa=(()=>{class x{constructor(S){}static forRoot(S,V){return{ngModule:x,providers:[Vl,[],{provide:Li,multi:!0,useValue:S},{provide:Bl,useFactory:sc,deps:[[eo,new w.FiY,new w.tp0]]},{provide:el,useValue:V||{}},V?.useHash?{provide:bt.S$,useClass:bt.Do}:{provide:bt.S$,useClass:bt.b0},{provide:Ta,useFactory:()=>{const x=(0,w.f3M)(bt.EM),R=(0,w.f3M)(w.R0b),S=(0,w.f3M)(el),V=(0,w.f3M)(Vs),J=(0,w.f3M)(In);return S.scrollOffset&&x.setOffset(S.scrollOffset),new la(J,V,x,R,S)}},V?.preloadingStrategy?yl(V.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:sl},V?.initialNavigation?Oa(V):[],[{provide:Qi,useFactory:Qo},{provide:w.tb,multi:!0,useExisting:Qi}]]}}static forChild(S){return{ngModule:x,providers:[{provide:Li,multi:!0,useValue:S}]}}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(Bl,8))},x.\u0275mod=w.oAB({type:x}),x.\u0275inj=w.cJS({imports:[So]}),x})();function sc(x){return"guarded"}function Oa(x){return["disabled"===x.initialNavigation?No(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const R=(0,w.f3M)(eo);return()=>{R.setUpLocationChangeListener()}}},{provide:Xo,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?No(2,[{provide:Xo,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:R=>{const S=R.get(bt.V_,Promise.resolve());return()=>S.then(()=>new Promise(J=>{const re=R.get(eo),ce=R.get(Kr);(function V(J){R.get(eo).events.pipe((0,Ct.h)(ce=>ce instanceof Ps||ce instanceof wr||ce instanceof _r),(0,ct.U)(ce=>ce instanceof Ps||ce instanceof wr&&(0===ce.code||1===ce.code)&&null),(0,Ct.h)(ce=>null!==ce),(0,at.q)(1)).subscribe(()=>{J()})})(()=>{J(!0)}),R.get(Vs).afterPreactivation=()=>(J(!0),ce.closed?(0,u.of)(void 0):ce),re.initialNavigation()}))}}]).\u0275providers:[]]}const Qi=new w.OlP("")},3942:(He,we,L)=>{"use strict";L.d(we,{Z:()=>bt});var w=L(2090),M=L(4859),u=L(9681),fe=L(1877);class _e{constructor(Ye,at){this._delegate=Ye,this.firebase=at,(0,u._addComponent)(Ye,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,u.deleteApp)(this._delegate)))}_getService(Ye,at=u._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(Ye);return!Ct.isInitialized()&&"EXPLICIT"===(null===(st=Ct.getComponent())||void 0===st?void 0:st.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:at})}_removeServiceInstance(Ye,at=u._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(at)}_addComponent(Ye){(0,u._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,u._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function Ee(){const ct=function ge(ct){const Ye={},at={__esModule:!0,initializeApp:function dt(ze,ht={}){const Ft=u.initializeApp(ze,ht);if((0,w.r3)(Ye,Ft.name))return Ye[Ft.name];const Yt=new ct(Ft,at);return Ye[Ft.name]=Yt,Yt},app:Ct,registerVersion:u.registerVersion,setLogLevel:u.setLogLevel,onLog:u.onLog,apps:null,SDK_VERSION:u.SDK_VERSION,INTERNAL:{registerComponent:function Tt(ze){const ht=ze.name,Ft=ht.replace("-compat","");if(u._registerComponent(ze)&&"PUBLIC"===ze.type){const Yt=(zt=Ct())=>{if("function"!=typeof zt[Ft])throw Se.create("invalid-app-argument",{appName:ht});return zt[Ft]()};void 0!==ze.serviceProps&&(0,w.ZB)(Yt,ze.serviceProps),at[Ft]=Yt,ct.prototype[Ft]=function(...zt){return this._getService.bind(this,ht).apply(this,ze.multipleInstances?zt:[])}}return"PUBLIC"===ze.type?at[Ft]:null},removeApp:function st(ze){delete Ye[ze]},useAsService:function Ut(ze,ht){return"serverAuth"===ht?null:ht},modularAPIs:u}};function Ct(ze){if(!(0,w.r3)(Ye,ze=ze||u._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:ze});return Ye[ze]}return at.default=at,Object.defineProperty(at,"apps",{get:function Mt(){return Object.keys(Ye).map(ze=>Ye[ze])}}),Ct.App=ct,at}(_e);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Ye(at){(0,w.ZB)(ct,at)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),ct}(),be=new fe.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){be.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&be.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=pe;!function Je(ct){(0,u.registerVersion)("@firebase/app-compat","0.2.1",ct)}()},9681:(He,we,L)=>{"use strict";L.r(we),L.d(we,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>An,_addOrOverwriteComponent:()=>dn,_apps:()=>_n,_clearComponents:()=>kr,_components:()=>an,_getProvider:()=>bn,_registerComponent:()=>Ln,_removeServiceInstance:()=>Or,deleteApp:()=>ar,getApp:()=>Cr,getApps:()=>vi,initializeApp:()=>Gr,onLog:()=>mn,registerVersion:()=>Qr,setLogLevel:()=>Ar});var w=L(5861),M=L(4859),u=L(1877),fe=L(2090),_e=L(8766);class Me{constructor(jt){this.container=jt}getPlatformInfoString(){return this.container.getProviders().map(wn=>{if(function Se(rn){return"VERSION"===rn.getComponent()?.type}(wn)){const Kn=wn.getImmediate();return`${Kn.library}/${Kn.version}`}return null}).filter(wn=>wn).join(" ")}}const ge="@firebase/app",pe=new u.Yd("@firebase/app"),qt="[DEFAULT]",Kt={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,an=new Map;function An(rn,jt){try{rn.container.addComponent(jt)}catch(wn){pe.debug(`Component ${jt.name} failed to register with FirebaseApp ${rn.name}`,wn)}}function dn(rn,jt){rn.container.addOrOverwriteComponent(jt)}function Ln(rn){const jt=rn.name;if(an.has(jt))return pe.debug(`There were multiple attempts to register component ${jt}.`),!1;an.set(jt,rn);for(const wn of _n.values())An(wn,rn);return!0}function bn(rn,jt){const wn=rn.container.getProvider("heartbeat").getImmediate({optional:!0});return wn&&wn.triggerHeartbeat(),rn.container.getProvider(jt)}function Or(rn,jt,wn=qt){bn(rn,jt).clearInstance(wn)}function kr(){an.clear()}const gr=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xn{constructor(jt,wn,Kn){this._isDeleted=!1,this._options=Object.assign({},jt),this._config=Object.assign({},wn),this._name=wn.name,this._automaticDataCollectionEnabled=wn.automaticDataCollectionEnabled,this._container=Kn,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this.checkDestroyed(),this._automaticDataCollectionEnabled=jt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(jt){this._isDeleted=jt}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Jr="9.16.0";function Gr(rn,jt={}){let wn=rn;"object"!=typeof jt&&(jt={name:jt});const Kn=Object.assign({name:qt,automaticDataCollectionEnabled:!1},jt),Ht=Kn.name;if("string"!=typeof Ht||!Ht)throw gr.create("bad-app-name",{appName:String(Ht)});if(wn||(wn=(0,fe.aH)()),!wn)throw gr.create("no-options");const Mr=_n.get(Ht);if(Mr){if((0,fe.vZ)(wn,Mr.options)&&(0,fe.vZ)(Kn,Mr.config))return Mr;throw gr.create("duplicate-app",{appName:Ht})}const Ve=new M.H0(Ht);for(const je of an.values())Ve.addComponent(je);const Ae=new Xn(wn,Kn,Ve);return _n.set(Ht,Ae),Ae}function Cr(rn=qt){const jt=_n.get(rn);if(!jt&&rn===qt)return Gr();if(!jt)throw gr.create("no-app",{appName:rn});return jt}function vi(){return Array.from(_n.values())}function ar(rn){return er.apply(this,arguments)}function er(){return(er=(0,w.Z)(function*(rn){const jt=rn.name;_n.has(jt)&&(_n.delete(jt),yield Promise.all(rn.container.getProviders().map(wn=>wn.delete())),rn.isDeleted=!0)})).apply(this,arguments)}function Qr(rn,jt,wn){var Kn;let Ht=null!==(Kn=Kt[rn])&&void 0!==Kn?Kn:rn;wn&&(Ht+=`-${wn}`);const Mr=Ht.match(/\s|\//),Ve=jt.match(/\s|\//);if(Mr||Ve){const Ae=[`Unable to register library "${Ht}" with version "${jt}":`];return Mr&&Ae.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),Mr&&Ve&&Ae.push("and"),Ve&&Ae.push(`version name "${jt}" contains illegal characters (whitespace or "/")`),void pe.warn(Ae.join(" "))}Ln(new M.wA(`${Ht}-version`,()=>({library:Ht,version:jt}),"VERSION"))}function mn(rn,jt){if(null!==rn&&"function"!=typeof rn)throw gr.create("invalid-log-argument");(0,u.Am)(rn,jt)}function Ar(rn){(0,u.Ub)(rn)}const si="firebase-heartbeat-store";let qr=null;function xt(){return qr||(qr=(0,_e.X3)("firebase-heartbeat-database",1,{upgrade:(rn,jt)=>{0===jt&&rn.createObjectStore(si)}}).catch(rn=>{throw gr.create("idb-open",{originalErrorMessage:rn.message})})),qr}function cn(){return(cn=(0,w.Z)(function*(rn){try{return(yield xt()).transaction(si).objectStore(si).get(jr(rn))}catch(jt){if(jt instanceof fe.ZR)pe.warn(jt.message);else{const wn=gr.create("idb-get",{originalErrorMessage:jt?.message});pe.warn(wn.message)}}})).apply(this,arguments)}function Fn(rn,jt){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,w.Z)(function*(rn,jt){try{const Kn=(yield xt()).transaction(si,"readwrite");return yield Kn.objectStore(si).put(jt,jr(rn)),Kn.done}catch(wn){if(wn instanceof fe.ZR)pe.warn(wn.message);else{const Kn=gr.create("idb-set",{originalErrorMessage:wn?.message});pe.warn(Kn.message)}}})).apply(this,arguments)}function jr(rn){return`${rn.name}!${rn.options.appId}`}class us{constructor(jt){this.container=jt,this._heartbeatsCache=null;const wn=this.container.getProvider("app").getImmediate();this._storage=new fr(wn),this._heartbeatsCachePromise=this._storage.read().then(Kn=>(this._heartbeatsCache=Kn,Kn))}triggerHeartbeat(){var jt=this;return(0,w.Z)(function*(){const Kn=jt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=yr();if(null===jt._heartbeatsCache&&(jt._heartbeatsCache=yield jt._heartbeatsCachePromise),jt._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!jt._heartbeatsCache.heartbeats.some(Mr=>Mr.date===Ht))return jt._heartbeatsCache.heartbeats.push({date:Ht,agent:Kn}),jt._heartbeatsCache.heartbeats=jt._heartbeatsCache.heartbeats.filter(Mr=>{const Ve=new Date(Mr.date).valueOf();return Date.now()-Ve<=2592e6}),jt._storage.overwrite(jt._heartbeatsCache)})()}getHeartbeatsHeader(){var jt=this;return(0,w.Z)(function*(){if(null===jt._heartbeatsCache&&(yield jt._heartbeatsCachePromise),null===jt._heartbeatsCache||0===jt._heartbeatsCache.heartbeats.length)return"";const wn=yr(),{heartbeatsToSend:Kn,unsentEntries:Ht}=function ys(rn,jt=1024){const wn=[];let Kn=rn.slice();for(const Ht of rn){const Mr=wn.find(Ve=>Ve.agent===Ht.agent);if(Mr){if(Mr.dates.push(Ht.date),ls(wn)>jt){Mr.dates.pop();break}}else if(wn.push({agent:Ht.agent,dates:[Ht.date]}),ls(wn)>jt){wn.pop();break}Kn=Kn.slice(1)}return{heartbeatsToSend:wn,unsentEntries:Kn}}(jt._heartbeatsCache.heartbeats),Mr=(0,fe.L)(JSON.stringify({version:2,heartbeats:Kn}));return jt._heartbeatsCache.lastSentHeartbeatDate=wn,Ht.length>0?(jt._heartbeatsCache.heartbeats=Ht,yield jt._storage.overwrite(jt._heartbeatsCache)):(jt._heartbeatsCache.heartbeats=[],jt._storage.overwrite(jt._heartbeatsCache)),Mr})()}}function yr(){return(new Date).toISOString().substring(0,10)}class fr{constructor(jt){this.app=jt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var jt=this;return(0,w.Z)(function*(){return(yield jt._canUseIndexedDBPromise)&&(yield function kn(rn){return cn.apply(this,arguments)}(jt.app))||{heartbeats:[]}})()}overwrite(jt){var wn=this;return(0,w.Z)(function*(){var Kn;if(yield wn._canUseIndexedDBPromise){const Mr=yield wn.read();return Fn(wn.app,{lastSentHeartbeatDate:null!==(Kn=jt.lastSentHeartbeatDate)&&void 0!==Kn?Kn:Mr.lastSentHeartbeatDate,heartbeats:jt.heartbeats})}})()}add(jt){var wn=this;return(0,w.Z)(function*(){var Kn;if(yield wn._canUseIndexedDBPromise){const Mr=yield wn.read();return Fn(wn.app,{lastSentHeartbeatDate:null!==(Kn=jt.lastSentHeartbeatDate)&&void 0!==Kn?Kn:Mr.lastSentHeartbeatDate,heartbeats:[...Mr.heartbeats,...jt.heartbeats]})}})()}}function ls(rn){return(0,fe.L)(JSON.stringify({version:2,heartbeats:rn})).length}!function yi(rn){Ln(new M.wA("platform-logger",jt=>new Me(jt),"PRIVATE")),Ln(new M.wA("heartbeat",jt=>new us(jt),"PRIVATE")),Qr(ge,"0.9.1",rn),Qr(ge,"0.9.1","esm2017"),Qr("fire-js","")}("")},4859:(He,we,L)=>{"use strict";L.d(we,{H0:()=>ge,wA:()=>u});var w=L(5861),M=L(2090);class u{constructor(pe,be,Ne){this.name=pe,this.instanceFactory=be,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const fe="[DEFAULT]";class _e{constructor(pe,be){this.name=pe,this.container=be,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const be=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(be)){const Ne=new M.BH;if(this.instancesDeferred.set(be,Ne),this.isInitialized(be)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:be});ut&&Ne.resolve(ut)}catch{}}return this.instancesDeferred.get(be).promise}getImmediate(pe){var be;const Ne=this.normalizeInstanceIdentifier(pe?.identifier),ut=null!==(be=pe?.optional)&&void 0!==be&&be;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Je){if(ut)return null;throw Je}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Se(Ee){return"EAGER"===Ee.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[be,Ne]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(be);try{const Je=this.getOrInitializeService({instanceIdentifier:ut});Ne.resolve(Je)}catch{}}}}clearInstance(pe=fe){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,w.Z)(function*(){const be=Array.from(pe.instances.values());yield Promise.all([...be.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...be.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=fe){return this.instances.has(pe)}getOptions(pe=fe){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:be={}}=pe,Ne=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:Ne,options:be});for(const[Je,bt]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Je)&&bt.resolve(ut);return ut}onInit(pe,be){var Ne;const ut=this.normalizeInstanceIdentifier(be),Je=null!==(Ne=this.onInitCallbacks.get(ut))&&void 0!==Ne?Ne:new Set;Je.add(pe),this.onInitCallbacks.set(ut,Je);const bt=this.instances.get(ut);return bt&&pe(bt,ut),()=>{Je.delete(pe)}}invokeOnInitCallbacks(pe,be){const Ne=this.onInitCallbacks.get(be);if(Ne)for(const ut of Ne)try{ut(pe,be)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:be={}}){let Ne=this.instances.get(pe);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=pe,Ee===fe?void 0:Ee),options:be}),this.instances.set(pe,Ne),this.instancesOptions.set(pe,be),this.invokeOnInitCallbacks(Ne,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Ne)}catch{}var Ee;return Ne||null}normalizeInstanceIdentifier(pe=fe){return this.component?this.component.multipleInstances?pe:fe:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const be=this.getProvider(pe.name);if(be.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);be.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const be=new _e(pe,this);return this.providers.set(pe,be),be}getProviders(){return Array.from(this.providers.values())}}},1877:(He,we,L)=>{"use strict";L.d(we,{Am:()=>Ee,Ub:()=>ge,Yd:()=>Se,in:()=>M});const w=[];var M=(()=>{return(pe=M||(M={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",M;var pe})();const u={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},fe=M.INFO,_e={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},Me=(pe,be,...Ne)=>{if(be<pe.logLevel)return;const ut=(new Date).toISOString(),Je=_e[be];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${be})`);console[Je](`[${ut}]  ${pe.name}:`,...Ne)};class Se{constructor(be){this.name=be,this._logLevel=fe,this._logHandler=Me,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(be){if(!(be in M))throw new TypeError(`Invalid value "${be}" assigned to \`logLevel\``);this._logLevel=be}setLogLevel(be){this._logLevel="string"==typeof be?u[be]:be}get logHandler(){return this._logHandler}set logHandler(be){if("function"!=typeof be)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=be}get userLogHandler(){return this._userLogHandler}set userLogHandler(be){this._userLogHandler=be}debug(...be){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...be),this._logHandler(this,M.DEBUG,...be)}log(...be){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...be),this._logHandler(this,M.VERBOSE,...be)}info(...be){this._userLogHandler&&this._userLogHandler(this,M.INFO,...be),this._logHandler(this,M.INFO,...be)}warn(...be){this._userLogHandler&&this._userLogHandler(this,M.WARN,...be),this._logHandler(this,M.WARN,...be)}error(...be){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...be),this._logHandler(this,M.ERROR,...be)}}function ge(pe){w.forEach(be=>{be.setLogLevel(pe)})}function Ee(pe,be){for(const Ne of w){let ut=null;be&&be.level&&(ut=u[be.level]),Ne.userLogHandler=null===pe?null:(Je,bt,...ct)=>{const Ye=ct.map(at=>{if(null==at)return null;if("string"==typeof at)return at;if("number"==typeof at||"boolean"==typeof at)return at.toString();if(at instanceof Error)return at.message;try{return JSON.stringify(at)}catch{return null}}).filter(at=>at).join(" ");bt>=(ut??Je.logLevel)&&pe({level:M[bt].toLowerCase(),message:Ye,args:ct,type:Je.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rM:()=>provideStoreDevtools});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(we,L){if(this.action=we,this.timestamp=L,this.type=PERFORM_ACTION,typeof we.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(we){this.timestamp=we,this.type=RESET}}class Rollback{constructor(we){this.timestamp=we,this.type=ROLLBACK}}class Commit{constructor(we){this.timestamp=we,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(we){this.id=we,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(we,L,w=!0){this.start=we,this.end=L,this.active=w,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(we){this.index=we,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(we){this.actionId=we,this.type=JUMP_TO_ACTION}}class ImportState{constructor(we){this.nextLiftedState=we,this.type=IMPORT_STATE}}class LockChanges{constructor(we){this.status=we,this.type=LOCK_CHANGES}}class PauseRecording{constructor(we){this.status=we,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(He){const we={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},L="function"==typeof He?He():He,u=Object.assign({},we,{features:L.features||!!L.logOnly&&{pause:!0,export:!0,test:!0}||we.features},L);if(u.maxAge&&u.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${u.maxAge}`);return u}function difference(He,we){return He.filter(L=>we.indexOf(L)<0)}function unliftState(He){const{computedStates:we,currentStateIndex:L}=He;if(L>=we.length){const{state:M}=we[we.length-1];return M}const{state:w}=we[L];return w}function unliftAction(He){return He.actionsById[He.nextActionId-1]}function liftAction(He){return new PerformAction(He,+Date.now())}function sanitizeActions(He,we){return Object.keys(we).reduce((L,w)=>{const M=Number(w);return L[M]=sanitizeAction(He,we[M],M),L},{})}function sanitizeAction(He,we,L){return{...we,action:He(we.action,L)}}function sanitizeStates(He,we){return we.map((L,w)=>({state:sanitizeState(He,L.state,w),error:L.error}))}function sanitizeState(He,we,L){return He(we,L)}function shouldFilterActions(He){return He.predicate||He.actionsSafelist||He.actionsBlocklist}function filterLiftedState(He,we,L,w){const M=[],u={},fe=[];return He.stagedActionIds.forEach((_e,Me)=>{const Se=He.actionsById[_e];Se&&(Me&&isActionFiltered(He.computedStates[Me],Se,we,L,w)||(u[_e]=Se,M.push(_e),fe.push(He.computedStates[Me])))}),{...He,stagedActionIds:M,actionsById:u,computedStates:fe}}function isActionFiltered(He,we,L,w,M){const u=L&&!L(He,we.action),fe=w&&!we.action.type.match(w.map(Me=>escapeRegExp(Me)).join("|")),_e=M&&we.action.type.match(M.map(Me=>escapeRegExp(Me)).join("|"));return u||fe||_e}function escapeRegExp(He){return He.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class He extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return He.\u0275fac=function(){let we;return function(w){return(we||(we=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(He)))(w||He)}}(),He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(He,we,L){this.config=we,this.dispatcher=L,this.devtoolsExtension=He,this.createActionStreams()}notify(He,we){if(this.devtoolsExtension)if(He.type===PERFORM_ACTION){if(we.isLocked||we.isPaused)return;const L=unliftState(we);if(shouldFilterActions(this.config)&&isActionFiltered(L,He,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const w=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,L,we.currentStateIndex):L,M=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,He,we.nextActionId):He;this.sendToReduxDevtools(()=>this.extensionConnection.send(M,w))}else{const L={...we,stagedActionIds:we.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,we.actionsById):we.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,we.computedStates):we.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,L,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(He=>{const we=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=we,we.init(),we.subscribe(L=>He.next(L)),we.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const He=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),we=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(_e=>_e.type===ExtensionActionTypes.START)),L=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(_e=>_e.type===ExtensionActionTypes.STOP)),w=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(_e=>_e.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(_e=>this.unwrapAction(_e.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(_e=>_e.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Me=>Me.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>_e),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(_e)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(_e))),u=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(_e=>_e.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(_e=>this.unwrapAction(_e.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L)),fe=w.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L));this.start$=we.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>u)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>fe))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(He){const we={name:He.name,features:He.features,serialize:He.serialize,autoPause:He.autoPause??!1,trace:He.trace??!1,traceLimit:He.traceLimit??75};return!1!==He.maxAge&&(we.maxAge=He.maxAge),we}sendToReduxDevtools(He){try{He()}catch(we){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",we)}}}return DevtoolsExtension.\u0275fac=function He(we){return new(we||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(He,we,L,w,M){if(w)return{state:L,error:"Interrupted by an error up the chain"};let fe,u=L;try{u=He(L,we)}catch(_e){fe=_e.toString(),M.handleError(_e)}return{state:u,error:fe}}function recomputeStates(He,we,L,w,M,u,fe,_e,Me){if(we>=He.length&&He.length===u.length)return He;const Se=He.slice(0,we),ge=u.length-(Me?1:0);for(let Ee=we;Ee<ge;Ee++){const pe=u[Ee],be=M[pe].action,Ne=Se[Ee-1],ut=Ne?Ne.state:w,Je=Ne?Ne.error:void 0,ct=fe.indexOf(pe)>-1?Ne:computeNextEntry(L,be,ut,Je,_e);Se.push(ct)}return Me&&Se.push(He[He.length-1]),Se}function liftInitialState(He,we){return{monitorState:we(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:He,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(He,we,L,w,M={}){return u=>(fe,_e)=>{let{monitorState:Me,actionsById:Se,nextActionId:ge,stagedActionIds:Ee,skippedActionIds:pe,committedState:be,currentStateIndex:Ne,computedStates:ut,isLocked:Je,isPaused:bt}=fe||we;function ct(st){let Ct=st,dt=Ee.slice(1,Ct+1);for(let Mt=0;Mt<dt.length;Mt++){if(ut[Mt+1].error){Ct=Mt,dt=Ee.slice(1,Ct+1);break}delete Se[dt[Mt]]}pe=pe.filter(Mt=>-1===dt.indexOf(Mt)),Ee=[0,...Ee.slice(Ct+1)],be=ut[Ct].state,ut=ut.slice(Ct),Ne=Ne>Ct?Ne-Ct:0}function Ye(){Se={0:liftAction(INIT_ACTION)},ge=1,Ee=[0],pe=[],be=ut[Ne].state,Ne=0,ut=[]}fe||(Se=Object.create(Se));let at=0;switch(_e.type){case LOCK_CHANGES:Je=_e.status,at=1/0;break;case PAUSE_RECORDING:bt=_e.status,bt?(Ee=[...Ee,ge],Se[ge]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ge++,at=Ee.length-1,ut=ut.concat(ut[ut.length-1]),Ne===Ee.length-2&&Ne++,at=1/0):Ye();break;case RESET:Se={0:liftAction(INIT_ACTION)},ge=1,Ee=[0],pe=[],be=He,Ne=0,ut=[];break;case COMMIT:Ye();break;case ROLLBACK:Se={0:liftAction(INIT_ACTION)},ge=1,Ee=[0],pe=[],Ne=0,ut=[];break;case TOGGLE_ACTION:{const{id:st}=_e;pe=-1===pe.indexOf(st)?[st,...pe]:pe.filter(dt=>dt!==st),at=Ee.indexOf(st);break}case SET_ACTIONS_ACTIVE:{const{start:st,end:Ct,active:dt}=_e,Mt=[];for(let Tt=st;Tt<Ct;Tt++)Mt.push(Tt);pe=dt?difference(pe,Mt):[...pe,...Mt],at=Ee.indexOf(st);break}case JUMP_TO_STATE:Ne=_e.index,at=1/0;break;case JUMP_TO_ACTION:{const st=Ee.indexOf(_e.actionId);-1!==st&&(Ne=st),at=1/0;break}case SWEEP:Ee=difference(Ee,pe),pe=[],Ne=Math.min(Ne,Ee.length-1);break;case PERFORM_ACTION:{if(Je)return fe||we;if(bt||fe&&isActionFiltered(fe.computedStates[Ne],_e,M.predicate,M.actionsSafelist,M.actionsBlocklist)){const Ct=ut[ut.length-1];ut=[...ut.slice(0,-1),computeNextEntry(u,_e.action,Ct.state,Ct.error,L)],at=1/0;break}M.maxAge&&Ee.length===M.maxAge&&ct(1),Ne===Ee.length-1&&Ne++;const st=ge++;Se[st]=_e,Ee=[...Ee,st],at=Ee.length-1;break}case IMPORT_STATE:({monitorState:Me,actionsById:Se,nextActionId:ge,stagedActionIds:Ee,skippedActionIds:pe,committedState:be,currentStateIndex:Ne,computedStates:ut,isLocked:Je,isPaused:bt}=_e.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:at=0,M.maxAge&&Ee.length>M.maxAge&&(ut=recomputeStates(ut,at,u,be,Se,Ee,pe,L,bt),ct(Ee.length-M.maxAge),at=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(ut.filter(Ct=>Ct.error).length>0)at=0,M.maxAge&&Ee.length>M.maxAge&&(ut=recomputeStates(ut,at,u,be,Se,Ee,pe,L,bt),ct(Ee.length-M.maxAge),at=1/0);else{if(!bt&&!Je){Ne===Ee.length-1&&Ne++;const Ct=ge++;Se[Ct]=new PerformAction(_e,+Date.now()),Ee=[...Ee,Ct],at=Ee.length-1,ut=recomputeStates(ut,at,u,be,Se,Ee,pe,L,bt)}ut=ut.map(Ct=>({...Ct,state:u(Ct.state,RECOMPUTE_ACTION)})),Ne=Ee.length-1,M.maxAge&&Ee.length>M.maxAge&&ct(Ee.length-M.maxAge),at=1/0}break;default:at=1/0}return ut=recomputeStates(ut,at,u,be,Se,Ee,pe,L,bt),Me=w(Me,_e),{monitorState:Me,actionsById:Se,nextActionId:ge,stagedActionIds:Ee,skippedActionIds:pe,committedState:be,currentStateIndex:Ne,computedStates:ut,isLocked:Je,isPaused:bt}}}let StoreDevtools=(()=>{class He{constructor(L,w,M,u,fe,_e,Me,Se){const ge=liftInitialState(Me,Se.monitor),Ee=liftReducerWith(Me,ge,_e,Se.monitor,Se),pe=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(w.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),u.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),L,u.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),be=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Ee)),Ne=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),ut=pe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(be),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ye},[at,st])=>{let Ct=st(Ye,at);return at.type!==PERFORM_ACTION&&shouldFilterActions(Se)&&(Ct=filterLiftedState(Ct,Se.predicate,Se.actionsSafelist,Se.actionsBlocklist)),u.notify(at,Ct),{state:Ct,action:at}},{state:ge,action:null})).subscribe(({state:Ye,action:at})=>{Ne.next(Ye),at.type===PERFORM_ACTION&&fe.next(at.action)}),Je=u.start$.subscribe(()=>{this.refresh()}),bt=Ne.asObservable(),ct=bt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=Je,this.stateSubscription=ut,this.dispatcher=L,this.liftedState=bt,this.state=ct}dispatch(L){this.dispatcher.next(L)}next(L){this.dispatcher.next(L)}error(L){}complete(){}performAction(L){this.dispatch(new PerformAction(L,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(L){this.dispatch(new ToggleAction(L))}jumpToAction(L){this.dispatch(new JumpToAction(L))}jumpToState(L){this.dispatch(new JumpToState(L))}importState(L){this.dispatch(new ImportState(L))}lockChanges(L){this.dispatch(new LockChanges(L))}pauseRecording(L){this.dispatch(new PauseRecording(L))}}return He.\u0275fac=function(L){return new(L||He)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(He,we){return Boolean(He)||we.monitor!==noMonitor}function createReduxDevtoolsExtension(){const He="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[He]<"u"?window[He]:null}function provideStoreDevtools(He={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:He},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(He){return He.state}let StoreDevtoolsModule=(()=>{class He{static instrument(L={}){return{ngModule:He,providers:[provideStoreDevtools(L)]}}}return He.\u0275fac=function(L){return new(L||He)},He.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:He}),He.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),He})()},9653:(He,we,L)=>{"use strict";L.d(we,{UO:()=>Ut,Py:()=>Xn,qg:()=>Tt,Y6:()=>Yt,qY:()=>gr,mK:()=>Qr,n$:()=>er,Y$:()=>Ri,FR:()=>qr,yh:()=>Fn,wb:()=>mn,PH:()=>Je,ZF:()=>$e,Lq:()=>wt,P1:()=>Et,on:()=>Ui,Ky:()=>bt,mW:()=>va,Ys:()=>jr});var w=L(4650),M=L(1135),u=L(9751),fe=L(7579),_e=L(233),Me=L(5363),Se=L(1365),ge=L(5026),Ee=L(4004),be=L(1884);const Ne={};function Je(ke,vt){if(Ne[ke]=(Ne[ke]||0)+1,"function"==typeof vt)return Ye(ke,(...kt)=>({...vt(...kt),type:ke}));switch(vt?vt._as:"empty"){case"empty":return Ye(ke,()=>({type:ke}));case"props":return Ye(ke,kt=>({...kt,type:ke}));default:throw new Error("Unexpected config.")}}function bt(){return{_as:"props",_p:void 0}}function Ye(ke,vt){return Object.defineProperty(vt,"type",{value:ke,writable:!1})}const Tt="@ngrx/store/init";let Ut=(()=>{class ke extends M.X{constructor(){super({type:Tt})}next(rt){if("function"==typeof rt)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof rt>"u")throw new TypeError("Actions must be objects");if(typeof rt.type>"u")throw new TypeError("Actions must have a type property");super.next(rt)}complete(){}ngOnDestroy(){super.complete()}}return ke.\u0275fac=function(rt){return new(rt||ke)},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const ze=[Ut],ht=new w.OlP("@ngrx/store Internal Root Guard"),Ft=new w.OlP("@ngrx/store Internal Initial State"),Yt=new w.OlP("@ngrx/store Initial State"),zt=new w.OlP("@ngrx/store Reducer Factory"),Qn=new w.OlP("@ngrx/store Internal Reducer Factory Provider"),fn=new w.OlP("@ngrx/store Initial Reducers"),_t=new w.OlP("@ngrx/store Internal Initial Reducers"),It=(new w.OlP("@ngrx/store Store Features"),new w.OlP("@ngrx/store Internal Store Reducers")),An=(new w.OlP("@ngrx/store Internal Feature Reducers"),new w.OlP("@ngrx/store Internal Feature Configs"),new w.OlP("@ngrx/store Internal Store Features"),new w.OlP("@ngrx/store Internal Feature Reducers Token"),new w.OlP("@ngrx/store Feature Reducers"),new w.OlP("@ngrx/store User Provided Meta Reducers")),dn=new w.OlP("@ngrx/store Meta Reducers"),Ln=new w.OlP("@ngrx/store Internal Resolved Meta Reducers"),bn=new w.OlP("@ngrx/store User Runtime Checks Config"),Or=new w.OlP("@ngrx/store Internal User Runtime Checks Config"),kr=new w.OlP("@ngrx/store Internal Runtime Checks"),br=new w.OlP("@ngrx/store Check if Action types are unique"),gr=new w.OlP("@ngrx/store Root Store Provider"),Xn=new w.OlP("@ngrx/store Feature State Provider");function Jr(ke,vt={}){const rt=Object.keys(ke),kt={};for(let Te=0;Te<rt.length;Te++){const Ze=rt[Te];"function"==typeof ke[Ze]&&(kt[Ze]=ke[Ze])}const De=Object.keys(kt);return function(Ze,Ot){Ze=void 0===Ze?vt:Ze;let tn=!1;const On={};for(let Nn=0;Nn<De.length;Nn++){const Sr=De[Nn],$i=Ze[Sr],ds=(0,kt[Sr])($i,Ot);On[Sr]=ds,tn=tn||ds!==$i}return tn?On:Ze}}function Cr(...ke){return function(vt){if(0===ke.length)return vt;const rt=ke[ke.length-1];return ke.slice(0,-1).reduceRight((De,Te)=>Te(De),rt(vt))}}function vi(ke,vt){return Array.isArray(vt)&&vt.length>0&&(ke=Cr.apply(null,[...vt,ke])),(rt,kt)=>{const De=ke(rt);return(Te,Ze)=>De(Te=void 0===Te?kt:Te,Ze)}}class er extends u.y{}class Qr extends Ut{}const mn="@ngrx/store/update-reducers";let Ar=(()=>{class ke extends M.X{constructor(rt,kt,De,Te){super(Te(De,kt)),this.dispatcher=rt,this.initialState=kt,this.reducers=De,this.reducerFactory=Te}get currentReducers(){return this.reducers}addFeature(rt){this.addFeatures([rt])}addFeatures(rt){const kt=rt.reduce((De,{reducers:Te,reducerFactory:Ze,metaReducers:Ot,initialState:tn,key:On})=>{const Nn="function"==typeof Te?function ar(ke){const vt=Array.isArray(ke)&&ke.length>0?Cr(...ke):rt=>rt;return(rt,kt)=>(rt=vt(rt),(De,Te)=>rt(De=void 0===De?kt:De,Te))}(Ot)(Te,tn):vi(Ze,Ot)(Te,tn);return De[On]=Nn,De},{});this.addReducers(kt)}removeFeature(rt){this.removeFeatures([rt])}removeFeatures(rt){this.removeReducers(rt.map(kt=>kt.key))}addReducer(rt,kt){this.addReducers({[rt]:kt})}addReducers(rt){this.reducers={...this.reducers,...rt},this.updateReducers(Object.keys(rt))}removeReducer(rt){this.removeReducers([rt])}removeReducers(rt){rt.forEach(kt=>{this.reducers=function Gr(ke,vt){return Object.keys(ke).filter(rt=>rt!==vt).reduce((rt,kt)=>Object.assign(rt,{[kt]:ke[kt]}),{})}(this.reducers,kt)}),this.updateReducers(rt)}updateReducers(rt){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:mn,features:rt})}ngOnDestroy(){this.complete()}}return ke.\u0275fac=function(rt){return new(rt||ke)(w.LFG(Qr),w.LFG(Yt),w.LFG(fn),w.LFG(zt))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Vi=[Ar,{provide:er,useExisting:Ar},{provide:Qr,useExisting:Ut}];let Ri=(()=>{class ke extends fe.x{ngOnDestroy(){this.complete()}}return ke.\u0275fac=function(){let vt;return function(kt){return(vt||(vt=w.n5z(ke)))(kt||ke)}}(),ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const si=[Ri];class qr extends u.y{}let xt=(()=>{class ke extends M.X{constructor(rt,kt,De,Te){super(Te);const On=rt.pipe((0,Me.Q)(_e.N)).pipe((0,Se.M)(kt)).pipe((0,ge.R)(kn,{state:Te}));this.stateSubscription=On.subscribe(({state:Nn,action:Sr})=>{this.next(Nn),De.next(Sr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ke.INIT=Tt,ke.\u0275fac=function(rt){return new(rt||ke)(w.LFG(Ut),w.LFG(er),w.LFG(Ri),w.LFG(Yt))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();function kn(ke={state:void 0},[vt,rt]){const{state:kt}=ke;return{state:rt(kt,vt),action:vt}}const cn=[xt,{provide:qr,useExisting:xt}];let Fn=(()=>{class ke extends u.y{constructor(rt,kt,De){super(),this.actionsObserver=kt,this.reducerManager=De,this.source=rt}select(rt,...kt){return jr.call(null,rt,...kt)(this)}lift(rt){const kt=new ke(this,this.actionsObserver,this.reducerManager);return kt.operator=rt,kt}dispatch(rt){this.actionsObserver.next(rt)}next(rt){this.actionsObserver.next(rt)}error(rt){this.actionsObserver.error(rt)}complete(){this.actionsObserver.complete()}addReducer(rt,kt){this.reducerManager.addReducer(rt,kt)}removeReducer(rt){this.reducerManager.removeReducer(rt)}}return ke.\u0275fac=function(rt){return new(rt||ke)(w.LFG(qr),w.LFG(Ut),w.LFG(Ar))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Wn=[Fn];function jr(ke,vt,...rt){return function(De){let Te;if("string"==typeof ke){const Ze=[vt,...rt].filter(Boolean);Te=De.pipe(function pe(...ke){const vt=ke.length;if(0===vt)throw new Error("list of properties cannot be empty.");return(0,Ee.U)(rt=>{let kt=rt;for(let De=0;De<vt;De++){const Te=kt?.[ke[De]];if(!(typeof Te<"u"))return;kt=Te}return kt})}(ke,...Ze))}else{if("function"!=typeof ke)throw new TypeError(`Unexpected type '${typeof ke}' in select operator, expected 'string' or 'function'`);Te=De.pipe((0,Ee.U)(Ze=>ke(Ze,vt)))}return Te.pipe((0,be.x)())}}const es="https://ngrx.io/guide/store/configuration/runtime-checks";function In(ke){return void 0===ke}function us(ke){return null===ke}function yr(ke){return Array.isArray(ke)}function yi(ke){return"object"==typeof ke&&null!==ke}function wn(ke){return"function"==typeof ke}function je(ke,vt){return ke===vt}function Ce(ke,vt,rt){for(let kt=0;kt<ke.length;kt++)if(!rt(ke[kt],vt[kt]))return!0;return!1}function Ie(ke,vt=je,rt=je){let Te,kt=null,De=null;return{memoized:function On(){if(void 0!==Te)return Te.result;if(!kt)return De=ke.apply(null,arguments),kt=arguments,De;if(!Ce(arguments,kt,vt))return De;const Nn=ke.apply(null,arguments);return kt=arguments,rt(De,Nn)?De:(De=Nn,Nn)},reset:function Ze(){kt=null,De=null},setResult:function Ot(Nn){Te={result:Nn}},clearResult:function tn(){Te=void 0}}}function Et(...ke){return function Tn(ke,vt={stateFn:Zt}){return function(...rt){let kt=rt;if(Array.isArray(kt[0])){const[Nn,...Sr]=kt;kt=[...Nn,...Sr]}else 1===kt.length&&function Fe(ke){return!!ke&&"object"==typeof ke&&Object.values(ke).every(vt=>"function"==typeof vt)}(kt[0])&&(kt=function ye(ke){const vt=Object.values(ke),rt=Object.keys(ke);return[...vt,(...De)=>rt.reduce((Te,Ze,Ot)=>({...Te,[Ze]:De[Ot]}),{})]}(kt[0]));const De=kt.slice(0,kt.length-1),Te=kt[kt.length-1],Ze=De.filter(Nn=>Nn.release&&"function"==typeof Nn.release),Ot=ke(function(...Nn){return Te.apply(null,Nn)}),tn=Ie(function(Nn,Sr){return vt.stateFn.apply(null,[Nn,De,Sr,Ot])});return Object.assign(tn.memoized,{release:function On(){tn.reset(),Ot.reset(),Ze.forEach(Nn=>Nn.release())},projector:Ot.memoized,setResult:tn.setResult,clearResult:tn.clearResult})}}(Ie)(...ke)}function Zt(ke,vt,rt,kt){if(void 0===rt){const Te=vt.map(Ze=>Ze(ke));return kt.memoized.apply(null,Te)}const De=vt.map(Te=>Te(ke,rt));return kt.memoized.apply(null,[...De,rt])}function $e(ke){return Et(vt=>{const rt=vt[ke];return(0,w.X6Q)()&&!(ke in vt)&&console.warn(`@ngrx/store: The feature name "${ke}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ke}', ...) or StoreModule.forFeature('${ke}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),rt},vt=>vt)}function xn(ke){return ke instanceof w.OlP?(0,w.f3M)(ke):ke}function Es(ke){return"function"==typeof ke?ke():ke}function Wr(ke,vt){return ke.concat(vt)}function zi(){if((0,w.f3M)(Fn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function $s(ke){Object.freeze(ke);const vt=wn(ke);return Object.getOwnPropertyNames(ke).forEach(rt=>{if(!rt.startsWith("\u0275")&&function Ht(ke,vt){return Object.prototype.hasOwnProperty.call(ke,vt)}(ke,rt)&&(!vt||"caller"!==rt&&"callee"!==rt&&"arguments"!==rt)){const kt=ke[rt];(yi(kt)||wn(kt))&&!Object.isFrozen(kt)&&$s(kt)}}),ke}function di(ke,vt=[]){return(In(ke)||us(ke))&&0===vt.length?{path:["root"],value:ke}:Object.keys(ke).reduce((kt,De)=>{if(kt)return kt;const Te=ke[De];return function Kn(ke){return wn(ke)&&ke.hasOwnProperty("\u0275cmp")}(Te)?kt:!(In(Te)||us(Te)||function ls(ke){return"number"==typeof ke}(Te)||function fr(ke){return"boolean"==typeof ke}(Te)||function ys(ke){return"string"==typeof ke}(Te)||yr(Te))&&(function jt(ke){if(!function rn(ke){return yi(ke)&&!yr(ke)}(ke))return!1;const vt=Object.getPrototypeOf(ke);return vt===Object.prototype||null===vt}(Te)?di(Te,[...vt,De]):{path:[...vt,De],value:Te})},!1)}function Js(ke,vt){if(!1===ke)return;const rt=ke.path.join("."),kt=new Error(`Detected unserializable ${vt} at "${rt}". ${es}#strict${vt}serializability`);throw kt.value=ke.value,kt.unserializablePath=rt,kt}function Ei(ke){return(0,w.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ke}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Pi({strictActionSerializability:ke,strictStateSerializability:vt}){return rt=>ke||vt?function Ds(ke,vt){return function(rt,kt){vt.action(kt)&&Js(di(kt),"action");const De=ke(rt,kt);return vt.state()&&Js(di(De),"state"),De}}(rt,{action:kt=>ke&&!ki(kt),state:()=>vt}):rt}function wi({strictActionImmutability:ke,strictStateImmutability:vt}){return rt=>ke||vt?function Rs(ke,vt){return function(rt,kt){const De=vt.action(kt)?$s(kt):kt,Te=ke(rt,De);return vt.state()?$s(Te):Te}}(rt,{action:kt=>ke&&!ki(kt),state:()=>vt}):rt}function ki(ke){return ke.type.startsWith("@ngrx")}function oi({strictActionWithinNgZone:ke}){return vt=>ke?function Xr(ke,vt){return function(rt,kt){if(vt.action(kt)&&!w.R0b.isInAngularZone())throw new Error(`Action '${kt.type}' running outside NgZone. ${es}#strictactionwithinngzone`);return ke(rt,kt)}}(vt,{action:rt=>ke&&!ki(rt)}):vt}function Rn(ke){return[{provide:Or,useValue:ke},{provide:bn,useFactory:Ti,deps:[Or]},{provide:kr,deps:[bn],useFactory:Ei},{provide:dn,multi:!0,deps:[kr],useFactory:wi},{provide:dn,multi:!0,deps:[kr],useFactory:Pi},{provide:dn,multi:!0,deps:[kr],useFactory:oi}]}function Ti(ke){return ke}function fs(ke){if(!ke.strictActionTypeUniqueness)return;const vt=Object.entries(Ne).filter(([,rt])=>rt>1).map(([rt])=>rt);if(vt.length)throw new Error(`Action types are registered more than once, ${vt.map(rt=>`"${rt}"`).join(", ")}. ${es}#strictactiontypeuniqueness`)}function un(ke={},vt={}){return[{provide:ht,useFactory:zi},{provide:Ft,useValue:vt.initialState},{provide:Yt,useFactory:Es,deps:[Ft]},{provide:_t,useValue:ke},{provide:It,useExisting:ke instanceof w.OlP?ke:_t},{provide:fn,deps:[_t,[new w.tBr(It)]],useFactory:xn},{provide:An,useValue:vt.metaReducers?vt.metaReducers:[]},{provide:Ln,deps:[dn,An],useFactory:Wr},{provide:Qn,useValue:vt.reducerFactory?vt.reducerFactory:Jr},{provide:zt,deps:[Qn,Ln],useFactory:vi},ze,Vi,si,cn,Wn,Rn(vt.runtimeChecks),[{provide:br,multi:!0,deps:[kr],useFactory:fs}]]}const wr=[{provide:gr,useFactory:function Ps(){(0,w.f3M)(Ut),(0,w.f3M)(er),(0,w.f3M)(Ri),(0,w.f3M)(Fn),(0,w.f3M)(ht,{optional:!0}),(0,w.f3M)(br,{optional:!0})}},{provide:w.Xts,multi:!0,useFactory:()=>()=>(0,w.f3M)(gr)}];function va(ke,vt){return(0,w.MR2)([...un(ke,vt),wr])}function Ui(...ke){return{reducer:ke.pop(),types:ke.map(kt=>kt.type)}}function wt(ke,...vt){const rt=new Map;for(const kt of vt)for(const De of kt.types){const Te=rt.get(De);rt.set(De,Te?(Ot,tn)=>kt.reducer(Te(Ot,tn),tn):kt.reducer)}return function(kt=ke,De){const Te=rt.get(De.type);return Te?Te(kt,De):kt}}},259:(He,we,L)=>{"use strict";L.d(we,{C6:()=>w.getApps,Mq:()=>w.getApp});var w=L(9681);(0,w.registerVersion)("firebase","9.16.0","app")},9260:(He,we,L)=>{"use strict";L.d(we,{Z:()=>w.Z});var w=L(3942);w.Z.registerVersion("firebase","9.16.0","app-compat")},9568:(He,we,L)=>{"use strict";L.r(we);var w=L(5861),M=L(3942),u=L(1808),fe=L(2090),Se=(L(9681),L(1877),L(4859));function ge(){return window}function be(){return(be=(0,w.Z)(function*(Ce,ae,Ie){var Et;const{BuildInfo:Zt}=ge();(0,u.ap)(ae.sessionId,"AuthEvent did not contain a session ID");const Tn=yield at(ae.sessionId),$e={};return(0,u.aq)()?$e.ibi=Zt.packageName:(0,u.ar)()?$e.apn=Zt.packageName:(0,u.as)(Ce,"operation-not-supported-in-this-environment"),Zt.displayName&&($e.appDisplayName=Zt.displayName),$e.sessionId=Tn,(0,u.at)(Ce,Ie,ae.type,void 0,null!==(Et=ae.eventId)&&void 0!==Et?Et:void 0,$e)})).apply(this,arguments)}function ut(){return(ut=(0,w.Z)(function*(Ce){const{BuildInfo:ae}=ge(),Ie={};(0,u.aq)()?Ie.iosBundleId=ae.packageName:(0,u.ar)()?Ie.androidPackageName=ae.packageName:(0,u.as)(Ce,"operation-not-supported-in-this-environment"),yield(0,u.au)(Ce,Ie)})).apply(this,arguments)}function ct(){return(ct=(0,w.Z)(function*(Ce,ae,Ie){const{cordova:Et}=ge();let Zt=()=>{};try{yield new Promise((Tn,$e)=>{let Fe=null;function ye(){var Qt;Tn();const xn=null===(Qt=Et.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof xn&&xn(),"function"==typeof Ie?.close&&Ie.close()}function nt(){Fe||(Fe=window.setTimeout(()=>{$e((0,u.aw)(Ce,"redirect-cancelled-by-user"))},2e3))}function Wt(){"visible"===document?.visibilityState&&nt()}ae.addPassiveListener(ye),document.addEventListener("resume",nt,!1),(0,u.ar)()&&document.addEventListener("visibilitychange",Wt,!1),Zt=()=>{ae.removePassiveListener(ye),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",Wt,!1),Fe&&window.clearTimeout(Fe)}})}finally{Zt()}})).apply(this,arguments)}function at(Ce){return st.apply(this,arguments)}function st(){return(st=(0,w.Z)(function*(Ce){const ae=Ct(Ce),Ie=yield crypto.subtle.digest("SHA-256",ae);return Array.from(new Uint8Array(Ie)).map(Zt=>Zt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ct(Ce){if((0,u.ap)(/[0-9a-zA-Z]+/.test(Ce),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ce);const ae=new ArrayBuffer(Ce.length),Ie=new Uint8Array(ae);for(let Et=0;Et<Ce.length;Et++)Ie[Et]=Ce.charCodeAt(Et);return Ie}class Mt extends u.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ae=>{this.resolveInialized=ae})}addPassiveListener(ae){this.passiveListeners.add(ae)}removePassiveListener(ae){this.passiveListeners.delete(ae)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ae){return this.resolveInialized(),this.passiveListeners.forEach(Ie=>Ie(ae)),super.onEvent(ae)}initialized(){var ae=this;return(0,w.Z)(function*(){yield ae.initPromise})()}}function ze(Ce){return ht.apply(this,arguments)}function ht(){return(ht=(0,w.Z)(function*(Ce){const ae=yield zt()._get(Qn(Ce));return ae&&(yield zt()._remove(Qn(Ce))),ae})).apply(this,arguments)}function Yt(){const Ce=[],ae="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ie=0;Ie<20;Ie++){const Et=Math.floor(Math.random()*ae.length);Ce.push(ae.charAt(Et))}return Ce.join("")}function zt(){return(0,u.az)(u.b)}function Qn(Ce){return(0,u.aA)("authEvent",Ce.config.apiKey,Ce.name)}function ot(Ce){if(!Ce?.includes("?"))return{};const[ae,...Ie]=Ce.split("?");return(0,fe.zd)(Ie.join("?"))}const qt=class Bt{constructor(){this._redirectPersistence=u.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=u.aB,this._overrideRedirectResult=u.aC}_initialize(ae){var Ie=this;return(0,w.Z)(function*(){const Et=ae._key();let Zt=Ie.eventManagers.get(Et);return Zt||(Zt=new Mt(ae),Ie.eventManagers.set(Et,Zt),Ie.attachCallbackListeners(ae,Zt)),Zt})()}_openPopup(ae){(0,u.as)(ae,"operation-not-supported-in-this-environment")}_openRedirect(ae,Ie,Et,Zt){var Tn=this;return(0,w.Z)(function*(){!function Ye(Ce){var ae,Ie,Et,Zt,Tn,$e,Fe,ye,nt,Wt;const Qt=ge();(0,u.ax)("function"==typeof(null===(ae=Qt?.universalLinks)||void 0===ae?void 0:ae.subscribe),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,u.ax)(typeof(null===(Ie=Qt?.BuildInfo)||void 0===Ie?void 0:Ie.packageName)<"u",Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,u.ax)("function"==typeof(null===(Tn=null===(Zt=null===(Et=Qt?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===Tn?void 0:Tn.openUrl),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,u.ax)("function"==typeof(null===(ye=null===(Fe=null===($e=Qt?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===ye?void 0:ye.isAvailable),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,u.ax)("function"==typeof(null===(Wt=null===(nt=Qt?.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===Wt?void 0:Wt.open),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ae);const $e=yield Tn._initialize(ae);yield $e.initialized(),$e.resetRedirect(),(0,u.aD)(),yield Tn._originValidation(ae);const Fe=function Tt(Ce,ae,Ie=null){return{type:ae,eventId:Ie,urlResponse:null,sessionId:Yt(),postBody:null,tenantId:Ce.tenantId,error:(0,u.aw)(Ce,"no-auth-event")}}(ae,Et,Zt);yield function Ut(Ce,ae){return zt()._set(Qn(Ce),ae)}(ae,Fe);const ye=yield function pe(Ce,ae,Ie){return be.apply(this,arguments)}(ae,Fe,Ie),nt=yield function Je(Ce){const{cordova:ae}=ge();return new Promise(Ie=>{ae.plugins.browsertab.isAvailable(Et=>{let Zt=null;Et?ae.plugins.browsertab.openUrl(Ce):Zt=ae.InAppBrowser.open(Ce,(0,u.av)()?"_blank":"_system","location=yes"),Ie(Zt)})})}(ye);return function bt(Ce,ae,Ie){return ct.apply(this,arguments)}(ae,$e,nt)})()}_isIframeWebStorageSupported(ae,Ie){throw new Error("Method not implemented.")}_originValidation(ae){const Ie=ae._key();return this.originValidationPromises[Ie]||(this.originValidationPromises[Ie]=function Ne(Ce){return ut.apply(this,arguments)}(ae)),this.originValidationPromises[Ie]}attachCallbackListeners(ae,Ie){const{universalLinks:Et,handleOpenURL:Zt,BuildInfo:Tn}=ge(),$e=setTimeout((0,w.Z)(function*(){yield ze(ae),Ie.onEvent(Kt())}),500),Fe=function(){var Wt=(0,w.Z)(function*(Qt){clearTimeout($e);const xn=yield ze(ae);let li=null;xn&&Qt?.url&&(li=function Ft(Ce,ae){var Ie,Et;const Zt=function _t(Ce){const ae=ot(Ce),Ie=ae.link?decodeURIComponent(ae.link):void 0,Et=ot(Ie).link,Zt=ae.deep_link_id?decodeURIComponent(ae.deep_link_id):void 0;return ot(Zt).link||Zt||Et||Ie||Ce}(ae);if(Zt.includes("/__/auth/callback")){const Tn=ot(Zt),$e=Tn.firebaseError?function fn(Ce){try{return JSON.parse(Ce)}catch{return null}}(decodeURIComponent(Tn.firebaseError)):null,Fe=null===(Et=null===(Ie=$e?.code)||void 0===Ie?void 0:Ie.split("auth/"))||void 0===Et?void 0:Et[1],ye=Fe?(0,u.aw)(Fe):null;return ye?{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,error:ye,urlResponse:null,sessionId:null,postBody:null}:{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,sessionId:Ce.sessionId,urlResponse:Zt,postBody:null}}return null}(xn,Qt.url)),Ie.onEvent(li||Kt())});return function(xn){return Wt.apply(this,arguments)}}();typeof Et<"u"&&"function"==typeof Et.subscribe&&Et.subscribe(null,Fe);const ye=Zt,nt=`${Tn.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var Wt=(0,w.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(nt)&&Fe({url:Qt}),"function"==typeof ye)try{ye(Qt)}catch(xn){console.error(xn)}});return function(Qt){return Wt.apply(this,arguments)}}()}};function Kt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,u.aw)("no-auth-event")}}function Ln(){var Ce;return(null===(Ce=self?.location)||void 0===Ce?void 0:Ce.protocol)||null}function Or(Ce=(0,fe.z$)()){return!("file:"!==Ln()&&"ionic:"!==Ln()&&"capacitor:"!==Ln()||!Ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jr(){try{const Ce=self.localStorage,ae=u.aI();if(Ce)return Ce.setItem(ae,"1"),Ce.removeItem(ae),!function Xn(Ce=(0,fe.z$)()){return function br(){return(0,fe.w1)()&&11===document?.documentMode}()||function gr(Ce=(0,fe.z$)()){return/Edge\/\d+/.test(Ce)}(Ce)}()||(0,fe.hl)()}catch{return Gr()&&(0,fe.hl)()}return!1}function Gr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cr(){return(function bn(){return"http:"===Ln()||"https:"===Ln()}()||(0,fe.ru)()||Or())&&!function kr(){return(0,fe.b$)()||(0,fe.UG)()}()&&Jr()&&!Gr()}function vi(){return Or()&&typeof document<"u"}function er(){return(er=(0,w.Z)(function*(){return!!vi()&&new Promise(Ce=>{const ae=setTimeout(()=>{Ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ae),Ce(!0)})})})).apply(this,arguments)}const mn={LOCAL:"local",NONE:"none",SESSION:"session"},Ar=u.ax,Vi="persistence";function si(Ce){return qr.apply(this,arguments)}function qr(){return(qr=(0,w.Z)(function*(Ce){yield Ce._initializationPromise;const ae=kn(),Ie=u.aA(Vi,Ce.config.apiKey,Ce.name);ae&&ae.setItem(Ie,Ce._getPersistence())})).apply(this,arguments)}function kn(){var Ce;try{return(null===(Ce=function Qr(){return typeof window<"u"?window:null}())||void 0===Ce?void 0:Ce.sessionStorage)||null}catch{return null}}const cn=u.ax;class Fn{constructor(){this.browserResolver=u.az(u.k),this.cordovaResolver=u.az(qt),this.underlyingResolver=null,this._redirectPersistence=u.a,this._completeRedirectFn=u.aB,this._overrideRedirectResult=u.aC}_initialize(ae){var Ie=this;return(0,w.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._initialize(ae)})()}_openPopup(ae,Ie,Et,Zt){var Tn=this;return(0,w.Z)(function*(){return yield Tn.selectUnderlyingResolver(),Tn.assertedUnderlyingResolver._openPopup(ae,Ie,Et,Zt)})()}_openRedirect(ae,Ie,Et,Zt){var Tn=this;return(0,w.Z)(function*(){return yield Tn.selectUnderlyingResolver(),Tn.assertedUnderlyingResolver._openRedirect(ae,Ie,Et,Zt)})()}_isIframeWebStorageSupported(ae,Ie){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ae,Ie)}_originValidation(ae){return this.assertedUnderlyingResolver._originValidation(ae)}get _shouldInitProactively(){return vi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ae=this;return(0,w.Z)(function*(){if(ae.underlyingResolver)return;const Ie=yield function ar(){return er.apply(this,arguments)}();ae.underlyingResolver=Ie?ae.cordovaResolver:ae.browserResolver})()}}function Wn(Ce){return Ce.unwrap()}function es(Ce){return us(Ce)}function us(Ce){const{_tokenResponse:ae}=Ce instanceof fe.ZR?Ce.customData:Ce;if(!ae)return null;if(!(Ce instanceof fe.ZR)&&"temporaryProof"in ae&&"phoneNumber"in ae)return u.P.credentialFromResult(Ce);const Ie=ae.providerId;if(!Ie||Ie===u.o.PASSWORD)return null;let Et;switch(Ie){case u.o.GOOGLE:Et=u.Q;break;case u.o.FACEBOOK:Et=u.N;break;case u.o.GITHUB:Et=u.T;break;case u.o.TWITTER:Et=u.W;break;default:const{oauthIdToken:Zt,oauthAccessToken:Tn,oauthTokenSecret:$e,pendingToken:Fe,nonce:ye}=ae;return Tn||$e||Zt||Fe?Fe?Ie.startsWith("saml.")?u.aL._create(Ie,Fe):u.J._fromParams({providerId:Ie,signInMethod:Ie,pendingToken:Fe,idToken:Zt,accessToken:Tn}):new u.U(Ie).credential({idToken:Zt,accessToken:Tn,rawNonce:ye}):null}return Ce instanceof fe.ZR?Et.credentialFromError(Ce):Et.credentialFromResult(Ce)}function yr(Ce,ae){return ae.catch(Ie=>{throw Ie instanceof fe.ZR&&function In(Ce,ae){var Ie;const Et=null===(Ie=ae.customData)||void 0===Ie?void 0:Ie._tokenResponse;if("auth/multi-factor-auth-required"===ae?.code)ae.resolver=new ls(Ce,u.an(Ce,ae));else if(Et){const Zt=us(ae),Tn=ae;Zt&&(Tn.credential=Zt,Tn.tenantId=Et.tenantId||void 0,Tn.email=Et.email||void 0,Tn.phoneNumber=Et.phoneNumber||void 0)}}(Ce,Ie),Ie}).then(Ie=>{const Zt=Ie.user;return{operationType:Ie.operationType,credential:es(Ie),additionalUserInfo:u.al(Ie),user:yi.getOrCreate(Zt)}})}function ys(Ce,ae){return fr.apply(this,arguments)}function fr(){return(fr=(0,w.Z)(function*(Ce,ae){const Ie=yield ae;return{verificationId:Ie.verificationId,confirm:Et=>yr(Ce,Ie.confirm(Et))}})).apply(this,arguments)}class ls{constructor(ae,Ie){this.resolver=Ie,this.auth=function jr(Ce){return Ce.wrapped()}(ae)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ae){return yr(Wn(this.auth),this.resolver.resolveSignIn(ae))}}class yi{constructor(ae){this._delegate=ae,this.multiFactor=u.ao(ae)}static getOrCreate(ae){return yi.USER_MAP.has(ae)||yi.USER_MAP.set(ae,new yi(ae)),yi.USER_MAP.get(ae)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ae){return this._delegate.getIdTokenResult(ae)}getIdToken(ae){return this._delegate.getIdToken(ae)}linkAndRetrieveDataWithCredential(ae){return this.linkWithCredential(ae)}linkWithCredential(ae){var Ie=this;return(0,w.Z)(function*(){return yr(Ie.auth,u.Z(Ie._delegate,ae))})()}linkWithPhoneNumber(ae,Ie){var Et=this;return(0,w.Z)(function*(){return ys(Et.auth,u.l(Et._delegate,ae,Ie))})()}linkWithPopup(ae){var Ie=this;return(0,w.Z)(function*(){return yr(Ie.auth,u.d(Ie._delegate,ae,Fn))})()}linkWithRedirect(ae){var Ie=this;return(0,w.Z)(function*(){return yield si(u.aE(Ie.auth)),u.g(Ie._delegate,ae,Fn)})()}reauthenticateAndRetrieveDataWithCredential(ae){return this.reauthenticateWithCredential(ae)}reauthenticateWithCredential(ae){var Ie=this;return(0,w.Z)(function*(){return yr(Ie.auth,u._(Ie._delegate,ae))})()}reauthenticateWithPhoneNumber(ae,Ie){return ys(this.auth,u.r(this._delegate,ae,Ie))}reauthenticateWithPopup(ae){return yr(this.auth,u.e(this._delegate,ae,Fn))}reauthenticateWithRedirect(ae){var Ie=this;return(0,w.Z)(function*(){return yield si(u.aE(Ie.auth)),u.h(Ie._delegate,ae,Fn)})()}sendEmailVerification(ae){return u.ab(this._delegate,ae)}unlink(ae){var Ie=this;return(0,w.Z)(function*(){return yield u.ak(Ie._delegate,ae),Ie})()}updateEmail(ae){return u.ag(this._delegate,ae)}updatePassword(ae){return u.ah(this._delegate,ae)}updatePhoneNumber(ae){return u.u(this._delegate,ae)}updateProfile(ae){return u.af(this._delegate,ae)}verifyBeforeUpdateEmail(ae,Ie){return u.ac(this._delegate,ae,Ie)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yi.USER_MAP=new WeakMap;const rn=u.ax;let jt=(()=>{class Ce{constructor(Ie,Et){if(this.app=Ie,Et.isInitialized())return this._delegate=Et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Zt}=Ie.options;rn(Zt,"invalid-api-key",{appName:Ie.name}),rn(Zt,"invalid-api-key",{appName:Ie.name});const Tn=typeof window<"u"?Fn:void 0;this._delegate=Et.initialize({options:{persistence:Kn(Zt,Ie.name),popupRedirectResolver:Tn}}),this._delegate._updateErrorMap(u.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ie){this._delegate.languageCode=Ie}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ie){this._delegate.tenantId=Ie}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ie,Et){u.G(this._delegate,Ie,Et)}applyActionCode(Ie){return u.a2(this._delegate,Ie)}checkActionCode(Ie){return u.a3(this._delegate,Ie)}confirmPasswordReset(Ie,Et){return u.a1(this._delegate,Ie,Et)}createUserWithEmailAndPassword(Ie,Et){var Zt=this;return(0,w.Z)(function*(){return yr(Zt._delegate,u.a5(Zt._delegate,Ie,Et))})()}fetchProvidersForEmail(Ie){return this.fetchSignInMethodsForEmail(Ie)}fetchSignInMethodsForEmail(Ie){return u.aa(this._delegate,Ie)}isSignInWithEmailLink(Ie){return u.a8(this._delegate,Ie)}getRedirectResult(){var Ie=this;return(0,w.Z)(function*(){rn(Cr(),Ie._delegate,"operation-not-supported-in-this-environment");const Et=yield u.j(Ie._delegate,Fn);return Et?yr(Ie._delegate,Promise.resolve(Et)):{credential:null,user:null}})()}addFrameworkForLogging(Ie){!function _n(Ce,ae){(0,u.aE)(Ce)._logFramework(ae)}(this._delegate,Ie)}onAuthStateChanged(Ie,Et,Zt){const{next:Tn,error:$e,complete:Fe}=wn(Ie,Et,Zt);return this._delegate.onAuthStateChanged(Tn,$e,Fe)}onIdTokenChanged(Ie,Et,Zt){const{next:Tn,error:$e,complete:Fe}=wn(Ie,Et,Zt);return this._delegate.onIdTokenChanged(Tn,$e,Fe)}sendSignInLinkToEmail(Ie,Et){return u.a7(this._delegate,Ie,Et)}sendPasswordResetEmail(Ie,Et){return u.a0(this._delegate,Ie,Et||void 0)}setPersistence(Ie){var Et=this;return(0,w.Z)(function*(){let Zt;switch(function Ri(Ce,ae){Ar(Object.values(mn).includes(ae),Ce,"invalid-persistence-type"),(0,fe.b$)()?Ar(ae!==mn.SESSION,Ce,"unsupported-persistence-type"):(0,fe.UG)()?Ar(ae===mn.NONE,Ce,"unsupported-persistence-type"):Gr()?Ar(ae===mn.NONE||ae===mn.LOCAL&&(0,fe.hl)(),Ce,"unsupported-persistence-type"):Ar(ae===mn.NONE||Jr(),Ce,"unsupported-persistence-type")}(Et._delegate,Ie),Ie){case mn.SESSION:Zt=u.a;break;case mn.LOCAL:Zt=(yield u.az(u.i)._isAvailable())?u.i:u.b;break;case mn.NONE:Zt=u.L;break;default:return u.as("argument-error",{appName:Et._delegate.name})}return Et._delegate.setPersistence(Zt)})()}signInAndRetrieveDataWithCredential(Ie){return this.signInWithCredential(Ie)}signInAnonymously(){return yr(this._delegate,u.X(this._delegate))}signInWithCredential(Ie){return yr(this._delegate,u.Y(this._delegate,Ie))}signInWithCustomToken(Ie){return yr(this._delegate,u.$(this._delegate,Ie))}signInWithEmailAndPassword(Ie,Et){return yr(this._delegate,u.a6(this._delegate,Ie,Et))}signInWithEmailLink(Ie,Et){return yr(this._delegate,u.a9(this._delegate,Ie,Et))}signInWithPhoneNumber(Ie,Et){return ys(this._delegate,u.s(this._delegate,Ie,Et))}signInWithPopup(Ie){var Et=this;return(0,w.Z)(function*(){return rn(Cr(),Et._delegate,"operation-not-supported-in-this-environment"),yr(Et._delegate,u.c(Et._delegate,Ie,Fn))})()}signInWithRedirect(Ie){var Et=this;return(0,w.Z)(function*(){return rn(Cr(),Et._delegate,"operation-not-supported-in-this-environment"),yield si(Et._delegate),u.f(Et._delegate,Ie,Fn)})()}updateCurrentUser(Ie){return this._delegate.updateCurrentUser(Ie)}verifyPasswordResetCode(Ie){return u.a4(this._delegate,Ie)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ce.Persistence=mn,Ce})();function wn(Ce,ae,Ie){let Et=Ce;"function"!=typeof Ce&&({next:Et,error:ae,complete:Ie}=Ce);const Zt=Et;return{next:$e=>Zt($e&&yi.getOrCreate($e)),error:ae,complete:Ie}}function Kn(Ce,ae){const Ie=function xt(Ce,ae){const Ie=kn();if(!Ie)return[];const Et=u.aA(Vi,Ce,ae);switch(Ie.getItem(Et)){case mn.NONE:return[u.L];case mn.LOCAL:return[u.i,u.a];case mn.SESSION:return[u.a];default:return[]}}(Ce,ae);if(typeof self<"u"&&!Ie.includes(u.i)&&Ie.push(u.i),typeof window<"u")for(const Et of[u.b,u.a])Ie.includes(Et)||Ie.push(Et);return Ie.includes(u.L)||Ie.push(u.L),Ie}class Ht{constructor(){this.providerId="phone",this._delegate=new u.P(Wn(M.Z.auth()))}static credential(ae,Ie){return u.P.credential(ae,Ie)}verifyPhoneNumber(ae,Ie){return this._delegate.verifyPhoneNumber(ae,Ie)}unwrap(){return this._delegate}}Ht.PHONE_SIGN_IN_METHOD=u.P.PHONE_SIGN_IN_METHOD,Ht.PROVIDER_ID=u.P.PROVIDER_ID;const Mr=u.ax;class Ve{constructor(ae,Ie,Et=M.Z.app()){var Zt;Mr(null===(Zt=Et.options)||void 0===Zt?void 0:Zt.apiKey,"invalid-api-key",{appName:Et.name}),this._delegate=new u.R(ae,Ie,Et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function je(Ce){Ce.INTERNAL.registerComponent(new Se.wA("auth-compat",ae=>{const Ie=ae.getProvider("app-compat").getImmediate(),Et=ae.getProvider("auth");return new jt(Ie,Et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u.A.EMAIL_SIGNIN,PASSWORD_RESET:u.A.PASSWORD_RESET,RECOVER_EMAIL:u.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u.A.VERIFY_EMAIL}},EmailAuthProvider:u.M,FacebookAuthProvider:u.N,GithubAuthProvider:u.T,GoogleAuthProvider:u.Q,OAuthProvider:u.U,SAMLAuthProvider:u.V,PhoneAuthProvider:Ht,PhoneMultiFactorGenerator:u.m,RecaptchaVerifier:Ve,TwitterAuthProvider:u.W,Auth:jt,AuthCredential:u.H,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ce.registerVersion("@firebase/auth-compat","0.3.1")}(M.Z)},8766:(He,we,L)=>{"use strict";L.d(we,{Lj:()=>dt,X3:()=>Ct});var w=L(5861);let u,fe;const Se=new WeakMap,ge=new WeakMap,Ee=new WeakMap,pe=new WeakMap,be=new WeakMap;let Je={get(ht,Ft,Yt){if(ht instanceof IDBTransaction){if("done"===Ft)return ge.get(ht);if("objectStoreNames"===Ft)return ht.objectStoreNames||Ee.get(ht);if("store"===Ft)return Yt.objectStoreNames[1]?void 0:Yt.objectStore(Yt.objectStoreNames[0])}return at(ht[Ft])},set:(ht,Ft,Yt)=>(ht[Ft]=Yt,!0),has:(ht,Ft)=>ht instanceof IDBTransaction&&("done"===Ft||"store"===Ft)||Ft in ht};function Ye(ht){return"function"==typeof ht?function ct(ht){return ht!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ht)?function(...Ft){return ht.apply(st(this),Ft),at(Se.get(this))}:function(...Ft){return at(ht.apply(st(this),Ft))}:function(Ft,...Yt){const zt=ht.call(st(this),Ft,...Yt);return Ee.set(zt,Ft.sort?Ft.sort():[Ft]),at(zt)}}(ht):(ht instanceof IDBTransaction&&function ut(ht){if(ge.has(ht))return;const Ft=new Promise((Yt,zt)=>{const Qn=()=>{ht.removeEventListener("complete",fn),ht.removeEventListener("error",_t),ht.removeEventListener("abort",_t)},fn=()=>{Yt(),Qn()},_t=()=>{zt(ht.error||new DOMException("AbortError","AbortError")),Qn()};ht.addEventListener("complete",fn),ht.addEventListener("error",_t),ht.addEventListener("abort",_t)});ge.set(ht,Ft)}(ht),((ht,Ft)=>Ft.some(Yt=>ht instanceof Yt))(ht,function _e(){return u||(u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ht,Je):ht)}function at(ht){if(ht instanceof IDBRequest)return function Ne(ht){const Ft=new Promise((Yt,zt)=>{const Qn=()=>{ht.removeEventListener("success",fn),ht.removeEventListener("error",_t)},fn=()=>{Yt(at(ht.result)),Qn()},_t=()=>{zt(ht.error),Qn()};ht.addEventListener("success",fn),ht.addEventListener("error",_t)});return Ft.then(Yt=>{Yt instanceof IDBCursor&&Se.set(Yt,ht)}).catch(()=>{}),be.set(Ft,ht),Ft}(ht);if(pe.has(ht))return pe.get(ht);const Ft=Ye(ht);return Ft!==ht&&(pe.set(ht,Ft),be.set(Ft,ht)),Ft}const st=ht=>be.get(ht);function Ct(ht,Ft,{blocked:Yt,upgrade:zt,blocking:Qn,terminated:fn}={}){const _t=indexedDB.open(ht,Ft),ot=at(_t);return zt&&_t.addEventListener("upgradeneeded",It=>{zt(at(_t.result),It.oldVersion,It.newVersion,at(_t.transaction))}),Yt&&_t.addEventListener("blocked",()=>Yt()),ot.then(It=>{fn&&It.addEventListener("close",()=>fn()),Qn&&It.addEventListener("versionchange",()=>Qn())}).catch(()=>{}),ot}function dt(ht,{blocked:Ft}={}){const Yt=indexedDB.deleteDatabase(ht);return Ft&&Yt.addEventListener("blocked",()=>Ft()),at(Yt).then(()=>{})}const Mt=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],Ut=new Map;function ze(ht,Ft){if(!(ht instanceof IDBDatabase)||Ft in ht||"string"!=typeof Ft)return;if(Ut.get(Ft))return Ut.get(Ft);const Yt=Ft.replace(/FromIndex$/,""),zt=Ft!==Yt,Qn=Tt.includes(Yt);if(!(Yt in(zt?IDBIndex:IDBObjectStore).prototype)||!Qn&&!Mt.includes(Yt))return;const fn=function(){var _t=(0,w.Z)(function*(ot,...It){const Bt=this.transaction(ot,Qn?"readwrite":"readonly");let qt=Bt.store;return zt&&(qt=qt.index(It.shift())),(yield Promise.all([qt[Yt](...It),Qn&&Bt.done]))[0]});return function(It){return _t.apply(this,arguments)}}();return Ut.set(Ft,fn),fn}!function bt(ht){Je=ht(Je)}(ht=>({...ht,get:(Ft,Yt,zt)=>ze(Ft,Yt)||ht.get(Ft,Yt,zt),has:(Ft,Yt)=>!!ze(Ft,Yt)||ht.has(Ft,Yt)}))},5861:(He,we,L)=>{"use strict";function w(u,fe,_e,Me,Se,ge,Ee){try{var pe=u[ge](Ee),be=pe.value}catch(Ne){return void _e(Ne)}pe.done?fe(be):Promise.resolve(be).then(Me,Se)}function M(u){return function(){var fe=this,_e=arguments;return new Promise(function(Me,Se){var ge=u.apply(fe,_e);function Ee(be){w(ge,Me,Se,Ee,pe,"next",be)}function pe(be){w(ge,Me,Se,Ee,pe,"throw",be)}Ee(void 0)})}}L.d(we,{Z:()=>M})}},He=>{var we=w=>He(He.s=w);we(310),we(9313)}]);
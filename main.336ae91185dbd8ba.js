(self.webpackChunkLetsgoPwa=self.webpackChunkLetsgoPwa||[]).push([[179],{6217:(je,be,F)=>{"use strict";F.d(be,{nm:()=>on});var w=F(263);F(4650),F(259);var vt=F(5861),Nt=F(9681),Dt=F(4859),$t=F(2090),Ze=F(1877);const pt=new Map,Vt={activated:!1,tokenObservers:[]},We={initialized:!1,enabled:!1};function Ge(De){return pt.get(De)||Object.assign({},Vt)}function ct(){return We}class zn{constructor(Te,Xe,Pt,en,Sn){if(this.operation=Te,this.retryPolicy=Xe,this.getWaitDuration=Pt,this.lowerBound=en,this.upperBound=Sn,this.pending=null,this.nextErrorWaitInterval=en,en>Sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var Xe=this;return(0,vt.Z)(function*(){Xe.stop();try{Xe.pending=new $t.BH,yield function bn(De){return new Promise(Te=>{setTimeout(Te,De)})}(Xe.getNextRun(Te)),Xe.pending.resolve(),yield Xe.pending.promise,Xe.pending=new $t.BH,yield Xe.operation(),Xe.pending.resolve(),yield Xe.pending.promise,Xe.process(!0).catch(()=>{})}catch(Pt){Xe.retryPolicy(Pt)?Xe.process(!1).catch(()=>{}):Xe.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Xe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Xe}}}const Zn=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function On(De){if(!Ge(De).activated)throw Zn.create("use-before-activation",{appName:De.name})}function Pr(De,Te){return Or.apply(this,arguments)}function Or(){return(Or=(0,vt.Z)(function*({url:De,body:Te},Xe){const Pt={"Content-Type":"application/json"},en=Xe.getImmediate({optional:!0});if(en){const nt=yield en.getHeartbeatsHeader();nt&&(Pt["X-Firebase-Client"]=nt)}const Sn={method:"POST",body:JSON.stringify(Te),headers:Pt};let Tn,_r;try{Tn=yield fetch(De,Sn)}catch(nt){throw Zn.create("fetch-network-error",{originalErrorMessage:nt?.message})}if(200!==Tn.status)throw Zn.create("fetch-status-error",{httpStatus:Tn.status});try{_r=yield Tn.json()}catch(nt){throw Zn.create("fetch-parse-error",{originalErrorMessage:nt?.message})}const Dr=_r.ttl.match(/^([\d.]+)(s)$/);if(!Dr||!Dr[2]||isNaN(Number(Dr[1])))throw Zn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_r.ttl}`});const ki=1e3*Number(Dr[1]),ds=Date.now();return{token:_r.token,expireTimeMillis:ds+ki,issuedAtTimeMillis:ds}})).apply(this,arguments)}function Br(De,Te){const{projectId:Xe,appId:Pt,apiKey:en}=De.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Xe}/apps/${Pt}:exchangeDebugToken?key=${en}`,body:{debug_token:Te}}}const Qn="firebase-app-check-store";let qr=null;function dn(){return qr||(qr=new Promise((De,Te)=>{try{const Xe=indexedDB.open("firebase-app-check-database",1);Xe.onsuccess=Pt=>{De(Pt.target.result)},Xe.onerror=Pt=>{var en;Te(Zn.create("storage-open",{originalErrorMessage:null===(en=Pt.target.error)||void 0===en?void 0:en.message}))},Xe.onupgradeneeded=Pt=>{0===Pt.oldVersion&&Pt.target.result.createObjectStore(Qn,{keyPath:"compositeKey"})}}catch(Xe){Te(Zn.create("storage-open",{originalErrorMessage:Xe?.message}))}}),qr)}function At(){return(At=(0,vt.Z)(function*(De,Te){const Pt=(yield dn()).transaction(Qn,"readwrite"),Sn=Pt.objectStore(Qn).put({compositeKey:De,value:Te});return new Promise((Tn,_r)=>{Sn.onsuccess=Dr=>{Tn()},Pt.onerror=Dr=>{var ki;_r(Zn.create("storage-set",{originalErrorMessage:null===(ki=Dr.target.error)||void 0===ki?void 0:ki.message}))}})})).apply(this,arguments)}const Fn=new Ze.Yd("@firebase/app-check");function En(De,Te){return(0,$t.hl)()?function Ri(De,Te){return function jr(De,Te){return At.apply(this,arguments)}(function Mn(De){return`${De.options.appId}-${De.name}`}(De),Te)}(De,Te).catch(Xe=>{Fn.warn(`Failed to write token to IndexedDB. Error: ${Xe}`)}):Promise.resolve()}function vs(){return ct().enabled}function or(){return ls.apply(this,arguments)}function ls(){return(ls=(0,vt.Z)(function*(){const De=ct();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rn={error:"UNKNOWN_ERROR"};function jt(De){return $t.US.encodeString(JSON.stringify(De),!1)}function gn(De){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,vt.Z)(function*(De,Te=!1){const Xe=De.app;On(Xe);const Pt=Ge(Xe);let Sn,en=Pt.token;if(en&&!Ce(en)&&(Pt.token=void 0,en=void 0),!en){const Dr=yield Pt.cachedTokenPromise;Dr&&(Ce(Dr)?en=Dr:yield En(Xe,void 0))}if(!Te&&en&&Ce(en))return{token:en.token};let _r,Tn=!1;if(vs()){Pt.exchangeTokenPromise||(Pt.exchangeTokenPromise=Pr(Br(Xe,yield or()),De.heartbeatServiceProvider).finally(()=>{Pt.exchangeTokenPromise=void 0}),Tn=!0);const Dr=yield Pt.exchangeTokenPromise;return yield En(Xe,Dr),Pt.token=Dr,{token:Dr.token}}try{Pt.exchangeTokenPromise||(Pt.exchangeTokenPromise=Pt.provider.getToken().finally(()=>{Pt.exchangeTokenPromise=void 0}),Tn=!0),en=yield Ge(Xe).exchangeTokenPromise}catch(Dr){"appCheck/throttled"===Dr.code?Fn.warn(Dr.message):Fn.error(Dr),Sn=Dr}return en?Sn?_r=Ce(en)?{token:en.token,internalError:Sn}:ue(Sn):(_r={token:en.token},Pt.token=en,yield En(Xe,en)):_r=ue(Sn),Tn&&qe(Xe,_r),_r})).apply(this,arguments)}function Cr(De,Te){const Xe=Ge(De),Pt=Xe.tokenObservers.filter(en=>en.next!==Te);0===Pt.length&&Xe.tokenRefresher&&Xe.tokenRefresher.isRunning()&&Xe.tokenRefresher.stop(),Xe.tokenObservers=Pt}function Ue(De){const{app:Te}=De,Xe=Ge(Te);let Pt=Xe.tokenRefresher;Pt||(Pt=function Se(De){const{app:Te}=De;return new zn((0,vt.Z)(function*(){let Pt;if(Pt=Ge(Te).token?yield gn(De,!0):yield gn(De),Pt.error)throw Pt.error;if(Pt.internalError)throw Pt.internalError}),()=>!0,()=>{const Xe=Ge(Te);if(Xe.token){let Pt=Xe.token.issuedAtTimeMillis+.5*(Xe.token.expireTimeMillis-Xe.token.issuedAtTimeMillis)+3e5;return Pt=Math.min(Pt,Xe.token.expireTimeMillis-3e5),Math.max(0,Pt-Date.now())}return 0},3e4,96e4)}(De),Xe.tokenRefresher=Pt),!Pt.isRunning()&&Xe.isTokenAutoRefreshEnabled&&Pt.start()}function qe(De,Te){const Xe=Ge(De).tokenObservers;for(const Pt of Xe)try{"EXTERNAL"===Pt.type&&null!=Te.error?Pt.error(Te.error):Pt.next(Te)}catch{}}function Ce(De){return De.expireTimeMillis-Date.now()>0}function ue(De){return{token:jt(rn),error:De}}class Ae{constructor(Te,Xe){this.app=Te,this.heartbeatServiceProvider=Xe}_delete(){const{tokenObservers:Te}=Ge(this.app);for(const Xe of Te)Cr(this.app,Xe.next);return Promise.resolve()}}const ar="app-check-internal";!function Yi(){(0,Nt._registerComponent)(new Dt.wA("app-check",De=>function Et(De,Te){return new Ae(De,Te)}(De.getProvider("app").getImmediate(),De.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,Te,Xe)=>{De.getProvider(ar).initialize()})),(0,Nt._registerComponent)(new Dt.wA(ar,De=>function qt(De){return{getToken:Te=>gn(De,Te),addTokenListener:Te=>function Yt(De,Te,Xe,Pt){const{app:en}=De,Sn=Ge(en);if(Sn.tokenObservers=[...Sn.tokenObservers,{next:Xe,error:Pt,type:Te}],Sn.token&&Ce(Sn.token)){const _r=Sn.token;Promise.resolve().then(()=>{Xe({token:_r.token}),Ue(De)}).catch(()=>{})}Sn.cachedTokenPromise.then(()=>Ue(De))}(De,"INTERNAL",Te),removeTokenListener:Te=>Cr(De.app,Te)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nt.registerVersion)("@firebase/app-check","0.6.1")}();class on{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},1041:(je,be,F)=>{"use strict";F.d(be,{zQ:()=>ct,ww:()=>Xt,rT:()=>Vt,f7:()=>Ge,L6:()=>Ze,_Q:()=>pt,lh:()=>We,Qv:()=>$t,nw:()=>Tt});var w=F(4650),M=F(7579),l=F(9646),pe=F(9751),me=F(8996),Me=F(6451),Ie=F(5363),_e=F(3900),Ee=F(4004),ge=F(4707),we=F(3099);function Ne(Ft,pn,Gn){let Jn,Dn=!1;return Ft&&"object"==typeof Ft?({bufferSize:Jn=1/0,windowTime:pn=1/0,refCount:Dn=!1,scheduler:Gn}=Ft):Jn=Ft??1/0,(0,we.B)({connector:()=>new ge.t(Jn,pn,Gn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Dn})}var dt=F(590),tt=F(576);function bt(Ft,pn){return(0,tt.m)(pn)?(0,_e.w)(()=>Ft,pn):(0,_e.w)(()=>Ft)}var ft=F(9468),Ye=F(9300),lt=F(263),ut=F(2011),Ct=F(6895),vt=F(6217),Nt=F(9260);const $t=new w.OlP("angularfire2.auth.use-emulator"),Ze=new w.OlP("angularfire2.auth.settings"),pt=new w.OlP("angularfire2.auth.tenant-id"),Vt=new w.OlP("angularfire2.auth.langugage-code"),We=new w.OlP("angularfire2.auth.use-device-language"),Ge=new w.OlP("angularfire.auth.persistence"),Tt=(Ft,pn,Gn,Jn,Dn,zn,bn,mn)=>(0,ut.cc)(`${Ft.name}.auth`,"AngularFireAuth",Ft.name,()=>{const Zn=pn.runOutsideAngular(()=>Ft.auth());if(Gn&&Zn.useEmulator(...Gn),Jn&&(Zn.tenantId=Jn),Zn.languageCode=Dn,zn&&Zn.useDeviceLanguage(),bn)for(const[nr,On]of Object.entries(bn))Zn.settings[nr]=On;return mn&&Zn.setPersistence(mn),Zn},[Gn,Jn,Dn,zn,bn,mn]);let ct=(()=>{class Ft{constructor(Gn,Jn,Dn,zn,bn,mn,Zn,nr,On,rs,ai,Pr){const Or=new M.x,rr=(0,l.of)(void 0).pipe((0,Ie.Q)(bn.outsideAngular),(0,_e.w)(()=>zn.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,Ee.U)(()=>(0,ut.on)(Gn,zn,Jn)),(0,Ee.U)(fi=>Tt(fi,zn,mn,nr,On,rs,Zn,ai)),Ne({bufferSize:1,refCount:!1}));if((0,Ct.PM)(Dn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,l.of)(null);else{rr.pipe((0,dt.P)()).subscribe();const Br=rr.pipe((0,_e.w)(Qn=>Qn.getRedirectResult().then(jn=>jn,()=>null)),lt.iC,Ne({bufferSize:1,refCount:!1})),fr=rr.pipe((0,_e.w)(Qn=>new pe.y(jn=>({unsubscribe:zn.runOutsideAngular(()=>Qn.onAuthStateChanged(qr=>jn.next(qr),qr=>jn.error(qr),()=>jn.complete()))})))),pi=rr.pipe((0,_e.w)(Qn=>new pe.y(jn=>({unsubscribe:zn.runOutsideAngular(()=>Qn.onIdTokenChanged(qr=>jn.next(qr),qr=>jn.error(qr),()=>jn.complete()))}))));this.authState=Br.pipe(bt(fr),(0,ft.R)(bn.outsideAngular),(0,Ie.Q)(bn.insideAngular)),this.user=Br.pipe(bt(pi),(0,ft.R)(bn.outsideAngular),(0,Ie.Q)(bn.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Qn=>Qn?(0,me.D)(Qn.getIdToken()):(0,l.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Qn=>Qn?(0,me.D)(Qn.getIdTokenResult()):(0,l.of)(null))),this.credential=(0,Me.T)(Br,Or,this.authState.pipe((0,Ye.h)(Qn=>!Qn))).pipe((0,Ee.U)(Qn=>Qn?.user?Qn:null),(0,ft.R)(bn.outsideAngular),(0,Ie.Q)(bn.insideAngular))}return(0,ut.pX)(this,rr,zn,{spy:{apply:(fi,Br,fr)=>{(fi.startsWith("signIn")||fi.startsWith("createUser"))&&fr.then(pi=>Or.next(pi))}}})}}return Ft.\u0275fac=function(Gn){return new(Gn||Ft)(w.LFG(ut.Dh),w.LFG(ut.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(lt.HU),w.LFG($t,8),w.LFG(Ze,8),w.LFG(pt,8),w.LFG(Vt,8),w.LFG(We,8),w.LFG(Ge,8),w.LFG(vt.nm,8))},Ft.\u0275prov=w.Yz7({token:Ft,factory:Ft.\u0275fac,providedIn:"any"}),Ft})(),Xt=(()=>{class Ft{constructor(){Nt.Z.registerVersion("angularfire",lt.q4.full,"auth-compat")}}return Ft.\u0275fac=function(Gn){return new(Gn||Ft)},Ft.\u0275mod=w.oAB({type:Ft}),Ft.\u0275inj=w.cJS({providers:[ct]}),Ft})()},2011:(je,be,F)=>{"use strict";F.d(be,{Dh:()=>_e,GT:()=>Me,cc:()=>tt,hO:()=>dt,on:()=>ge,pX:()=>me,xv:()=>Ee});var w=F(4650),M=F(9260),l=F(263);je=F.hmd(je);const pe=["ngOnDestroy"],me=(lt,ut,Ct,vt={})=>new Proxy(lt,{get:(Nt,Dt)=>Ct.runOutsideAngular(()=>{var $t;if(lt[Dt])return!(null===($t=vt?.spy)||void 0===$t)&&$t.get&&vt.spy.get(Dt,lt[Dt]),lt[Dt];if(pe.indexOf(Dt)>-1)return()=>{};const Ze=ut.toPromise().then(pt=>{const Vt=pt&&pt[Dt];return"function"==typeof Vt?Vt.bind(pt):Vt&&Vt.then?Vt.then(We=>Ct.run(()=>We)):Ct.run(()=>Vt)});return new Proxy(()=>{},{get:(pt,Vt)=>Ze[Vt],apply:(pt,Vt,We)=>Ze.then(Ge=>{var Tt;const ct=Ge&&Ge(...We);return!(null===(Tt=vt?.spy)||void 0===Tt)&&Tt.apply&&vt.spy.apply(Dt,We,ct),ct})})})}),Me=(lt,ut)=>{ut.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(vt=>{Object.defineProperty(lt.prototype,vt,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,vt))})})};class Ie{constructor(ut){return ut}}const _e=new w.OlP("angularfire2.app.options"),Ee=new w.OlP("angularfire2.app.name");function ge(lt,ut,Ct){const Nt="object"==typeof Ct&&Ct||{};Nt.name=Nt.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const $t=M.Z.apps.filter(Ze=>Ze&&Ze.name===Nt.name)[0]||ut.runOutsideAngular(()=>M.Z.initializeApp(lt,Nt));try{JSON.stringify(lt)!==JSON.stringify($t.options)&&we("error",`${$t.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie($t)}const we=(lt,...ut)=>{(0,w.X6Q)()&&typeof console<"u"&&console[lt](...ut)},Ne={provide:Ie,useFactory:ge,deps:[_e,w.R0b,[new w.FiY,Ee]]};let dt=(()=>{class lt{constructor(Ct){M.Z.registerVersion("angularfire",l.q4.full,"core"),M.Z.registerVersion("angularfire",l.q4.full,"app-compat"),M.Z.registerVersion("angular",w.q4F.full,Ct.toString())}static initializeApp(Ct,vt){return{ngModule:lt,providers:[{provide:_e,useValue:Ct},{provide:Ee,useValue:vt}]}}}return lt.\u0275fac=function(Ct){return new(Ct||lt)(w.LFG(w.Lbi))},lt.\u0275mod=w.oAB({type:lt}),lt.\u0275inj=w.cJS({providers:[Ne]}),lt})();function tt(lt,ut,Ct,vt,Nt){const[,Dt,$t]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===lt)||[];if(Dt)return function bt(lt,ut){try{return lt.toString()===ut.toString()}catch{return lt===ut}}(Nt,$t)||(Ye("error",`${ut} was already initialized on the ${Ct} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:Nt,was:$t})),Dt;{const Ze=vt();return globalThis.\u0275AngularfireInstanceCache.push([lt,Ze,Nt]),Ze}}const ft=!!je.hot,Ye=(lt,...ut)=>{(0,w.X6Q)()&&typeof console<"u"&&console[lt](...ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(je,be,F)=>{"use strict";F.d(be,{q4:()=>Mo,iC:()=>Wo,HU:()=>In,vb:()=>he,JM:()=>ie});var w=F(4650),M=F(259),l=F(5861),pe=F(9681),me=F(2090),Me=F(4859),Ie=F(1877),_e=F(8766);const Ee="@firebase/installations",ge="0.6.1",Ne=`w:${ge}`,dt="FIS_v2",ut=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(z){return z instanceof me.ZR&&z.code.includes("request-failed")}function vt({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function Nt(z){return{token:z.token,requestStatus:2,expiresIn:Ge(z.expiresIn),creationTime:Date.now()}}function Dt(z,Z){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(z,Z){const Fe=(yield Z.json()).error;return ut.create("request-failed",{requestName:z,serverCode:Fe.code,serverMessage:Fe.message,serverStatus:Fe.status})})).apply(this,arguments)}function Ze({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function pt(z,{refreshToken:Z}){const se=Ze(z);return se.append("Authorization",function Tt(z){return`${dt} ${z}`}(Z)),se}function Vt(z){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(z){const Z=yield z();return Z.status>=500&&Z.status<600?z():Z})).apply(this,arguments)}function Ge(z){return Number(z.replace("s","000"))}function ct(z,Z){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*({appConfig:z,heartbeatServiceProvider:Z},{fid:se}){const Fe=vt(z),ot=Ze(z),It=Z.getImmediate({optional:!0});if(It){const er=yield It.getHeartbeatsHeader();er&&ot.append("x-firebase-client",er)}const Un={method:"POST",headers:ot,body:JSON.stringify({fid:se,authVersion:dt,appId:z.appId,sdkVersion:Ne})},Kn=yield Vt(()=>fetch(Fe,Un));if(Kn.ok){const er=yield Kn.json();return{fid:er.fid||se,registrationStatus:2,refreshToken:er.refreshToken,authToken:Nt(er.authToken)}}throw yield Dt("Create Installation",Kn)})).apply(this,arguments)}function Ft(z){return new Promise(Z=>{setTimeout(Z,z)})}const Gn=/^[cdef][\w-]{21}$/;function Dn(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const se=function zn(z){return function pn(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return Gn.test(se)?se:""}catch{return""}}function bn(z){return`${z.appName}!${z.appId}`}const mn=new Map;function Zn(z,Z){const se=bn(z);rs(se,Z),function ai(z,Z){const se=function Or(){return!Pr&&"BroadcastChannel"in self&&(Pr=new BroadcastChannel("[Firebase] FID Change"),Pr.onmessage=z=>{rs(z.data.key,z.data.fid)}),Pr}();se&&se.postMessage({key:z,fid:Z}),function rr(){0===mn.size&&Pr&&(Pr.close(),Pr=null)}()}(se,Z)}function rs(z,Z){const se=mn.get(z);if(se)for(const Fe of se)Fe(Z)}let Pr=null;const fr="firebase-installations-store";let pi=null;function Qn(){return pi||(pi=(0,_e.X3)("firebase-installations-database",1,{upgrade:(z,Z)=>{0===Z&&z.createObjectStore(fr)}})),pi}function jn(z,Z){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(z,Z){const se=bn(z),ot=(yield Qn()).transaction(fr,"readwrite"),It=ot.objectStore(fr),tn=yield It.get(se);return yield It.put(Z,se),yield ot.done,(!tn||tn.fid!==Z.fid)&&Zn(z,Z.fid),Z})).apply(this,arguments)}function dn(z){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(z){const Z=bn(z),Fe=(yield Qn()).transaction(fr,"readwrite");yield Fe.objectStore(fr).delete(Z),yield Fe.done})).apply(this,arguments)}function Ri(z,Z){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(z,Z){const se=bn(z),ot=(yield Qn()).transaction(fr,"readwrite"),It=ot.objectStore(fr),tn=yield It.get(se),Un=Z(tn);return void 0===Un?yield It.delete(se):yield It.put(Un,se),yield ot.done,Un&&(!tn||tn.fid!==Un.fid)&&Zn(z,Un.fid),Un})).apply(this,arguments)}function Xr(z){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(z){let Z;const se=yield Ri(z.appConfig,Fe=>{const ot=At(Fe),It=xn(z,ot);return Z=It.registrationPromise,It.installationEntry});return""===se.fid?{installationEntry:yield Z}:{installationEntry:se,registrationPromise:Z}})).apply(this,arguments)}function At(z){return En(z||{fid:Dn(),registrationStatus:0})}function xn(z,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(ut.create("app-offline"))};const se={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},Fe=function un(z,Z){return Mn.apply(this,arguments)}(z,se);return{installationEntry:se,registrationPromise:Fe}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:Fn(z)}:{installationEntry:Z}}function Mn(){return(Mn=(0,l.Z)(function*(z,Z){try{const se=yield ct(z,Z);return jn(z.appConfig,se)}catch(se){throw Ct(se)&&409===se.customData.serverCode?yield dn(z.appConfig):yield jn(z.appConfig,{fid:Z.fid,registrationStatus:0}),se}})).apply(this,arguments)}function Fn(z){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(z){let Z=yield Zi(z.appConfig);for(;1===Z.registrationStatus;)yield Ft(100),Z=yield Zi(z.appConfig);if(0===Z.registrationStatus){const{installationEntry:se,registrationPromise:Fe}=yield Xr(z);return Fe||se}return Z})).apply(this,arguments)}function Zi(z){return Ri(z,Z=>{if(!Z)throw ut.create("installation-not-found");return En(Z)})}function En(z){return function us(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function lr(z,Z){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*({appConfig:z,heartbeatServiceProvider:Z},se){const Fe=or(z,se),ot=pt(z,se),It=Z.getImmediate({optional:!0});if(It){const er=yield It.getHeartbeatsHeader();er&&ot.append("x-firebase-client",er)}const Un={method:"POST",headers:ot,body:JSON.stringify({installation:{sdkVersion:Ne,appId:z.appId}})},Kn=yield Vt(()=>fetch(Fe,Un));if(Kn.ok)return Nt(yield Kn.json());throw yield Dt("Generate Auth Token",Kn)})).apply(this,arguments)}function or(z,{fid:Z}){return`${vt(z)}/${Z}/authTokens:generate`}function ls(z){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(z,Z=!1){let se;const Fe=yield Ri(z.appConfig,It=>{if(!Cr(It))throw ut.create("not-registered");const tn=It.authToken;if(!Z&&Ue(tn))return It;if(1===tn.requestStatus)return se=rn(z,Z),It;{if(!navigator.onLine)throw ut.create("app-offline");const Un=qe(It);return se=Vn(z,Un),Un}});return se?yield se:Fe.authToken})).apply(this,arguments)}function rn(z,Z){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(z,Z){let se=yield gn(z.appConfig);for(;1===se.authToken.requestStatus;)yield Ft(100),se=yield gn(z.appConfig);const Fe=se.authToken;return 0===Fe.requestStatus?ls(z,Z):Fe})).apply(this,arguments)}function gn(z){return Ri(z,Z=>{if(!Cr(Z))throw ut.create("not-registered");return function Ce(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function Vn(z,Z){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(z,Z){try{const se=yield lr(z,Z),Fe=Object.assign(Object.assign({},Z),{authToken:se});return yield jn(z.appConfig,Fe),se}catch(se){if(!Ct(se)||401!==se.customData.serverCode&&404!==se.customData.serverCode){const Fe=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield jn(z.appConfig,Fe)}else yield dn(z.appConfig);throw se}})).apply(this,arguments)}function Cr(z){return void 0!==z&&2===z.registrationStatus}function Ue(z){return 2===z.requestStatus&&!function Se(z){const Z=Date.now();return Z<z.creationTime||z.creationTime+z.expiresIn<Z+36e5}(z)}function qe(z){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:Z})}function Ae(){return(Ae=(0,l.Z)(function*(z){const Z=z,{installationEntry:se,registrationPromise:Fe}=yield Xr(Z);return Fe?Fe.catch(console.error):ls(Z).catch(console.error),se.fid})).apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(z,Z=!1){const se=z;return yield vn(se),(yield ls(se,Z)).token})).apply(this,arguments)}function vn(z){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(z){const{registrationPromise:Z}=yield Xr(z);Z&&(yield Z)})).apply(this,arguments)}function ys(z){return ut.create("missing-app-config-values",{valueName:z})}const Rr="installations",Ms=z=>{const Z=z.getProvider("app").getImmediate(),se=function ri(z){if(!z||!z.options)throw ys("App Configuration");if(!z.name)throw ys("App Name");const Z=["projectId","apiKey","appId"];for(const se of Z)if(!z.options[se])throw ys(se);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(Z);return{app:Z,appConfig:se,heartbeatServiceProvider:(0,pe._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},wo=z=>{const Z=z.getProvider("app").getImmediate(),se=(0,pe._getProvider)(Z,Rr).getImmediate();return{getId:()=>function ue(z){return Ae.apply(this,arguments)}(se),getToken:ot=>function Et(z){return qt.apply(this,arguments)}(se,ot)}};(function ws(){(0,pe._registerComponent)(new Me.wA(Rr,Ms,"PUBLIC")),(0,pe._registerComponent)(new Me.wA("installations-internal",wo,"PRIVATE"))})(),(0,pe.registerVersion)(Ee,ge),(0,pe.registerVersion)(Ee,ge,"esm2017");const ii="@firebase/remote-config",yi=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ke{constructor(Z,se,Fe,ot){this.client=Z,this.storage=se,this.storageCache=Fe,this.logger=ot}isCachedDataFresh(Z,se){if(!se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Fe=Date.now()-se,ot=Fe<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${ot}.`),ot}fetch(Z){var se=this;return(0,l.Z)(function*(){const[Fe,ot]=yield Promise.all([se.storage.getLastSuccessfulFetchTimestampMillis(),se.storage.getLastSuccessfulFetchResponse()]);if(ot&&se.isCachedDataFresh(Z.cacheMaxAgeMillis,Fe))return ot;Z.eTag=ot&&ot.eTag;const It=yield se.client.fetch(Z),tn=[se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===It.status&&tn.push(se.storage.setLastSuccessfulFetchResponse(It)),yield Promise.all(tn),It})()}}function yt(z=navigator){return z.languages&&z.languages[0]||z.language}class st{constructor(Z,se,Fe,ot,It,tn){this.firebaseInstallations=Z,this.sdkVersion=se,this.namespace=Fe,this.projectId=ot,this.apiKey=It,this.appId=tn}fetch(Z){var se=this;return(0,l.Z)(function*(){const[Fe,ot]=yield Promise.all([se.firebaseInstallations.getId(),se.firebaseInstallations.getToken()]),tn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${se.projectId}/namespaces/${se.namespace}:fetch?key=${se.apiKey}`,Un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},Kn={sdk_version:se.sdkVersion,app_instance_id:Fe,app_instance_id_token:ot,app_id:se.appId,language_code:yt()},er={method:"POST",headers:Un,body:JSON.stringify(Kn)},xr=fetch(tn,er),kr=new Promise((No,aa)=>{Z.signal.addEventListener(()=>{const Gd=new Error("The operation was aborted.");Gd.name="AbortError",aa(Gd)})});let ts;try{yield Promise.race([xr,kr]),ts=yield xr}catch(No){let aa="fetch-client-network";throw"AbortError"===No?.name&&(aa="fetch-timeout"),yi.create(aa,{originalErrorMessage:No?.message})}let Js=ts.status;const cl=ts.headers.get("ETag")||void 0;let bi,zu;if(200===ts.status){let No;try{No=yield ts.json()}catch(aa){throw yi.create("fetch-client-parse",{originalErrorMessage:aa?.message})}bi=No.entries,zu=No.state}if("INSTANCE_STATE_UNSPECIFIED"===zu?Js=500:"NO_CHANGE"===zu?Js=304:("NO_TEMPLATE"===zu||"EMPTY_CONFIG"===zu)&&(bi={}),304!==Js&&200!==Js)throw yi.create("fetch-status",{httpStatus:Js});return{status:Js,eTag:cl,config:bi}})()}}class Te{constructor(Z,se){this.client=Z,this.storage=se}fetch(Z){var se=this;return(0,l.Z)(function*(){const Fe=(yield se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return se.attemptFetch(Z,Fe)})()}attemptFetch(Z,{throttleEndTimeMillis:se,backoffCount:Fe}){var ot=this;return(0,l.Z)(function*(){yield function Bt(z,Z){return new Promise((se,Fe)=>{const ot=Math.max(Z-Date.now(),0),It=setTimeout(se,ot);z.addEventListener(()=>{clearTimeout(It),Fe(yi.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,se);try{const It=yield ot.client.fetch(Z);return yield ot.storage.deleteThrottleMetadata(),It}catch(It){if(!function De(z){if(!(z instanceof me.ZR&&z.customData))return!1;const Z=Number(z.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(It))throw It;const tn={throttleEndTimeMillis:Date.now()+(0,me.$s)(Fe),backoffCount:Fe+1};return yield ot.storage.setThrottleMetadata(tn),ot.attemptFetch(Z,tn)}})()}}class en{constructor(Z,se,Fe,ot,It){this.app=Z,this._client=se,this._storageCache=Fe,this._storage=ot,this._logger=It,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sn(z,Z){const se=z.target.error||void 0;return yi.create(Z,{originalErrorMessage:se&&se?.message})}const Tn="app_namespace_store";class ds{constructor(Z,se,Fe,ot=function ki(){return new Promise((z,Z)=>{try{const se=indexedDB.open("firebase_remote_config",1);se.onerror=Fe=>{Z(Sn(Fe,"storage-open"))},se.onsuccess=Fe=>{z(Fe.target.result)},se.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(Tn,{keyPath:"compositeKey"})}}catch(se){Z(yi.create("storage-open",{originalErrorMessage:se?.message}))}})}()){this.appId=Z,this.appName=se,this.namespace=Fe,this.openDbPromise=ot}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var se=this;return(0,l.Z)(function*(){const Fe=yield se.openDbPromise;return new Promise((ot,It)=>{const Un=Fe.transaction([Tn],"readonly").objectStore(Tn),Kn=se.createCompositeKey(Z);try{const er=Un.get(Kn);er.onerror=xr=>{It(Sn(xr,"storage-get"))},er.onsuccess=xr=>{const kr=xr.target.result;ot(kr?kr.value:void 0)}}catch(er){It(yi.create("storage-get",{originalErrorMessage:er?.message}))}})})()}set(Z,se){var Fe=this;return(0,l.Z)(function*(){const ot=yield Fe.openDbPromise;return new Promise((It,tn)=>{const Kn=ot.transaction([Tn],"readwrite").objectStore(Tn),er=Fe.createCompositeKey(Z);try{const xr=Kn.put({compositeKey:er,value:se});xr.onerror=kr=>{tn(Sn(kr,"storage-set"))},xr.onsuccess=()=>{It()}}catch(xr){tn(yi.create("storage-set",{originalErrorMessage:xr?.message}))}})})()}delete(Z){var se=this;return(0,l.Z)(function*(){const Fe=yield se.openDbPromise;return new Promise((ot,It)=>{const Un=Fe.transaction([Tn],"readwrite").objectStore(Tn),Kn=se.createCompositeKey(Z);try{const er=Un.delete(Kn);er.onerror=xr=>{It(Sn(xr,"storage-delete"))},er.onsuccess=()=>{ot()}}catch(er){It(yi.create("storage-delete",{originalErrorMessage:er?.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class nt{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,l.Z)(function*(){const se=Z.storage.getLastFetchStatus(),Fe=Z.storage.getLastSuccessfulFetchTimestampMillis(),ot=Z.storage.getActiveConfig(),It=yield se;It&&(Z.lastFetchStatus=It);const tn=yield Fe;tn&&(Z.lastSuccessfulFetchTimestampMillis=tn);const Un=yield ot;Un&&(Z.activeConfig=Un)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function xa(){return yu.apply(this,arguments)}function yu(){return(yu=(0,l.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function Pe(){(0,pe._registerComponent)(new Me.wA("remote-config",function z(Z,{instanceIdentifier:se}){const Fe=Z.getProvider("app").getImmediate(),ot=Z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yi.create("registration-window");if(!(0,me.hl)())throw yi.create("indexed-db-unavailable");const{projectId:It,apiKey:tn,appId:Un}=Fe.options;if(!It)throw yi.create("registration-project-id");if(!tn)throw yi.create("registration-api-key");if(!Un)throw yi.create("registration-app-id");const Kn=new ds(Un,Fe.name,se=se||"firebase"),er=new nt(Kn),xr=new Ie.Yd(ii);xr.logLevel=Ie.in.ERROR;const kr=new st(ot,pe.SDK_VERSION,se,It,tn,Un),ts=new Te(kr,Kn),Js=new ke(ts,Kn,er,xr),cl=new en(Fe,Js,er,Kn,xr);return function dr(z){const Z=(0,me.m9)(z);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(cl),cl},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(ii,"0.4.1"),(0,pe.registerVersion)(ii,"0.4.1","esm2017")}();const no="/firebase-messaging-sw.js",$a="/firebase-cloud-messaging-push-scope",Jo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_i="google.c.a.c_id",Vi="google.c.a.c_l",Tl="google.c.a.ts",$s="google.c.a.e";var Qo=(()=>{return(z=Qo||(Qo={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",Qo;var z})();function Ha(z){const Z=new Uint8Array(z);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hl(z){const se=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Fe=atob(se),ot=new Uint8Array(Fe.length);for(let It=0;It<Fe.length;++It)ot[It]=Fe.charCodeAt(It);return ot}const Uu="fcm_token_details_db",is="fcm_token_object_Store";function eu(z){return zi.apply(this,arguments)}function zi(){return zi=(0,l.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(It=>It.name).includes(Uu))return null;let Z=null;return(yield(0,_e.X3)(Uu,5,{upgrade:(Fe=(0,l.Z)(function*(ot,It,tn,Un){var Kn;if(It<2||!ot.objectStoreNames.contains(is))return;const er=Un.objectStore(is),xr=yield er.index("fcmSenderId").get(z);if(yield er.clear(),xr)if(2===It){const kr=xr;if(!kr.auth||!kr.p256dh||!kr.endpoint)return;Z={token:kr.fcmToken,createTime:null!==(Kn=kr.createTime)&&void 0!==Kn?Kn:Date.now(),subscriptionOptions:{auth:kr.auth,p256dh:kr.p256dh,endpoint:kr.endpoint,swScope:kr.swScope,vapidKey:"string"==typeof kr.vapidKey?kr.vapidKey:Ha(kr.vapidKey)}}}else if(3===It){const kr=xr;Z={token:kr.fcmToken,createTime:kr.createTime,subscriptionOptions:{auth:Ha(kr.auth),p256dh:Ha(kr.p256dh),endpoint:kr.endpoint,swScope:kr.swScope,vapidKey:Ha(kr.vapidKey)}}}else if(4===It){const kr=xr;Z={token:kr.fcmToken,createTime:kr.createTime,subscriptionOptions:{auth:Ha(kr.auth),p256dh:Ha(kr.p256dh),endpoint:kr.endpoint,swScope:kr.swScope,vapidKey:Ha(kr.vapidKey)}}}}),function(It,tn,Un,Kn){return Fe.apply(this,arguments)})})).close(),yield(0,_e.Lj)(Uu),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),Xo(Z)?Z:null;var Fe}),zi.apply(this,arguments)}function Xo(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:Z}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const Ma="firebase-messaging-store";let ro=null;function Eu(){return ro||(ro=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(z,Z)=>{0===Z&&z.createObjectStore(Ma)}})),ro}function va(z){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(z){const Z=nu(z),Fe=yield(yield Eu()).transaction(Ma).objectStore(Ma).get(Z);if(Fe)return Fe;{const ot=yield eu(z.appConfig.senderId);if(ot)return yield Ks(z,ot),ot}})).apply(this,arguments)}function Ks(z,Z){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(z,Z){const se=nu(z),ot=(yield Eu()).transaction(Ma,"readwrite");return yield ot.objectStore(Ma).put(Z,se),yield ot.done,Z})).apply(this,arguments)}function Bo(z){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(z){const Z=nu(z),Fe=(yield Eu()).transaction(Ma,"readwrite");yield Fe.objectStore(Ma).delete(Z),yield Fe.done})).apply(this,arguments)}function nu({appConfig:z}){return z.appId}const fn=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ds(z,Z){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(z,Z){const se=yield Hs(z),Fe=ao(Z),ot={method:"POST",headers:se,body:JSON.stringify(Fe)};let It;try{It=yield(yield fetch(Uo(z.appConfig),ot)).json()}catch(tn){throw fn.create("token-subscribe-failed",{errorInfo:tn?.toString()})}if(It.error)throw fn.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw fn.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function vr(z,Z){return $i.apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(z,Z){const se=yield Hs(z),Fe=ao(Z.subscriptionOptions),ot={method:"PATCH",headers:se,body:JSON.stringify(Fe)};let It;try{It=yield(yield fetch(`${Uo(z.appConfig)}/${Z.token}`,ot)).json()}catch(tn){throw fn.create("token-update-failed",{errorInfo:tn?.toString()})}if(It.error)throw fn.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw fn.create("token-update-no-token");return It.token})).apply(this,arguments)}function hs(z,Z){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(z,Z){const Fe={method:"DELETE",headers:yield Hs(z)};try{const It=yield(yield fetch(`${Uo(z.appConfig)}/${Z}`,Fe)).json();if(It.error)throw fn.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(ot){throw fn.create("token-unsubscribe-failed",{errorInfo:ot?.toString()})}})).apply(this,arguments)}function Uo({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function Hs(z){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*({appConfig:z,installations:Z}){const se=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${se}`})})).apply(this,arguments)}function ao({p256dh:z,auth:Z,endpoint:se,vapidKey:Fe}){const ot={web:{endpoint:se,auth:Z,p256dh:z}};return Fe!==Jo&&(ot.web.applicationPubKey=Fe),ot}const Qi=6048e5;function bu(z){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(z){const Z=yield Gl(z.swRegistration,z.vapidKey),se={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:Z.endpoint,auth:Ha(Z.getKey("auth")),p256dh:Ha(Z.getKey("p256dh"))},Fe=yield va(z.firebaseDependencies);if(Fe){if(nl(Fe.subscriptionOptions,se))return Date.now()>=Fe.createTime+Qi?Ir(z,{token:Fe.token,createTime:Date.now(),subscriptionOptions:se}):Fe.token;try{yield hs(z.firebaseDependencies,Fe.token)}catch(ot){console.warn(ot)}return tl(z.firebaseDependencies,se)}return tl(z.firebaseDependencies,se)})).apply(this,arguments)}function po(z){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(z){const Z=yield va(z.firebaseDependencies);Z&&(yield hs(z.firebaseDependencies,Z.token),yield Bo(z.firebaseDependencies));const se=yield z.swRegistration.pushManager.getSubscription();return!se||se.unsubscribe()})).apply(this,arguments)}function Ir(z,Z){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(z,Z){try{const se=yield vr(z.firebaseDependencies,Z),Fe=Object.assign(Object.assign({},Z),{token:se,createTime:Date.now()});return yield Ks(z.firebaseDependencies,Fe),se}catch(se){throw yield po(z),se}})).apply(this,arguments)}function tl(z,Z){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(z,Z){const Fe={token:yield Ds(z,Z),createTime:Date.now(),subscriptionOptions:Z};return yield Ks(z,Fe),Fe.token})).apply(this,arguments)}function Gl(z,Z){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(z,Z){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hl(Z)})})).apply(this,arguments)}function nl(z,Z){return Z.vapidKey===z.vapidKey&&Z.endpoint===z.endpoint&&Z.auth===z.auth&&Z.p256dh===z.p256dh}function ru(z){const Z={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function Na(z,Z){if(!Z.notification)return;z.notification={};const se=Z.notification.title;se&&(z.notification.title=se);const Fe=Z.notification.body;Fe&&(z.notification.body=Fe);const ot=Z.notification.image;ot&&(z.notification.image=ot);const It=Z.notification.icon;It&&(z.notification.icon=It)}(Z,z),function U(z,Z){Z.data&&(z.data=Z.data)}(Z,z),function j(z,Z){var se,Fe,ot,It,tn;if(!(Z.fcmOptions||null!==(se=Z.notification)&&void 0!==se&&se.click_action))return;z.fcmOptions={};const Un=null!==(ot=null===(Fe=Z.fcmOptions)||void 0===Fe?void 0:Fe.link)&&void 0!==ot?ot:null===(It=Z.notification)||void 0===It?void 0:It.click_action;Un&&(z.fcmOptions.link=Un);const Kn=null===(tn=Z.fcmOptions)||void 0===tn?void 0:tn.analytics_label;Kn&&(z.fcmOptions.analyticsLabel=Kn)}(Z,z),Z}function H(z){return"object"==typeof z&&!!z&&_i in z}function ce(z,Z){const se=[];for(let Fe=0;Fe<z.length;Fe++)se.push(z.charAt(Fe)),Fe<Z.length&&se.push(Z.charAt(Fe));return se.join("")}function Nn(z){return fn.create("missing-app-config-values",{valueName:z})}ce("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ce("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ii{constructor(Z,se,Fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ot=function _t(z){if(!z||!z.options)throw Nn("App Configuration Object");if(!z.name)throw Nn("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:se}=z;for(const Fe of Z)if(!se[Fe])throw Nn(Fe);return{appName:z.name,projectId:se.projectId,apiKey:se.apiKey,appId:se.appId,senderId:se.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:ot,installations:se,analyticsProvider:Fe}}_delete(){return Promise.resolve()}}function Es(z){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,l.Z)(function*(z){try{z.swRegistration=yield navigator.serviceWorker.register(no,{scope:$a}),z.swRegistration.update().catch(()=>{})}catch(Z){throw fn.create("failed-service-worker-registration",{browserErrorMessage:Z?.message})}})).apply(this,arguments)}function Os(z,Z){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(z,Z){if(!Z&&!z.swRegistration&&(yield Es(z)),Z||!z.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw fn.create("invalid-sw-registration");z.swRegistration=Z}})).apply(this,arguments)}function Do(z,Z){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(z,Z){Z?z.vapidKey=Z:z.vapidKey||(z.vapidKey=Jo)})).apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(z,Z){if(!navigator)throw fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fn.create("permission-blocked");return yield Do(z,Z?.vapidKey),yield Os(z,Z?.serviceWorkerRegistration),bu(z)})).apply(this,arguments)}function go(z,Z,se){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(z,Z,se){const Fe=ta(Z);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(Fe,{message_id:se[_i],message_name:se[Vi],message_time:se[Tl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ta(z){switch(z){case Qo.NOTIFICATION_CLICKED:return"notification_open";case Qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wu(){return(wu=(0,l.Z)(function*(z,Z){const se=Z.data;if(!se.isFirebaseMessaging)return;z.onMessageHandler&&se.messageType===Qo.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(ru(se)):z.onMessageHandler.next(ru(se)));const Fe=se.data;H(Fe)&&"1"===Fe[$s]&&(yield go(z,se.messageType,Fe))})).apply(this,arguments)}const Vu="@firebase/messaging",Tu=z=>{const Z=new Ii(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",se=>function md(z,Z){return wu.apply(this,arguments)}(Z,se)),Z},rl=z=>{const Z=z.getProvider("messaging").getImmediate();return{getToken:Fe=>function qi(z,Z){return Rs.apply(this,arguments)}(Z,Fe)}};function $u(){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function il(){(0,pe._registerComponent)(new Me.wA("messaging",Tu,"PUBLIC")),(0,pe._registerComponent)(new Me.wA("messaging-internal",rl,"PRIVATE")),(0,pe.registerVersion)(Vu,"0.12.1"),(0,pe.registerVersion)(Vu,"0.12.1","esm2017")}();const Gs="analytics",$r="firebase_id",$o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jl="https://www.googletagmanager.com/gtag/js",Io=new Ie.Yd("@firebase/analytics");function iu(z){return Promise.all(z.map(Z=>Z.catch(se=>se)))}function Wl(z,Z){const se=document.createElement("script");se.src=`${jl}?l=${z}&id=${Z}`,se.async=!0,document.head.appendChild(se)}function wr(z,Z,se,Fe,ot,It){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(function*(z,Z,se,Fe,ot,It){const tn=Fe[ot];try{if(tn)yield Z[tn];else{const Kn=(yield iu(se)).find(er=>er.measurementId===ot);Kn&&(yield Z[Kn.appId])}}catch(Un){Io.error(Un)}z("config",ot,It)})).apply(this,arguments)}function X(z,Z,se,Fe,ot){return W.apply(this,arguments)}function W(){return(W=(0,l.Z)(function*(z,Z,se,Fe,ot){try{let It=[];if(ot&&ot.send_to){let tn=ot.send_to;Array.isArray(tn)||(tn=[tn]);const Un=yield iu(se);for(const Kn of tn){const er=Un.find(kr=>kr.measurementId===Kn),xr=er&&Z[er.appId];if(!xr){It=[];break}It.push(xr)}}0===It.length&&(It=Object.values(Z)),yield Promise.all(It),z("event",Fe,ot||{})}catch(It){Io.error(It)}})).apply(this,arguments)}function Ot(z){const Z=window.document.getElementsByTagName("script");for(const se of Object.values(Z))if(se.src&&se.src.includes(jl)&&se.src.includes(z))return se;return null}const _n=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jr=new class Ai{constructor(Z={},se=1e3){this.throttleMetadata=Z,this.intervalMillis=se}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,se){this.throttleMetadata[Z]=se}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function es(z){return new Headers({Accept:"application/json","x-goog-api-key":z})}function xi(z){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(z){var Z;const{appId:se,apiKey:Fe}=z,ot={method:"GET",headers:es(Fe)},It=$o.replace("{app-id}",se),tn=yield fetch(It,ot);if(200!==tn.status&&304!==tn.status){let Un="";try{const Kn=yield tn.json();null!==(Z=Kn.error)&&void 0!==Z&&Z.message&&(Un=Kn.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:tn.status,responseMessage:Un})}return tn.json()})).apply(this,arguments)}function Ao(z){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(z,Z=Jr,se){const{appId:Fe,apiKey:ot,measurementId:It}=z.options;if(!Fe)throw _n.create("no-app-id");if(!ot){if(It)return{measurementId:It,appId:Fe};throw _n.create("no-api-key")}const tn=Z.getThrottleMetadata(Fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Un=new ou;return setTimeout((0,l.Z)(function*(){Un.abort()}),void 0!==se?se:6e4),mo({appId:Fe,apiKey:ot,measurementId:It},tn,Un,Z)})).apply(this,arguments)}function mo(z,Z,se){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(z,{throttleEndTimeMillis:Z,backoffCount:se},Fe,ot=Jr){var It;const{appId:tn,measurementId:Un}=z;try{yield na(Fe,Z)}catch(Kn){if(Un)return Io.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${Kn?.message}]`),{appId:tn,measurementId:Un};throw Kn}try{const Kn=yield xi(z);return ot.deleteThrottleMetadata(tn),Kn}catch(Kn){const er=Kn;if(!sl(er)){if(ot.deleteThrottleMetadata(tn),Un)return Io.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${er?.message}]`),{appId:tn,measurementId:Un};throw Kn}const xr=503===Number(null===(It=er?.customData)||void 0===It?void 0:It.httpStatus)?(0,me.$s)(se,ot.intervalMillis,30):(0,me.$s)(se,ot.intervalMillis),kr={throttleEndTimeMillis:Date.now()+xr,backoffCount:se+1};return ot.setThrottleMetadata(tn,kr),Io.debug(`Calling attemptFetch again in ${xr} millis`),mo(z,kr,Fe,ot)}})).apply(this,arguments)}function na(z,Z){return new Promise((se,Fe)=>{const ot=Math.max(Z-Date.now(),0),It=setTimeout(se,ot);z.addEventListener(()=>{clearTimeout(It),Fe(_n.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function sl(z){if(!(z instanceof me.ZR&&z.customData))return!1;const Z=Number(z.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class ou{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}let zl,Du;function ra(){return(ra=(0,l.Z)(function*(z,Z,se,Fe,ot){if(ot&&ot.global)z("event",se,Fe);else{const It=yield Z;z("event",se,Object.assign(Object.assign({},Fe),{send_to:It}))}})).apply(this,arguments)}function Ws(z){Du=z}function Gi(z){zl=z}function Su(){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(){if(!(0,me.hl)())return Io.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(z){return Io.warn(_n.create("indexeddb-unavailable",{errorInfo:z?.toString()}).message),!1}return!0})).apply(this,arguments)}function Gu(){return(Gu=(0,l.Z)(function*(z,Z,se,Fe,ot,It,tn){var Un;const Kn=Ao(z);Kn.then(Js=>{se[Js.measurementId]=Js.appId,z.options.measurementId&&Js.measurementId!==z.options.measurementId&&Io.warn(`The measurement ID in the local Firebase config (${z.options.measurementId}) does not match the measurement ID fetched from the server (${Js.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Js=>Io.error(Js)),Z.push(Kn);const er=Su().then(Js=>{if(Js)return Fe.getId()}),[xr,kr]=yield Promise.all([Kn,er]);Ot(It)||Wl(It,xr.measurementId),Du&&(ot("consent","default",Du),Ws(void 0)),ot("js",new Date);const ts=null!==(Un=tn?.config)&&void 0!==Un?Un:{};return ts.origin="firebase",ts.update=!0,null!=kr&&(ts[$r]=kr),ot("config",xr.measurementId,ts),zl&&(ot("set",zl),Gi(void 0)),xr.measurementId})).apply(this,arguments)}class ks{constructor(Z){this.app=Z}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},ol=[];const wa={};let bc,so,Ta="dataLayer",Zs=!1;function Ys(z,Z,se){!function de(){const z=[];if((0,me.ru)()&&z.push("This is a browser extension environment."),(0,me.zI)()||z.push("Cookies are not available."),z.length>0){const Z=z.map((Fe,ot)=>`(${ot+1}) ${Fe}`).join(" "),se=_n.create("invalid-analytics-context",{errorInfo:Z});Io.warn(se.message)}}();const Fe=z.options.appId;if(!Fe)throw _n.create("no-app-id");if(!z.options.apiKey){if(!z.options.measurementId)throw _n.create("no-api-key");Io.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ho[Fe])throw _n.create("already-exists",{id:Fe});if(!Zs){!function su(z){let Z=[];Array.isArray(window[z])?Z=window[z]:window[z]=Z}(Ta);const{wrappedGtag:It,gtagCore:tn}=function Be(z,Z,se,Fe,ot){let It=function(...tn){window[Fe].push(arguments)};return window[ot]&&"function"==typeof window[ot]&&(It=window[ot]),window[ot]=function ae(z,Z,se,Fe){function It(){return(It=(0,l.Z)(function*(tn,Un,Kn){try{"event"===tn?yield X(z,Z,se,Un,Kn):"config"===tn?yield wr(z,Z,se,Fe,Un,Kn):"consent"===tn?z("consent","update",Kn):z("set",Un)}catch(er){Io.error(er)}})).apply(this,arguments)}return function ot(tn,Un,Kn){return It.apply(this,arguments)}}(It,z,Z,se),{gtagCore:It,wrappedGtag:window[ot]}}(Ho,ol,wa,Ta,"gtag");so=It,bc=tn,Zs=!0}return Ho[Fe]=function Iu(z,Z,se,Fe,ot,It,tn){return Gu.apply(this,arguments)}(z,ol,wa,Z,bc,Ta,se),new ks(z)}function Qr(){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const Ei="@firebase/analytics";!function uc(){(0,pe._registerComponent)(new Me.wA(Gs,(Z,{options:se})=>Ys(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),se),"PUBLIC")),(0,pe._registerComponent)(new Me.wA("analytics-internal",function z(Z){try{const se=Z.getProvider(Gs).getImmediate();return{logEvent:(Fe,ot,It)=>function al(z,Z,se,Fe){z=(0,me.m9)(z),function Oa(z,Z,se,Fe,ot){return ra.apply(this,arguments)}(so,Ho[z.app.options.appId],Z,se,Fe).catch(ot=>Io.error(ot))}(se,Fe,ot,It)}}catch(se){throw _n.create("interop-component-reg-failed",{reason:se})}},"PRIVATE")),(0,pe.registerVersion)(Ei,"0.9.1"),(0,pe.registerVersion)(Ei,"0.9.1","esm2017")}();var Tc=F(233),lc=F(4986),Zl=F(8505),Sl=F(9468),jo=F(5363);const Mo=new w.GfV("7.5.0"),Il="__angularfire_symbol__analyticsIsSupportedValue",Ra="__angularfire_symbol__analyticsIsSupported",pr="__angularfire_symbol__remoteConfigIsSupportedValue",Ca="__angularfire_symbol__remoteConfigIsSupported",Ls="__angularfire_symbol__messagingIsSupportedValue",x="__angularfire_symbol__messagingIsSupported";function ie(z,Z,se){if(Z){if(1===Z.length)return Z[0];const It=Z.filter(tn=>tn.app===se);if(1===It.length)return It[0]}return se.container.getProvider(z).getImmediate({optional:!0})}globalThis[Ra]||(globalThis[Ra]=Qr().then(z=>globalThis[Il]=z).catch(()=>globalThis[Il]=!1)),globalThis[x]||(globalThis[x]=$u().then(z=>globalThis[Ls]=z).catch(()=>globalThis[Ls]=!1)),globalThis[Ca]||(globalThis[Ca]=xa().then(z=>globalThis[pr]=z).catch(()=>globalThis[pr]=!1));const he=(z,Z)=>{const se=Z?[Z]:(0,M.C6)(),Fe=[];return se.forEach(ot=>{ot.container.getProvider(z).instances.forEach(tn=>{Fe.includes(tn)||Fe.push(tn)})}),Fe};function et(){}class Kt{constructor(Z,se=Tc.N){this.zone=Z,this.delegate=se}now(){return this.delegate.now()}schedule(Z,se,Fe){const ot=this.zone;return this.delegate.schedule(function(tn){ot.runGuarded(()=>{Z.apply(this,[tn])})},se,Fe)}}class $n{constructor(Z){this.zone=Z,this.task=null}call(Z,se){const Fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",et,{},et,et)),se.pipe((0,Zl.b)({next:Fe,complete:Fe,error:Fe})).subscribe(Z).add(Fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let In=(()=>{class z{constructor(se){this.ngZone=se,this.outsideAngular=se.runOutsideAngular(()=>new Kt(Zone.current)),this.insideAngular=se.run(()=>new Kt(Zone.current,lc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(se){return new(se||z)(w.LFG(w.R0b))},z.\u0275prov=w.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function ti(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function Wo(z){return ti(),function ll(z){return function(se){return(se=se.lift(new $n(z.ngZone))).pipe((0,Sl.R)(z.outsideAngular),(0,jo.Q)(z.insideAngular))}}(ti())(z)}},1808:(je,be,F)=>{"use strict";F.d(be,{$:()=>Uo,A:()=>we,B:()=>tt,D:()=>Ye,G:()=>wo,H:()=>mi,J:()=>Te,L:()=>Ue,M:()=>yu,N:()=>Ec,P:()=>Il,Q:()=>_i,R:()=>wc,T:()=>Vi,U:()=>Jo,V:()=>Qo,W:()=>Ha,X:()=>eu,Y:()=>ms,Z:()=>Ds,_:()=>vr,a:()=>si,a0:()=>bu,a1:()=>po,a2:()=>Ir,a3:()=>tl,a4:()=>Gl,a5:()=>nl,a6:()=>Na,a7:()=>U,a8:()=>H,a9:()=>ce,aA:()=>Se,aB:()=>Js,aC:()=>Cc,aD:()=>au,aE:()=>Ui,aI:()=>es,aL:()=>$s,aa:()=>Es,ab:()=>Os,ac:()=>Do,af:()=>go,ag:()=>ta,ah:()=>md,ak:()=>Ma,al:()=>Cu,an:()=>jl,ao:()=>B,ap:()=>Vt,aq:()=>ve,ar:()=>vn,as:()=>Ct,at:()=>Za,au:()=>vh,av:()=>it,aw:()=>vt,ax:()=>Ze,ay:()=>aa,az:()=>Ge,b:()=>_n,c:()=>Y,d:()=>Kt,e:()=>he,f:()=>se,g:()=>Kn,h:()=>It,i:()=>za,j:()=>kr,k:()=>la,l:()=>Dl,m:()=>qd,o:()=>_e,r:()=>Tc,s:()=>ac,u:()=>jo});var w=F(5861),M=F(2090),l=F(9681),pe=F(1877),me=F(655),Me=F(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},we={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const tt=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},bt=function dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},lt=new pe.Yd("@firebase/auth");function ut(N,...E){lt.logLevel<=pe.in.ERROR&&lt.error(`Auth (${l.SDK_VERSION}): ${N}`,...E)}function Ct(N,...E){throw $t(N,...E)}function vt(N,...E){return $t(N,...E)}function Nt(N,E,C){const k=Object.assign(Object.assign({},bt()),{[E]:C});return new M.LL("auth","Firebase",k).create(E,{appName:N.name})}function Dt(N,E,C){if(!(E instanceof C))throw C.name!==E.constructor.name&&Ct(N,"argument-error"),Nt(N,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $t(N,...E){if("string"!=typeof N){const C=E[0],k=[...E.slice(1)];return k[0]&&(k[0].appName=N.name),N._errorFactory.create(C,...k)}return ft.create(N,...E)}function Ze(N,E,...C){if(!N)throw $t(E,...C)}function pt(N){const E="INTERNAL ASSERTION FAILED: "+N;throw ut(E),new Error(E)}function Vt(N,E){N||pt(E)}const We=new Map;function Ge(N){Vt(N instanceof Function,"Expected a class definition");let E=We.get(N);return E?(Vt(E instanceof N,"Instance stored in cache mismatched with class"),E):(E=new N,We.set(N,E),E)}function Xt(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function Ft(){return"http:"===pn()||"https:"===pn()}function pn(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class Dn{constructor(E,C){this.shortDelay=E,this.longDelay=C,Vt(C>E,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Gn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zn(N,E){Vt(N.emulator,"Emulator should always be set here");const{url:C}=N.emulator;return E?`${C}${E.startsWith("/")?E.slice(1):E}`:C}class bn{static initialize(E,C,k){this.fetchImpl=E,C&&(this.headersImpl=C),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zn=new Dn(3e4,6e4);function nr(N,E){return N.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:N.tenantId}):E}function On(N,E,C,k){return rs.apply(this,arguments)}function rs(){return(rs=(0,w.Z)(function*(N,E,C,k,ne={}){return ai(N,ne,(0,w.Z)(function*(){let re={},He={};k&&("GET"===E?He=k:re={body:JSON.stringify(k)});const sn=(0,M.xO)(Object.assign({key:N.config.apiKey},He)).slice(1),kt=yield N._getAdditionalHeaders();return kt["Content-Type"]="application/json",N.languageCode&&(kt["X-Firebase-Locale"]=N.languageCode),bn.fetch()(fi(N,N.config.apiHost,C,sn),Object.assign({method:E,headers:kt,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function ai(N,E,C){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,w.Z)(function*(N,E,C){N._canInitEmulator=!1;const k=Object.assign(Object.assign({},mn),E);try{const ne=new Br(N),re=yield Promise.race([C(),ne.promise]);ne.clearNetworkTimeout();const He=yield re.json();if("needConfirmation"in He)throw fr(N,"account-exists-with-different-credential",He);if(re.ok&&!("errorMessage"in He))return He;{const sn=re.ok?He.errorMessage:He.error.message,[kt,Qe]=sn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===kt)throw fr(N,"credential-already-in-use",He);if("EMAIL_EXISTS"===kt)throw fr(N,"email-already-in-use",He);if("USER_DISABLED"===kt)throw fr(N,"user-disabled",He);const Mt=k[kt]||kt.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Nt(N,Mt,Qe);Ct(N,Mt)}}catch(ne){if(ne instanceof M.ZR)throw ne;Ct(N,"network-request-failed")}})).apply(this,arguments)}function Or(N,E,C,k){return rr.apply(this,arguments)}function rr(){return(rr=(0,w.Z)(function*(N,E,C,k,ne={}){const re=yield On(N,E,C,k,ne);return"mfaPendingCredential"in re&&Ct(N,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function fi(N,E,C,k){const ne=`${E}${C}?${k}`;return N.config.emulator?zn(N.config,ne):`${N.config.apiScheme}://${ne}`}class Br{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((C,k)=>{this.timer=setTimeout(()=>k(vt(this.auth,"network-request-failed")),Zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fr(N,E,C){const k={appName:N.name};C.email&&(k.email=C.email),C.phoneNumber&&(k.phoneNumber=C.phoneNumber);const ne=vt(N,E,k);return ne.customData._tokenResponse=C,ne}function Qn(){return(Qn=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function jn(N,E){return qr.apply(this,arguments)}function qr(){return(qr=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function dn(N,E){return br.apply(this,arguments)}function br(){return(br=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function Ri(N){if(N)try{const E=new Date(Number(N));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function jr(){return(jr=(0,w.Z)(function*(N,E=!1){const C=(0,M.m9)(N),k=yield C.getIdToken(E),ne=xn(k);Ze(ne&&ne.exp&&ne.auth_time&&ne.iat,C.auth,"internal-error");const re="object"==typeof ne.firebase?ne.firebase:void 0,He=re?.sign_in_provider;return{claims:ne,token:k,authTime:Ri(At(ne.auth_time)),issuedAtTime:Ri(At(ne.iat)),expirationTime:Ri(At(ne.exp)),signInProvider:He||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function At(N){return 1e3*Number(N)}function xn(N){const[E,C,k]=N.split(".");if(void 0===E||void 0===C||void 0===k)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,M.tV)(C);return ne?JSON.parse(ne):(ut("Failed to decode base64 JWT payload"),null)}catch(ne){return ut("Caught error parsing JWT payload as JSON",ne?.toString()),null}}function Mn(N,E){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,w.Z)(function*(N,E,C=!1){if(C)return E;try{return yield E}catch(k){throw k instanceof M.ZR&&Ur(k)&&N.auth.currentUser===N&&(yield N.auth.signOut()),k}})).apply(this,arguments)}function Ur({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}class Zi{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var C;if(E){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const ne=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(E=!1){var C=this;if(!this.isRunning)return;const k=this.getInterval(E);this.timerId=setTimeout((0,w.Z)(function*(){yield C.iteration()}),k)}iteration(){var E=this;return(0,w.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&E.schedule(!0))}E.schedule()})()}}class En{constructor(E,C){this.createdAt=E,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function us(N){return lr.apply(this,arguments)}function lr(){return(lr=(0,w.Z)(function*(N){var E;const C=N.auth,k=yield N.getIdToken(),ne=yield Mn(N,dn(C,{idToken:k}));Ze(ne?.users.length,C,"internal-error");const re=ne.users[0];N._notifyReloadListener(re);const He=null!==(E=re.providerUserInfo)&&void 0!==E&&E.length?gi(re.providerUserInfo):[],sn=ls(N.providerData,He),Mt=!!N.isAnonymous&&!(N.email&&re.passwordHash||sn?.length),Sr={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:sn,metadata:new En(re.createdAt,re.lastLoginAt),isAnonymous:Mt};Object.assign(N,Sr)})).apply(this,arguments)}function or(){return(or=(0,w.Z)(function*(N){const E=(0,M.m9)(N);yield us(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function ls(N,E){return[...N.filter(k=>!E.some(ne=>ne.providerId===k.providerId)),...E]}function gi(N){return N.map(E=>{var{providerId:C}=E,k=(0,me._T)(E,["providerId"]);return{providerId:C,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function jt(){return(jt=(0,w.Z)(function*(N,E){const C=yield ai(N,{},(0,w.Z)(function*(){const k=(0,M.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:ne,apiKey:re}=N.config,He=fi(N,ne,"/v1/token",`key=${re}`),sn=yield N._getAdditionalHeaders();return sn["Content-Type"]="application/x-www-form-urlencoded",bn.fetch()(He,{method:"POST",headers:sn,body:k})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){Ze(E.idToken,"internal-error"),Ze(typeof E.idToken<"u","internal-error"),Ze(typeof E.refreshToken<"u","internal-error");const C="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function un(N){const E=xn(N);return Ze(E,"internal-error"),Ze(typeof E.exp<"u","internal-error"),Ze(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,C)}getToken(E,C=!1){var k=this;return(0,w.Z)(function*(){return Ze(!k.accessToken||k.refreshToken,E,"user-token-expired"),C||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(E,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,C){var k=this;return(0,w.Z)(function*(){const{accessToken:ne,refreshToken:re,expiresIn:He}=yield function rn(N,E){return jt.apply(this,arguments)}(E,C);k.updateTokensAndExpiration(ne,re,Number(He))})()}updateTokensAndExpiration(E,C,k){this.refreshToken=C||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(E,C){const{refreshToken:k,accessToken:ne,expirationTime:re}=C,He=new gn;return k&&(Ze("string"==typeof k,"internal-error",{appName:E}),He.refreshToken=k),ne&&(Ze("string"==typeof ne,"internal-error",{appName:E}),He.accessToken=ne),re&&(Ze("number"==typeof re,"internal-error",{appName:E}),He.expirationTime=re),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return pt("not implemented")}}function Vn(N,E){Ze("string"==typeof N||typeof N>"u","internal-error",{appName:E})}class Yt{constructor(E){var{uid:C,auth:k,stsTokenManager:ne}=E,re=(0,me._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=k,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new En(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(E){var C=this;return(0,w.Z)(function*(){const k=yield Mn(C,C.stsTokenManager.getToken(C.auth,E));return Ze(k,C.auth,"internal-error"),C.accessToken!==k&&(C.accessToken=k,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),k})()}getIdTokenResult(E){return function Xr(N){return jr.apply(this,arguments)}(this,E)}reload(){return function vs(N){return or.apply(this,arguments)}(this)}_assign(E){this!==E&&(Ze(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(C=>Object.assign({},C)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){return new Yt(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(E){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,C=!1){var k=this;return(0,w.Z)(function*(){let ne=!1;E.idToken&&E.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(E),ne=!0),C&&(yield us(k)),yield k.auth._persistUserIfCurrent(k),ne&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var E=this;return(0,w.Z)(function*(){const C=yield E.getIdToken();return yield Mn(E,function pi(N,E){return Qn.apply(this,arguments)}(E.auth,{idToken:C})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,C){var k,ne,re,He,sn,kt,Qe,Mt;const Sr=null!==(k=C.displayName)&&void 0!==k?k:void 0,xu=null!==(ne=C.email)&&void 0!==ne?ne:void 0,Ja=null!==(re=C.phoneNumber)&&void 0!==re?re:void 0,Kd=null!==(He=C.photoURL)&&void 0!==He?He:void 0,Jc=null!==(sn=C.tenantId)&&void 0!==sn?sn:void 0,bd=null!==(kt=C._redirectEventId)&&void 0!==kt?kt:void 0,Dh=null!==(Qe=C.createdAt)&&void 0!==Qe?Qe:void 0,lu=null!==(Mt=C.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:Zd,emailVerified:cg,isAnonymous:ff,providerData:Yd,stsTokenManager:Zr}=C;Ze(Zd&&Zr,E,"internal-error");const wd=gn.fromJSON(this.name,Zr);Ze("string"==typeof Zd,E,"internal-error"),Vn(Sr,E.name),Vn(xu,E.name),Ze("boolean"==typeof cg,E,"internal-error"),Ze("boolean"==typeof ff,E,"internal-error"),Vn(Ja,E.name),Vn(Kd,E.name),Vn(Jc,E.name),Vn(bd,E.name),Vn(Dh,E.name),Vn(lu,E.name);const Qa=new Yt({uid:Zd,auth:E,email:xu,emailVerified:cg,displayName:Sr,isAnonymous:ff,photoURL:Kd,phoneNumber:Ja,tenantId:Jc,stsTokenManager:wd,createdAt:Dh,lastLoginAt:lu});return Yd&&Array.isArray(Yd)&&(Qa.providerData=Yd.map(ns=>Object.assign({},ns))),bd&&(Qa._redirectEventId=bd),Qa}static _fromIdTokenResponse(E,C,k=!1){return(0,w.Z)(function*(){const ne=new gn;ne.updateFromServerResponse(C);const re=new Yt({uid:C.localId,auth:E,stsTokenManager:ne,isAnonymous:k});return yield us(re),re})()}}const Ue=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(C,k){var ne=this;return(0,w.Z)(function*(){ne.storage[C]=k})()}_get(C){var k=this;return(0,w.Z)(function*(){const ne=k.storage[C];return void 0===ne?null:ne})()}_remove(C){var k=this;return(0,w.Z)(function*(){delete k.storage[C]})()}_addListener(C,k){}_removeListener(C,k){}}return N.type="NONE",N})();function Se(N,E,C){return`firebase:${N}:${E}:${C}`}class qe{constructor(E,C,k){this.persistence=E,this.auth=C,this.userKey=k;const{config:ne,name:re}=this.auth;this.fullUserKey=Se(this.userKey,ne.apiKey,re),this.fullPersistenceKey=Se("persistence",ne.apiKey,re),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,w.Z)(function*(){const C=yield E.persistence._get(E.fullUserKey);return C?Yt._fromJSON(E.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var C=this;return(0,w.Z)(function*(){if(C.persistence===E)return;const k=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=E,k?C.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,C,k="authUser"){return(0,w.Z)(function*(){if(!C.length)return new qe(Ge(Ue),E,k);const ne=(yield Promise.all(C.map(function(){var Qe=(0,w.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let re=ne[0]||Ge(Ue);const He=Se(k,E.config.apiKey,E.name);let sn=null;for(const Qe of C)try{const Mt=yield Qe._get(He);if(Mt){const Sr=Yt._fromJSON(E,Mt);Qe!==re&&(sn=Sr),re=Qe;break}}catch{}const kt=ne.filter(Qe=>Qe._shouldAllowMigration);return re._shouldAllowMigration&&kt.length?(re=kt[0],sn&&(yield re._set(He,sn.toJSON())),yield Promise.all(C.map(function(){var Qe=(0,w.Z)(function*(Mt){if(Mt!==re)try{yield Mt._remove(He)}catch{}});return function(Mt){return Qe.apply(this,arguments)}}())),new qe(re,E,k)):new qe(re,E,k)})()}}function Ce(N){const E=N.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(qt(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(ue(E))return"Firefox";if(E.includes("silk/"))return"Silk";if($e(E))return"Blackberry";if(Le(E))return"Webos";if(Ae(E))return"Safari";if((E.includes("chrome/")||Et(E))&&!E.includes("edge/"))return"Chrome";if(vn(E))return"Android";{const k=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function ue(N=(0,M.z$)()){return/firefox\//i.test(N)}function Ae(N=(0,M.z$)()){const E=N.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function Et(N=(0,M.z$)()){return/crios\//i.test(N)}function qt(N=(0,M.z$)()){return/iemobile/i.test(N)}function vn(N=(0,M.z$)()){return/android/i.test(N)}function $e(N=(0,M.z$)()){return/blackberry/i.test(N)}function Le(N=(0,M.z$)()){return/webos/i.test(N)}function ve(N=(0,M.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function it(N=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}function wn(N=(0,M.z$)()){return ve(N)||vn(N)||Le(N)||$e(N)||/windows phone/i.test(N)||qt(N)}function ri(N,E=[]){let C;switch(N){case"Browser":C=Ce((0,M.z$)());break;case"Worker":C=`${Ce((0,M.z$)())}-${N}`;break;default:C=N}const k=E.length?E.join(","):"FirebaseCore-web";return`${C}/JsCore/${l.SDK_VERSION}/${k}`}class ys{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,C){const k=re=>new Promise((He,sn)=>{try{He(E(re))}catch(kt){sn(kt)}});k.onAbort=C,this.queue.push(k);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(E){var C=this;return(0,w.Z)(function*(){if(C.auth.currentUser===E)return;const k=[];try{for(const ne of C.queue)yield ne(E),ne.onAbort&&k.push(ne.onAbort)}catch(ne){k.reverse();for(const re of k)try{re()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:ne?.message})}})()}}class Rr{constructor(E,C,k){this.app=E,this.heartbeatServiceProvider=C,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ms(this),this.idTokenSubscription=new Ms(this),this.beforeStateQueue=new ys(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(E,C){var k=this;return C&&(this._popupRedirectResolver=Ge(C)),this._initializationPromise=this.queue((0,w.Z)(function*(){var ne,re;if(!k._deleted&&(k.persistenceManager=yield qe.create(k,E),!k._deleted)){if(null!==(ne=k._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(C),k.lastNotifiedUid=(null===(re=k.currentUser)||void 0===re?void 0:re.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,w.Z)(function*(){if(E._deleted)return;const C=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||C){if(E.currentUser&&C&&E.currentUser.uid===C.uid)return E._currentUser._assign(C),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(C,!0)}})()}initializeCurrentUser(E){var C=this;return(0,w.Z)(function*(){var k;const ne=yield C.assertedPersistence.getCurrentUser();let re=ne,He=!1;if(E&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const sn=null===(k=C.redirectUser)||void 0===k?void 0:k._redirectEventId,kt=re?._redirectEventId,Qe=yield C.tryRedirectSignIn(E);(!sn||sn===kt)&&Qe?.user&&(re=Qe.user,He=!0)}if(!re)return C.directlySetCurrentUser(null);if(!re._redirectEventId){if(He)try{yield C.beforeStateQueue.runMiddleware(re)}catch(sn){re=ne,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(sn))}return re?C.reloadAndSetCurrentUserOrClear(re):C.directlySetCurrentUser(null)}return Ze(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===re._redirectEventId?C.directlySetCurrentUser(re):C.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(E){var C=this;return(0,w.Z)(function*(){let k=null;try{k=yield C._popupRedirectResolver._completeRedirectFn(C,E,!0)}catch{yield C._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(E){var C=this;return(0,w.Z)(function*(){try{yield us(E)}catch(k){if("auth/network-request-failed"!==k?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function Jn(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var E=this;return(0,w.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var C=this;return(0,w.Z)(function*(){const k=E?(0,M.m9)(E):null;return k&&Ze(k.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(k&&k._clone(C))})()}_updateCurrentUser(E,C=!1){var k=this;return(0,w.Z)(function*(){if(!k._deleted)return E&&Ze(k.tenantId===E.tenantId,k,"tenant-id-mismatch"),C||(yield k.beforeStateQueue.runMiddleware(E)),k.queue((0,w.Z)(function*(){yield k.directlySetCurrentUser(E),k.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,w.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var C=this;return this.queue((0,w.Z)(function*(){yield C.assertedPersistence.setPersistence(Ge(E))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new M.LL("auth","Firebase",E())}onAuthStateChanged(E,C,k){return this.registerStateListener(this.authStateSubscription,E,C,k)}beforeAuthStateChanged(E,C){return this.beforeStateQueue.pushCallback(E,C)}onIdTokenChanged(E,C,k){return this.registerStateListener(this.idTokenSubscription,E,C,k)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,C){var k=this;return(0,w.Z)(function*(){const ne=yield k.getOrInitRedirectPersistenceManager(C);return null===E?ne.removeCurrentUser():ne.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var C=this;return(0,w.Z)(function*(){if(!C.redirectPersistenceManager){const k=E&&Ge(E)||C._popupRedirectResolver;Ze(k,C,"argument-error"),C.redirectPersistenceManager=yield qe.create(C,[Ge(k._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(E){var C=this;return(0,w.Z)(function*(){var k,ne;return C._isInitialized&&(yield C.queue((0,w.Z)(function*(){}))),(null===(k=C._currentUser)||void 0===k?void 0:k._redirectEventId)===E?C._currentUser:(null===(ne=C.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===E?C.redirectUser:null})()}_persistUserIfCurrent(E){var C=this;return(0,w.Z)(function*(){if(E===C.currentUser)return C.queue((0,w.Z)(function*(){return C.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(C=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,C,k,ne){if(this._deleted)return()=>{};const re="function"==typeof C?C:C.next.bind(C),He=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(He,this,"internal-error"),He.then(()=>re(this.currentUser)),"function"==typeof C?E.addObserver(C,k,ne):E.addObserver(C)}directlySetCurrentUser(E){var C=this;return(0,w.Z)(function*(){C.currentUser&&C.currentUser!==E&&C._currentUser._stopProactiveRefresh(),E&&C.isProactiveRefreshEnabled&&E._startProactiveRefresh(),C.currentUser=E,E?yield C.assertedPersistence.setCurrentUser(E):yield C.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=ri(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,w.Z)(function*(){var C;const k={"X-Client-Version":E.clientVersion};E.app.options.appId&&(k["X-Firebase-gmpid"]=E.app.options.appId);const ne=yield null===(C=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return ne&&(k["X-Firebase-Client"]=ne),k})()}}function Ui(N){return(0,M.m9)(N)}class Ms{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,M.ne)(C=>this.observer=C)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wo(N,E,C){const k=Ui(N);Ze(k._canInitEmulator,k,"emulator-config-failed"),Ze(/^https?:\/\//.test(E),k,"invalid-emulator-scheme");const ne=!!C?.disableWarnings,re=ws(E),{host:He,port:sn}=function ii(N){const E=ws(N),C=/(\/\/)?([^?#/]+)/.exec(N.substr(E.length));if(!C)return{host:"",port:null};const k=C[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(k);if(ne){const re=ne[1];return{host:re,port:qs(k.substr(re.length+1))}}{const[re,He]=k.split(":");return{host:re,port:qs(He)}}}(E);k.config.emulator={url:`${re}//${He}${null===sn?"":`:${sn}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:He,port:sn,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Kr(){function N(){const E=document.createElement("p"),C=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}function ws(N){const E=N.indexOf(":");return E<0?"":N.substr(0,E+1)}function qs(N){if(!N)return null;const E=Number(N);return isNaN(E)?null:E}class mi{constructor(E,C){this.providerId=E,this.signInMethod=C}toJSON(){return pt("not implemented")}_getIdTokenResponse(E){return pt("not implemented")}_linkToIdToken(E,C){return pt("not implemented")}_getReauthenticationResolver(E){return pt("not implemented")}}function Ci(N,E){return yi.apply(this,arguments)}function yi(){return(yi=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:resetPassword",nr(N,E))})).apply(this,arguments)}function Di(N,E){return ei.apply(this,arguments)}function ei(){return(ei=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function An(N,E){return ar.apply(this,arguments)}function ar(){return(ar=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:update",nr(N,E))})).apply(this,arguments)}function gs(){return(gs=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signInWithPassword",nr(N,E))})).apply(this,arguments)}function qn(N,E){return on.apply(this,arguments)}function on(){return(on=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:sendOobCode",nr(N,E))})).apply(this,arguments)}function Ns(N,E){return dr.apply(this,arguments)}function dr(){return(dr=(0,w.Z)(function*(N,E){return qn(N,E)})).apply(this,arguments)}function _a(N,E){return ur.apply(this,arguments)}function ur(){return(ur=(0,w.Z)(function*(N,E){return qn(N,E)})).apply(this,arguments)}function Yn(N,E){return To.apply(this,arguments)}function To(){return(To=(0,w.Z)(function*(N,E){return qn(N,E)})).apply(this,arguments)}function Fo(N,E){return cs.apply(this,arguments)}function cs(){return(cs=(0,w.Z)(function*(N,E){return qn(N,E)})).apply(this,arguments)}function Pi(){return(Pi=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signInWithEmailLink",nr(N,E))})).apply(this,arguments)}function ke(){return(ke=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signInWithEmailLink",nr(N,E))})).apply(this,arguments)}class yt extends mi{constructor(E,C,k,ne=null){super("password",k),this._email=E,this._password=C,this._tenantId=ne}static _fromEmailAndPassword(E,C){return new yt(E,C,"password")}static _fromEmailAndCode(E,C,k=null){return new yt(E,C,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(E){var C=this;return(0,w.Z)(function*(){switch(C.signInMethod){case"password":return function Yi(N,E){return gs.apply(this,arguments)}(E,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function oo(N,E){return Pi.apply(this,arguments)}(E,{email:C._email,oobCode:C._password});default:Ct(E,"internal-error")}})()}_linkToIdToken(E,C){var k=this;return(0,w.Z)(function*(){switch(k.signInMethod){case"password":return Di(E,{idToken:C,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function wt(N,E){return ke.apply(this,arguments)}(E,{idToken:C,email:k._email,oobCode:k._password});default:Ct(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function st(N,E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signInWithIdp",nr(N,E))})).apply(this,arguments)}class Te extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const C=new Te(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(C.idToken=E.idToken),E.accessToken&&(C.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(C.nonce=E.nonce),E.pendingToken&&(C.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(C.accessToken=E.oauthToken,C.secret=E.oauthTokenSecret):Ct("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E,{providerId:k,signInMethod:ne}=C,re=(0,me._T)(C,["providerId","signInMethod"]);if(!k||!ne)return null;const He=new Te(k,ne);return He.idToken=re.idToken||void 0,He.accessToken=re.accessToken||void 0,He.secret=re.secret,He.nonce=re.nonce,He.pendingToken=re.pendingToken||null,He}_getIdTokenResponse(E){return st(E,this.buildRequest())}_linkToIdToken(E,C){const k=this.buildRequest();return k.idToken=C,st(E,k)}_getReauthenticationResolver(E){const C=this.buildRequest();return C.autoCreate=!1,st(E,C)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),E.postBody=(0,M.xO)(C)}return E}}function Xe(N,E){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:sendVerificationCode",nr(N,E))})).apply(this,arguments)}function Sn(){return(Sn=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signInWithPhoneNumber",nr(N,E))})).apply(this,arguments)}function _r(){return(_r=(0,w.Z)(function*(N,E){const C=yield Or(N,"POST","/v1/accounts:signInWithPhoneNumber",nr(N,E));if(C.temporaryProof)throw fr(N,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const Dr={USER_NOT_FOUND:"user-not-found"};function ds(){return(ds=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signInWithPhoneNumber",nr(N,Object.assign(Object.assign({},E),{operation:"REAUTH"})),Dr)})).apply(this,arguments)}class nt extends mi{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,C){return new nt({verificationId:E,verificationCode:C})}static _fromTokenResponse(E,C){return new nt({phoneNumber:E,temporaryProof:C})}_getIdTokenResponse(E){return function en(N,E){return Sn.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,C){return function Tn(N,E){return _r.apply(this,arguments)}(E,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function ki(N,E){return ds.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:C,verificationId:k,verificationCode:ne}=this.params;return E&&C?{temporaryProof:E,phoneNumber:C}:{sessionInfo:k,code:ne}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:C,verificationCode:k,phoneNumber:ne,temporaryProof:re}=E;return k||C||ne||re?new nt({verificationId:C,verificationCode:k,phoneNumber:ne,temporaryProof:re}):null}}class Ji{constructor(E){var C,k,ne,re,He,sn;const kt=(0,M.zd)((0,M.pd)(E)),Qe=null!==(C=kt.apiKey)&&void 0!==C?C:null,Mt=null!==(k=kt.oobCode)&&void 0!==k?k:null,Sr=function Pe(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=kt.mode)&&void 0!==ne?ne:null);Ze(Qe&&Mt&&Sr,"argument-error"),this.apiKey=Qe,this.operation=Sr,this.code=Mt,this.continueUrl=null!==(re=kt.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(He=kt.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(sn=kt.tenantId)&&void 0!==sn?sn:null}static parseLink(E){const C=function $l(N){const E=(0,M.zd)((0,M.pd)(N)).link,C=E?(0,M.zd)((0,M.pd)(E)).deep_link_id:null,k=(0,M.zd)((0,M.pd)(N)).deep_link_id;return(k?(0,M.zd)((0,M.pd)(k)).link:null)||k||C||E||N}(E);try{return new Ji(C)}catch{return null}}}let yu=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(C,k){return yt._fromEmailAndPassword(C,k)}static credentialWithLink(C,k){const ne=Ji.parseLink(k);return Ze(ne,"argument-error"),yt._fromEmailAndCode(C,ne.code,ne.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class no{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class $a extends no{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class Jo extends $a{static credentialFromJSON(E){const C="string"==typeof E?JSON.parse(E):E;return Ze("providerId"in C&&"signInMethod"in C,"argument-error"),Te._fromParams(C)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return Ze(E.idToken||E.accessToken,"argument-error"),Te._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return Jo.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return Jo.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:C,oauthAccessToken:k,oauthTokenSecret:ne,pendingToken:re,nonce:He,providerId:sn}=E;if(!k&&!ne&&!C&&!re||!sn)return null;try{return new Jo(sn)._credential({idToken:C,accessToken:k,nonce:He,pendingToken:re})}catch{return null}}}let Ec=(()=>{class N extends $a{constructor(){super("facebook.com")}static credential(C){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return N.credential(C.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),_i=(()=>{class N extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(C,k){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:k})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:k,oauthAccessToken:ne}=C;if(!k&&!ne)return null;try{return N.credential(k,ne)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),Vi=(()=>{class N extends $a{constructor(){super("github.com")}static credential(C){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return N.credential(C.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class $s extends mi{constructor(E,C){super(E,E),this.pendingToken=C}_getIdTokenResponse(E){return st(E,this.buildRequest())}_linkToIdToken(E,C){const k=this.buildRequest();return k.idToken=C,st(E,k)}_getReauthenticationResolver(E){const C=this.buildRequest();return C.autoCreate=!1,st(E,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E,{providerId:k,signInMethod:ne,pendingToken:re}=C;return k&&ne&&re&&k===ne?new $s(k,re):null}static _create(E,C){return new $s(E,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qo extends no{constructor(E){Ze(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return Qo.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return Qo.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const C=$s.fromJSON(E);return Ze(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:C,providerId:k}=E;if(!C||!k)return null;try{return $s._create(k,C)}catch{return null}}}let Ha=(()=>{class N extends $a{constructor(){super("twitter.com")}static credential(C,k){return Te._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:k})}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:k,oauthTokenSecret:ne}=C;if(!k||!ne)return null;try{return N.credential(k,ne)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function Hl(N,E){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signUp",nr(N,E))})).apply(this,arguments)}class Co{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,C,k,ne=!1){return(0,w.Z)(function*(){const re=yield Yt._fromIdTokenResponse(E,k,ne),He=is(k);return new Co({user:re,providerId:He,_tokenResponse:k,operationType:C})})()}static _forOperation(E,C,k){return(0,w.Z)(function*(){yield E._updateTokensIfNecessary(k,!0);const ne=is(k);return new Co({user:E,providerId:ne,_tokenResponse:k,operationType:C})})()}}function is(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function eu(N){return zi.apply(this,arguments)}function zi(){return(zi=(0,w.Z)(function*(N){var E;const C=Ui(N);if(yield C._initializationPromise,null!==(E=C.currentUser)&&void 0!==E&&E.isAnonymous)return new Co({user:C.currentUser,providerId:null,operationType:"signIn"});const k=yield Hl(C,{returnSecureToken:!0}),ne=yield Co._fromIdTokenResponse(C,"signIn",k,!0);return yield C._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Xo extends M.ZR{constructor(E,C,k,ne){var re;super(C.code,C.message),this.operationType=k,this.user=ne,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:E.name,tenantId:null!==(re=E.tenantId)&&void 0!==re?re:void 0,_serverResponse:C.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(E,C,k,ne){return new Xo(E,C,k,ne)}}function tu(N,E,C,k){return("reauthenticate"===E?C._getReauthenticationResolver(N):C._getIdTokenResponse(N)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Xo._fromErrorAndOperation(N,re,E,k):re})}function Ts(N){return new Set(N.map(({providerId:E})=>E).filter(E=>!!E))}function Ma(N,E){return ro.apply(this,arguments)}function ro(){return(ro=(0,w.Z)(function*(N,E){const C=(0,M.m9)(N);yield Gt(!0,C,E);const{providerUserInfo:k}=yield jn(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[E]}),ne=Ts(k||[]);return C.providerData=C.providerData.filter(re=>ne.has(re.providerId)),ne.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C})).apply(this,arguments)}function Eu(N,E){return va.apply(this,arguments)}function va(){return(va=(0,w.Z)(function*(N,E,C=!1){const k=yield Mn(N,E._linkToIdToken(N.auth,yield N.getIdToken()),C);return Co._forOperation(N,"link",k)})).apply(this,arguments)}function Gt(N,E,C){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,w.Z)(function*(N,E,C){yield us(E);const ne=!1===N?"provider-already-linked":"no-such-provider";Ze(Ts(E.providerData).has(C)===N,E.auth,ne)})).apply(this,arguments)}function io(N,E){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,w.Z)(function*(N,E,C=!1){const{auth:k}=N,ne="reauthenticate";try{const re=yield Mn(N,tu(k,ne,E,N),C);Ze(re.idToken,k,"internal-error");const He=xn(re.idToken);Ze(He,k,"internal-error");const{sub:sn}=He;return Ze(N.uid===sn,k,"user-mismatch"),Co._forOperation(N,ne,re)}catch(re){throw"auth/user-not-found"===re?.code&&Ct(k,"user-mismatch"),re}})).apply(this,arguments)}function Vr(N,E){return nu.apply(this,arguments)}function nu(){return(nu=(0,w.Z)(function*(N,E,C=!1){const k="signIn",ne=yield tu(N,k,E),re=yield Co._fromIdTokenResponse(N,k,ne);return C||(yield N._updateCurrentUser(re.user)),re})).apply(this,arguments)}function ms(N,E){return fn.apply(this,arguments)}function fn(){return(fn=(0,w.Z)(function*(N,E){return Vr(Ui(N),E)})).apply(this,arguments)}function Ds(N,E){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,w.Z)(function*(N,E){const C=(0,M.m9)(N);return yield Gt(!1,C,E.providerId),Eu(C,E)})).apply(this,arguments)}function vr(N,E){return $i.apply(this,arguments)}function $i(){return($i=(0,w.Z)(function*(N,E){return io((0,M.m9)(N),E)})).apply(this,arguments)}function hs(N,E){return ea.apply(this,arguments)}function ea(){return(ea=(0,w.Z)(function*(N,E){return Or(N,"POST","/v1/accounts:signInWithCustomToken",nr(N,E))})).apply(this,arguments)}function Uo(N,E){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,w.Z)(function*(N,E){const C=Ui(N),k=yield hs(C,{token:E,returnSecureToken:!0}),ne=yield Co._fromIdTokenResponse(C,"signIn",k);return yield C._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Hi{constructor(E,C){this.factorId=E,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(E,C){return"phoneInfo"in C?ao._fromServerResponse(E,C):Ct(E,"internal-error")}}class ao extends Hi{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,C){return new ao(C)}}function Qi(N,E,C){var k;Ze((null===(k=C.url)||void 0===k?void 0:k.length)>0,N,"invalid-continue-uri"),Ze(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),E.continueUrl=C.url,E.dynamicLinkDomain=C.dynamicLinkDomain,E.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(Ze(C.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),E.iOSBundleId=C.iOS.bundleId),C.android&&(Ze(C.android.packageName.length>0,N,"missing-android-pkg-name"),E.androidInstallApp=C.android.installApp,E.androidMinimumVersionCode=C.android.minimumVersion,E.androidPackageName=C.android.packageName)}function bu(N,E,C){return Si.apply(this,arguments)}function Si(){return(Si=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N),ne={requestType:"PASSWORD_RESET",email:E};C&&Qi(k,ne,C),yield _a(k,ne)})).apply(this,arguments)}function po(N,E,C){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,w.Z)(function*(N,E,C){yield Ci((0,M.m9)(N),{oobCode:E,newPassword:C})})).apply(this,arguments)}function Ir(N,E){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,w.Z)(function*(N,E){yield An((0,M.m9)(N),{oobCode:E})})).apply(this,arguments)}function tl(N,E){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,w.Z)(function*(N,E){const C=(0,M.m9)(N),k=yield Ci(C,{oobCode:E}),ne=k.requestType;switch(Ze(ne,C,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ze(k.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ze(k.mfaInfo,C,"internal-error");default:Ze(k.email,C,"internal-error")}let re=null;return k.mfaInfo&&(re=Hi._fromServerResponse(Ui(C),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:re},operation:ne}})).apply(this,arguments)}function Gl(N,E){return ya.apply(this,arguments)}function ya(){return(ya=(0,w.Z)(function*(N,E){const{data:C}=yield tl((0,M.m9)(N),E);return C.email})).apply(this,arguments)}function nl(N,E,C){return ru.apply(this,arguments)}function ru(){return(ru=(0,w.Z)(function*(N,E,C){const k=Ui(N),ne=yield Hl(k,{returnSecureToken:!0,email:E,password:C}),re=yield Co._fromIdTokenResponse(k,"signIn",ne);return yield k._updateCurrentUser(re.user),re})).apply(this,arguments)}function Na(N,E,C){return ms((0,M.m9)(N),yu.credential(E,C))}function U(N,E,C){return j.apply(this,arguments)}function j(){return(j=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N),ne={requestType:"EMAIL_SIGNIN",email:E};Ze(C.handleCodeInApp,k,"argument-error"),C&&Qi(k,ne,C),yield Yn(k,ne)})).apply(this,arguments)}function H(N,E){return"EMAIL_SIGNIN"===Ji.parseLink(E)?.operation}function ce(N,E,C){return _t.apply(this,arguments)}function _t(){return(_t=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N),ne=yu.credentialWithLink(E,C||Xt());return Ze(ne._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),ms(k,ne)})).apply(this,arguments)}function Nn(N,E){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:createAuthUri",nr(N,E))})).apply(this,arguments)}function Es(N,E){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,w.Z)(function*(N,E){const k={identifier:E,continueUri:Ft()?Xt():"http://localhost"},{signinMethods:ne}=yield Nn((0,M.m9)(N),k);return ne||[]})).apply(this,arguments)}function Os(N,E){return ss.apply(this,arguments)}function ss(){return(ss=(0,w.Z)(function*(N,E){const C=(0,M.m9)(N),ne={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};E&&Qi(C.auth,ne,E);const{email:re}=yield Ns(C.auth,ne);re!==N.email&&(yield N.reload())})).apply(this,arguments)}function Do(N,E,C){return uo.apply(this,arguments)}function uo(){return(uo=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:E};C&&Qi(k.auth,re,C);const{email:He}=yield Fo(k.auth,re);He!==N.email&&(yield N.reload())})).apply(this,arguments)}function qi(N,E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,w.Z)(function*(N,E){return On(N,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function go(N,E){return bs.apply(this,arguments)}function bs(){return(bs=(0,w.Z)(function*(N,{displayName:E,photoURL:C}){if(void 0===E&&void 0===C)return;const k=(0,M.m9)(N),re={idToken:yield k.getIdToken(),displayName:E,photoUrl:C,returnSecureToken:!0},He=yield Mn(k,qi(k.auth,re));k.displayName=He.displayName||null,k.photoURL=He.photoUrl||null;const sn=k.providerData.find(({providerId:kt})=>"password"===kt);sn&&(sn.displayName=k.displayName,sn.photoURL=k.photoURL),yield k._updateTokensIfNecessary(He)})).apply(this,arguments)}function ta(N,E){return wu((0,M.m9)(N),E,null)}function md(N,E){return wu((0,M.m9)(N),null,E)}function wu(N,E,C){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,w.Z)(function*(N,E,C){const{auth:k}=N,re={idToken:yield N.getIdToken(),returnSecureToken:!0};E&&(re.email=E),C&&(re.password=C);const He=yield Mn(N,Di(k,re));yield N._updateTokensIfNecessary(He,!0)})).apply(this,arguments)}class Tu{constructor(E,C,k={}){this.isNewUser=E,this.providerId=C,this.profile=k}}class rl extends Tu{constructor(E,C,k,ne){super(E,C,k),this.username=ne}}class il extends Tu{constructor(E,C){super(E,"facebook.com",C)}}class $u extends rl{constructor(E,C){super(E,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class Cl extends Tu{constructor(E,C){super(E,"google.com",C)}}class Hu extends rl{constructor(E,C,k){super(E,"twitter.com",C,k)}}function Cu(N){const{user:E,_tokenResponse:C}=N;return E.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function lo(N){var E,C;if(!N)return null;const{providerId:k}=N,ne=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},re=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!k&&N?.idToken){const He=null===(C=null===(E=xn(N.idToken))||void 0===E?void 0:E.firebase)||void 0===C?void 0:C.sign_in_provider;if(He)return new Tu(re,"anonymous"!==He&&"custom"!==He?He:null)}if(!k)return null;switch(k){case"facebook.com":return new il(re,ne);case"github.com":return new $u(re,ne);case"google.com":return new Cl(re,ne);case"twitter.com":return new Hu(re,ne,N.screenName||null);case"custom":case"anonymous":return new Tu(re,null);default:return new Tu(re,k,ne)}}(C)}class Xi{constructor(E,C,k){this.type=E,this.credential=C,this.auth=k}static _fromIdtoken(E,C){return new Xi("enroll",E,C)}static _fromMfaPendingCredential(E){return new Xi("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var C,k;if(E?.multiFactorSession){if(null!==(C=E.multiFactorSession)&&void 0!==C&&C.pendingCredential)return Xi._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(k=E.multiFactorSession)&&void 0!==k&&k.idToken)return Xi._fromIdtoken(E.multiFactorSession.idToken)}return null}}class $o{constructor(E,C,k){this.session=E,this.hints=C,this.signInResolver=k}static _fromError(E,C){const k=Ui(E),ne=C.customData._serverResponse,re=(ne.mfaInfo||[]).map(sn=>Hi._fromServerResponse(k,sn));Ze(ne.mfaPendingCredential,k,"internal-error");const He=Xi._fromMfaPendingCredential(ne.mfaPendingCredential);return new $o(He,re,function(){var sn=(0,w.Z)(function*(kt){const Qe=yield kt._process(k,He);delete ne.mfaInfo,delete ne.mfaPendingCredential;const Mt=Object.assign(Object.assign({},ne),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(C.operationType){case"signIn":const Sr=yield Co._fromIdTokenResponse(k,C.operationType,Mt);return yield k._updateCurrentUser(Sr.user),Sr;case"reauthenticate":return Ze(C.user,k,"internal-error"),Co._forOperation(C.user,C.operationType,Mt);default:Ct(k,"internal-error")}});return function(kt){return sn.apply(this,arguments)}}())}resolveSignIn(E){var C=this;return(0,w.Z)(function*(){return C.signInResolver(E)})()}}function jl(N,E){var C;const k=(0,M.m9)(N),ne=E;return Ze(E.customData.operationType,k,"argument-error"),Ze(null===(C=ne.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,k,"argument-error"),$o._fromError(k,ne)}function Io(N,E){return On(N,"POST","/v2/accounts/mfaEnrollment:start",nr(N,E))}class su{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(k=>Hi._fromServerResponse(E.auth,k)))})}static _fromUser(E){return new su(E)}getSession(){var E=this;return(0,w.Z)(function*(){return Xi._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,C){var k=this;return(0,w.Z)(function*(){const ne=E,re=yield k.getSession(),He=yield Mn(k.user,ne._process(k.user.auth,re,C));return yield k.user._updateTokensIfNecessary(He),k.user.reload()})()}unenroll(E){var C=this;return(0,w.Z)(function*(){const k="string"==typeof E?E:E.uid,ne=yield C.user.getIdToken(),re=yield Mn(C.user,function Wl(N,E){return On(N,"POST","/v2/accounts/mfaEnrollment:withdraw",nr(N,E))}(C.user.auth,{idToken:ne,mfaEnrollmentId:k}));C.enrolledFactors=C.enrolledFactors.filter(({uid:He})=>He!==k),yield C.user._updateTokensIfNecessary(re);try{yield C.user.reload()}catch(He){if("auth/user-token-expired"!==He?.code)throw He}})()}}const wr=new WeakMap;function B(N){const E=(0,M.m9)(N);return wr.has(E)||wr.set(E,su._fromUser(E)),wr.get(E)}const X="__sak";class W{constructor(E,C){this.storageRetriever=E,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(X,"1"),this.storage.removeItem(X),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,C){return this.storage.setItem(E,JSON.stringify(C)),Promise.resolve()}_get(E){const C=this.storage.getItem(E);return Promise.resolve(C?JSON.parse(C):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const _n=(()=>{class N extends W{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,k)=>this.onStorageEvent(C,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ae(){const N=(0,M.z$)();return Ae(N)||ve(N)}()&&function ni(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const k of Object.keys(this.listeners)){const ne=this.storage.getItem(k),re=this.localCache[k];ne!==re&&C(k,re,ne)}}onStorageEvent(C,k=!1){if(!C.key)return void this.forAllChangedKeys((sn,kt,Qe)=>{this.notifyListeners(sn,Qe)});const ne=C.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const sn=this.storage.getItem(ne);if(C.newValue!==sn)null!==C.newValue?this.storage.setItem(ne,C.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===C.newValue&&!k)return}const re=()=>{const sn=this.storage.getItem(ne);!k&&this.localCache[ne]===sn||this.notifyListeners(ne,sn)},He=this.storage.getItem(ne);!function Zt(){return(0,M.w1)()&&10===document.documentMode}()||He===C.newValue||C.newValue===C.oldValue?re():setTimeout(re,10)}notifyListeners(C,k){this.localCache[C]=k;const ne=this.listeners[C];if(ne)for(const re of Array.from(ne))re(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,k,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:k,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,k){var ne=()=>super._set,re=this;return(0,w.Z)(function*(){yield ne().call(re,C,k),re.localCache[C]=JSON.stringify(k)})()}_get(C){var k=()=>super._get,ne=this;return(0,w.Z)(function*(){const re=yield k().call(ne,C);return ne.localCache[C]=JSON.stringify(re),re})()}_remove(C){var k=()=>super._remove,ne=this;return(0,w.Z)(function*(){yield k().call(ne,C),delete ne.localCache[C]})()}}return N.type="LOCAL",N})(),si=(()=>{class N extends W{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,k){}_removeListener(C,k){}}return N.type="SESSION",N})();let Jr=(()=>{class N{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const k=this.receivers.find(re=>re.isListeningto(C));if(k)return k;const ne=new N(C);return this.receivers.push(ne),ne}isListeningto(C){return this.eventTarget===C}handleEvent(C){var k=this;return(0,w.Z)(function*(){const ne=C,{eventId:re,eventType:He,data:sn}=ne.data,kt=k.handlersMap[He];if(!kt?.size)return;ne.ports[0].postMessage({status:"ack",eventId:re,eventType:He});const Qe=Array.from(kt).map(function(){var Sr=(0,w.Z)(function*(xu){return xu(ne.origin,sn)});return function(xu){return Sr.apply(this,arguments)}}()),Mt=yield function Ai(N){return Promise.all(N.map(function(){var E=(0,w.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(k){return{fulfilled:!1,reason:k}}});return function(C){return E.apply(this,arguments)}}()))}(Qe);ne.ports[0].postMessage({status:"done",eventId:re,eventType:He,response:Mt})})()}_subscribe(C,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(k)}_unsubscribe(C,k){this.handlersMap[C]&&k&&this.handlersMap[C].delete(k),(!k||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function es(N="",E=10){let C="";for(let k=0;k<E;k++)C+=Math.floor(10*Math.random());return N+C}class xi{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,C,k=50){var ne=this;return(0,w.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let He,sn;return new Promise((kt,Qe)=>{const Mt=es("",20);re.port1.start();const Sr=setTimeout(()=>{Qe(new Error("unsupported_event"))},k);sn={messageChannel:re,onMessage(xu){const Ja=xu;if(Ja.data.eventId===Mt)switch(Ja.data.status){case"ack":clearTimeout(Sr),He=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),kt(Ja.data.response);break;default:clearTimeout(Sr),clearTimeout(He),Qe(new Error("invalid_response"))}}},ne.handlers.add(sn),re.port1.addEventListener("message",sn.onMessage),ne.target.postMessage({eventType:E,eventId:Mt,data:C},[re.port2])}).finally(()=>{sn&&ne.removeMessageHandler(sn)})})()}}function zr(){return window}function fs(){return typeof zr().WorkerGlobalScope<"u"&&"function"==typeof zr().importScripts}function js(){return(js=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ou="firebaseLocalStorageDb",Oa="firebaseLocalStorage",ra="fbase_key";class ja{constructor(E){this.request=E}toPromise(){return new Promise((E,C)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Wa(N,E){return N.transaction([Oa],E?"readwrite":"readonly").objectStore(Oa)}function Ps(){const N=indexedDB.open(ou,1);return new Promise((E,C)=>{N.addEventListener("error",()=>{C(N.error)}),N.addEventListener("upgradeneeded",()=>{const k=N.result;try{k.createObjectStore(Oa,{keyPath:ra})}catch(ne){C(ne)}}),N.addEventListener("success",(0,w.Z)(function*(){const k=N.result;k.objectStoreNames.contains(Oa)?E(k):(k.close(),yield function Hd(){const N=indexedDB.deleteDatabase(ou);return new ja(N).toPromise()}(),E(yield Ps()))}))})}function Is(N,E,C){return ba.apply(this,arguments)}function ba(){return(ba=(0,w.Z)(function*(N,E,C){const k=Wa(N,!0).put({[ra]:E,value:C});return new ja(k).toPromise()})).apply(this,arguments)}function ia(){return(ia=(0,w.Z)(function*(N,E){const C=Wa(N,!1).get(E),k=yield new ja(C).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Du(N,E){const C=Wa(N,!0).delete(E);return new ja(C).toPromise()}const za=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,w.Z)(function*(){return C.db||(C.db=yield Ps()),C.db})()}_withRetries(C){var k=this;return(0,w.Z)(function*(){let ne=0;for(;;)try{const re=yield k._openDb();return yield C(re)}catch(re){if(ne++>3)throw re;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,w.Z)(function*(){return fs()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,w.Z)(function*(){C.receiver=Jr._getInstance(function sl(){return fs()?self:null}()),C.receiver._subscribe("keyChanged",function(){var k=(0,w.Z)(function*(ne,re){return{keyProcessed:(yield C._poll()).includes(re.key)}});return function(ne,re){return k.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var k=(0,w.Z)(function*(ne,re){return["keyChanged"]});return function(ne,re){return k.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,w.Z)(function*(){var k,ne;if(C.activeServiceWorker=yield function mo(){return js.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new xi(C.activeServiceWorker);const re=yield C.sender._send("ping",{},800);re&&null!==(k=re[0])&&void 0!==k&&k.fulfilled&&null!==(ne=re[0])&&void 0!==ne&&ne.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var k=this;return(0,w.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function na(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:C},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const C=yield Ps();return yield Is(C,X,"1"),yield Du(C,X),!0}catch{}return!1})()}_withPendingWrite(C){var k=this;return(0,w.Z)(function*(){k.pendingWrites++;try{yield C()}finally{k.pendingWrites--}})()}_set(C,k){var ne=this;return(0,w.Z)(function*(){return ne._withPendingWrite((0,w.Z)(function*(){return yield ne._withRetries(re=>Is(re,C,k)),ne.localCache[C]=k,ne.notifyServiceWorker(C)}))})()}_get(C){var k=this;return(0,w.Z)(function*(){const ne=yield k._withRetries(re=>function qc(N,E){return ia.apply(this,arguments)}(re,C));return k.localCache[C]=ne,ne})()}_remove(C){var k=this;return(0,w.Z)(function*(){return k._withPendingWrite((0,w.Z)(function*(){return yield k._withRetries(ne=>Du(ne,C)),delete k.localCache[C],k.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,w.Z)(function*(){const k=yield C._withRetries(He=>{const sn=Wa(He,!1).getAll();return new ja(sn).toPromise()});if(!k)return[];if(0!==C.pendingWrites)return[];const ne=[],re=new Set;for(const{fbase_key:He,value:sn}of k)re.add(He),JSON.stringify(C.localCache[He])!==JSON.stringify(sn)&&(C.notifyListeners(He,sn),ne.push(He));for(const He of Object.keys(C.localCache))C.localCache[He]&&!re.has(He)&&(C.notifyListeners(He,null),ne.push(He));return ne})()}notifyListeners(C,k){this.localCache[C]=k;const ne=this.listeners[C];if(ne)for(const re of Array.from(ne))re(k)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(k)}_removeListener(C,k){this.listeners[C]&&(this.listeners[C].delete(k),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})();function Iu(N,E){return On(N,"POST","/v2/accounts/mfaSignIn:start",nr(N,E))}function Ho(){return(Ho=(0,w.Z)(function*(N){return(yield On(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wa(N){return new Promise((E,C)=>{const k=document.createElement("script");k.setAttribute("src",N),k.onload=E,k.onerror=ne=>{const re=vt("internal-error");re.customData=ne,C(re)},k.type="text/javascript",k.charset="UTF-8",function ol(){var N,E;return null!==(E=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==E?E:document}().appendChild(k)})}function Ta(N){return`__${N}${Math.floor(1e6*Math.random())}`}const so=1e12;class Zs{constructor(E){this.auth=E,this.counter=so,this._widgets=new Map}render(E,C){const k=this.counter;return this._widgets.set(k,new Kc(E,this.auth.name,C||{})),this.counter++,k}reset(E){var C;const k=E||so;null===(C=this._widgets.get(k))||void 0===C||C.delete(),this._widgets.delete(k)}getResponse(E){var C;return(null===(C=this._widgets.get(E||so))||void 0===C?void 0:C.getResponse())||""}execute(E){var C=this;return(0,w.Z)(function*(){var k;return null===(k=C._widgets.get(E||so))||void 0===k||k.execute(),""})()}}class Kc{constructor(E,C,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof E?document.getElementById(E):E;Ze(ne,"argument-error",{appName:C}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function de(N){const E=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<N;k++)E.push(C.charAt(Math.floor(Math.random()*C.length)));return E.join("")}(50);const{callback:E,"expired-callback":C}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ys=Ta("rcb"),xo=new Dn(3e4,6e4);class Qr{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=zr().grecaptcha)||void 0===E||!E.render)}load(E,C=""){return Ze(function Go(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(C),E,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(zr().grecaptcha):new Promise((k,ne)=>{const re=zr().setTimeout(()=>{ne(vt(E,"network-request-failed"))},xo.get());zr()[Ys]=()=>{zr().clearTimeout(re),delete zr()[Ys];const sn=zr().grecaptcha;if(!sn)return void ne(vt(E,"internal-error"));const kt=sn.render;sn.render=(Qe,Mt)=>{const Sr=kt(Qe,Mt);return this.counter++,Sr},this.hostLanguage=C,k(sn)},wa(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:Ys,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(re),ne(vt(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var C;return!(null===(C=zr().grecaptcha)||void 0===C||!C.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ql{load(E){return(0,w.Z)(function*(){return new Zs(E)})()}clearedOneInstance(){}}const Kl="recaptcha",qa={theme:"light",type:"image"};class wc{constructor(E,C=Object.assign({},qa),k){this.parameters=C,this.type=Kl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ui(k),this.isInvisible="invisible"===this.parameters.size,Ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof E?document.getElementById(E):E;Ze(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ql:new Qr,this.validateStartingState()}verify(){var E=this;return(0,w.Z)(function*(){E.assertNotDestroyed();const C=yield E.render(),k=E.getAssertedRecaptcha();return k.getResponse(C)||new Promise(re=>{const He=sn=>{sn&&(E.tokenChangeListeners.delete(He),re(sn))};E.tokenChangeListeners.add(He),E.isInvisible&&k.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){Ze(!this.parameters.sitekey,this.auth,"argument-error"),Ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return C=>{if(this.tokenChangeListeners.forEach(k=>k(C)),"function"==typeof E)E(C);else if("string"==typeof E){const k=zr()[E];"function"==typeof k&&k(C)}}}assertNotDestroyed(){Ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,w.Z)(function*(){if(yield E.init(),!E.widgetId){let C=E.container;if(!E.isInvisible){const k=document.createElement("div");C.appendChild(k),C=k}E.widgetId=E.getAssertedRecaptcha().render(C,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,w.Z)(function*(){Ze(Ft()&&!fs(),E.auth,"internal-error"),yield function Wu(){let N=null;return new Promise(E=>{"complete"!==document.readyState?(N=()=>E(),window.addEventListener("load",N)):E()}).catch(E=>{throw N&&window.removeEventListener("load",N),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const C=yield function ks(N){return Ho.apply(this,arguments)}(E.auth);Ze(C,E.auth,"internal-error"),E.parameters.sitekey=C})()}getAssertedRecaptcha(){return Ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class al{constructor(E,C){this.verificationId=E,this.onConfirmation=C}confirm(E){const C=nt._fromVerification(this.verificationId,E);return this.onConfirmation(C)}}function ac(N,E,C){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,w.Z)(function*(N,E,C){const k=Ui(N),ne=yield Zl(k,E,(0,M.m9)(C));return new al(ne,re=>ms(k,re))})).apply(this,arguments)}function Dl(N,E,C){return uc.apply(this,arguments)}function uc(){return(uc=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N);yield Gt(!1,k,"phone");const ne=yield Zl(k.auth,E,(0,M.m9)(C));return new al(ne,re=>Ds(k,re))})).apply(this,arguments)}function Tc(N,E,C){return lc.apply(this,arguments)}function lc(){return(lc=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N),ne=yield Zl(k.auth,E,(0,M.m9)(C));return new al(ne,re=>vr(k,re))})).apply(this,arguments)}function Zl(N,E,C){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,w.Z)(function*(N,E,C){var k;const ne=yield C.verify();try{let re;if(Ze("string"==typeof ne,N,"argument-error"),Ze(C.type===Kl,N,"argument-error"),re="string"==typeof E?{phoneNumber:E}:E,"session"in re){const He=re.session;if("phoneNumber"in re)return Ze("enroll"===He.type,N,"internal-error"),(yield Io(N,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{Ze("signin"===He.type,N,"internal-error");const sn=(null===(k=re.multiFactorHint)||void 0===k?void 0:k.uid)||re.multiFactorUid;return Ze(sn,N,"missing-multi-factor-info"),(yield Iu(N,{mfaPendingCredential:He.credential,mfaEnrollmentId:sn,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield Xe(N,{phoneNumber:re.phoneNumber,recaptchaToken:ne});return He}}finally{C._reset()}})).apply(this,arguments)}function jo(N,E){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,w.Z)(function*(N,E){yield Eu((0,M.m9)(N),E)})).apply(this,arguments)}let Il=(()=>{class N{constructor(C){this.providerId=N.PROVIDER_ID,this.auth=Ui(C)}verifyPhoneNumber(C,k){return Zl(this.auth,C,(0,M.m9)(k))}static credential(C,k){return nt._fromVerification(C,k)}static credentialFromResult(C){return N.credentialFromTaggedObject(C)}static credentialFromError(C){return N.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:k,temporaryProof:ne}=C;return k&&ne?nt._fromTokenResponse(k,ne):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function Ra(N,E){return E?Ge(E):(Ze(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class pr extends mi{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return st(E,this._buildIdpRequest())}_linkToIdToken(E,C){return st(E,this._buildIdpRequest(C))}_getReauthenticationResolver(E){return st(E,this._buildIdpRequest())}_buildIdpRequest(E){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(C.idToken=E),C}}function Ca(N){return Vr(N.auth,new pr(N),N.bypassAuthState)}function Ls(N){const{auth:E,user:C}=N;return Ze(C,E,"internal-error"),io(C,new pr(N),N.bypassAuthState)}function x(N){return R.apply(this,arguments)}function R(){return(R=(0,w.Z)(function*(N){const{auth:E,user:C}=N;return Ze(C,E,"internal-error"),Eu(C,new pr(N),N.bypassAuthState)})).apply(this,arguments)}class S{constructor(E,C,k,ne,re=!1){this.auth=E,this.resolver=k,this.user=ne,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var E=this;return new Promise(function(){var C=(0,w.Z)(function*(k,ne){E.pendingPromise={resolve:k,reject:ne};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(re){E.reject(re)}});return function(k,ne){return C.apply(this,arguments)}}())}onAuthEvent(E){var C=this;return(0,w.Z)(function*(){const{urlResponse:k,sessionId:ne,postBody:re,tenantId:He,error:sn,type:kt}=E;if(sn)return void C.reject(sn);const Qe={auth:C.auth,requestUri:k,sessionId:ne,tenantId:He||void 0,postBody:re||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(kt)(Qe))}catch(Mt){C.reject(Mt)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return Ca;case"linkViaPopup":case"linkViaRedirect":return x;case"reauthViaPopup":case"reauthViaRedirect":return Ls;default:Ct(this.auth,"internal-error")}}resolve(E){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const V=new Dn(2e3,1e4);function Y(N,E,C){return ie.apply(this,arguments)}function ie(){return(ie=(0,w.Z)(function*(N,E,C){const k=Ui(N);Dt(N,E,no);const ne=Ra(k,C);return new In(k,"signInViaPopup",E,ne).executeNotNull()})).apply(this,arguments)}function he(N,E,C){return et.apply(this,arguments)}function et(){return(et=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N);Dt(k.auth,E,no);const ne=Ra(k.auth,C);return new In(k.auth,"reauthViaPopup",E,ne,k).executeNotNull()})).apply(this,arguments)}function Kt(N,E,C){return $n.apply(this,arguments)}function $n(){return($n=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N);Dt(k.auth,E,no);const ne=Ra(k.auth,C);return new In(k.auth,"linkViaPopup",E,ne,k).executeNotNull()})).apply(this,arguments)}let In=(()=>{class N extends S{constructor(C,k,ne,re,He){super(C,k,re,He),this.provider=ne,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var C=this;return(0,w.Z)(function*(){const k=yield C.execute();return Ze(k,C.auth,"internal-error"),k})()}onExecution(){var C=this;return(0,w.Z)(function*(){Vt(1===C.filter.length,"Popup operations only handle one event");const k=es();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],k),C.authWindow.associatedEvent=k,C.resolver._originValidation(C.auth).catch(ne=>{C.reject(ne)}),C.resolver._isIframeWebStorageSupported(C.auth,ne=>{ne||C.reject(vt(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const C=()=>{var k,ne;this.pollId=null!==(ne=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(vt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,V.get())};C()}}return N.currentPopupAction=null,N})();const ui=new Map;class _o extends S{constructor(E,C,k=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,k),this.eventId=null}execute(){var E=()=>super.execute,C=this;return(0,w.Z)(function*(){let k=ui.get(C.auth._key());if(!k){try{const re=(yield function oa(N,E){return ul.apply(this,arguments)}(C.resolver,C.auth))?yield E().call(C):null;k=()=>Promise.resolve(re)}catch(ne){k=()=>Promise.reject(ne)}ui.set(C.auth._key(),k)}return C.bypassAuthState||ui.set(C.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(E){var C=()=>super.onAuthEvent,k=this;return(0,w.Z)(function*(){if("signInViaRedirect"===E.type)return C().call(k,E);if("unknown"!==E.type){if(E.eventId){const ne=yield k.auth._redirectUserForId(E.eventId);if(ne)return k.user=ne,C().call(k,E);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function ul(){return(ul=(0,w.Z)(function*(N,E){const C=Z(E),k=z(N);if(!(yield k._isAvailable()))return!1;const ne="true"===(yield k._get(C));return yield k._remove(C),ne})).apply(this,arguments)}function Wo(N,E){return ll.apply(this,arguments)}function ll(){return(ll=(0,w.Z)(function*(N,E){return z(N)._set(Z(E),"true")})).apply(this,arguments)}function au(){ui.clear()}function Cc(N,E){ui.set(N._key(),E)}function z(N){return Ge(N._redirectPersistence)}function Z(N){return Se("pendingRedirect",N.config.apiKey,N.name)}function se(N,E,C){return function Fe(N,E,C){return ot.apply(this,arguments)}(N,E,C)}function ot(){return(ot=(0,w.Z)(function*(N,E,C){const k=Ui(N);Dt(N,E,no),yield k._initializationPromise;const ne=Ra(k,C);return yield Wo(ne,k),ne._openRedirect(k,E,"signInViaRedirect")})).apply(this,arguments)}function It(N,E,C){return function tn(N,E,C){return Un.apply(this,arguments)}(N,E,C)}function Un(){return(Un=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N);Dt(k.auth,E,no),yield k.auth._initializationPromise;const ne=Ra(k.auth,C);yield Wo(ne,k.auth);const re=yield bi(k);return ne._openRedirect(k.auth,E,"reauthViaRedirect",re)})).apply(this,arguments)}function Kn(N,E,C){return function er(N,E,C){return xr.apply(this,arguments)}(N,E,C)}function xr(){return(xr=(0,w.Z)(function*(N,E,C){const k=(0,M.m9)(N);Dt(k.auth,E,no),yield k.auth._initializationPromise;const ne=Ra(k.auth,C);yield Gt(!1,k,E.providerId),yield Wo(ne,k.auth);const re=yield bi(k);return ne._openRedirect(k.auth,E,"linkViaRedirect",re)})).apply(this,arguments)}function kr(N,E){return ts.apply(this,arguments)}function ts(){return(ts=(0,w.Z)(function*(N,E){return yield Ui(N)._initializationPromise,Js(N,E,!1)})).apply(this,arguments)}function Js(N,E){return cl.apply(this,arguments)}function cl(){return(cl=(0,w.Z)(function*(N,E,C=!1){const k=Ui(N),ne=Ra(k,E),He=yield new _o(k,ne,C).execute();return He&&!C&&(delete He.user._redirectEventId,yield k._persistUserIfCurrent(He.user),yield k._setRedirectUser(null,E)),He})).apply(this,arguments)}function bi(N){return zu.apply(this,arguments)}function zu(){return(zu=(0,w.Z)(function*(N){const E=es(`${N.uid}:::`);return N._redirectEventId=E,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),E})).apply(this,arguments)}class aa{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let C=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(E,k)&&(C=!0,this.sendToConsumer(E,k),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function _h(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ka(N);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=E,C=!0)),C}sendToConsumer(E,C){var k;if(E.error&&!Ka(E)){const ne=(null===(k=E.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";C.onError(vt(this.auth,ne))}else C.onAuthEvent(E)}isEventForConsumer(E,C){const k=null===C.eventId||!!E.eventId&&E.eventId===C.eventId;return C.filter.includes(E.type)&&k}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gd(E))}saveEventToCache(E){this.cachedEventUids.add(Gd(E)),this.lastProcessedEventTime=Date.now()}}function Gd(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(E=>E).join("-")}function Ka({type:N,error:E}){return"unknown"===N&&"auth/no-auth-event"===E?.code}function vh(N){return Al.apply(this,arguments)}function Al(){return(Al=(0,w.Z)(function*(N,E={}){return On(N,"GET","/v1/projects",E)})).apply(this,arguments)}const _d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,As=/^https?/;function dl(){return(dl=(0,w.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:E}=yield vh(N);for(const C of E)try{if(op(C))return}catch{}Ct(N,"unauthorized-domain")})).apply(this,arguments)}function op(N){const E=Xt(),{protocol:C,hostname:k}=new URL(E);if(N.startsWith("chrome-extension://")){const He=new URL(N);return""===He.hostname&&""===k?"chrome-extension:"===C&&N.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===C&&He.hostname===k}if(!As.test(C))return!1;if(_d.test(N))return k===N;const ne=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(k)}const jd=new Dn(3e4,6e4);function ag(){const N=zr().___jsl;if(N?.H)for(const E of Object.keys(N.H))if(N.H[E].r=N.H[E].r||[],N.H[E].L=N.H[E].L||[],N.H[E].r=[...N.H[E].L],N.CP)for(let C=0;C<N.CP.length;C++)N.CP[C]=null}let Zc=null;function lf(N){return Zc=Zc||function xl(N){return new Promise((E,C)=>{var k,ne,re;function He(){ag(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{ag(),C(vt(N,"network-request-failed"))},timeout:jd.get()})}if(null!==(ne=null===(k=zr().gapi)||void 0===k?void 0:k.iframes)&&void 0!==ne&&ne.Iframe)E(gapi.iframes.getContext());else{if(null===(re=zr().gapi)||void 0===re||!re.load){const sn=Ta("iframefcb");return zr()[sn]=()=>{gapi.load?He():C(vt(N,"network-request-failed"))},wa(`https://apis.google.com/js/api.js?onload=${sn}`).catch(kt=>C(kt))}He()}}).catch(E=>{throw Zc=null,E})}(N),Zc}const Yc=new Dn(5e3,15e3),yh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ug(N){const E=N.config;Ze(E.authDomain,N,"auth-domain-config-required");const C=E.emulator?zn(E,"emulator/auth/iframe"):`https://${N.config.authDomain}/__/auth/iframe`,k={apiKey:E.apiKey,appName:N.name,v:l.SDK_VERSION},ne=Dm.get(N.config.apiHost);ne&&(k.eid=ne);const re=N._getFrameworks();return re.length&&(k.fw=re.join(",")),`${C}?${(0,M.xO)(k).slice(1)}`}function Eh(){return Eh=(0,w.Z)(function*(N){const E=yield lf(N),C=zr().gapi;return Ze(C,N,"internal-error"),E.open({where:document.body,url:ug(N),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yh,dontclear:!0},k=>new Promise(function(){var ne=(0,w.Z)(function*(re,He){yield k.restyle({setHideOnLeave:!1});const sn=vt(N,"network-request-failed"),kt=zr().setTimeout(()=>{He(sn)},Yc.get());function Qe(){zr().clearTimeout(kt),re(k)}k.ping(Qe).then(Qe,()=>{He(sn)})});return function(re,He){return ne.apply(this,arguments)}}()))}),Eh.apply(this,arguments)}const bh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wh{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Za(N,E,C,k,ne,re){Ze(N.config.authDomain,N,"auth-domain-config-required"),Ze(N.config.apiKey,N,"invalid-api-key");const He={apiKey:N.config.apiKey,appName:N.name,authType:C,redirectUrl:k,v:l.SDK_VERSION,eventId:ne};if(E instanceof no){E.setDefaultLanguage(N.languageCode),He.providerId=E.providerId||"",(0,M.xb)(E.getCustomParameters())||(He.customParameters=JSON.stringify(E.getCustomParameters()));for(const[kt,Qe]of Object.entries(re||{}))He[kt]=Qe}if(E instanceof $a){const kt=E.getScopes().filter(Qe=>""!==Qe);kt.length>0&&(He.scopes=kt.join(","))}N.tenantId&&(He.tid=N.tenantId);const sn=He;for(const kt of Object.keys(sn))void 0===sn[kt]&&delete sn[kt];return`${function ua({config:N}){return N.emulator?zn(N,"emulator/auth/handler"):`https://${N.authDomain}/__/auth/handler`}(N)}?${(0,M.xO)(sn).slice(1)}`}const vd="webStorageSupport",la=class Nl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=si,this._completeRedirectFn=Js,this._overrideRedirectResult=Cc}_openPopup(E,C,k,ne){var re=this;return(0,w.Z)(function*(){var He;Vt(null===(He=re.eventManagers[E._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const sn=Za(E,C,k,Xt(),ne);return function Ml(N,E,C,k=500,ne=600){const re=Math.max((window.screen.availHeight-ne)/2,0).toString(),He=Math.max((window.screen.availWidth-k)/2,0).toString();let sn="";const kt=Object.assign(Object.assign({},bh),{width:k.toString(),height:ne.toString(),top:re,left:He}),Qe=(0,M.z$)().toLowerCase();C&&(sn=Et(Qe)?"_blank":C),ue(Qe)&&(E=E||"http://localhost",kt.scrollbars="yes");const Mt=Object.entries(kt).reduce((xu,[Ja,Kd])=>`${xu}${Ja}=${Kd},`,"");if(function Wt(N=(0,M.z$)()){var E;return ve(N)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(Qe)&&"_self"!==sn)return function Th(N,E){const C=document.createElement("a");C.href=N,C.target=E;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(k)}(E||"",sn),new wh(null);const Sr=window.open(E||"",sn,Mt);Ze(Sr,N,"popup-blocked");try{Sr.focus()}catch{}return new wh(Sr)}(E,sn,es())})()}_openRedirect(E,C,k,ne){var re=this;return(0,w.Z)(function*(){return yield re._originValidation(E),function Ao(N){zr().location.href=N}(Za(E,C,k,Xt(),ne)),new Promise(()=>{})})()}_initialize(E){const C=E._key();if(this.eventManagers[C]){const{manager:ne,promise:re}=this.eventManagers[C];return ne?Promise.resolve(ne):(Vt(re,"If manager is not set, promise should be"),re)}const k=this.initAndGetManager(E);return this.eventManagers[C]={promise:k},k.catch(()=>{delete this.eventManagers[C]}),k}initAndGetManager(E){var C=this;return(0,w.Z)(function*(){const k=yield function df(N){return Eh.apply(this,arguments)}(E),ne=new aa(E);return k.register("authEvent",re=>(Ze(re?.authEvent,E,"invalid-auth-event"),{status:ne.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[E._key()]={manager:ne},C.iframes[E._key()]=k,ne})()}_isIframeWebStorageSupported(E,C){this.iframes[E._key()].send(vd,{type:vd},ne=>{var re;const He=null===(re=ne?.[0])||void 0===re?void 0:re[vd];void 0!==He&&C(!!He),Ct(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const C=E._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Au(N){return dl.apply(this,arguments)}(E)),this.originValidationPromises[C]}get _shouldInitProactively(){return wn()||Ae()||ve()}};class yd{constructor(E){this.factorId=E}_process(E,C,k){switch(C.type){case"enroll":return this._finalizeEnroll(E,C.credential,k);case"signin":return this._finalizeSignIn(E,C.credential);default:return pt("unexpected MultiFactorSessionType")}}}class Mr extends yd{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new Mr(E)}_finalizeEnroll(E,C,k){return function iu(N,E){return On(N,"POST","/v2/accounts/mfaEnrollment:finalize",nr(N,E))}(E,{idToken:C,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,C){return function Gu(N,E){return On(N,"POST","/v2/accounts/mfaSignIn:finalize",nr(N,E))}(E,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qd=(()=>{class N{constructor(){}static assertion(C){return Mr._fromCredential(C)}}return N.FACTOR_ID="phone",N})();var Ya="@firebase/auth";class Ch{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var C=this;return(0,w.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const C=this.auth.onIdTokenChanged(k=>{E(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,C),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const C=this.internalListeners.get(E);C&&(this.internalListeners.delete(E),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,M.Pz)("authIdTokenMaxAge"),function Pa(N){(0,l._registerComponent)(new Me.wA("auth",(E,{options:C})=>{const k=E.getProvider("app").getImmediate(),ne=E.getProvider("heartbeat"),{apiKey:re,authDomain:He}=k.options;return((sn,kt)=>{Ze(re&&!re.includes(":"),"invalid-api-key",{appName:sn.name}),Ze(!He?.includes(":"),"argument-error",{appName:sn.name});const Qe={apiKey:re,authDomain:He,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ri(N)},Mt=new Rr(sn,kt,Qe);return function ct(N,E){const C=E?.persistence||[],k=(Array.isArray(C)?C:[C]).map(Ge);E?.errorMap&&N._updateErrorMap(E.errorMap),N._initializeWithPersistence(k,E?.popupRedirectResolver)}(Mt,C),Mt})(k,ne)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,C,k)=>{E.getProvider("auth-internal").initialize()})),(0,l._registerComponent)(new Me.wA("auth-internal",E=>{const C=Ui(E.getProvider("auth").getImmediate());return new Ch(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,l.registerVersion)(Ya,"0.21.1",function hl(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,l.registerVersion)(Ya,"0.21.1","esm2017")}("Browser")},2090:(je,be,F)=>{"use strict";F.d(be,{$s:()=>gn,BH:()=>Nt,G6:()=>pn,L:()=>_e,LL:()=>mn,Pz:()=>vt,Sg:()=>Dt,UG:()=>pt,US:()=>Me,ZB:()=>we,ZR:()=>bn,aH:()=>Ct,b$:()=>Ge,eu:()=>Jn,hl:()=>Gn,jU:()=>Vt,m9:()=>Cr,ne:()=>jr,pd:()=>Ti,r3:()=>Br,ru:()=>We,tV:()=>Ee,uI:()=>Ze,vZ:()=>jn,w1:()=>ct,xO:()=>br,xb:()=>pi,z$:()=>$t,zI:()=>Dn,zd:()=>Ri});const pe=function(Ue){const Se=[];let qe=0;for(let Ce=0;Ce<Ue.length;Ce++){let ue=Ue.charCodeAt(Ce);ue<128?Se[qe++]=ue:ue<2048?(Se[qe++]=ue>>6|192,Se[qe++]=63&ue|128):55296==(64512&ue)&&Ce+1<Ue.length&&56320==(64512&Ue.charCodeAt(Ce+1))?(ue=65536+((1023&ue)<<10)+(1023&Ue.charCodeAt(++Ce)),Se[qe++]=ue>>18|240,Se[qe++]=ue>>12&63|128,Se[qe++]=ue>>6&63|128,Se[qe++]=63&ue|128):(Se[qe++]=ue>>12|224,Se[qe++]=ue>>6&63|128,Se[qe++]=63&ue|128)}return Se},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ue,Se){if(!Array.isArray(Ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const qe=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ue=0;ue<Ue.length;ue+=3){const Ae=Ue[ue],Et=ue+1<Ue.length,qt=Et?Ue[ue+1]:0,vn=ue+2<Ue.length,$e=vn?Ue[ue+2]:0;let it=(15&qt)<<2|$e>>6,Wt=63&$e;vn||(Wt=64,Et||(it=64)),Ce.push(qe[Ae>>2],qe[(3&Ae)<<4|qt>>4],qe[it],qe[Wt])}return Ce.join("")},encodeString(Ue,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(Ue):this.encodeByteArray(pe(Ue),Se)},decodeString(Ue,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(Ue):function(Ue){const Se=[];let qe=0,Ce=0;for(;qe<Ue.length;){const ue=Ue[qe++];if(ue<128)Se[Ce++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const Ae=Ue[qe++];Se[Ce++]=String.fromCharCode((31&ue)<<6|63&Ae)}else if(ue>239&&ue<365){const vn=((7&ue)<<18|(63&Ue[qe++])<<12|(63&Ue[qe++])<<6|63&Ue[qe++])-65536;Se[Ce++]=String.fromCharCode(55296+(vn>>10)),Se[Ce++]=String.fromCharCode(56320+(1023&vn))}else{const Ae=Ue[qe++],Et=Ue[qe++];Se[Ce++]=String.fromCharCode((15&ue)<<12|(63&Ae)<<6|63&Et)}}return Se.join("")}(this.decodeStringToByteArray(Ue,Se))},decodeStringToByteArray(Ue,Se){this.init_();const qe=Se?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ue=0;ue<Ue.length;){const Ae=qe[Ue.charAt(ue++)],qt=ue<Ue.length?qe[Ue.charAt(ue)]:0;++ue;const $e=ue<Ue.length?qe[Ue.charAt(ue)]:64;++ue;const ve=ue<Ue.length?qe[Ue.charAt(ue)]:64;if(++ue,null==Ae||null==qt||null==$e||null==ve)throw Error();Ce.push(Ae<<2|qt>>4),64!==$e&&(Ce.push(qt<<4&240|$e>>2),64!==ve&&Ce.push($e<<6&192|ve))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ue=0;Ue<this.ENCODED_VALS.length;Ue++)this.byteToCharMap_[Ue]=this.ENCODED_VALS.charAt(Ue),this.charToByteMap_[this.byteToCharMap_[Ue]]=Ue,this.byteToCharMapWebSafe_[Ue]=this.ENCODED_VALS_WEBSAFE.charAt(Ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ue]]=Ue,Ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ue)]=Ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ue)]=Ue)}}},_e=function(Ue){return function(Ue){const Se=pe(Ue);return Me.encodeByteArray(Se,!0)}(Ue).replace(/\./g,"")},Ee=function(Ue){try{return Me.decodeString(Ue,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function we(Ue,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===Ue&&(Ue={});break;case Array:Ue=[];break;default:return Se}for(const qe in Se)!Se.hasOwnProperty(qe)||!Ne(qe)||(Ue[qe]=we(Ue[qe],Se[qe]));return Ue}function Ne(Ue){return"__proto__"!==Ue}const Ye=()=>{try{return function dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ue=process.env.__FIREBASE_DEFAULTS__;return Ue?JSON.parse(Ue):void 0})()||(()=>{if(typeof document>"u")return;let Ue;try{Ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Se=Ue&&Ee(Ue[1]);return Se&&JSON.parse(Se)})()}catch(Ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ue}`)}},Ct=()=>{var Ue;return null===(Ue=Ye())||void 0===Ue?void 0:Ue.config},vt=Ue=>{var Se;return null===(Se=Ye())||void 0===Se?void 0:Se[`_${Ue}`]};class Nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,qe)=>{this.resolve=Se,this.reject=qe})}wrapCallback(Se){return(qe,Ce)=>{qe?this.reject(qe):this.resolve(Ce),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(qe):Se(qe,Ce))}}}function Dt(Ue,Se){if(Ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=Se||"demo-project",ue=Ue.iat||0,Ae=Ue.sub||Ue.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ue,exp:ue+3600,auth_time:ue,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},Ue);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Et)),""].join(".")}function $t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function pt(){var Ue;const Se=null===(Ue=Ye())||void 0===Ue?void 0:Ue.forceEnvironment;if("node"===Se)return!0;if("browser"===Se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Vt(){return"object"==typeof self&&self.self===self}function We(){const Ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ue&&void 0!==Ue.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){const Ue=$t();return Ue.indexOf("MSIE ")>=0||Ue.indexOf("Trident/")>=0}function pn(){return!pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gn(){try{return"object"==typeof indexedDB}catch{return!1}}function Jn(){return new Promise((Ue,Se)=>{try{let qe=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(Ce);ue.onsuccess=()=>{ue.result.close(),qe||self.indexedDB.deleteDatabase(Ce),Ue(!0)},ue.onupgradeneeded=()=>{qe=!1},ue.onerror=()=>{var Ae;Se((null===(Ae=ue.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(qe){Se(qe)}})}function Dn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class bn extends Error{constructor(Se,qe,Ce){super(qe),this.code=Se,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}}class mn{constructor(Se,qe,Ce){this.service=Se,this.serviceName=qe,this.errors=Ce}create(Se,...qe){const Ce=qe[0]||{},ue=`${this.service}/${Se}`,Ae=this.errors[Se],Et=Ae?function Zn(Ue,Se){return Ue.replace(nr,(qe,Ce)=>{const ue=Se[Ce];return null!=ue?String(ue):`<${Ce}?>`})}(Ae,Ce):"Error";return new bn(ue,`${this.serviceName}: ${Et} (${ue}).`,Ce)}}const nr=/\{\$([^}]+)}/g;function Br(Ue,Se){return Object.prototype.hasOwnProperty.call(Ue,Se)}function pi(Ue){for(const Se in Ue)if(Object.prototype.hasOwnProperty.call(Ue,Se))return!1;return!0}function jn(Ue,Se){if(Ue===Se)return!0;const qe=Object.keys(Ue),Ce=Object.keys(Se);for(const ue of qe){if(!Ce.includes(ue))return!1;const Ae=Ue[ue],Et=Se[ue];if(qr(Ae)&&qr(Et)){if(!jn(Ae,Et))return!1}else if(Ae!==Et)return!1}for(const ue of Ce)if(!qe.includes(ue))return!1;return!0}function qr(Ue){return null!==Ue&&"object"==typeof Ue}function br(Ue){const Se=[];for(const[qe,Ce]of Object.entries(Ue))Array.isArray(Ce)?Ce.forEach(ue=>{Se.push(encodeURIComponent(qe)+"="+encodeURIComponent(ue))}):Se.push(encodeURIComponent(qe)+"="+encodeURIComponent(Ce));return Se.length?"&"+Se.join("&"):""}function Ri(Ue){const Se={};return Ue.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ue,Ae]=Ce.split("=");Se[decodeURIComponent(ue)]=decodeURIComponent(Ae)}}),Se}function Ti(Ue){const Se=Ue.indexOf("?");if(!Se)return"";const qe=Ue.indexOf("#",Se);return Ue.substring(Se,qe>0?qe:void 0)}function jr(Ue,Se){const qe=new At(Ue,Se);return qe.subscribe.bind(qe)}class At{constructor(Se,qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=qe,this.task.then(()=>{Se(this)}).catch(Ce=>{this.error(Ce)})}next(Se){this.forEachObserver(qe=>{qe.next(Se)})}error(Se){this.forEachObserver(qe=>{qe.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,qe,Ce){let ue;if(void 0===Se&&void 0===qe&&void 0===Ce)throw new Error("Missing Observer.");ue=function un(Ue,Se){if("object"!=typeof Ue||null===Ue)return!1;for(const qe of Se)if(qe in Ue&&"function"==typeof Ue[qe])return!0;return!1}(Se,["next","error","complete"])?Se:{next:Se,error:qe,complete:Ce},void 0===ue.next&&(ue.next=Mn),void 0===ue.error&&(ue.error=Mn),void 0===ue.complete&&(ue.complete=Mn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch{}}),this.observers.push(ue),Ae}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let qe=0;qe<this.observers.length;qe++)this.sendOne(qe,Se)}sendOne(Se,qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{qe(this.observers[Se])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}function gn(Ue,Se=1e3,qe=2){const Ce=Se*Math.pow(qe,Ue),ue=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+ue)}function Cr(Ue){return Ue&&Ue._delegate?Ue._delegate:Ue}},5356:(je,be,F)=>{"use strict";F.d(be,{G:()=>w});var w=(()=>{return(M=w||(w={})).Success="success",M.Info="info",M.Warning="warning",M.Error="error",w;var M})()},5574:(je,be,F)=>{"use strict";F.d(be,{e:()=>Ne});var w=F(5861),M=F(1808),Ie=(F(2090),F(9681),F(1877),F(4859),F(4650)),_e=F(1041);class Ee{constructor(){}setUserLoggedIn(tt){localStorage.setItem("user",JSON.stringify(tt))}getUserLoggedIn(){return localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null}clearUser(){localStorage.removeItem("user")}}Ee.\u0275fac=function(tt){return new(tt||Ee)},Ee.\u0275prov=Ie.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"});var ge=F(6159),we=F(4465);class Ne{constructor(tt,bt,ft,Ye,lt){this.afAuth=tt,this.localStoreageService=bt,this.ngZone=ft,this.router=Ye,this.toastService=lt,this.user=this.localStoreageService.getUserLoggedIn(),this.afAuth.authState.subscribe(ut=>{ut&&ut.emailVerified?(this.user=ut,this.localStoreageService.setUserLoggedIn(this.user),this.ngZone.run(()=>{this.router.navigate(["trip"])})):(this.user=null,this.localStoreageService.clearUser(),this.ngZone.run(()=>{this.router.navigate(["login"])}))})}SignIn(tt,bt){var ft=this;return(0,w.Z)(function*(){return ft.afAuth.signInWithEmailAndPassword(tt,bt).then(Ye=>{Ye.user&&!Ye.user.emailVerified&&(ft.SignOut(),ft.toastService.showWarningToast("Login failed","Email not verified. Please find the email in your inbox/junk/spam and do verify by click on the link."))},Ye=>{switch(Ye.code){case M.D.INVALID_PASSWORD:ft.toastService.showWarningToast("Login failed","Invalid Password.");break;case M.D.INVALID_EMAIL:ft.toastService.showWarningToast("Login failed","Invalid Email.");break;case M.D.INVALID_IDP_RESPONSE:ft.toastService.showWarningToast("Login failed","Invalid Email or Password.");break;case M.D.USER_MISMATCH:case M.D.USER_DELETED:ft.toastService.showWarningToast("Login failed","User not found.");break;case M.D.USER_DISABLED:ft.toastService.showWarningToast("Login failed","The user account has been disabled by an administrator.");break;case M.D.UNVERIFIED_EMAIL:ft.toastService.showWarningToast("Login failed","Email not verified. Please find the email in your inbox/junk/spam and do verify by click on the link.")}}).catch(Ye=>{console.log(Ye.message),ft.toastService.showWarningToast("Login failed","Something went Wrong. Please report using feedback feature.")})})()}SignUp(tt,bt,ft){var Ye=this;return(0,w.Z)(function*(){return Ye.afAuth.createUserWithEmailAndPassword(tt,bt).then(lt=>{lt.user&&lt.user.updateProfile({displayName:ft}).then(()=>lt.user?.sendEmailVerification().then(()=>{Ye.toastService.showSuccessToast("Email verification sent!","Check out your Mailbox to verify the mail, If you did not find the email, check the junk folder, Spam."),Ye.SignOut()}))},lt=>{switch(lt.code){case M.D.EMAIL_EXISTS:Ye.toastService.showWarningToast("Registration failed","Email already exists.");break;case M.D.WEAK_PASSWORD:Ye.toastService.showWarningToast("Registration failed","Weak Password (Should be at least 6 characters long).")}}).catch(lt=>{console.log(lt.message),Ye.toastService.showWarningToast("Registration failed","Something went Wrong. Please report using feedback feature.")})})()}ForgotPassword(tt){var bt=this;return(0,w.Z)(function*(){return bt.afAuth.sendPasswordResetEmail(tt).then(()=>{bt.toastService.showWarningToast("Password reset","Password reset email sent. Please check your mailbox."),bt.ngZone.run(()=>{bt.router.navigate(["login"])})},ft=>{ft.code===M.D.USER_DELETED&&bt.toastService.showWarningToast("Password reset","Email not found.")})})()}SignOut(){var tt=this;return(0,w.Z)(function*(){return tt.afAuth.signOut()})()}}Ne.\u0275fac=function(tt){return new(tt||Ne)(Ie.LFG(_e.zQ),Ie.LFG(Ee),Ie.LFG(Ie.R0b),Ie.LFG(ge.F0),Ie.LFG(we.k))},Ne.\u0275prov=Ie.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})},4465:(je,be,F)=>{"use strict";F.d(be,{k:()=>pe});var w=F(7579),M=F(5356),l=F(4650);class pe{constructor(){this._toastEvents=new w.x,this.toastEvents=this._toastEvents.asObservable()}showSuccessToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Success})}showInfoToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Info})}showWarningToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Warning})}showErrorToast(Me,Ie){this._toastEvents.next({message:Ie,title:Me,type:M.G.Error})}}pe.\u0275fac=function(Me){return new(Me||pe)},pe.\u0275prov=l.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"})},5596:(je,be,F)=>{"use strict";var w={};F.r(w),F.d(w,{afterMain:()=>ew,afterRead:()=>Jb,afterWrite:()=>l0,applyStyles:()=>St,arrow:()=>nC,auto:()=>Zb,basePlacements:()=>jv,beforeMain:()=>Qb,beforeRead:()=>nD,beforeWrite:()=>tw,bottom:()=>jc,clippingParents:()=>qT,computeStyles:()=>le,createPopper:()=>kD,createPopperBase:()=>s,createPopperLite:()=>Cn,detectOverflow:()=>C_,end:()=>Wv,eventListeners:()=>g,flip:()=>IE,hide:()=>WI,left:()=>Wc,main:()=>Xb,modifierPhases:()=>nw,offset:()=>Yr,placements:()=>yE,popper:()=>zv,popperGenerator:()=>lw,popperOffsets:()=>b,preventOverflow:()=>uw,read:()=>EE,reference:()=>tD,right:()=>ku,start:()=>y_,top:()=>yc,variationPlacements:()=>Yb,viewport:()=>vE,write:()=>u0});var M=F(6895),l=F(4650),pe=F(9646),me=F(9751),Me=F(4351),Ie=F(9300),_e=F(4004);class Ee{}class ge{}class we{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const a=t.slice(0,i),d=a.toLowerCase(),_=t.slice(i+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(_):this.headers.set(d,[_])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const a=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(a,i),this.maybeSetNormalizedName(t,a))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new we;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const a=("a"===e.op?this.headers.get(t):void 0)||[];a.push(...i),this.headers.set(t,a);break;case"d":const d=e.value;if(d){let _=this.headers.get(t);if(!_)return;_=_.filter(D=>-1===d.indexOf(D)),0===_.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,_)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class dt{encodeKey(e){return Ye(e)}encodeValue(e){return Ye(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bt=/%(\d[a-f0-9])/gi,ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ye(n){return encodeURIComponent(n).replace(bt,(e,t)=>ft[t]??e)}function lt(n){return`${n}`}class ut{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new dt,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tt(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[_,D]=-1==d?[e.decodeKey(a),""]:[e.decodeKey(a.slice(0,d)),e.decodeValue(a.slice(d+1))],O=t.get(_)||[];O.push(D),t.set(_,O)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],a=Array.isArray(i)?i.map(lt):[lt(i)];this.map.set(t,a)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const a=e[i];Array.isArray(a)?a.forEach(d=>{t.push({param:i,value:d,op:"a"})}):t.push({param:i,value:a,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ut({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(lt(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const a=i.indexOf(lt(e.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vt{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Dt(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $t(n){return typeof Blob<"u"&&n instanceof Blob}function Ze(n){return typeof FormData<"u"&&n instanceof FormData}class Vt{constructor(e,t,i,a){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Nt(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,d=a):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new we),this.context||(this.context=new vt),this.params){const _=this.params.toString();if(0===_.length)this.urlWithParams=t;else{const D=t.indexOf("?");this.urlWithParams=t+(-1===D?"?":D<t.length-1?"&":"")+_}}else this.params=new ut,this.urlWithParams=t}serializeBody(){return null===this.body?null:Dt(this.body)||$t(this.body)||Ze(this.body)||function pt(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ut?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ze(this.body)?null:$t(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ut?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,_=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,D=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let O=e.headers||this.headers,$=e.params||this.params;const J=e.context??this.context;return void 0!==e.setHeaders&&(O=Object.keys(e.setHeaders).reduce((fe,xe)=>fe.set(xe,e.setHeaders[xe]),O)),e.setParams&&($=Object.keys(e.setParams).reduce((fe,xe)=>fe.set(xe,e.setParams[xe]),$)),new Vt(t,i,d,{params:$,headers:O,context:J,reportProgress:D,responseType:a,withCredentials:_})}}var We=(()=>((We=We||{})[We.Sent=0]="Sent",We[We.UploadProgress=1]="UploadProgress",We[We.ResponseHeader=2]="ResponseHeader",We[We.DownloadProgress=3]="DownloadProgress",We[We.Response=4]="Response",We[We.User=5]="User",We))();class Ge{constructor(e,t=200,i="OK"){this.headers=e.headers||new we,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Tt extends Ge{constructor(e={}){super(e),this.type=We.ResponseHeader}clone(e={}){return new Tt({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ct extends Ge{constructor(e={}){super(e),this.type=We.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ct({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xt extends Ge{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ft(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let pn=(()=>{class n{constructor(t){this.handler=t}request(t,i,a={}){let d;if(t instanceof Vt)d=t;else{let O,$;O=a.headers instanceof we?a.headers:new we(a.headers),a.params&&($=a.params instanceof ut?a.params:new ut({fromObject:a.params})),d=new Vt(t,i,void 0!==a.body?a.body:null,{headers:O,context:a.context,params:$,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const _=(0,pe.of)(d).pipe((0,Me.b)(O=>this.handler.handle(O)));if(t instanceof Vt||"events"===a.observe)return _;const D=_.pipe((0,Ie.h)(O=>O instanceof ct));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return D.pipe((0,_e.U)(O=>{if(null!==O.body&&!(O.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return O.body}));case"blob":return D.pipe((0,_e.U)(O=>{if(null!==O.body&&!(O.body instanceof Blob))throw new Error("Response is not a Blob.");return O.body}));case"text":return D.pipe((0,_e.U)(O=>{if(null!==O.body&&"string"!=typeof O.body)throw new Error("Response is not a string.");return O.body}));default:return D.pipe((0,_e.U)(O=>O.body))}case"response":return D;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ut).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,a={}){return this.request("PATCH",t,Ft(a,i))}post(t,i,a={}){return this.request("POST",t,Ft(a,i))}put(t,i,a={}){return this.request("PUT",t,Ft(a,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ee))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Gn(n,e){return e(n)}function Jn(n,e){return(t,i)=>e.intercept(t,{handle:a=>n(a,i)})}const zn=new l.OlP("HTTP_INTERCEPTORS"),bn=new l.OlP("HTTP_INTERCEPTOR_FNS");function mn(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(zn,{optional:!0})??[]).reduceRight(Jn,Gn)),n(e,t))}let Zn=(()=>{class n extends Ee{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(bn)));this.chain=i.reduceRight((a,d)=>function Dn(n,e,t){return(i,a)=>t.runInContext(()=>e(i,d=>n(d,a)))}(a,d,this.injector),Gn)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ge),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qn=/^\)\]\}',?\n/;let qr=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new me.y(i=>{const a=this.xhrFactory.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((Ke,mt)=>a.setRequestHeader(Ke,mt.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Ke=t.detectContentTypeHeader();null!==Ke&&a.setRequestHeader("Content-Type",Ke)}if(t.responseType){const Ke=t.responseType.toLowerCase();a.responseType="json"!==Ke?Ke:"text"}const d=t.serializeBody();let _=null;const D=()=>{if(null!==_)return _;const Ke=a.statusText||"OK",mt=new we(a.getAllResponseHeaders()),Ut=function jn(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||t.url;return _=new Tt({headers:mt,status:a.status,statusText:Ke,url:Ut}),_},O=()=>{let{headers:Ke,status:mt,statusText:Ut,url:an}=D(),Ln=null;204!==mt&&(Ln=typeof a.response>"u"?a.responseText:a.response),0===mt&&(mt=Ln?200:0);let tr=mt>=200&&mt<300;if("json"===t.responseType&&"string"==typeof Ln){const Nr=Ln;Ln=Ln.replace(Qn,"");try{Ln=""!==Ln?JSON.parse(Ln):null}catch(Fr){Ln=Nr,tr&&(tr=!1,Ln={error:Fr,text:Ln})}}tr?(i.next(new ct({body:Ln,headers:Ke,status:mt,statusText:Ut,url:an||void 0})),i.complete()):i.error(new Xt({error:Ln,headers:Ke,status:mt,statusText:Ut,url:an||void 0}))},$=Ke=>{const{url:mt}=D(),Ut=new Xt({error:Ke,status:a.status||0,statusText:a.statusText||"Unknown Error",url:mt||void 0});i.error(Ut)};let J=!1;const fe=Ke=>{J||(i.next(D()),J=!0);let mt={type:We.DownloadProgress,loaded:Ke.loaded};Ke.lengthComputable&&(mt.total=Ke.total),"text"===t.responseType&&a.responseText&&(mt.partialText=a.responseText),i.next(mt)},xe=Ke=>{let mt={type:We.UploadProgress,loaded:Ke.loaded};Ke.lengthComputable&&(mt.total=Ke.total),i.next(mt)};return a.addEventListener("load",O),a.addEventListener("error",$),a.addEventListener("timeout",$),a.addEventListener("abort",$),t.reportProgress&&(a.addEventListener("progress",fe),null!==d&&a.upload&&a.upload.addEventListener("progress",xe)),a.send(d),i.next({type:We.Sent}),()=>{a.removeEventListener("error",$),a.removeEventListener("abort",$),a.removeEventListener("load",O),a.removeEventListener("timeout",$),t.reportProgress&&(a.removeEventListener("progress",fe),null!==d&&a.upload&&a.upload.removeEventListener("progress",xe)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M.JF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dn=new l.OlP("XSRF_ENABLED"),br="XSRF-TOKEN",Ri=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>br}),Ti="X-XSRF-TOKEN",Xr=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Ti});class jr{}let At=(()=>{class n{constructor(t,i,a){this.doc=t,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,M.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M.K0),l.LFG(l.Lbi),l.LFG(Ri))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function xn(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(dn)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,l.f3M)(jr).getToken(),a=(0,l.f3M)(Xr);return null!=i&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,i)})),e(n)}var Mn=(()=>((Mn=Mn||{})[Mn.Interceptors=0]="Interceptors",Mn[Mn.LegacyInterceptors=1]="LegacyInterceptors",Mn[Mn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Mn[Mn.NoXsrfProtection=3]="NoXsrfProtection",Mn[Mn.JsonpSupport=4]="JsonpSupport",Mn[Mn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Mn))();function Fn(n,e){return{\u0275kind:n,\u0275providers:e}}function Ur(...n){const e=[pn,qr,Zn,{provide:Ee,useExisting:Zn},{provide:ge,useExisting:qr},{provide:bn,useValue:xn,multi:!0},{provide:dn,useValue:!0},{provide:jr,useClass:At}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const En=new l.OlP("LEGACY_INTERCEPTOR_FN");function lr({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:Ri,useValue:n}),void 0!==e&&t.push({provide:Xr,useValue:e}),Fn(Mn.CustomXsrfConfiguration,t)}let rn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ur(Fn(Mn.LegacyInterceptors,[{provide:En,useFactory:mn},{provide:bn,useExisting:En,multi:!0}]),lr({cookieName:br,headerName:Ti}))]}),n})();var Vn=F(1481),Yt=F(9653),Cr=F(825),Ue=F(6451),Se=F(7579),qe=F(4482),Ce=F(5403),ue=F(5032);function Ae(){return(0,qe.e)((n,e)=>{n.subscribe((0,Ce.x)(e,ue.Z))})}var Et=F(515),qt=F(2843),vn=F(576);class Le{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){return ve(this,e)}do(e,t,i){const{kind:a,value:d,error:_}=this;return"N"===a?e?.(d):"E"===a?t?.(_):i?.()}accept(e,t,i){var a;return(0,vn.m)(null===(a=e)||void 0===a?void 0:a.next)?this.observe(e):this.do(e,t,i)}toObservable(){const{kind:e,value:t,error:i}=this,a="N"===e?(0,pe.of)(t):"E"===e?(0,qt._)(()=>i):"C"===e?Et.E:0;if(!a)throw new TypeError(`Unexpected notification kind ${e}`);return a}static createNext(e){return new Le("N",e)}static createError(e){return new Le("E",void 0,e)}static createComplete(){return Le.completeNotification}}function ve(n,e){var t,i,a;const{kind:d,value:_,error:D}=n;if("string"!=typeof d)throw new TypeError('Invalid notification, missing "kind"');"N"===d?null===(t=e.next)||void 0===t||t.call(e,_):"E"===d?null===(i=e.error)||void 0===i||i.call(e,D):null===(a=e.complete)||void 0===a||a.call(e)}Le.completeNotification=new Le("C");var Wt=F(262),Zt=F(8421);function wn(n,e,t,i){return(0,qe.e)((a,d)=>{let _;e&&"function"!=typeof e?({duration:t,element:_,connector:i}=e):_=e;const D=new Map,O=mt=>{D.forEach(mt),mt(d)},$=mt=>O(Ut=>Ut.error(mt));let J=0,fe=!1;const xe=new Ce.Q(d,mt=>{try{const Ut=n(mt);let an=D.get(Ut);if(!an){D.set(Ut,an=i?i():new Se.x);const Ln=function Ke(mt,Ut){const an=new me.y(Ln=>{J++;const tr=Ut.subscribe(Ln);return()=>{tr.unsubscribe(),0==--J&&fe&&xe.unsubscribe()}});return an.key=mt,an}(Ut,an);if(d.next(Ln),t){const tr=(0,Ce.x)(an,()=>{an.complete(),tr?.unsubscribe()},void 0,void 0,()=>D.delete(Ut));xe.add((0,Zt.Xf)(t(Ln)).subscribe(tr))}}an.next(_?_(mt):mt)}catch(Ut){$(Ut)}},()=>O(mt=>mt.complete()),$,()=>D.clear(),()=>(fe=!0,0===J));a.subscribe(xe)})}var ni=F(5577);function ri(n,e){return e?t=>t.pipe(ri((i,a)=>(0,Zt.Xf)(n(i,a)).pipe((0,_e.U)((d,_)=>e(i,d,a,_))))):(0,qe.e)((t,i)=>{let a=0,d=null,_=!1;t.subscribe((0,Ce.x)(i,D=>{d||(d=(0,Ce.x)(i,void 0,()=>{d=null,_&&i.complete()}),(0,Zt.Xf)(n(D,a++)).subscribe(d))},()=>{_=!0,!d&&i.complete()}))})}var Rr=F(5698);const Ui={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Ms="__@ngrx/effects_create__";function wo(n,e={}){const t=e.functional?n:n(),i={...Ui,...e};return Object.defineProperty(t,Ms,{value:i}),t}function Kr(n){return Object.getPrototypeOf(n)}function Ci(n){return"function"==typeof n}function Di(n,e,t){const i=Kr(n).constructor.name,a=function qs(n){return function ws(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(Ms))&&n[i][Ms].hasOwnProperty("dispatch")).map(i=>({propertyName:i,...n[i][Ms]}))}(n)}(n).map(({propertyName:d,dispatch:_,useEffectsErrorHandler:D})=>{const O="function"==typeof n[d]?n[d]():n[d],$=D?t(O,e):O;return!1===_?$.pipe(Ae()):$.pipe(function it(){return(0,qe.e)((n,e)=>{n.subscribe((0,Ce.x)(e,t=>{e.next(Le.createNext(t))},()=>{e.next(Le.createComplete()),e.complete()},t=>{e.next(Le.createError(t)),e.complete()}))})}()).pipe((0,_e.U)(fe=>({effect:n[d],notification:fe,propertyName:d,sourceName:i,sourceInstance:n})))});return(0,Ue.T)(...a)}function An(n,e,t=10){return n.pipe((0,Wt.K)(i=>(e&&e.handleError(i),t<=1?n:An(n,e,t-1))))}let ar=(()=>{class n extends me.y{constructor(t){super(),t&&(this.source=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yt.Y$))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yi(...n){return(0,Ie.h)(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}new l.OlP("@ngrx/effects Internal Root Guard"),new l.OlP("@ngrx/effects User Provided Effects"),new l.OlP("@ngrx/effects Internal Root Effects"),new l.OlP("@ngrx/effects Internal Root Effects Instances"),new l.OlP("@ngrx/effects Internal Feature Effects"),new l.OlP("@ngrx/effects Internal Feature Effects Instance Groups");const ur=new l.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>An}),To=(0,Yt.PH)("@ngrx/effects/init");function De(n){return Te(n,"ngrxOnInitEffects")}function Te(n,e){return n&&e in n&&"function"==typeof n[e]}let Xe=(()=>{class n extends Se.x{constructor(t,i){super(),this.errorHandler=t,this.effectsErrorHandler=i}addEffects(t){this.next(t)}toActions(){return this.pipe(wn(t=>function mi(n){return"Object"!==n.constructor.name&&"Function"!==n.constructor.name}(t)?Kr(t):t),(0,ni.z)(t=>t.pipe(wn(Pt))),(0,ni.z)(t=>{const i=t.pipe(ri(d=>function en(n,e){return t=>{const i=Di(t,n,e);return function st(n){return Te(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(d)),(0,_e.U)(d=>(function Fo(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function cs(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function oo({propertyName:n,sourceInstance:e,sourceName:t}){const i="function"==typeof e[n];return`"${t}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function Pi(n){try{return JSON.stringify(n)}catch{return n}}(t)}`))}}(d,this.errorHandler),d.notification)),(0,Ie.h)(d=>"N"===d.kind&&null!=d.value),function ys(){return(0,qe.e)((n,e)=>{n.subscribe((0,Ce.x)(e,t=>ve(t,e)))})}()),a=t.pipe((0,Rr.q)(1),(0,Ie.h)(De),(0,_e.U)(d=>d.ngrxOnInitEffects()));return(0,Ue.T)(i,a)}))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.qLn),l.LFG(ur))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pt(n){return function ke(n){return Te(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let Sn=(()=>{class n{constructor(t,i){this.effectSources=t,this.store=i,this.effectsSubscription=null}get isStarted(){return!!this.effectsSubscription}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xe),l.LFG(Yt.yh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ji=F(1365),xa=F(3900);const yu=(0,Yt.PH)("[Trip/API] Get Trips"),no=(0,Yt.PH)("[Trip] Get Trips Success",(0,Yt.Ky)()),$a=(0,Yt.PH)("[Trip/API] New Trip",(0,Yt.Ky)()),Jo=(0,Yt.PH)("[Trip] Update Trip",(0,Yt.Ky)()),Ec=(0,Yt.PH)("[Trip] New Trip Success",(0,Yt.Ky)()),_i=(0,Yt.PH)("[Trip] Get Failure",(0,Yt.Ky)()),Vi=(0,Yt.PH)("[Trip] Selected Trip",(0,Yt.Ky)()),Tl=(0,Yt.PH)("[Trip] Clear Trip Selection"),$s=(0,Yt.ZF)("trips"),oc=(0,Yt.P1)($s,n=>n.isLoading),Qo=(0,Yt.P1)($s,n=>n.trips),Ha=(0,Yt.P1)($s,n=>n.error),Hl=(0,Yt.P1)($s,n=>n.selectedTripId),Uu=(0,Yt.P1)($s,n=>n.tripsChanged);var is=F(4986),eu=F(8996),zi=F(263),Xo=F(8675);function tu(){return(0,qe.e)((n,e)=>{let t,i=!1;n.subscribe((0,Ce.x)(e,a=>{const d=t;t=a,i&&e.next([d,a]),i=!0}))})}var fn,Ts=F(5026),Ma=F(1884),ro=F(2011),va=(F(9568),F(3942)),Gt=F(5861),Ks=F(9681),io=F(4859),Bo=F(1877),Vr=F(2090),nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms={},Ds=Ds||{},Pn=nu||self;function vr(){}function $i(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hs(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Uo="closure_uid_"+(1e9*Math.random()>>>0),Hs=0;function Hi(n,e,t){return n.call.apply(n.bind,arguments)}function ao(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,i),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Qi(n,e,t){return(Qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hi:ao).apply(null,arguments)}function bu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Si(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,a,d){for(var _=Array(arguments.length-2),D=2;D<arguments.length;D++)_[D-2]=arguments[D];return e.prototype[a].apply(i,_)}}function po(){this.s=this.s,this.o=this.o}po.prototype.s=!1,po.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ea(n){Object.prototype.hasOwnProperty.call(n,Uo)&&n[Uo]||(n[Uo]=++Hs)}(this)},po.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ir=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ga(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function tl(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if($i(i)){const a=n.length||0,d=i.length||0;n.length=a+d;for(let _=0;_<d;_++)n[a+_]=i[_]}else n.push(i)}}function Ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ss.prototype.h=function(){this.defaultPrevented=!0};var Gl=function(){if(!Pn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pn.addEventListener("test",vr,e),Pn.removeEventListener("test",vr,e)}catch{}return n}();function ya(n){return/^[\s\xa0]*$/.test(n)}var nl=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ru(n,e){return n<e?-1:n>e?1:0}function Na(){var n=Pn.navigator;return n&&(n=n.userAgent)?n:""}function U(n){return-1!=Na().indexOf(n)}function j(n){return j[" "](n),n}j[" "]=vr;var ss,n,ce=U("Opera"),_t=U("Trident")||U("MSIE"),Nn=U("Edge"),Ii=Nn||_t,Es=U("Gecko")&&!(-1!=Na().toLowerCase().indexOf("webkit")&&!U("Edge"))&&!(U("Trident")||U("MSIE"))&&!U("Edge"),Ea=-1!=Na().toLowerCase().indexOf("webkit")&&!U("Edge");function Os(){var n=Pn.document;return n?n.documentMode:void 0}e:{var Do="",uo=(n=Na(),Es?/rv:([^\);]+)(\)|;)/.exec(n):Nn?/Edge\/([\d\.]+)/.exec(n):_t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ea?/WebKit\/(\S+)/.exec(n):ce?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(uo&&(Do=uo?uo[1]:""),_t){var qi=Os();if(null!=qi&&qi>parseFloat(Do)){ss=String(qi);break e}}ss=Do}var Rs={};var md=Pn.document&&_t&&(Os()||parseInt(ss,10))||void 0;function wu(n,e){if(Ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Es){e:{try{j(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Vu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wu.X.h.call(this)}}Si(wu,Ss);var Vu={2:"touch",3:"pen",4:"mouse"};wu.prototype.h=function(){wu.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var lo="closure_listenable_"+(1e6*Math.random()|0),Tu=0;function rl(n,e,t,i,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=a,this.key=++Tu,this.ba=this.ea=!1}function il(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function $u(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Cl(n){const e={};for(const t in n)e[t]=n[t];return e}const Hu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cu(n,e){let t,i;for(let a=1;a<arguments.length;a++){for(t in i=arguments[a],i)n[t]=i[t];for(let d=0;d<Hu.length;d++)t=Hu[d],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ze(n){this.src=n,this.g={},this.h=0}function xt(n,e){var t=e.type;if(t in n.g){var d,i=n.g[t],a=Ir(i,e);(d=0<=a)&&Array.prototype.splice.call(i,a,1),d&&(il(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ht(n,e,t,i){for(var a=0;a<n.length;++a){var d=n[a];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==i)return a}return-1}ze.prototype.add=function(n,e,t,i,a){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var _=ht(n,e,i,a);return-1<_?(e=n[_],t||(e.ea=!1)):((e=new rl(e,this.src,d,!!i,a)).ea=t,n.push(e)),e};var Bn="closure_lm_"+(1e6*Math.random()|0),Ar={};function Li(n,e,t,i,a){if(i&&i.once)return So(n,e,t,i,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Li(n,e[d],t,i,a);return null}return t=su(t),n&&n[lo]?n.N(e,t,hs(i)?!!i.capture:!!i,a):Gs(n,e,t,!1,i,a)}function Gs(n,e,t,i,a,d){if(!e)throw Error("Invalid event type");var _=hs(a)?!!a.capture:!!a,D=iu(n);if(D||(n[Bn]=D=new ze(n)),(t=D.add(e,t,i,_,d)).proxy)return t;if(i=function $r(){const e=Io;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Gl||(a=_),void 0===a&&(a=!1),n.addEventListener(e.toString(),i,a);else if(n.attachEvent)n.attachEvent(jl(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function So(n,e,t,i,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)So(n,e[d],t,i,a);return null}return t=su(t),n&&n[lo]?n.O(e,t,hs(i)?!!i.capture:!!i,a):Gs(n,e,t,!0,i,a)}function Xi(n,e,t,i,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)Xi(n,e[d],t,i,a);else i=hs(i)?!!i.capture:!!i,t=su(t),n&&n[lo]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ht(d=n.g[e],t,i,a))&&(il(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=iu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ht(e,t,i,a)),(t=-1<n?e[n]:null)&&$o(t))}function $o(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[lo])xt(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(jl(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=iu(e))?(xt(t,n),0==t.h&&(t.src=null,e[Bn]=null)):il(n)}}}function jl(n){return n in Ar?Ar[n]:Ar[n]="on"+n}function Io(n,e){if(n.ba)n=!0;else{e=new wu(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&$o(n),n=t.call(i,e)}return n}function iu(n){return(n=n[Bn])instanceof ze?n:null}var Wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(n){return"function"==typeof n?n:(n[Wl]||(n[Wl]=function(e){return n.handleEvent(e)}),n[Wl])}function wr(){po.call(this),this.i=new ze(this),this.P=this,this.I=null}function B(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ss(e,n);else if(e instanceof Ss)e.target=e.target||n;else{var a=e;Cu(e=new Ss(i,n),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var _=e.g=t[d];a=X(_,i,!0,e)&&a}if(a=X(_=e.g=n,i,!0,e)&&a,a=X(_,i,!1,e)&&a,t)for(d=0;d<t.length;d++)a=X(_=e.g=t[d],i,!1,e)&&a}function X(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var _=e[d];if(_&&!_.ba&&_.capture==t){var D=_.listener,O=_.ha||_.src;_.ea&&xt(n.i,_),a=!1!==D.call(O,i)&&a}}return a&&!i.defaultPrevented}Si(wr,po),wr.prototype[lo]=!0,wr.prototype.removeEventListener=function(n,e,t,i){Xi(this,n,e,t,i)},wr.prototype.M=function(){if(wr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)il(t[i]);delete n.g[e],n.h--}}this.I=null},wr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},wr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var W=Pn.JSON.stringify;function ae(){var n=es;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var si,Ot=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zt,n=>n.reset());class zt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _n(n){Pn.setTimeout(()=>{throw n},0)}function vi(n,e){si||function Ai(){var n=Pn.Promise.resolve(void 0);si=function(){n.then(xi)}}(),Jr||(si(),Jr=!0),es.add(n,e)}var Jr=!1,es=new class Be{constructor(){this.h=this.g=null}add(e,t){const i=Ot.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function xi(){for(var n;n=ae();){try{n.h.call(n.g)}catch(t){_n(t)}var e=Ot;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jr=!1}function zr(n,e){wr.call(this),this.h=n||1,this.g=e||Pn,this.j=Qi(this.lb,this),this.l=Date.now()}function Ao(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function fs(n,e,t){if("function"==typeof n)t&&(n=Qi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pn.setTimeout(n,e||0)}function mo(n){n.g=fs(()=>{n.g=null,n.i&&(n.i=!1,mo(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Si(zr,wr),(fn=zr.prototype).ca=!1,fn.R=null,fn.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),B(this,"tick"),this.ca&&(Ao(this),this.start()))}},fn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fn.M=function(){zr.X.M.call(this),Ao(this),delete this.g};class js extends po{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mo(this)}M(){super.M(),this.g&&(Pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(n){po.call(this),this.h=n,this.g={}}Si(na,po);var sl=[];function ou(n,e,t,i){Array.isArray(t)||(t&&(sl[0]=t.toString()),t=sl);for(var a=0;a<t.length;a++){var d=Li(e,t[a],i||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function zl(n){$u(n.g,function(e,t){this.g.hasOwnProperty(t)&&$o(e)},n),n.g={}}function Oa(){this.g=!0}function Wa(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ps(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var a=i[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var _=1;_<a.length;_++)a[_]=""}}}return W(t)}catch{return e}}(n,t)+(i?" "+i:"")})}na.prototype.M=function(){na.X.M.call(this),zl(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oa.prototype.Aa=function(){this.g=!1},Oa.prototype.info=function(){};var Is={},ba=null;function qc(){return ba=ba||new wr}function ia(n){Ss.call(this,Is.Pa,n)}function Du(n){const e=qc();B(e,new ia(e))}function Ws(n,e){Ss.call(this,Is.STAT_EVENT,n),this.stat=e}function Gi(n){const e=qc();B(e,new Ws(e,n))}function Su(n,e){Ss.call(this,Is.Qa,n),this.size=e}function za(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pn.setTimeout(function(){n()},e)}Is.Pa="serverreachability",Si(ia,Ss),Is.STAT_EVENT="statevent",Si(Ws,Ss),Is.Qa="timingevent",Si(Su,Ss);var Iu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Gu={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ks(){}function ol(){}ks.prototype.h=null;var bc,wa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ta(){Ss.call(this,"d")}function ju(){Ss.call(this,"c")}function so(){}function Zs(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new na(this),this.O=de,this.T=new zr(n=Ii?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Kc}function Kc(){this.i=null,this.g="",this.h=!1}Si(Ta,Ss),Si(ju,Ss),Si(so,ks),so.prototype.g=function(){return new XMLHttpRequest},so.prototype.i=function(){return{}},bc=new so;var de=45e3,Ys={},xo={};function sa(n,e,t){n.K=1,n.v=Ca(jo(e)),n.s=t,n.P=!0,Qr(n,null)}function Qr(n,e){n.F=Date.now(),qa(n),n.A=jo(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),ti(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Kc,n.g=Th(n.l,t?e:null,!n.s),0<n.N&&(n.L=new js(Qi(n.La,n,n.g),n.N)),ou(n.S,n.g,"readystatechange",n.ib),e=n.H?Cl(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Du(),function ra(n,e,t,i,a,d){n.info(function(){if(n.g)if(d)for(var _="",D=d.split("&"),O=0;O<D.length;O++){var $=D[O].split("=");if(1<$.length){var J=$[0];$=$[1];var fe=J.split("_");_=2<=fe.length&&"type"==fe[1]?_+(J+"=")+$+"&":_+(J+"=redacted&")}}else _=null;else _=d;return"XMLHTTP REQ ("+i+") [attempt "+a+"]: "+e+"\n"+t+"\n"+_})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Go(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function ql(n,e,t){let a,i=!0;for(;!n.I&&n.C<t.length;){if(a=Kl(n,t),a==xo){4==e&&(n.o=4,Gi(14),i=!1),Wa(n.j,n.m,null,"[Incomplete Response]");break}if(a==Ys){n.o=4,Gi(15),Wa(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Wa(n.j,n.m,a,null),Ei(n,a)}Go(n)&&a!=xo&&a!=Ys&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gi(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Eh(e),e.K=!0,Gi(11))):(Wa(n.j,n.m,t,"[Invalid Chunked Response]"),ac(n),al(n))}function Kl(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?xo:(t=Number(e.substring(t,i)),isNaN(t)?Ys:(i+=1)+t>e.length?xo:(e=e.substr(i,t),n.C=i+t,e))}function qa(n){n.V=Date.now()+n.O,wc(n,n.O)}function wc(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=za(Qi(n.gb,n),e)}function Wu(n){n.B&&(Pn.clearTimeout(n.B),n.B=null)}function al(n){0==n.l.G||n.I||uu(n.l,n)}function ac(n){Wu(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ao(n.T),zl(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ei(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Cc(t.h,n)))if(!n.J&&Cc(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var a=i;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Wd(t),Zc(t)}df(t),Gi(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=za(Qi(t.cb,t),6e3));if(1>=au(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Yl(t,11)}else if((n.J||t.g==n)&&Wd(t),!ya(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let $=a[e];if(t.T=$[0],$=$[1],2==t.G)if("c"==$[0]){t.I=$[1],t.ka=$[2];const J=$[3];null!=J&&(t.ma=J,t.j.info("VER="+t.ma));const fe=$[4];null!=fe&&(t.Ca=fe,t.j.info("SVER="+t.Ca));const xe=$[5];null!=xe&&"number"==typeof xe&&0<xe&&(t.J=i=1.5*xe,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const Ke=n.g;if(Ke){const mt=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mt){var d=i.h;d.g||-1==mt.indexOf("spdy")&&-1==mt.indexOf("quic")&&-1==mt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(z(d,d.h),d.h=null))}if(i.D){const Ut=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Ut&&(i.za=Ut,pr(i.F,i.D,Ut))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var _=n;if((i=t).sa=Ml(i,i.H?i.ka:null,i.V),_.J){Z(i.h,_);var D=_,O=i.J;O&&D.setTimeout(O),D.B&&(Wu(D),qa(D)),i.g=_}else ug(i);0<t.i.length&&Yc(t)}else"stop"!=$[0]&&"close"!=$[0]||Yl(t,7);else 3==t.G&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?Yl(t,7):xl(t):"noop"!=$[0]&&t.l&&t.l.wa($),t.A=0)}Du()}catch{}}function Tc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($i(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function uc(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($i(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Dl(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($i(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),a=i.length,d=0;d<a;d++)e.call(void 0,i[d],t&&t[d],n)}(fn=Zs.prototype).setTimeout=function(n){this.O=n},fn.ib=function(n){n=n.target;const e=this.L;e&&3==As(n)?e.l():this.La(n)},fn.La=function(n){try{if(n==this.g)e:{const J=As(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>J)&&(3!=J||Ii||this.g&&(this.h.h||this.g.fa()||Au(this.g)))){this.I||4!=J||7==e||Du(),Wu(this);var t=this.g.aa();this.Y=t;t:if(Go(this)){var i=Au(this.g);n="";var a=i.length,d=4==As(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ac(this),al(this);var _="";break t}this.h.i=new Pn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:d&&e==a-1});i.splice(0,a),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.fa();if(this.i=200==t,function ja(n,e,t,i,a,d,_){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+_})}(this.j,this.u,this.A,this.m,this.U,J,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var D,O=this.g;if((D=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ya(D)){var $=D;break t}}$=null}if(!(t=$)){this.i=!1,this.o=3,Gi(12),ac(this),al(this);break e}Wa(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ei(this,t)}this.P?(ql(this,J,_),Ii&&this.i&&3==J&&(ou(this.S,this.T,"tick",this.hb),this.T.start())):(Wa(this.j,this.m,_,null),Ei(this,_)),4==J&&ac(this),this.i&&!this.I&&(4==J?uu(this.l,this):(this.i=!1,qa(this)))}else 400==t&&0<_.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),ac(this),al(this)}}}catch{}},fn.hb=function(){if(this.g){var n=As(this.g),e=this.g.fa();this.C<e.length&&(Wu(this),ql(this,n,e),this.i&&4!=n&&qa(this))}},fn.cancel=function(){this.I=!0,ac(this)},fn.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Hd(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Du(),Gi(17)),ac(this),this.o=2,al(this)):wc(this,this.V-n)};var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Sl){this.h=void 0!==e?e:n.h,Mo(this,n.j),this.s=n.s,this.g=n.g,Il(this,n.m),this.l=n.l,e=n.i;var t=new et;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ra(this,t),this.o=n.o}else n&&(t=String(n).match(lc))?(this.h=!!e,Mo(this,t[1]||"",!0),this.s=Ls(t[2]||""),this.g=Ls(t[3]||"",!0),Il(this,t[4]),this.l=Ls(t[5]||"",!0),Ra(this,t[6]||"",!0),this.o=Ls(t[7]||"")):(this.h=!!e,this.i=new et(null,this.h))}function jo(n){return new Sl(n)}function Mo(n,e,t){n.j=t?Ls(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Il(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ra(n,e,t){e instanceof et?(n.i=e,function _o(n,e){e&&!n.j&&(Kt(n),n.i=null,n.g.forEach(function(t,i){var a=i.toLowerCase();i!=a&&($n(this,i),ti(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=x(e,ie)),n.i=new et(e,n.h))}function pr(n,e,t){n.i.set(e,t)}function Ca(n){return pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ls(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function x(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,R),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function R(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Sl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(x(e,S,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(x(e,S,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(x(t,"/"==t.charAt(0)?Y:V,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",x(t,he)),n.join("")};var S=/[#\/\?@]/g,V=/[#\?:]/g,Y=/[#\?]/g,ie=/[#\?@]/g,he=/#/g;function et(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kt(n){n.g||(n.g=new Map,n.h=0,n.i&&function Zl(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),a=null;if(0<=i){var d=n[t].substring(0,i);a=n[t].substring(i+1)}else d=n[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $n(n,e){Kt(n),e=ui(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function In(n,e){return Kt(n),e=ui(n,e),n.g.has(e)}function ti(n,e,t){$n(n,e),0<t.length&&(n.i=null,n.g.set(ui(n,e),Ga(t)),n.h+=t.length)}function ui(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ul(n){this.l=n||Wo,n=Pn.PerformanceNavigationTiming?0<(n=Pn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pn.g&&Pn.g.Ga&&Pn.g.Ga()&&Pn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fn=et.prototype).add=function(n,e){Kt(this),this.i=null,n=ui(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},fn.forEach=function(n,e){Kt(this),this.g.forEach(function(t,i){t.forEach(function(a){n.call(e,a,i,this)},this)},this)},fn.oa=function(){Kt(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const a=n[i];for(let d=0;d<a.length;d++)t.push(e[i])}return t},fn.W=function(n){Kt(this);let e=[];if("string"==typeof n)In(this,n)&&(e=e.concat(this.g.get(ui(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},fn.set=function(n,e){return Kt(this),this.i=null,In(this,n=ui(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},fn.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},fn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const d=encodeURIComponent(String(i)),_=this.W(i);for(i=0;i<_.length;i++){var a=d;""!==_[i]&&(a+="="+encodeURIComponent(String(_[i]))),n.push(a)}}return this.i=n.join("&")};var Wo=10;function ll(n){return!!n.h||!!n.g&&n.g.size>=n.j}function au(n){return n.h?1:n.g?n.g.size:0}function Cc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function z(n,e){n.g?n.g.add(e):n.h=e}function Z(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function se(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ga(n.i)}function Fe(){}function ot(){this.g=new Fe}function It(n,e,t){const i=t||"";try{Tc(n,function(a,d){let _=a;hs(a)&&(_=W(a)),e.push(i+d+"="+encodeURIComponent(_))})}catch(a){throw e.push(i+"type="+encodeURIComponent("_badmap")),a}}function Un(n,e,t,i,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(i)}catch{}}function Kn(n){this.l=n.ac||null,this.j=n.jb||!1}function er(n,e){wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=xr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ul.prototype.cancel=function(){if(this.i=se(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Fe.prototype.stringify=function(n){return Pn.JSON.stringify(n,void 0)},Fe.prototype.parse=function(n){return Pn.JSON.parse(n,void 0)},Si(Kn,ks),Kn.prototype.g=function(){return new er(this.l,this.j)},Kn.prototype.i=function(n){return function(){return n}}({}),Si(er,wr);var xr=0;function kr(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function ts(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Js(n)}function Js(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(fn=er.prototype).open=function(n,e){if(this.readyState!=xr)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Js(this)},fn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Pn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},fn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ts(this)),this.readyState=xr},fn.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Js(this)),this.g&&(this.readyState=3,Js(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Pn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kr(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},fn.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ts(this):Js(this),3==this.readyState&&kr(this)}},fn.Va=function(n){this.g&&(this.response=this.responseText=n,ts(this))},fn.Ua=function(n){this.g&&(this.response=n,ts(this))},fn.ga=function(){this.g&&ts(this)},fn.setRequestHeader=function(n,e){this.v.append(n,e)},fn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},fn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(er.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cl=Pn.JSON.parse;function bi(n){wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zu,this.K=this.L=!1}Si(bi,wr);var zu="",No=/^https?$/i,aa=["POST","PUT"];function Ka(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_h(n),Al(n)}function _h(n){n.D||(n.D=!0,B(n,"complete"),B(n,"error"))}function vh(n){if(n.h&&typeof Ds<"u"&&(!n.C[1]||4!=As(n)||2!=n.aa()))if(n.v&&4==As(n))fs(n.Ha,0,n);else if(B(n,"readystatechange"),4==As(n)){n.h=!1;try{const D=n.aa();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===D){var a=String(n.H).match(lc)[1]||null;if(!a&&Pn.self&&Pn.self.location){var d=Pn.self.location.protocol;a=d.substr(0,d.length-1)}i=!No.test(a?a.toLowerCase():"")}t=i}if(t)B(n,"complete"),B(n,"success");else{n.m=6;try{var _=2<As(n)?n.g.statusText:""}catch{_=""}n.j=_+" ["+n.aa()+"]",_h(n)}}finally{Al(n)}}}function Al(n,e){if(n.g){_d(n);const t=n.g,i=n.C[0]?vr:null;n.g=null,n.C=null,e||B(n,"ready");try{t.onreadystatechange=i}catch{}}}function _d(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pn.clearTimeout(n.A),n.A=null)}function As(n){return n.g?n.g.readyState:0}function Au(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zu:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function dl(n){let e="";return $u(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function op(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=dl(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pr(n,e,t))}function jd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ag(n){this.Ca=0,this.i=[],this.j=new Oa,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=jd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=jd("baseRetryDelayMs",5e3,n),this.bb=jd("retryDelaySeedMs",1e4,n),this.$a=jd("forwardChannelMaxRetries",2,n),this.ta=jd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new ul(n&&n.concurrentRequestLimit),this.Fa=new ot,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xl(n){if(lf(n),3==n.G){var e=n.U++,t=jo(n.F);pr(t,"SID",n.I),pr(t,"RID",e),pr(t,"TYPE","terminate"),yh(n,t),(e=new Zs(n,n.j,e,void 0)).K=2,e.v=Ca(jo(t)),t=!1,Pn.navigator&&Pn.navigator.sendBeacon&&(t=Pn.navigator.sendBeacon(e.v.toString(),"")),!t&&Pn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Th(e.l,null),e.g.da(e.v)),e.F=Date.now(),qa(e)}wh(n)}function Zc(n){n.g&&(Eh(n),n.g.cancel(),n.g=null)}function lf(n){Zc(n),n.u&&(Pn.clearTimeout(n.u),n.u=null),Wd(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Pn.clearTimeout(n.m),n.m=null)}function Yc(n){ll(n.h)||n.m||(n.m=!0,vi(n.Ja,n),n.C=0)}function cf(n,e){var t;t=e?e.m:n.U++;const i=jo(n.F);pr(i,"SID",n.I),pr(i,"RID",t),pr(i,"AID",n.T),yh(n,i),n.o&&n.s&&op(i,n.o,n.s),t=new Zs(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Dm(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),z(n.h,t),sa(t,i,e)}function yh(n,e){n.ia&&$u(n.ia,function(t,i){pr(e,i,t)}),n.l&&Tc({},function(t,i){pr(e,i,t)})}function Dm(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Qi(n.l.Ra,n.l,n):null;e:{var a=n.i;let d=-1;for(;;){const _=["count="+t];-1==d?0<t?(d=a[0].h,_.push("ofs="+d)):d=0:_.push("ofs="+d);let D=!0;for(let O=0;O<t;O++){let $=a[O].h;const J=a[O].g;if($-=d,0>$)d=Math.max(0,a[O].h-100),D=!1;else try{It(J,_,"req"+$+"_")}catch{i&&i(J)}}if(D){i=_.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function ug(n){n.g||n.u||(n.Z=1,vi(n.Ia,n),n.A=0)}function df(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=za(Qi(n.Ia,n),hf(n,n.A)),n.A++,0))}function Eh(n){null!=n.B&&(Pn.clearTimeout(n.B),n.B=null)}function bh(n){n.g=new Zs(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=jo(n.sa);pr(e,"RID","rpc"),pr(e,"SID",n.I),pr(e,"CI",n.L?"0":"1"),pr(e,"AID",n.T),pr(e,"TYPE","xmlhttp"),yh(n,e),n.o&&n.s&&op(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ca(jo(e)),t.s=null,t.P=!0,Qr(t,n)}function Wd(n){null!=n.v&&(Pn.clearTimeout(n.v),n.v=null)}function uu(n,e){var t=null;if(n.g==e){Wd(n),Eh(n),n.g=null;var i=2}else{if(!Cc(n.h,e))return;t=e.D,Z(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;B(i=qc(),new Su(i,t)),Yc(n)}else ug(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==i&&function Cm(n,e){return!(au(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=za(Qi(n.Ja,n,e),hf(n,n.C)),n.C++,0)))}(n,e)||2==i&&df(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Yl(n,5);break;case 4:Yl(n,10);break;case 3:Yl(n,6);break;default:Yl(n,2)}}function hf(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Yl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Qi(n.kb,n);t||(t=new Sl("//www.google.com/images/cleardot.gif"),Pn.location&&"http"==Pn.location.protocol||Mo(t,"https"),Ca(t)),function tn(n,e){const t=new Oa;if(Pn.Image){const i=new Image;i.onload=bu(Un,t,i,"TestLoadImage: loaded",!0,e),i.onerror=bu(Un,t,i,"TestLoadImage: error",!1,e),i.onabort=bu(Un,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=bu(Un,t,i,"TestLoadImage: timeout",!1,e),Pn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Gi(2);n.G=0,n.l&&n.l.va(e),wh(n),lf(n)}function wh(n){if(n.G=0,n.la=[],n.l){const e=se(n.h);(0!=e.length||0!=n.i.length)&&(tl(n.la,e),tl(n.la,n.i),n.h.i.length=0,Ga(n.i),n.i.length=0),n.l.ua()}}function Ml(n,e,t){var i=t instanceof Sl?jo(t):new Sl(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Il(i,i.m);else{var a=Pn.location;i=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var d=new Sl(null,void 0);i&&Mo(d,i),e&&(d.g=e),a&&Il(d,a),t&&(d.l=t),i=d}return e=n.za,(t=n.D)&&e&&pr(i,t,e),pr(i,"VER",n.ma),yh(n,i),i}function Th(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new bi(t&&n.Da&&!n.ra?new Kn({jb:!0}):n.ra)).Ka(n.H),e}function lg(){}function zd(){if(_t&&!(10<=Number(md)))throw Error("Environmental error: no available transport.")}function Za(n,e){wr.call(this),this.g=new ag(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!ya(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ya(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nl(this)}function ua(n){Ta.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vd(){ju.call(this),this.status=1}function Nl(n){this.g=n}(fn=bi.prototype).Ka=function(n){this.L=n},fn.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bc.g(),this.C=function Ho(n){return n.h||(n.h=n.i())}(this.u?this.u:bc),this.g.onreadystatechange=Qi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void Ka(this,d)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var a in i)t.set(a,i[a]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const d of i.keys())t.set(d,i.get(d))}i=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),a=Pn.FormData&&n instanceof Pn.FormData,!(0<=Ir(aa,e))||i||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,_]of t)this.g.setRequestHeader(d,_);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_d(this),0<this.B&&((this.K=function Gd(n){return _t&&function go(){return function H(n){var e=Rs;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=nl(String(ss)).split("."),t=nl("9").split("."),i=Math.max(e.length,t.length);for(let _=0;0==n&&_<i;_++){var a=e[_]||"",d=t[_]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==a[0].length&&0==d[0].length)break;n=ru(0==a[1].length?0:parseInt(a[1],10),0==d[1].length?0:parseInt(d[1],10))||ru(0==a[2].length,0==d[2].length)||ru(a[2],d[2]),a=a[3],d=d[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qi(this.qa,this)):this.A=fs(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){Ka(this,d)}},fn.qa=function(){typeof Ds<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,B(this,"timeout"),this.abort(8))},fn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,B(this,"complete"),B(this,"abort"),Al(this))},fn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Al(this,!0)),bi.X.M.call(this)},fn.Ha=function(){this.s||(this.F||this.v||this.l?vh(this):this.fb())},fn.fb=function(){vh(this)},fn.aa=function(){try{return 2<As(this)?this.g.status:-1}catch{return-1}},fn.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},fn.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cl(e)}},fn.Ea=function(){return this.m},fn.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(fn=ag.prototype).ma=8,fn.G=1,fn.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new Zs(this,this.j,n,void 0);let d=this.s;if(this.S&&(d?(d=Cl(d),Cu(d,this.S)):d=this.S),null!==this.o||this.N||(a.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Dm(this,a,e),pr(t=jo(this.F),"RID",n),pr(t,"CVER",22),this.D&&pr(t,"X-HTTP-Session-Id",this.D),yh(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(dl(d)))+"&"+e:this.o&&op(t,this.o,d)),z(this.h,a),this.Ya&&pr(t,"TYPE","init"),this.O?(pr(t,"$req",e),pr(t,"SID","null"),a.Z=!0,sa(a,t,null)):sa(a,t,e),this.G=2}}else 3==this.G&&(n?cf(this,n):0==this.i.length||ll(this.h)||cf(this))},fn.Ia=function(){if(this.u=null,bh(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=za(Qi(this.eb,this),n)}},fn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Gi(10),Zc(this),bh(this))},fn.cb=function(){null!=this.v&&(this.v=null,Zc(this),df(this),Gi(19))},fn.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Gi(2)):(this.j.info("Failed to ping google.com"),Gi(1))},(fn=lg.prototype).xa=function(){},fn.wa=function(){},fn.va=function(){},fn.ua=function(){},fn.Ra=function(){},zd.prototype.g=function(n,e){return new Za(n,e)},Si(Za,wr),Za.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Gi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Ml(n,null,n.V),Yc(n)},Za.prototype.close=function(){xl(this.g)},Za.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=W(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Yc(e)},Za.prototype.M=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,Za.X.M.call(this)},Si(ua,Ta),Si(vd,ju),Si(Nl,lg),Nl.prototype.xa=function(){B(this.g,"a")},Nl.prototype.wa=function(n){B(this.g,new ua(n))},Nl.prototype.va=function(n){B(this.g,new vd)},Nl.prototype.ua=function(){B(this.g,"b")},zd.prototype.createWebChannel=zd.prototype.g,Za.prototype.send=Za.prototype.u,Za.prototype.open=Za.prototype.m,Za.prototype.close=Za.prototype.close,Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Gu.COMPLETE="complete",ol.EventType=wa,wa.OPEN="a",wa.CLOSE="b",wa.ERROR="c",wa.MESSAGE="d",wr.prototype.listen=wr.prototype.N,bi.prototype.listenOnce=bi.prototype.O,bi.prototype.getLastError=bi.prototype.Oa,bi.prototype.getLastErrorCode=bi.prototype.Ea,bi.prototype.getStatus=bi.prototype.aa,bi.prototype.getResponseJson=bi.prototype.Sa,bi.prototype.getResponseText=bi.prototype.fa,bi.prototype.send=bi.prototype.da,bi.prototype.setWithCredentials=bi.prototype.Ka;var la=ms.createWebChannelTransport=function(){return new zd},yd=ms.getStatEventTarget=function(){return qc()},Mr=ms.ErrorCode=Iu,qd=ms.EventType=Gu,Ya=ms.Event=Is,Jl=ms.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ch=ms.FetchXmlHttpFactory=Kn,hl=ms.WebChannel=ol,Pa=ms.XhrIo=bi;const Da="@firebase/firestore";class Oo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oo.UNAUTHENTICATED=new Oo(null),Oo.GOOGLE_CREDENTIALS=new Oo("google-credentials-uid"),Oo.FIRST_PARTY=new Oo("first-party-uid"),Oo.MOCK_USER=new Oo("mock-user");let qu="9.16.0";const Ol=new Bo.Yd("@firebase/firestore");function Ed(){return Ol.logLevel}function E(n,...e){if(Ol.logLevel<=Bo.in.DEBUG){const t=e.map(ne);Ol.debug(`Firestore (${qu}): ${n}`,...t)}}function C(n,...e){if(Ol.logLevel<=Bo.in.ERROR){const t=e.map(ne);Ol.error(`Firestore (${qu}): ${n}`,...t)}}function k(n,...e){if(Ol.logLevel<=Bo.in.WARN){const t=e.map(ne);Ol.warn(`Firestore (${qu}): ${n}`,...t)}}function ne(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function re(n="Unexpected state"){const e=`FIRESTORE (${qu}) INTERNAL ASSERTION FAILED: `+n;throw C(e),new Error(e)}function He(n,e){n||re()}function kt(n,e){return n}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends Vr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ja{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oo.UNAUTHENTICATED))}shutdown(){}}class Kd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jc{constructor(e){this.t=e,this.currentUser=Oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let a=this.i;const d=$=>this.i!==a?(a=this.i,t($)):Promise.resolve();let _=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Sr,e.enqueueRetryable(()=>d(this.currentUser))};const D=()=>{const $=_;e.enqueueRetryable((0,Gt.Z)(function*(){yield $.promise,yield d(i.currentUser)}))},O=$=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit($=>O($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?O($):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Sr)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He("string"==typeof i.accessToken),new xu(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(null===e||"string"==typeof e),new Oo(e)}}class bd{constructor(e,t,i,a){this.h=e,this.l=t,this.m=i,this.g=a,this.type="FirstParty",this.user=Oo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(He(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Dh{constructor(e,t,i,a){this.h=e,this.l=t,this.m=i,this.g=a}getToken(){return Promise.resolve(new bd(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Oo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zd{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=d=>{null!=d.error&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const _=d.token!==this.A;return this.A=d.token,E("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>i(d))};const a=d=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?a(d):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He("string"==typeof t.token),this.A=t.token,new lu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ff(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Yd{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=ff(40);for(let d=0;d<a.length;++d)i.length<20&&a[d]<t&&(i+=e.charAt(a[d]%e.length))}return i}}function Zr(n,e){return n<e?-1:n>e?1:0}function wd(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}function Qa(n){return n+"\0"}class ns{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Mt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ns.fromMillis(Date.now())}static fromDate(e){return ns.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ns(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zr(this.nanoseconds,e.nanoseconds):Zr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tr(e)}static min(){return new Tr(new ns(0,0))}static max(){return new Tr(new ns(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sh{constructor(e,t,i){void 0===t?t=0:t>e.length&&re(),void 0===i?i=e.length-t:i>e.length-t&&re(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Sh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const d=e.get(a),_=t.get(a);if(d<_)return-1;if(d>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ji extends Sh{construct(e,t,i){return new ji(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Mt(Qe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ji(t)}static emptyPath(){return new ji([])}}const Jd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ro extends Sh{construct(e,t,i){return new Ro(e,t,i)}static isValidIdentifier(e){return Jd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ro.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ro(["__name__"])}static fromServerFormat(e){const t=[];let i="",a=0;const d=()=>{if(0===i.length)throw new Mt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let _=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new Mt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Mt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=O,a+=2}else"`"===D?(_=!_,a++):"."!==D||_?(i+=D,a++):(d(),a++)}if(d(),_)throw new Mt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ro(t)}static emptyPath(){return new Ro([])}}class Rn{constructor(e){this.path=e}static fromPath(e){return new Rn(ji.fromString(e))}static fromName(e){return new Rn(ji.fromString(e).popFirst(5))}static empty(){return new Rn(ji.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ji.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ji.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rn(new ji(e.slice()))}}class Fi{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Qc(n){return n.fields.find(e=>2===e.kind)}function Rl(n){return n.fields.filter(e=>2!==e.kind)}Fi.UNKNOWN_ID=-1;class dg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xc(0,cu.min())}}function Ih(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Tr.fromTimestamp(1e9===i?new ns(t+1,0):new ns(t,i));return new cu(a,Rn.empty(),e)}function hg(n){return new cu(n.readTime,n.key,-1)}class cu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new cu(Tr.min(),Rn.empty(),-1)}static max(){return new cu(Tr.max(),Rn.empty(),-1)}}function Dc(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rn.comparator(n.documentKey,e.documentKey),0!==t?t:Zr(n.largestBatchId,e.largestBatchId))}const ed="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fl(n){return Td.apply(this,arguments)}function Td(){return Td=(0,Gt.Z)(function*(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==ed)throw n;E("LocalStore","Unexpectedly lost primary lease")}),Td.apply(this,arguments)}class Lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Lt((i,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(i,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Lt?t:Lt.resolve(t)}catch(t){return Lt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Lt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Lt.reject(t)}static resolve(e){return new Lt((t,i)=>{t(e)})}static reject(e){return new Lt((t,i)=>{i(e)})}static waitFor(e){return new Lt((t,i)=>{let a=0,d=0,_=!1;e.forEach(D=>{++a,D.next(()=>{++d,_&&d===a&&t()},O=>i(O))}),_=!0,d===a&&t()})}static or(e){let t=Lt.resolve(!1);for(const i of e)t=t.next(a=>a?Lt.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,d)=>{i.push(t.call(this,a,d))}),this.waitFor(i)}static mapArray(e,t){return new Lt((i,a)=>{const d=e.length,_=new Array(d);let D=0;for(let O=0;O<d;O++){const $=O;t(e[$]).next(J=>{_[$]=J,++D,D===d&&i(_)},J=>a(J))}})}static doWhile(e,t){return new Lt((i,a)=>{const d=()=>{!0===e()?t().next(()=>{d()},a):i()};d()})}}class Qd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Sr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Mu(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const a=up(i.target.error);this.P.reject(new Mu(e,a))}}static open(e,t,i,a){try{return new Qd(t,e.transaction(a,i))}catch(d){throw new Mu(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gg(t)}}class Ql{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Ql.D((0,Vr.z$)())&&C("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),td(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Vr.hl)())return!1;if(Ql.N())return!0;const e=(0,Vr.z$)(),t=Ql.D(e),i=0<t&&t<10,a=Ql.k(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Gt.Z)(function*(){return t.db||(E("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=_=>{i(_.target.result)},d.onblocked=()=>{a(new Mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=_=>{const D=_.target.error;a("VersionError"===D.name?new Mt(Qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new Mt(Qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Mu(e,D))},d.onupgradeneeded=_=>{E("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',_.oldVersion),t.S.$(_.target.result,d.transaction,_.oldVersion,t.version).next(()=>{E("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,a){var d=this;return(0,Gt.Z)(function*(){const _="readonly"===t;let D=0;for(;;){++D;try{d.db=yield d.F(e);const O=Qd.open(d.db,e,_?"readonly":"readwrite",i),$=a(O).next(J=>(O.V(),J)).catch(J=>(O.abort(J),Lt.reject(J))).toPromise();return $.catch(()=>{}),yield O.v,$}catch(O){const $=O,J="FirebaseError"!==$.name&&D<3;if(E("SimpleDb","Transaction failed with error:",$.message,"Retrying:",J),d.close(),!J)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pg{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return td(this.q.delete())}}class Mu extends Mt{constructor(e,t){super(Qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cd(n){return"IndexedDbTransactionError"===n.name}class gg{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(E("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),td(i)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),td(this.store.add(e))}get(e){return td(this.store.get(e)).next(t=>(void 0===t&&(t=null),E("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),td(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),td(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const a=this.cursor(i),d=[];return this.H(a,(_,D)=>{d.push(D)}).next(()=>d)}{const a=this.store.getAll(i.range);return new Lt((d,_)=>{a.onerror=D=>{_(D.target.error)},a.onsuccess=D=>{d(D.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Lt((a,d)=>{i.onerror=_=>{d(_.target.error)},i.onsuccess=_=>{a(_.target.result)}})}Y(e,t){E("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,(d,_,D)=>D.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}tt(e){const t=this.cursor({});return new Lt((i,a)=>{t.onerror=d=>{const _=up(d.target.error);a(_)},t.onsuccess=d=>{const _=d.target.result;_?e(_.primaryKey,_.value).next(D=>{D?_.continue():i()}):i()}})}H(e,t){const i=[];return new Lt((a,d)=>{e.onerror=_=>{d(_.target.error)},e.onsuccess=_=>{const D=_.target.result;if(!D)return void a();const O=new pg(D),$=t(D.primaryKey,D.value,O);if($ instanceof Lt){const J=$.catch(fe=>(O.done(),Lt.reject(fe)));i.push(J)}O.isDone?a():null===O.G?D.continue():D.continue(O.G)}}).next(()=>Lt.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function td(n){return new Lt((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const a=up(i.target.error);t(a)}})}let ap=!1;function up(n){const e=Ql.D((0,Vr.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Mt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ap||(ap=!0,setTimeout(()=>{throw i},0)),i}}return n}class M_{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;E("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Gt.Z)(function*(){t.task=null;try{E("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Cd(i)?E("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield fl(i)}yield t.nt(6e4)}))}}class nd{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Gt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let a=t,d=!0;return Lt.doWhile(()=>!0===d&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!i.has(_))return E("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,a).next(D=>{a-=D,i.add(_)});d=!1})).next(()=>t-a)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(d=>{const _=d.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(a,d)).next(D=>(E("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>_.size)}))}ot(e,t){let i=e;return t.changes.forEach((a,d)=>{const _=hg(d);Dc(_,i)>0&&(i=_)}),new cu(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let du=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>i.writeSequenceNumber(a))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class Sc{constructor(e,t,i,a,d,_,D,O){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=d,this.forceLongPolling=_,this.autoDetectLongPolling=D,this.useFetchStreams=O}}class Nu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Nu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}function lp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Wr(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ec(n){return null==n}function Dd(n){return 0===n&&1/n==-1/0}function Xd(n){return"number"==typeof n&&Number.isInteger(n)&&!Dd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Po{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Po(t)}static fromUint8Array(e){const t=function(i){let a="";for(let d=0;d<i.length;++d)a+=String.fromCharCode(i[d]);return a}(e);return new Po(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Po.EMPTY_BYTE_STRING=new Po("");const mg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(n){if(He(!!n),"string"==typeof n){let e=0;const t=mg.exec(n);if(He(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vo(n.seconds),nanos:vo(n.nanos)}}function vo(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function eh(n){return"string"==typeof n?Po.fromBase64String(n):Po.fromUint8Array(n)}function cp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Im(n){const e=n.mapValue.fields.__previous_value__;return cp(e)?Im(e):e}function Ah(n){const e=ko(n.mapValue.fields.__local_write_time__.timestampValue);return new ns(e.seconds,e.nanos)}const Sd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_g={nullValue:"NULL_VALUE"};function xh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cp(n)?4:dp(n)?9007199254740991:10:re()}function yo(n,e){if(n===e)return!0;const t=xh(n);if(t!==xh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ah(n).isEqual(Ah(e));case 3:return function(i,a){if("string"==typeof i.timestampValue&&"string"==typeof a.timestampValue&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const d=ko(i.timestampValue),_=ko(a.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,eh(n.bytesValue).isEqual(eh(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return vo(i.geoPointValue.latitude)===vo(a.geoPointValue.latitude)&&vo(i.geoPointValue.longitude)===vo(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vo(i.integerValue)===vo(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const d=vo(i.doubleValue),_=vo(a.doubleValue);return d===_?Dd(d)===Dd(_):isNaN(d)&&isNaN(_)}return!1}(n,e);case 9:return wd(n.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:return function(i,a){const d=i.mapValue.fields||{},_=a.mapValue.fields||{};if(lp(d)!==lp(_))return!1;for(const D in d)if(d.hasOwnProperty(D)&&(void 0===_[D]||!yo(d[D],_[D])))return!1;return!0}(n,e);default:return re()}var a}function Eo(n,e){return void 0!==(n.values||[]).find(t=>yo(t,e))}function tc(n,e){if(n===e)return 0;const t=xh(n),i=xh(e);if(t!==i)return Zr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zr(n.booleanValue,e.booleanValue);case 2:return function(a,d){const _=vo(a.integerValue||a.doubleValue),D=vo(d.integerValue||d.doubleValue);return _<D?-1:_>D?1:_===D?0:isNaN(_)?isNaN(D)?0:-1:1}(n,e);case 3:return oy(n.timestampValue,e.timestampValue);case 4:return oy(Ah(n),Ah(e));case 5:return Zr(n.stringValue,e.stringValue);case 6:return function(a,d){const _=eh(a),D=eh(d);return _.compareTo(D)}(n.bytesValue,e.bytesValue);case 7:return function(a,d){const _=a.split("/"),D=d.split("/");for(let O=0;O<_.length&&O<D.length;O++){const $=Zr(_[O],D[O]);if(0!==$)return $}return Zr(_.length,D.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,d){const _=Zr(vo(a.latitude),vo(d.latitude));return 0!==_?_:Zr(vo(a.longitude),vo(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,d){const _=a.values||[],D=d.values||[];for(let O=0;O<_.length&&O<D.length;++O){const $=tc(_[O],D[O]);if($)return $}return Zr(_.length,D.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,d){if(a===Sd.mapValue&&d===Sd.mapValue)return 0;if(a===Sd.mapValue)return 1;if(d===Sd.mapValue)return-1;const _=a.fields||{},D=Object.keys(_),O=d.fields||{},$=Object.keys(O);D.sort(),$.sort();for(let J=0;J<D.length&&J<$.length;++J){const fe=Zr(D[J],$[J]);if(0!==fe)return fe;const xe=tc(_[D[J]],O[$[J]]);if(0!==xe)return xe}return Zr(D.length,$.length)}(n.mapValue,e.mapValue);default:throw re()}}function oy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zr(n,e);const t=ko(n),i=ko(e),a=Zr(t.seconds,i.seconds);return 0!==a?a:Zr(t.nanos,i.nanos)}function Mh(n){return O_(n)}function O_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const a=ko(i);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?eh(n.bytesValue).toBase64():"referenceValue"in n?Rn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let a="[",d=!0;for(const _ of i.values||[])d?d=!1:a+=",",a+=O_(_);return a+"]"}(n.arrayValue):"mapValue"in n?function(i){const a=Object.keys(i.fields||{}).sort();let d="{",_=!0;for(const D of a)_?_=!1:d+=",",d+=`${D}:${O_(i.fields[D])}`;return d+"}"}(n.mapValue):re();var e}function pf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gf(n){return!!n&&"integerValue"in n}function th(n){return!!n&&"arrayValue"in n}function Am(n){return!!n&&"nullValue"in n}function R_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vg(n){return!!n&&"mapValue"in n}function mf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=mf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dp(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rd(n){return"nullValue"in n?_g:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pf(Nu.empty(),Rn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:re()}function Id(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pf(Nu.empty(),Rn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Sd:re()}function yg(n,e){const t=tc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function _f(n,e){const t=tc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ic{constructor(e,t){this.position=e,this.inclusive=t}}function hp(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const d=e[a],_=n.position[a];if(i=d.field.isKeyField()?Rn.comparator(Rn.fromName(_.referenceValue),t.key):tc(_,t.data.field(d.field)),"desc"===d.dir&&(i*=-1),0!==i)break}return i}function xm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yo(n.position[t],e.position[t]))return!1;return!0}class P_{}class Wi extends P_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new vf(e,t,i):"array-contains"===t?new ca(e,i):"in"===t?new Om(e,i):"not-in"===t?new Rm(e,i):"array-contains-any"===t?new uy(e,i):new Wi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new ay(e,i):new Nm(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tc(t,this.value)):null!==t&&xh(this.value)===xh(t)&&this.matchesComparison(tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ps extends P_{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new ps(e,t)}matches(e){return hr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function hr(n){return"and"===n.op}function Ac(n){return"or"===n.op}function xc(n){return id(n)&&hr(n)}function id(n){for(const e of n.filters)if(e instanceof ps)return!1;return!0}function fp(n){if(n instanceof Wi)return n.field.canonicalString()+n.op.toString()+Mh(n.value);if(xc(n))return n.filters.map(e=>fp(e)).join(",");{const e=n.filters.map(t=>fp(t)).join(",");return`${n.op}(${e})`}}function k_(n,e){return n instanceof Wi?(t=n,(i=e)instanceof Wi&&t.op===i.op&&t.field.isEqual(i.field)&&yo(t.value,i.value)):n instanceof ps?function(t,i){return i instanceof ps&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((a,d,_)=>a&&k_(d,i.filters[_]),!0)}(n,e):void re();var t,i}function L_(n,e){const t=n.filters.concat(e);return ps.create(t,n.op)}function Mm(n){return n instanceof Wi?`${(e=n).field.canonicalString()} ${e.op} ${Mh(e.value)}`:n instanceof ps?function(e){return e.op.toString()+" {"+e.getFilters().map(Mm).join(" ,")+"}"}(n):"Filter";var e}class vf extends Wi{constructor(e,t,i){super(e,t,i),this.key=Rn.fromName(i.referenceValue)}matches(e){const t=Rn.comparator(e.key,this.key);return this.matchesComparison(t)}}class ay extends Wi{constructor(e,t){super(e,"in",t),this.keys=F_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nm extends Wi{constructor(e,t){super(e,"not-in",t),this.keys=F_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function F_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Rn.fromName(i.referenceValue))}class ca extends Wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return th(t)&&Eo(t.arrayValue,this.value)}}class Om extends Wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eo(this.value.arrayValue,t)}}class Rm extends Wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eo(this.value.arrayValue,t)}}class uy extends Wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!th(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Eo(this.value.arrayValue,i))}}class sd{constructor(e,t="asc"){this.field=e,this.dir=t}}function B_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zo{constructor(e,t){this.comparator=e,this.root=t||Ou.EMPTY}insert(e,t){return new zo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ou.BLACK,null,null))}remove(e){return new zo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ou.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(0===a)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eg(this.root,e,this.comparator,!0)}}class Eg{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?i(e.key,t):1,t&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ou{constructor(e,t,i,a,d){this.key=e,this.value=t,this.color=i??Ou.RED,this.left=a??Ou.EMPTY,this.right=d??Ou.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,d){return new Ou(e??this.key,t??this.value,i??this.color,a??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const d=i(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,i),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ou.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ou.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ou.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ou.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}Ou.EMPTY=null,Ou.RED=!0,Ou.BLACK=!1,Ou.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(n,e,t,i,a){return this}insert(n,e,t){return new Ou(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zs{constructor(e){this.comparator=e,this.data=new zo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=i.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zs(this.comparator);return t.data=e,t}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yf(n){return n.hasNext()?n.getNext():void 0}class Qs{constructor(e){this.fields=e,e.sort(Ro.comparator)}static empty(){return new Qs([])}unionWith(e){let t=new zs(Ro.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class qo{constructor(e){this.value=e}static empty(){return new qo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!vg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mf(t)}setAll(e){let t=Ro.emptyPath(),i={},a=[];e.forEach((_,D)=>{if(!t.isImmediateParentOf(D)){const O=this.getFieldsMap(t);this.applyChanges(O,i,a),i={},a=[],t=D.popLast()}_?i[D.lastSegment()]=mf(_):a.push(D.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,i,a)}delete(e){const t=this.field(e.popLast());vg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];vg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Xl(t,(a,d)=>e[a]=d);for(const a of i)delete e[a]}clone(){return new qo(mf(this.value))}}function Pm(n){const e=[];return Xl(n.fields,(t,i)=>{const a=new Ro([t]);if(vg(i)){const d=Pm(i.mapValue).fields;if(0===d.length)e.push(a);else for(const _ of d)e.push(a.child(_))}else e.push(a)}),new Qs(e)}class co{constructor(e,t,i,a,d,_,D){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=d,this.data=_,this.documentState=D}static newInvalidDocument(e){return new co(e,0,Tr.min(),Tr.min(),Tr.min(),qo.empty(),0)}static newFoundDocument(e,t,i,a){return new co(e,1,t,Tr.min(),i,a,0)}static newNoDocument(e,t){return new co(e,2,t,Tr.min(),Tr.min(),qo.empty(),0)}static newUnknownDocument(e,t){return new co(e,3,t,Tr.min(),Tr.min(),qo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof co&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new co(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ef{constructor(e,t=null,i=[],a=[],d=null,_=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=d,this.startAt=_,this.endAt=D,this.ft=null}}function hu(n,e=null,t=[],i=[],a=null,d=null,_=null){return new Ef(n,e,t,i,a,d,_)}function cc(n){const e=kt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>fp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(a=i).field.canonicalString()+a.dir;var a}).join(","),ec(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mh(i)).join(",")),e.ft=t}return e.ft}function Nh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!B_(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xm(n.startAt,e.startAt)&&xm(n.endAt,e.endAt)}function nh(n){return Rn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Mc(n,e){return n.filters.filter(t=>t instanceof Wi&&t.field.isEqual(e))}function pp(n,e,t){let i=_g,a=!0;for(const d of Mc(n,e)){let _=_g,D=!0;switch(d.op){case"<":case"<=":_=rd(d.value);break;case"==":case"in":case">=":_=d.value;break;case">":_=d.value,D=!1;break;case"!=":case"not-in":_=_g}yg({value:i,inclusive:a},{value:_,inclusive:D})<0&&(i=_,a=D)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const _=t.position[d];yg({value:i,inclusive:a},{value:_,inclusive:t.inclusive})<0&&(i=_,a=t.inclusive);break}return{value:i,inclusive:a}}function Mi(n,e,t){let i=Sd,a=!0;for(const d of Mc(n,e)){let _=Sd,D=!0;switch(d.op){case">=":case">":_=Id(d.value),D=!1;break;case"==":case"in":case"<=":_=d.value;break;case"<":_=d.value,D=!1;break;case"!=":case"not-in":_=Sd}_f({value:i,inclusive:a},{value:_,inclusive:D})>0&&(i=_,a=D)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const _=t.position[d];_f({value:i,inclusive:a},{value:_,inclusive:t.inclusive})>0&&(i=_,a=t.inclusive);break}return{value:i,inclusive:a}}class rh{constructor(e,t=null,i=[],a=[],d=null,_="F",D=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=d,this.limitType=_,this.startAt=D,this.endAt=O,this.dt=null,this._t=null}}function Sa(n,e,t,i,a,d,_,D){return new rh(n,e,t,i,a,d,_,D)}function Xa(n){return new rh(n)}function gp(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Nc(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function bg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Oh(n){return null!==n.collectionGroup}function dc(n){const e=kt(n);if(null===e.dt){e.dt=[];const t=bg(e),i=Nc(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new sd(t)),e.dt.push(new sd(Ro.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new sd(Ro.keyField(),d))}}}return e.dt}function pl(n){const e=kt(n);if(!e._t)if("F"===e.limitType)e._t=hu(e.path,e.collectionGroup,dc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of dc(e))t.push(new sd(d.field,"desc"===d.dir?"asc":"desc"));const i=e.endAt?new Ic(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ic(e.startAt.position,e.startAt.inclusive):null;e._t=hu(e.path,e.collectionGroup,t,e.filters,e.limit,i,a)}return e._t}function mp(n,e){e.getFirstInequalityField(),bg(n);const t=n.filters.concat([e]);return new rh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rh(n,e,t){return new rh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Oc(n,e){return Nh(pl(n),pl(e))&&n.limitType===e.limitType}function km(n){return`${cc(pl(n))}|lt:${n.limitType}`}function _p(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Mm(i)).join(", ")}]`),ec(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mh(i)).join(",")),`Target(${t})`}(pl(n))}; limitType=${n.limitType})`}function wg(n,e){return e.isFoundDocument()&&function(t,i){const a=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Rn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,i){for(const a of dc(t))if(!a.field.isKeyField()&&null===i.data.field(a.field))return!1;return!0}(n,e)&&function(t,i){for(const a of t.filters)if(!a.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(a,d,_){const D=hp(a,d,_);return a.inclusive?D<=0:D<0}(t.startAt,dc(t),i)||t.endAt&&!function(a,d,_){const D=hp(a,d,_);return a.inclusive?D>=0:D>0}(t.endAt,dc(t),i)));var t,i}function V_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vp(n){return(e,t)=>{let i=!1;for(const a of dc(n)){const d=bf(a,e,t);if(0!==d)return d;i=i||a.field.isKeyField()}return 0}}function bf(n,e,t){const i=n.field.isKeyField()?Rn.comparator(e.key,t.key):function(a,d,_){const D=d.data.field(a),O=_.data.field(a);return null!==D&&null!==O?tc(D,O):re()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return re()}}function wi(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function Lm(n){return{integerValue:""+n}}function Ph(n,e){return Xd(e)?Lm(e):wi(n,e)}class kh{constructor(){this._=void 0}}function Tg(n,e,t){return n instanceof Lh?function(i,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):n instanceof wf?$_(n,e):n instanceof gl?Fm(n,e):function(i,a){const d=Ep(i,a),_=hc(d)+hc(i.gt);return gf(d)&&gf(i.gt)?Lm(_):wi(i.yt,_)}(n,e)}function yp(n,e,t){return n instanceof wf?$_(n,e):n instanceof gl?Fm(n,e):t}function Ep(n,e){return n instanceof Rc?gf(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Lh extends kh{}class wf extends kh{constructor(e){super(),this.elements=e}}function $_(n,e){const t=Cg(e);for(const i of n.elements)t.some(a=>yo(a,i))||t.push(i);return{arrayValue:{values:t}}}class gl extends kh{constructor(e){super(),this.elements=e}}function Fm(n,e){let t=Cg(e);for(const i of n.elements)t=t.filter(a=>!yo(a,i));return{arrayValue:{values:t}}}class Rc extends kh{constructor(e,t){super(),this.yt=e,this.gt=t}}function hc(n){return vo(n.integerValue||n.doubleValue)}function Cg(n){return th(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fh{constructor(e,t){this.field=e,this.transform=t}}class bp{constructor(e,t){this.version=e,this.transformResults=t}}class Lo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lo}static exists(e){return new Lo(void 0,e)}static updateTime(e){return new Lo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tp{}function Dg(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ih(n.key,Lo.none()):new Ad(n.key,n.data,Lo.none());{const t=n.data,i=qo.empty();let a=new zs(Ro.comparator);for(let d of e.fields)if(!a.has(d)){let _=t.field(d);null===_&&d.length>1&&(d=d.popLast(),_=t.field(d)),null===_?i.delete(d):i.set(d,_),a=a.add(d)}return new Pc(n.key,i,new Qs(a.toArray()),Lo.none())}}function Bm(n,e,t){n instanceof Ad?function(i,a,d){const _=i.value.clone(),D=Cf(i.fieldTransforms,a,d.transformResults);_.setAll(D),a.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(n,e,t):n instanceof Pc?function(i,a,d){if(!wp(i.precondition,a))return void a.convertToUnknownDocument(d.version);const _=Cf(i.fieldTransforms,a,d.transformResults),D=a.data;D.setAll(fc(i)),D.setAll(_),a.convertToFoundDocument(d.version,D).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tf(n,e,t,i){return n instanceof Ad?function(a,d,_,D){if(!wp(a.precondition,d))return _;const O=a.value.clone(),$=H_(a.fieldTransforms,D,d);return O.setAll($),d.convertToFoundDocument(d.version,O).setHasLocalMutations(),null}(n,e,t,i):n instanceof Pc?function(a,d,_,D){if(!wp(a.precondition,d))return _;const O=H_(a.fieldTransforms,D,d),$=d.data;return $.setAll(fc(a)),$.setAll(O),d.convertToFoundDocument(d.version,$).setHasLocalMutations(),null===_?null:_.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(J=>J.field))}(n,e,t,i):(_=t,wp(n.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_);var d,_}function Um(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),d=Ep(i.transform,a||null);null!=d&&(null===t&&(t=qo.empty()),t.set(i.field,d))}return t||null}function od(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&wd(t,i,(a,d)=>function nc(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof wf&&i instanceof wf||t instanceof gl&&i instanceof gl?wd(t.elements,i.elements,yo):t instanceof Rc&&i instanceof Rc?yo(t.gt,i.gt):t instanceof Lh&&i instanceof Lh);var t,i}(a,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ad extends Tp{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pc extends Tp{constructor(e,t,i,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function fc(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Cf(n,e,t){const i=new Map;He(n.length===t.length);for(let a=0;a<t.length;a++){const d=n[a],_=d.transform,D=e.data.field(d.field);i.set(d.field,yp(_,D,t[a]))}return i}function H_(n,e,t){const i=new Map;for(const a of n){const d=a.transform,_=t.data.field(a.field);i.set(a.field,Tg(d,_,e))}return i}class ih extends Tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sg extends Tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bh{constructor(e){this.count=e}}var Fs,os;function G_(n){switch(n){default:return re();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0}}function j_(n){if(void 0===n)return C("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case Fs.OK:return Qe.OK;case Fs.CANCELLED:return Qe.CANCELLED;case Fs.UNKNOWN:return Qe.UNKNOWN;case Fs.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case Fs.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case Fs.INTERNAL:return Qe.INTERNAL;case Fs.UNAVAILABLE:return Qe.UNAVAILABLE;case Fs.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case Fs.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case Fs.NOT_FOUND:return Qe.NOT_FOUND;case Fs.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case Fs.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case Fs.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case Fs.ABORTED:return Qe.ABORTED;case Fs.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case Fs.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case Fs.DATA_LOSS:return Qe.DATA_LOSS;default:return re()}}(os=Fs||(Fs={}))[os.OK=0]="OK",os[os.CANCELLED=1]="CANCELLED",os[os.UNKNOWN=2]="UNKNOWN",os[os.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",os[os.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",os[os.NOT_FOUND=5]="NOT_FOUND",os[os.ALREADY_EXISTS=6]="ALREADY_EXISTS",os[os.PERMISSION_DENIED=7]="PERMISSION_DENIED",os[os.UNAUTHENTICATED=16]="UNAUTHENTICATED",os[os.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",os[os.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",os[os.ABORTED=10]="ABORTED",os[os.OUT_OF_RANGE=11]="OUT_OF_RANGE",os[os.UNIMPLEMENTED=12]="UNIMPLEMENTED",os[os.INTERNAL=13]="INTERNAL",os[os.UNAVAILABLE=14]="UNAVAILABLE",os[os.DATA_LOSS=15]="DATA_LOSS";class Uh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[a,d]of i)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return this.inner[i]=[[e,t]],void this.innerSize++;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return 1===i.length?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xl(this.inner,(t,i)=>{for(const[a,d]of i)e(a,d)})}isEmpty(){return Wr(this.inner)}size(){return this.innerSize}}const W_=new zo(Rn.comparator);function Ku(){return W_}const Ig=new zo(Rn.comparator);function Vh(...n){let e=Ig;for(const t of n)e=e.insert(t.key,t);return e}function z_(n){let e=Ig;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function pc(){return Cp()}function ly(){return Cp()}function Cp(){return new Uh(n=>n.toString(),(n,e)=>n.isEqual(e))}const ad=new zo(Rn.comparator),Ag=new zs(Rn.comparator);function li(...n){let e=Ag;for(const t of n)e=e.add(t);return e}const q_=new zs(Zr);function Dp(){return q_}class sh{constructor(e,t,i,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Sp.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new sh(Tr.min(),a,Dp(),Ku(),li())}}class Sp{constructor(e,t,i,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Sp(i,t,li(),li(),li())}}class Df{constructor(e,t,i,a){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=a}}class Vm{constructor(e,t){this.targetId=e,this.Et=t}}class Sf{constructor(e,t,i=Po.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class $m{constructor(){this.At=0,this.Rt=Af(),this.bt=Po.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=li(),t=li(),i=li();return this.Rt.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:re()}}),new Sp(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=Af()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class ci{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ku(),this.qt=If(),this.Ut=new zs(Zr)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,a)=>{this.zt(a)&&t(a)})}Jt(e){const t=e.targetId,i=e.Et.count,a=this.Yt(t);if(a){const d=a.target;if(nh(d))if(0===i){const _=new Rn(d.path);this.Qt(t,_,co.newNoDocument(_,Tr.min()))}else He(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,_)=>{const D=this.Yt(_);if(D){if(d.current&&nh(D.target)){const O=new Rn(D.target.path);null!==this.Lt.get(O)||this.te(_,O)||this.Qt(_,O,co.newNoDocument(O,e))}d.St&&(t.set(_,d.Ct()),d.xt())}});let i=li();this.qt.forEach((d,_)=>{let D=!0;_.forEachWhile(O=>{const $=this.Yt(O);return!$||2===$.purpose||(D=!1,!1)}),D&&(i=i.add(d))}),this.Lt.forEach((d,_)=>_.setReadTime(e));const a=new sh(e,t,this.Ut,this.Lt,i);return this.Lt=Ku(),this.qt=If(),this.Ut=new zs(Zr),a}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const a=this.Wt(e);this.te(e,t)?a.Nt(t,1):a.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new $m,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new zs(Zr),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||E("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new $m),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function If(){return new zo(Rn.comparator)}function Af(){return new zo(Rn.comparator)}const xd={asc:"ASCENDING",desc:"DESCENDING"},cy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dy={and:"AND",or:"OR"};class Ip{constructor(e,t){this.databaseId=e,this.wt=t}}function Md(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hm(n,e){return n.wt?e.toBase64():e.toUint8Array()}function hy(n,e){return Md(n,e.toTimestamp())}function Ko(n){return He(!!n),Tr.fromTimestamp(function(e){const t=ko(e);return new ns(t.seconds,t.nanos)}(n))}function Gm(n,e){return(t=n,new ji(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function jm(n){const e=ji.fromString(n);return He(Ju(e)),e}function xf(n,e){return Gm(n.databaseId,e.path)}function Zu(n,e){const t=jm(e);if(t.get(1)!==n.databaseId.projectId)throw new Mt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Mt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rn(K_(t))}function xg(n,e){return Gm(n.databaseId,e)}function Xs(n){const e=jm(n);return 4===e.length?ji.emptyPath():K_(e)}function $h(n){return new ji(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function K_(n){return He(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fy(n,e,t){return{name:xf(n,e),fields:t.value.mapValue.fields}}function Z_(n,e,t){const i=Zu(n,e.name),a=Ko(e.updateTime),d=e.createTime?Ko(e.createTime):Tr.min(),_=new qo({mapValue:{fields:e.fields}}),D=co.newFoundDocument(i,a,d,_);return t&&D.setHasCommittedMutations(),t?D.setHasCommittedMutations():D}function Hh(n,e){let t;if(e instanceof Ad)t={update:fy(n,e.key,e.value)};else if(e instanceof ih)t={delete:xf(n,e.key)};else if(e instanceof Pc)t={update:fy(n,e.key,e.data),updateMask:Q_(e.fieldMask)};else{if(!(e instanceof Sg))return re();t={verify:xf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,d){const _=d.transform;if(_ instanceof Lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof wf)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Rc)return{fieldPath:d.field.canonicalString(),increment:_.gt};throw re()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:hy(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:re()),t;var a}function rc(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Lo.updateTime(Ko(a.updateTime)):void 0!==a.exists?Lo.exists(a.exists):Lo.none():Lo.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(d,_){let D=null;"setToServerValue"in _?(He("REQUEST_TIME"===_.setToServerValue),D=new Lh):"appendMissingElements"in _?D=new wf(_.appendMissingElements.values||[]):"removeAllFromArray"in _?D=new gl(_.removeAllFromArray.values||[]):"increment"in _?D=new Rc(d,_.increment):re();const O=Ro.fromServerFormat(_.fieldPath);return new Fh(O,D)}(n,a)):[];var a;if(e.update){const a=Zu(n,e.update.name),d=new qo({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new Qs((e.updateMask.fieldPaths||[]).map($=>Ro.fromServerFormat($)));return new Pc(a,d,_,t,i)}return new Ad(a,d,t,i)}if(e.delete){const a=Zu(n,e.delete);return new ih(a,t)}if(e.verify){const a=Zu(n,e.verify);return new Sg(a,t)}return re()}function kc(n,e){return{documents:[xg(n,e.path)]}}function Yu(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=xg(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xg(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const a=function(O){if(0!==O.length)return J_(ps.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const d=function(O){if(0!==O.length)return O.map($=>{return{field:oh((J=$).field),direction:da(J.dir)};var J})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const _=($=e.limit,n.wt||ec($)?$:{value:$});var $,D,O;return null!==_&&(t.structuredQuery.limit=_),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function oi(n){let e=Xs(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){He(1===i);const J=t.from[0];J.allDescendants?a=J.collectionId:e=e.child(J.collectionId)}let d=[];t.where&&(d=function(J){const fe=ml(J);return fe instanceof ps&&xc(fe)?fe.getFilters():[fe]}(t.where));let _=[];t.orderBy&&(_=t.orderBy.map(J=>{return new sd(Mf((fe=J).field),function(xe){switch(xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(fe.direction));var fe}));let D=null;t.limit&&(D=function(J){let fe;return fe="object"==typeof J?J.value:J,ec(fe)?null:fe}(t.limit));let O=null;var J;t.startAt&&(O=new Ic((J=t.startAt).values||[],!!J.before));let $=null;return t.endAt&&($=function(J){return new Ic(J.values||[],!J.before)}(t.endAt)),Sa(e,a,_,d,D,"F",O,$)}function ml(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mf(e.unaryFilter.field);return Wi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Mf(e.unaryFilter.field);return Wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Mf(e.unaryFilter.field);return Wi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Mf(e.unaryFilter.field);return Wi.create(d,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(n):void 0!==n.fieldFilter?Wi.create(Mf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ps.create(e.compositeFilter.filters.map(t=>ml(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(n):re();var e}function da(n){return xd[n]}function my(n){return cy[n]}function Nd(n){return dy[n]}function oh(n){return{fieldPath:n.canonicalString()}}function Mf(n){return Ro.fromServerFormat(n.fieldPath)}function J_(n){return n instanceof Wi?function(e){if("=="===e.op){if(R_(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NAN"}};if(Am(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(R_(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NAN"}};if(Am(e.value))return{unaryFilter:{field:oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(e.field),op:my(e.op),value:e.value}}}(n):n instanceof ps?function(e){const t=e.getFilters().map(i=>J_(i));return 1===t.length?t[0]:{compositeFilter:{op:Nd(e.op),filters:t}}}(n):re()}function Q_(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ju(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function fu(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Pl(e)),e=Ng(n.get(t),e);return Pl(e)}function Ng(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const d=n.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Pl(n){return n+"\x01\x01"}function Lc(n){const e=n.length;if(He(e>=2),2===e)return He("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ji.emptyPath();const t=e-2,i=[];let a="";for(let d=0;d<e;){const _=n.indexOf("\x01",d);switch((_<0||_>t)&&re(),n.charAt(_+1)){case"\x01":const D=n.substring(d,_);let O;0===a.length?O=D:(a+=D,O=a,a=""),i.push(O);break;case"\x10":a+=n.substring(d,_),a+="\0";break;case"\x11":a+=n.substring(d,_+1);break;default:re()}d=_+2}return new ji(i)}const ah=["userId","batchId"];function ho(n,e){return[n,fu(e)]}function ha(n,e,t){return[n,fu(e),t]}const Gh={},Wm=["prefixPath","collectionGroup","readTime","documentId"],X_=["prefixPath","collectionGroup","documentId"],ev=["collectionGroup","readTime","prefixPath","documentId"],_y=["canonicalId","targetId"],tv=["targetId","path"],Og=["path","targetId"],jh=["collectionId","parent"],Wh=["indexId","uid"],zh=["uid","sequenceNumber"],zm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ap=["indexId","uid","orderedDocumentKey"],xp=["userId","collectionPath","documentId"],Zo=["userId","collectionPath","largestBatchId"],uh=["userId","collectionGroup","largestBatchId"],Mp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nv=[...Mp,"documentOverlays"],Rg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rv=Rg,vy=[...rv,"indexConfiguration","indexState","indexEntries"];class Np extends fg{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function fo(n,e){const t=kt(n);return Ql.M(t.se,e)}class di{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&Bm(d,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Tf(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Tf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ly();return this.mutations.forEach(a=>{const d=e.get(a.key),_=d.overlayedDocument;let D=this.applyToLocalView(_,d.mutatedFields);D=t.has(a.key)?null:D;const O=Dg(_,D);null!==O&&i.set(a.key,O),_.isValidDocument()||_.convertToNoDocument(Tr.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),li())}isEqual(e){return this.batchId===e.batchId&&wd(this.mutations,e.mutations,(t,i)=>od(t,i))&&wd(this.baseMutations,e.baseMutations,(t,i)=>od(t,i))}}class Op{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){He(e.mutations.length===i.length);let a=ad;const d=e.mutations;for(let _=0;_<d.length;_++)a=a.insert(d[_].key,i[_].version);return new Op(e,t,i,a)}}class kl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Od{constructor(e,t,i,a,d=Tr.min(),_=Tr.min(),D=Po.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=D}withSequenceNumber(e){return new Od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ll{constructor(e){this.ie=e}}function iv(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:xf(a=n.ie,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Md(a,d.version.toTimestamp()),createTime:Md(a,d.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Fl(e.version)};else{if(!e.isUnknownDocument())return re();i.unknownDocument={path:t.path.toArray(),version:Fl(e.version)}}var a,d;return i}function Pg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Fl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lh(n){const e=new ns(n.seconds,n.nanoseconds);return Tr.fromTimestamp(e)}function qh(n,e){const t=(e.baseMutations||[]).map(d=>rc(n.ie,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const i=e.mutations.map(d=>rc(n.ie,d)),a=ns.fromMillis(e.localWriteTimeMs);return new di(e.batchId,a,t,i)}function Nf(n){const e=lh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?lh(n.lastLimboFreeSnapshotVersion):Tr.min();let i;var a;return void 0!==n.query.documents?(He(1===(a=n.query).documents.length),i=pl(Xa(Xs(a.documents[0])))):i=pl(oi(n.query)),new Od(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Po.fromBase64String(n.resumeToken))}function kg(n,e){const t=Fl(e.snapshotVersion),i=Fl(e.lastLimboFreeSnapshotVersion);let a;a=nh(e.target)?kc(n.ie,e.target):Yu(n.ie,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cc(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function Lg(n){const e=oi({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Rh(e,e.limit,"L"):e}function ud(n,e){return new kl(e.largestBatchId,rc(n.ie,e.overlayMutation))}function qm(n,e){const t=e.path.lastSegment();return[n,fu(e.path.popLast()),t]}function Fg(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Fl(i.readTime),documentKey:fu(i.documentKey.path),largestBatchId:i.largestBatchId}}class Km{getBundleMetadata(e,t){return Zm(e).get(t).next(i=>{if(i)return{id:(a=i).bundleId,createTime:lh(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Zm(e).put({bundleId:(i=t).id,createTime:Fl(Ko(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return sv(e).get(t).next(i=>{if(i)return{name:(a=i).name,query:Lg(a.bundledQuery),readTime:lh(a.readTime)};var a})}saveNamedQuery(e,t){return sv(e).put({name:(i=t).name,readTime:Fl(Ko(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Zm(n){return fo(n,"bundles")}function sv(n){return fo(n,"namedQueries")}class Bg{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Bg(e,t.uid||"")}getOverlay(e,t){return Rp(e).get(qm(this.userId,t)).next(i=>i?ud(this.yt,i):null)}getOverlays(e,t){const i=pc();return Lt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&i.set(a,d)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((d,_)=>{const D=new kl(t,_);a.push(this.oe(e,D))}),Lt.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(_=>a.add(fu(_.getCollectionPath())));const d=[];return a.forEach(_=>{const D=IDBKeyRange.bound([this.userId,_,i],[this.userId,_,i+1],!1,!0);d.push(Rp(e).Y("collectionPathOverlayIndex",D))}),Lt.waitFor(d)}getOverlaysForCollection(e,t,i){const a=pc(),d=fu(t),_=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Rp(e).W("collectionPathOverlayIndex",_).next(D=>{for(const O of D){const $=ud(this.yt,O);a.set($.getKey(),$)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const d=pc();let _;const D=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rp(e).Z({index:"collectionGroupOverlayIndex",range:D},(O,$,J)=>{const fe=ud(this.yt,$);d.size()<a||fe.largestBatchId===_?(d.set(fe.getKey(),fe),_=fe.largestBatchId):J.done()}).next(()=>d)}oe(e,t){return Rp(e).put(function(i,a,d){const[_,D,O]=qm(a,d.mutation.key);return{userId:a,collectionPath:D,documentId:O,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Hh(i.ie,d.mutation)}}(this.yt,this.userId,t))}}function Rp(n){return fo(n,"documentOverlays")}class pu{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(vo(e.integerValue));else if("doubleValue"in e){const i=vo(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),Dd(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(eh(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?dp(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):re()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const a of Object.keys(i))this.de(a,t),this.ce(i[a],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const a of i)this.ce(a,t)}me(e,t){this.he(t,37),Rn.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Pp(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function kp(n){const e=64-function(t){let i=0;for(let a=0;a<8;++a){const d=Pp(255&t[a]);if(i+=d,8!==d)break}return i}(n);return Math.ceil(e/8)}pu.Ie=new pu;class ov{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const a=t.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const a=t.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}this.Pe()}Se(e){const t=this.De(e),i=kp(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}xe(e){const t=this.De(e),i=kp(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(a){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,a,!1),new Uint8Array(d.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class Kh{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Ug{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class fa{constructor(){this.$e=new ov,this.Be=new Kh(this.$e),this.Le=new Ug(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class La{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new La(this.indexId,this.documentKey,this.arrayValue,i)}}function Fc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=av(n.arrayValue,e.arrayValue),0!==t?t:(t=av(n.directionalValue,e.directionalValue),0!==t?t:Rn.comparator(n.documentKey,e.documentKey)))}function av(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class yy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){He(e.collectionGroup===this.collectionId);const t=Qc(e);if(void 0!==t&&!this.We(t))return!1;const i=Rl(e);let a=0,d=0;for(;a<i.length&&this.We(i[a]);++a);if(a===i.length)return!0;if(void 0!==this.Qe){const _=i[a];if(!this.ze(this.Qe,_)||!this.He(this.Ke[d++],_))return!1;++a}for(;a<i.length;++a)if(d>=this.Ke.length||!this.He(this.Ke[d++],i[a]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Of(n){var e,t;if(He(n instanceof Wi||n instanceof ps),n instanceof Wi){if(n instanceof Om){const a=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>Wi.create(n.field,"==",d)))||[];return ps.create(a,"or")}return n}const i=n.filters.map(a=>Of(a));return ps.create(i,n.op)}function Vg(n){if(0===n.getFilters().length)return[];const e=uv(Of(n));return He(Lp(e)),Rd(e)||Ym(e)?[e]:e.getFilters()}function Rd(n){return n instanceof Wi}function Ym(n){return n instanceof ps&&xc(n)}function Lp(n){return Rd(n)||Ym(n)||function(e){if(e instanceof ps&&Ac(e)){for(const t of e.getFilters())if(!Rd(t)&&!Ym(t))return!1;return!0}return!1}(n)}function uv(n){if(He(n instanceof Wi||n instanceof ps),n instanceof Wi)return n;if(1===n.filters.length)return uv(n.filters[0]);const e=n.filters.map(i=>uv(i));let t=ps.create(e,n.op);return t=ch(t),Lp(t)?t:(He(t instanceof ps),He(hr(t)),He(t.filters.length>1),t.filters.reduce((i,a)=>$g(i,a)))}function $g(n,e){let t;return He(n instanceof Wi||n instanceof ps),He(e instanceof Wi||e instanceof ps),t=n instanceof Wi?e instanceof Wi?ps.create([n,e],"and"):Jm(n,e):e instanceof Wi?Jm(e,n):function(i,a){if(He(i.filters.length>0&&a.filters.length>0),hr(i)&&hr(a))return L_(i,a.getFilters());const d=Ac(i)?i:a,_=Ac(i)?a:i,D=d.filters.map(O=>$g(O,_));return ps.create(D,"or")}(n,e),ch(t)}function Jm(n,e){if(hr(e))return L_(e,n.getFilters());{const t=e.filters.map(i=>$g(n,i));return ps.create(t,"or")}}function ch(n){if(He(n instanceof Wi||n instanceof ps),n instanceof Wi)return n;const e=n.getFilters();if(1===e.length)return ch(e[0]);if(id(n))return n;const t=e.map(a=>ch(a)),i=[];return t.forEach(a=>{a instanceof Wi?i.push(a):a instanceof ps&&(a.op===n.op?i.push(...a.filters):i.push(a))}),1===i.length?i[0]:ps.create(i,n.op)}class Rf{constructor(){this.Je=new Pf}addToCollectionParentIndex(e,t){return this.Je.add(t),Lt.resolve()}getCollectionParents(e,t){return Lt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Lt.resolve()}deleteFieldIndex(e,t){return Lt.resolve()}getDocumentsMatchingTarget(e,t){return Lt.resolve(null)}getIndexType(e,t){return Lt.resolve(0)}getFieldIndexes(e,t){return Lt.resolve([])}getNextCollectionGroupToUpdate(e){return Lt.resolve(null)}getMinOffset(e,t){return Lt.resolve(cu.min())}getMinOffsetFromCollectionGroup(e,t){return Lt.resolve(cu.min())}updateCollectionGroup(e,t,i){return Lt.resolve()}updateIndexEntries(e,t){return Lt.resolve()}}class Pf{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new zs(ji.comparator),d=!a.has(i);return this.index[t]=a.add(i),d}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zs(ji.comparator)).toArray()}}const gc=new Uint8Array(0);class Hg{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Pf,this.Xe=new Uh(i=>cc(i),(i,a)=>Nh(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const d={collectionId:i,parent:fu(a)};return Fp(e).put(d)}return Lt.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[Qa(t),""],!1,!0);return Fp(e).W(a).next(d=>{for(const _ of d){if(_.collectionId!==t)break;i.push(Lc(_.parent))}return i})}addFieldIndex(e,t){const i=Gg(e),a={indexId:(_=t).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var _;delete a.indexId;const d=i.add(a);if(t.indexState){const _=kf(e);return d.next(D=>{_.put(Fg(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const i=Gg(e),a=kf(e),d=_l(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=_l(e);let a=!0;const d=new Map;return Lt.forEach(this.Ze(t),_=>this.tn(e,_).next(D=>{a&&(a=!!D),d.set(_,D)})).next(()=>{if(a){let _=li();const D=[];return Lt.forEach(d,(O,$)=>{var J;E("IndexedDbIndexManager",`Using index ${J=O,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(Nr=>`${Nr.fieldPath}:${Nr.kind}`).join(",")}`} to execute ${cc(t)}`);const fe=function(Nr,Fr){const cr=Qc(Fr);if(void 0===cr)return null;for(const Er of Mc(Nr,cr.fieldPath))switch(Er.op){case"array-contains-any":return Er.value.arrayValue.values||[];case"array-contains":return[Er.value]}return null}($,O),xe=function(Nr,Fr){const cr=new Map;for(const Er of Rl(Fr))for(const Bi of Mc(Nr,Er.fieldPath))switch(Bi.op){case"==":case"in":cr.set(Er.fieldPath.canonicalString(),Bi.value);break;case"not-in":case"!=":return cr.set(Er.fieldPath.canonicalString(),Bi.value),Array.from(cr.values())}return null}($,O),Ke=function(Nr,Fr){const cr=[];let Er=!0;for(const Bi of Rl(Fr)){const to=0===Bi.kind?pp(Nr,Bi.fieldPath,Nr.startAt):Mi(Nr,Bi.fieldPath,Nr.startAt);cr.push(to.value),Er&&(Er=to.inclusive)}return new Ic(cr,Er)}($,O),mt=function(Nr,Fr){const cr=[];let Er=!0;for(const Bi of Rl(Fr)){const to=0===Bi.kind?Mi(Nr,Bi.fieldPath,Nr.endAt):pp(Nr,Bi.fieldPath,Nr.endAt);cr.push(to.value),Er&&(Er=to.inclusive)}return new Ic(cr,Er)}($,O),Ut=this.en(O,$,Ke),an=this.en(O,$,mt),Ln=this.nn(O,$,xe),tr=this.sn(O.indexId,fe,Ut,Ke.inclusive,an,mt.inclusive,Ln);return Lt.forEach(tr,Nr=>i.J(Nr,t.limit).next(Fr=>{Fr.forEach(cr=>{const Er=Rn.fromSegments(cr.documentKey);_.has(Er)||(_=_.add(Er),D.push(Er))})}))}).next(()=>D)}return Lt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Vg(ps.create(e.filters,"and")).map(i=>hu(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,a,d,_,D){const O=(null!=t?t.length:1)*Math.max(i.length,d.length),$=O/(null!=t?t.length:1),J=[];for(let fe=0;fe<O;++fe){const xe=t?this.rn(t[fe/$]):gc,Ke=this.on(e,xe,i[fe%$],a),mt=this.un(e,xe,d[fe%$],_),Ut=D.map(an=>this.on(e,xe,an,!0));J.push(...this.createRange(Ke,mt,Ut))}return J}on(e,t,i,a){const d=new La(e,Rn.empty(),t,i);return a?d:d.Ue()}un(e,t,i,a){const d=new La(e,Rn.empty(),t,i);return a?d.Ue():d}tn(e,t){const i=new yy(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(d=>{let _=null;for(const D of d)i.je(D)&&(!_||D.fields.length>_.fields.length)&&(_=D);return _})}getIndexType(e,t){let i=2;const a=this.Ze(t);return Lt.forEach(a,d=>this.tn(e,d).next(_=>{_?0!==i&&_.fields.length<function(D){let O=new zs(Ro.comparator),$=!1;for(const J of D.filters)for(const fe of J.getFlattenedFilters())fe.field.isKeyField()||("array-contains"===fe.op||"array-contains-any"===fe.op?$=!0:O=O.add(fe.field));for(const J of D.orderBy)J.field.isKeyField()||(O=O.add(J.field));return O.size+($?1:0)}(d)&&(i=1):i=0})).next(()=>null!==t.limit&&a.length>1&&2===i?1:i)}cn(e,t){const i=new fa;for(const a of Rl(e)){const d=t.data.field(a.fieldPath);if(null==d)return null;const _=i.qe(a.kind);pu.Ie.ue(d,_)}return i.Fe()}rn(e){const t=new fa;return pu.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new fa;return pu.Ie.ue(pf(this.databaseId,t),i.qe(function(a){const d=Rl(a);return 0===d.length?0:d[d.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let a=[];a.push(new fa);let d=0;for(const _ of Rl(e)){const D=i[d++];for(const O of a)if(this.hn(t,_.fieldPath)&&th(D))a=this.ln(a,_,D);else{const $=O.qe(_.kind);pu.Ie.ue(D,$)}}return this.fn(a)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const a=[...e],d=[];for(const _ of i.arrayValue.values||[])for(const D of a){const O=new fa;O.seed(D.Fe()),pu.Ie.ue(_,O.qe(t.kind)),d.push(O)}return d}hn(e,t){return!!e.filters.find(i=>i instanceof Wi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Gg(e),a=kf(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(d=>{const _=[];return Lt.forEach(d,D=>a.get([D.indexId,this.uid]).next(O=>{_.push(function($,J){const fe=J?new Xc(J.sequenceNumber,new cu(lh(J.readTime),new Rn(Lc(J.documentKey)),J.largestBatchId)):Xc.empty(),xe=$.fields.map(([Ke,mt])=>new dg(Ro.fromServerFormat(Ke),mt));return new Fi($.indexId,$.collectionGroup,xe,fe)}(D,O))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,a)=>{const d=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==d?d:Zr(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=Gg(e),d=kf(e);return this.dn(e).next(_=>a.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>Lt.forEach(D,O=>d.put(Fg(O.indexId,this.user,_,i)))))}updateIndexEntries(e,t){const i=new Map;return Lt.forEach(t,(a,d)=>{const _=i.get(a.collectionGroup);return(_?Lt.resolve(_):this.getFieldIndexes(e,a.collectionGroup)).next(D=>(i.set(a.collectionGroup,D),Lt.forEach(D,O=>this._n(e,a,O).next($=>{const J=this.wn(d,O);return $.isEqual(J)?Lt.resolve():this.mn(e,d,O,$,J)}))))})}gn(e,t,i,a){return _l(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,a){return _l(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const a=_l(e);let d=new zs(Fc);return a.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(_,D)=>{d=d.add(new La(i.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>d)}wn(e,t){let i=new zs(Fc);const a=this.cn(t,e);if(null==a)return i;const d=Qc(t);if(null!=d){const _=e.data.field(d.fieldPath);if(th(_))for(const D of _.arrayValue.values||[])i=i.add(new La(t.indexId,e.key,this.rn(D),a))}else i=i.add(new La(t.indexId,e.key,gc,a));return i}mn(e,t,i,a,d){E("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const _=[];return function(D,O,$,J,fe){const xe=D.getIterator(),Ke=O.getIterator();let mt=yf(xe),Ut=yf(Ke);for(;mt||Ut;){let an=!1,Ln=!1;if(mt&&Ut){const tr=$(mt,Ut);tr<0?Ln=!0:tr>0&&(an=!0)}else null!=mt?Ln=!0:an=!0;an?(J(Ut),Ut=yf(Ke)):Ln?(fe(mt),mt=yf(xe)):(mt=yf(xe),Ut=yf(Ke))}}(a,d,Fc,D=>{_.push(this.gn(e,t,i,D))},D=>{_.push(this.yn(e,t,i,D))}),Lt.waitFor(_)}dn(e){let t=1;return kf(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,d)=>{d.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((_,D)=>Fc(_,D)).filter((_,D,O)=>!D||0!==Fc(_,O[D-1]));const a=[];a.push(e);for(const _ of i){const D=Fc(_,e),O=Fc(_,t);if(0===D)a[0]=e.Ue();else if(D>0&&O<0)a.push(_),a.push(_.Ue());else if(O>0)break}a.push(t);const d=[];for(let _=0;_<a.length;_+=2){if(this.pn(a[_],a[_+1]))return[];d.push(IDBKeyRange.bound([a[_].indexId,this.uid,a[_].arrayValue,a[_].directionalValue,gc,[]],[a[_+1].indexId,this.uid,a[_+1].arrayValue,a[_+1].directionalValue,gc,[]]))}return d}pn(e,t){return Fc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jg)}getMinOffset(e,t){return Lt.mapArray(this.Ze(t),i=>this.tn(e,i).next(a=>a||re())).next(jg)}}function Fp(n){return fo(n,"collectionParents")}function _l(n){return fo(n,"indexEntries")}function Gg(n){return fo(n,"indexConfiguration")}function kf(n){return fo(n,"indexState")}function jg(n){He(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;Dc(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new cu(e.readTime,e.documentKey,t)}const Qm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bl{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Bl(e,Bl.DEFAULT_COLLECTION_PERCENTILE,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zh(n,e,t){const i=n.store("mutations"),a=n.store("documentMutations"),d=[],_=IDBKeyRange.only(t.batchId);let D=0;const O=i.Z({range:_},(J,fe,xe)=>(D++,xe.delete()));d.push(O.next(()=>{He(1===D)}));const $=[];for(const J of t.mutations){const fe=ha(e,J.key.path,t.batchId);d.push(a.delete(fe)),$.push(J.key)}return Lt.waitFor(d).next(()=>$)}function Lf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw re();e=n.noDocument}return JSON.stringify(e).length}Bl.DEFAULT_COLLECTION_PERCENTILE=10,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bl.DEFAULT=new Bl(41943040,Bl.DEFAULT_COLLECTION_PERCENTILE,Bl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bl.DISABLED=new Bl(-1,0,0);class Xm{constructor(e,t,i,a){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=a,this.In={}}static re(e,t,i,a){He(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Xm(d,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).Z({index:"userMutationsIndex",range:i},(a,d,_)=>{t=!1,_.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const d=Ff(e),_=dh(e);return _.add({}).next(D=>{He("number"==typeof D);const O=new di(D,t,i,a),$=function(xe,Ke,mt){const Ut=mt.baseMutations.map(Ln=>Hh(xe.ie,Ln)),an=mt.mutations.map(Ln=>Hh(xe.ie,Ln));return{userId:Ke,batchId:mt.batchId,localWriteTimeMs:mt.localWriteTime.toMillis(),baseMutations:Ut,mutations:an}}(this.yt,this.userId,O),J=[];let fe=new zs((xe,Ke)=>Zr(xe.canonicalString(),Ke.canonicalString()));for(const xe of a){const Ke=ha(this.userId,xe.key.path,D);fe=fe.add(xe.key.path.popLast()),J.push(_.put($)),J.push(d.put(Ke,Gh))}return fe.forEach(xe=>{J.push(this.indexManager.addToCollectionParentIndex(e,xe))}),e.addOnCommittedListener(()=>{this.In[D]=O.keys()}),Lt.waitFor(J).next(()=>O)})}lookupMutationBatch(e,t){return dh(e).get(t).next(i=>i?(He(i.userId===this.userId),qh(this.yt,i)):null)}Tn(e,t){return this.In[t]?Lt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.In[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let d=null;return dh(e).Z({index:"userMutationsIndex",range:a},(_,D,O)=>{D.userId===this.userId&&(He(D.batchId>=i),d=qh(this.yt,D)),O.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return dh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(a,d,_)=>{i=d.batchId,_.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dh(e).W("userMutationsIndex",t).next(i=>i.map(a=>qh(this.yt,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ho(this.userId,t.path),a=IDBKeyRange.lowerBound(i),d=[];return Ff(e).Z({range:a},(_,D,O)=>{const[$,J,fe]=_,xe=Lc(J);if($===this.userId&&t.path.isEqual(xe))return dh(e).get(fe).next(Ke=>{if(!Ke)throw re();He(Ke.userId===this.userId),d.push(qh(this.yt,Ke))});O.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zs(Zr);const a=[];return t.forEach(d=>{const _=ho(this.userId,d.path),D=IDBKeyRange.lowerBound(_),O=Ff(e).Z({range:D},($,J,fe)=>{const[xe,Ke,mt]=$,Ut=Lc(Ke);xe===this.userId&&d.path.isEqual(Ut)?i=i.add(mt):fe.done()});a.push(O)}),Lt.waitFor(a).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,d=ho(this.userId,i),_=IDBKeyRange.lowerBound(d);let D=new zs(Zr);return Ff(e).Z({range:_},(O,$,J)=>{const[fe,xe,Ke]=O,mt=Lc(xe);fe===this.userId&&i.isPrefixOf(mt)?mt.length===a&&(D=D.add(Ke)):J.done()}).next(()=>this.En(e,D))}En(e,t){const i=[],a=[];return t.forEach(d=>{a.push(dh(e).get(d).next(_=>{if(null===_)throw re();He(_.userId===this.userId),i.push(qh(this.yt,_))}))}),Lt.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return Zh(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),Lt.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Lt.resolve();const i=IDBKeyRange.lowerBound([this.userId]),a=[];return Ff(e).Z({range:i},(d,_,D)=>{if(d[0]===this.userId){const O=Lc(d[1]);a.push(O)}else D.done()}).next(()=>{He(0===a.length)})})}containsKey(e,t){return e_(e,this.userId,t)}Rn(e){return lv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function e_(n,e,t){const i=ho(e,t.path),a=i[1],d=IDBKeyRange.lowerBound(i);let _=!1;return Ff(n).Z({range:d,X:!0},(D,O,$)=>{const[J,fe,xe]=D;J===e&&fe===a&&(_=!0),$.done()}).next(()=>_)}function dh(n){return fo(n,"mutations")}function Ff(n){return fo(n,"documentMutations")}function lv(n){return fo(n,"mutationQueues")}class Yh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Yh(0)}static vn(){return new Yh(-1)}}class Wg{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new Yh(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Tr.fromTimestamp(new ns(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Sn(e,a)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hh(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(He(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let a=0;const d=[];return hh(e).Z((_,D)=>{const O=Nf(D);O.sequenceNumber<=t&&null===i.get(O.targetId)&&(a++,d.push(this.removeTargetData(e,O)))}).next(()=>Lt.waitFor(d)).next(()=>a)}forEachTarget(e,t){return hh(e).Z((i,a)=>{const d=Nf(a);t(d)})}Vn(e){return zg(e).get("targetGlobalKey").next(t=>(He(null!==t),t))}Sn(e,t){return zg(e).put("targetGlobalKey",t)}Dn(e,t){return hh(e).put(kg(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=cc(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let d=null;return hh(e).Z({range:a,index:"queryTargetsIndex"},(_,D,O)=>{const $=Nf(D);Nh(t,$.target)&&(d=$,O.done())}).next(()=>d)}addMatchingKeys(e,t,i){const a=[],d=Bc(e);return t.forEach(_=>{const D=fu(_.path);a.push(d.put({targetId:i,path:D})),a.push(this.referenceDelegate.addReference(e,i,_))}),Lt.waitFor(a)}removeMatchingKeys(e,t,i){const a=Bc(e);return Lt.forEach(t,d=>{const _=fu(d.path);return Lt.waitFor([a.delete([i,_]),this.referenceDelegate.removeReference(e,i,d)])})}removeMatchingKeysForTargetId(e,t){const i=Bc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Bc(e);let d=li();return a.Z({range:i,X:!0},(_,D,O)=>{const $=Lc(_[1]),J=new Rn($);d=d.add(J)}).next(()=>d)}containsKey(e,t){const i=fu(t.path),a=IDBKeyRange.bound([i],[Qa(i)],!1,!0);let d=0;return Bc(e).Z({index:"documentTargetsIndex",X:!0,range:a},([_,D],O,$)=>{0!==_&&(d++,$.done())}).next(()=>d>0)}ne(e,t){return hh(e).get(t).next(i=>i?Nf(i):null)}}function hh(n){return fo(n,"targets")}function zg(n){return fo(n,"targetGlobal")}function Bc(n){return fo(n,"targetDocuments")}function cv([n,e],[t,i]){const a=Zr(n,t);return 0===a?Zr(e,i):a}class t_{constructor(e){this.xn=e,this.buffer=new zs(cv),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();cv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dv{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;E("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Gt.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Cd(i)?E("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield fl(i)}yield t.Fn(3e5)}))}}class Ey{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Lt.resolve(du.at);const i=new t_(t);return this.$n.forEachTarget(e,a=>i.On(a.sequenceNumber)).next(()=>this.$n.Ln(e,a=>i.On(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector","Garbage collection skipped; disabled"),Lt.resolve(Qm)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qm):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,a,d,_,D,O,$;const J=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(fe=>(fe>this.params.maximumSequenceNumbersToCollect?(E("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${fe}`),a=this.params.maximumSequenceNumbersToCollect):a=fe,_=Date.now(),this.nthSequenceNumber(e,a))).next(fe=>(i=fe,D=Date.now(),this.removeTargets(e,i,t))).next(fe=>(d=fe,O=Date.now(),this.removeOrphanedDocuments(e,i))).next(fe=>($=Date.now(),Ed()<=Bo.in.DEBUG&&E("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-J}ms\n\tDetermined least recently used ${a} in `+(D-_)+`ms\n\tRemoved ${d} targets in `+(O-D)+`ms\n\tRemoved ${fe} documents in `+($-O)+`ms\nTotal Duration: ${$-J}ms`),Lt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:fe})))}}class by{constructor(e,t){this.db=e,this.garbageCollector=new Ey(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,a)=>t(a))}addReference(e,t,i){return qg(e,i)}removeReference(e,t,i){return qg(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return qg(e,t)}Gn(e,t){return function(i,a){let d=!1;return lv(i).tt(_=>e_(i,_,a).next(D=>(D&&(d=!0),Lt.resolve(!D)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Kn(e,(_,D)=>{if(D<=t){const O=this.Gn(e,_).next($=>{if(!$)return d++,i.getEntry(e,_).next(()=>(i.removeEntry(_,Tr.min()),Bc(e).delete([0,fu(_.path)])))});a.push(O)}}).next(()=>Lt.waitFor(a)).next(()=>i.apply(e)).next(()=>d)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return qg(e,t)}Kn(e,t){const i=Bc(e);let a,d=du.at;return i.Z({index:"documentTargetsIndex"},([_,D],{path:O,sequenceNumber:$})=>{0===_?(d!==du.at&&t(new Rn(Lc(a)),d),d=$,a=O):d=du.at}).next(()=>{d!==du.at&&t(new Rn(Lc(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qg(n,e){return Bc(n).put((i=n.currentSequenceNumber,{targetId:0,path:fu(e.path),sequenceNumber:i}));var i}class hv{constructor(){this.changes=new Uh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,co.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Lt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wy{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Jh(e).put(i)}removeEntry(e,t,i){return Jh(e).delete(function(a,d){const _=a.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],Pg(d),_[_.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=co.newInvalidDocument(t);return Jh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Qh(t))},(a,d)=>{i=this.jn(t,d)}).next(()=>i)}Wn(e,t){let i={size:0,document:co.newInvalidDocument(t)};return Jh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Qh(t))},(a,d)=>{i={document:this.jn(t,d),size:Lf(d)}}).next(()=>i)}getEntries(e,t){let i=Ku();return this.zn(e,t,(a,d)=>{const _=this.jn(a,d);i=i.insert(a,_)}).next(()=>i)}Hn(e,t){let i=Ku(),a=new zo(Rn.comparator);return this.zn(e,t,(d,_)=>{const D=this.jn(d,_);i=i.insert(d,D),a=a.insert(d,Lf(_))}).next(()=>({documents:i,Jn:a}))}zn(e,t,i){if(t.isEmpty())return Lt.resolve();let a=new zs(Bp);t.forEach(O=>a=a.add(O));const d=IDBKeyRange.bound(Qh(a.first()),Qh(a.last())),_=a.getIterator();let D=_.getNext();return Jh(e).Z({index:"documentKeyIndex",range:d},(O,$,J)=>{const fe=Rn.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;D&&Bp(D,fe)<0;)i(D,null),D=_.getNext();D&&D.isEqual(fe)&&(i(D,$),D=_.hasNext()?_.getNext():null),D?J.j(Qh(D)):J.done()}).next(()=>{for(;D;)i(D,null),D=_.hasNext()?_.getNext():null})}getAllFromCollection(e,t,i){const a=[t.popLast().toArray(),t.lastSegment(),Pg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jh(e).W(IDBKeyRange.bound(a,d,!0)).next(_=>{let D=Ku();for(const O of _){const $=this.jn(Rn.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);D=D.insert($.key,$)}return D})}getAllFromCollectionGroup(e,t,i,a){let d=Ku();const _=n_(t,i),D=n_(t,cu.max());return Jh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,D,!0)},(O,$,J)=>{const fe=this.jn(Rn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);d=d.insert(fe.key,fe),d.size===a&&J.done()}).next(()=>d)}newChangeBuffer(e){return new pv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Kg(e).get("remoteDocumentGlobalKey").next(t=>(He(!!t),t))}Qn(e,t){return Kg(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function xs(n,e){let t;if(e.document)t=Z_(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Rn.fromSegments(e.noDocument.path),a=lh(e.noDocument.readTime);t=co.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return re();{const i=Rn.fromSegments(e.unknownDocument.path),a=lh(e.unknownDocument.version);t=co.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(i){const a=new ns(i[0],i[1]);return Tr.fromTimestamp(a)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(Tr.min()))return i}return co.newInvalidDocument(e)}}function fv(n){return new wy(n)}class pv extends hv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Uh(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new zs((d,_)=>Zr(d.canonicalString(),_.canonicalString()));return this.changes.forEach((d,_)=>{const D=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,D.readTime)),_.isValidDocument()){const O=iv(this.Yn.yt,_);a=a.add(d.path.popLast());const $=Lf(O);i+=$-D.size,t.push(this.Yn.addEntry(e,d,O))}else if(i-=D.size,this.trackRemovals){const O=iv(this.Yn.yt,_.convertToNoDocument(Tr.min()));t.push(this.Yn.addEntry(e,d,O))}}),a.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,i)),Lt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:a})=>(a.forEach((d,_)=>{this.Xn.set(d,{size:_,readTime:i.get(d).readTime})}),i))}}function Kg(n){return fo(n,"remoteDocumentGlobal")}function Jh(n){return fo(n,"remoteDocumentsV14")}function Qh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function n_(n,e){const t=e.documentKey.path.toArray();return[n,Pg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Bp(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let d=0;d<t.length-2&&d<i.length-2;++d)if(a=Zr(t[d],i[d]),a)return a;return a=Zr(t.length,i.length),a||(a=Zr(t[t.length-2],i[i.length-2]),a||Zr(t[t.length-1],i[i.length-1]))}class ld{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class r_{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==i&&Tf(i.mutation,a,Qs.empty(),ns.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,li()).next(()=>i))}getLocalViewOfDocuments(e,t,i=li()){const a=pc();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(d=>{let _=Vh();return d.forEach((D,O)=>{_=_.insert(D,O.overlayedDocument)}),_}))}getOverlayedDocuments(e,t){const i=pc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,li()))}populateOverlays(e,t,i){const a=[];return i.forEach(d=>{t.has(d)||a.push(d)}),this.documentOverlayCache.getOverlays(e,a).next(d=>{d.forEach((_,D)=>{t.set(_,D)})})}computeViews(e,t,i,a){let d=Ku();const _=Cp(),D=Cp();return t.forEach((O,$)=>{const J=i.get($.key);a.has($.key)&&(void 0===J||J.mutation instanceof Pc)?d=d.insert($.key,$):void 0!==J?(_.set($.key,J.mutation.getFieldMask()),Tf(J.mutation,$,J.mutation.getFieldMask(),ns.now())):_.set($.key,Qs.empty())}),this.recalculateAndSaveOverlays(e,d).next(O=>(O.forEach(($,J)=>_.set($,J)),t.forEach(($,J)=>{var fe;return D.set($,new ld(J,null!==(fe=_.get($))&&void 0!==fe?fe:null))}),D))}recalculateAndSaveOverlays(e,t){const i=Cp();let a=new zo((_,D)=>_-D),d=li();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(_=>{for(const D of _)D.keys().forEach(O=>{const $=t.get(O);if(null===$)return;let J=i.get(O)||Qs.empty();J=D.applyToLocalView($,J),i.set(O,J);const fe=(a.get(D.batchId)||li()).add(O);a=a.insert(D.batchId,fe)})}).next(()=>{const _=[],D=a.getReverseIterator();for(;D.hasNext();){const O=D.getNext(),$=O.key,J=O.value,fe=ly();J.forEach(xe=>{if(!d.has(xe)){const Ke=Dg(t.get(xe),i.get(xe));null!==Ke&&fe.set(xe,Ke),d=d.add(xe)}}),_.push(this.documentOverlayCache.saveOverlays(e,$,fe))}return Lt.waitFor(_)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Rn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Oh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var a}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(d=>{const _=a-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-d.size):Lt.resolve(pc());let D=-1,O=d;return _.next($=>Lt.forEach($,(J,fe)=>(D<fe.largestBatchId&&(D=fe.largestBatchId),d.get(J)?Lt.resolve():this.remoteDocumentCache.getEntry(e,J).next(xe=>{O=O.insert(J,xe)}))).next(()=>this.populateOverlays(e,$,d)).next(()=>this.computeViews(e,O,$,li())).next(J=>({batchId:D,changes:z_(J)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rn(t)).next(i=>{let a=Vh();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const a=t.collectionGroup;let d=Vh();return this.indexManager.getCollectionParents(e,a).next(_=>Lt.forEach(_,D=>{const O=($=t,J=D.child(a),new rh(J,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,J;return this.getDocumentsMatchingCollectionQuery(e,O,i).next($=>{$.forEach((J,fe)=>{d=d.insert(J,fe)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(d=>(a=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(d=>{d.forEach((D,O)=>{const $=O.getKey();null===a.get($)&&(a=a.insert($,co.newInvalidDocument($)))});let _=Vh();return a.forEach((D,O)=>{const $=d.get(D);void 0!==$&&Tf($.mutation,O,Qs.empty(),ns.now()),wg(t,O)&&(_=_.insert(D,O))}),_})}}class Bf{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Lt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ko(i.createTime)}),Lt.resolve()}getNamedQuery(e,t){return Lt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:Lg(i.bundledQuery),readTime:Ko(i.readTime)}),Lt.resolve();var i}}class gv{constructor(){this.overlays=new zo(Rn.comparator),this.es=new Map}getOverlay(e,t){return Lt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=pc();return Lt.forEach(t,a=>this.getOverlay(e,a).next(d=>{null!==d&&i.set(a,d)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,d)=>{this.oe(e,t,d)}),Lt.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.es.get(i);return void 0!==a&&(a.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(i)),Lt.resolve()}getOverlaysForCollection(e,t,i){const a=pc(),d=t.length+1,_=new Rn(t.child("")),D=this.overlays.getIteratorFrom(_);for(;D.hasNext();){const O=D.getNext().value,$=O.getKey();if(!t.isPrefixOf($.path))break;$.path.length===d&&O.largestBatchId>i&&a.set(O.getKey(),O)}return Lt.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let d=new zo(($,J)=>$-J);const _=this.overlays.getIterator();for(;_.hasNext();){const $=_.getNext().value;if($.getKey().getCollectionGroup()===t&&$.largestBatchId>i){let J=d.get($.largestBatchId);null===J&&(J=pc(),d=d.insert($.largestBatchId,J)),J.set($.getKey(),$)}}const D=pc(),O=d.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach(($,J)=>D.set($,J)),!(D.size()>=a)););return Lt.resolve(D)}oe(e,t,i){const a=this.overlays.get(i.key);if(null!==a){const _=this.es.get(a.largestBatchId).delete(i.key);this.es.set(a.largestBatchId,_)}this.overlays=this.overlays.insert(i.key,new kl(t,i));let d=this.es.get(t);void 0===d&&(d=li(),this.es.set(t,d)),this.es.set(t,d.add(i.key))}}class Zg{constructor(){this.ns=new zs(Fa.ss),this.rs=new zs(Fa.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Fa(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Fa(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Rn(new ji([])),i=new Fa(t,e),a=new Fa(t,e+1),d=[];return this.rs.forEachInRange([i,a],_=>{this.cs(_),d.push(_.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Rn(new ji([])),i=new Fa(t,e),a=new Fa(t,e+1);let d=li();return this.rs.forEachInRange([i,a],_=>{d=d.add(_.key)}),d}containsKey(e){const t=new Fa(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Fa{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Rn.comparator(e.key,t.key)||Zr(e._s,t._s)}static os(e,t){return Zr(e._s,t._s)||Rn.comparator(e.key,t.key)}}class Yg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new zs(Fa.ss)}checkEmpty(e){return Lt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,a){const d=this.ws;this.ws++;const _=new di(d,t,i,a);this.mutationQueue.push(_);for(const D of a)this.gs=this.gs.add(new Fa(D.key,d)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Lt.resolve(_)}lookupMutationBatch(e,t){return Lt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),d=a<0?0:a;return Lt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Lt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fa(t,0),a=new Fa(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([i,a],_=>{const D=this.ys(_._s);d.push(D)}),Lt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zs(Zr);return t.forEach(a=>{const d=new Fa(a,0),_=new Fa(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,_],D=>{i=i.add(D._s)})}),Lt.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let d=i;Rn.isDocumentKey(d)||(d=d.child(""));const _=new Fa(new Rn(d),0);let D=new zs(Zr);return this.gs.forEachWhile(O=>{const $=O.key.path;return!!i.isPrefixOf($)&&($.length===a&&(D=D.add(O._s)),!0)},_),Lt.resolve(this.Is(D))}Is(e){const t=[];return e.forEach(i=>{const a=this.ys(i);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){He(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Lt.forEach(t.mutations,a=>{const d=new Fa(a.key,t.batchId);return i=i.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Fa(t,0),a=this.gs.firstAfterOrEqual(i);return Lt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Lt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cd{constructor(e){this.Es=e,this.docs=new zo(Rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),d=a?a.size:0,_=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:_}),this.size+=_-d,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Lt.resolve(i?i.document.mutableCopy():co.newInvalidDocument(t))}getEntries(e,t){let i=Ku();return t.forEach(a=>{const d=this.docs.get(a);i=i.insert(a,d?d.document.mutableCopy():co.newInvalidDocument(a))}),Lt.resolve(i)}getAllFromCollection(e,t,i){let a=Ku();const d=new Rn(t.child("")),_=this.docs.getIteratorFrom(d);for(;_.hasNext();){const{key:D,value:{document:O}}=_.getNext();if(!t.isPrefixOf(D.path))break;D.path.length>t.length+1||Dc(hg(O),i)<=0||(a=a.insert(O.key,O.mutableCopy()))}return Lt.resolve(a)}getAllFromCollectionGroup(e,t,i,a){re()}As(e,t){return Lt.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Up(this)}getSize(e){return Lt.resolve(this.size)}}class Up extends hv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(i)}),Lt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Qu{constructor(e){this.persistence=e,this.Rs=new Uh(t=>cc(t),Nh),this.lastRemoteSnapshotVersion=Tr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Zg,this.targetCount=0,this.vs=Yh.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,a)=>t(a)),Lt.resolve()}getLastRemoteSnapshotVersion(e){return Lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Lt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Lt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Yh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Lt.resolve()}updateTargetData(e,t){return this.Dn(t),Lt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Lt.resolve()}removeTargets(e,t,i){let a=0;const d=[];return this.Rs.forEach((_,D)=>{D.sequenceNumber<=t&&null===i.get(D.targetId)&&(this.Rs.delete(_),d.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),Lt.waitFor(d).next(()=>a)}getTargetCount(e){return Lt.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return Lt.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),Lt.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(_=>{d.push(a.markPotentiallyOrphaned(e,_))}),Lt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Lt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return Lt.resolve(i)}containsKey(e,t){return Lt.resolve(this.Ps.containsKey(t))}}class Yo{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new du(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Qu(this),this.indexManager=new Rf,this.remoteDocumentCache=new cd(i=>this.referenceDelegate.xs(i)),this.yt=new Ll(t),this.Ns=new Bf(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new Yg(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){E("MemoryPersistence","Starting transaction:",e);const a=new Uf(this.Ss.next());return this.referenceDelegate.ks(),i(a).next(d=>this.referenceDelegate.Os(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Ms(e,t){return Lt.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class Uf extends fg{constructor(e){super(),this.currentSequenceNumber=e}}class vl{constructor(e){this.persistence=e,this.Fs=new Zg,this.$s=null}static Bs(e){return new vl(e)}get Ls(){if(this.$s)return this.$s;throw re()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),Lt.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),Lt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Lt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.Ls.add(d.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lt.forEach(this.Ls,i=>{const a=Rn.fromPath(i);return this.qs(e,a).next(d=>{d||t.removeEntry(a,Tr.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Lt.or([()=>Lt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Jg{constructor(e){this.yt=e}$(e,t,i,a){const d=new Qd("createOrUpgrade",t);var D;i<1&&a>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ah,{unique:!0}),D.createObjectStore("documentMutations"),mc(e),function(D){D.createObjectStore("remoteDocuments")}(e));let _=Lt.resolve();return i<3&&a>=3&&(0!==i&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),mc(e)),_=_.next(()=>function(D){const O=D.store("targetGlobal"),$={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tr.min().toTimestamp(),targetCount:0};return O.put("targetGlobalKey",$)}(d))),i<4&&a>=4&&(0!==i&&(_=_.next(()=>function(D,O){return O.store("mutations").W().next($=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ah,{unique:!0});const J=O.store("mutations"),fe=$.map(xe=>J.put(xe));return Lt.waitFor(fe)})}(e,d))),_=_.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&a>=5&&(_=_.next(()=>this.Us(d))),i<6&&a>=6&&(_=_.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),i<7&&a>=7&&(_=_.next(()=>this.Gs(d))),i<8&&a>=8&&(_=_.next(()=>this.Qs(e,d))),i<9&&a>=9&&(_=_.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&a>=10&&(_=_.next(()=>this.js(d))),i<11&&a>=11&&(_=_.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&a>=12&&(_=_.next(()=>{!function(D){const O=D.createObjectStore("documentOverlays",{keyPath:xp});O.createIndex("collectionPathOverlayIndex",Zo,{unique:!1}),O.createIndex("collectionGroupOverlayIndex",uh,{unique:!1})}(e)})),i<13&&a>=13&&(_=_.next(()=>function(D){const O=D.createObjectStore("remoteDocumentsV14",{keyPath:Wm});O.createIndex("documentKeyIndex",X_),O.createIndex("collectionGroupIndex",ev)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&a>=14&&(_=_.next(()=>this.zs(e,d))),i<15&&a>=15&&(_=_.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:Wh}).createIndex("sequenceNumberIndex",zh,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:zm}).createIndex("documentKeyIndex",Ap,{unique:!1})}(e))),_}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,a)=>{t+=Lf(a)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(a=>Lt.forEach(a,d=>{const _=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",_).next(D=>Lt.forEach(D,O=>{He(O.userId===d.userId);const $=qh(this.yt,O);return Zh(e,d.userId,$).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const d=[];return i.Z((_,D)=>{const O=new ji(_),$=[0,fu(O)];d.push(t.get($).next(J=>J?Lt.resolve():t.put({targetId:0,path:fu(O),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Lt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:jh});const i=t.store("collectionParents"),a=new Pf,d=_=>{if(a.add(_)){const D=_.lastSegment(),O=_.popLast();return i.put({collectionId:D,parent:fu(O)})}};return t.store("remoteDocuments").Z({X:!0},(_,D)=>{const O=new ji(_);return d(O.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([_,D,O],$)=>{const J=Lc(D);return d(J.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,a)=>{const d=Nf(a),_=kg(this.yt,d);return t.put(_)})}Ws(e,t){const i=t.store("remoteDocuments"),a=[];return i.Z((d,_)=>{const D=t.store("remoteDocumentsV14"),O=($=_,$.document?new Rn(ji.fromString($.document.name).popFirst(5)):$.noDocument?Rn.fromSegments($.noDocument.path):$.unknownDocument?Rn.fromSegments($.unknownDocument.path):re()).path.toArray();var $;const J={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};a.push(D.put(J))}).next(()=>Lt.waitFor(a))}zs(e,t){const i=t.store("mutations"),a=fv(this.yt),d=new Yo(vl.Bs,this.yt.ie);return i.W().next(_=>{const D=new Map;return _.forEach(O=>{var $;let J=null!==($=D.get(O.userId))&&void 0!==$?$:li();qh(this.yt,O).keys().forEach(fe=>J=J.add(fe)),D.set(O.userId,J)}),Lt.forEach(D,(O,$)=>{const J=new Oo($),fe=Bg.re(this.yt,J),xe=d.getIndexManager(J),Ke=Xm.re(J,this.yt,xe,d.referenceDelegate);return new r_(a,Ke,fe,xe).recalculateAndSaveOverlaysForDocumentKeys(new Np(t,du.at),O).next()})})}}function mc(n){n.createObjectStore("targetDocuments",{keyPath:tv}).createIndex("documentTargetsIndex",Og,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_y,{unique:!0}),n.createObjectStore("targetGlobal")}const Pd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uc{constructor(e,t,i,a,d,_,D,O,$,J,fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=d,this.window=_,this.document=D,this.Js=$,this.Ys=J,this.Xs=fe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=xe=>Promise.resolve(),!Uc.C())throw new Mt(Qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new by(this,a),this.ii=t+"main",this.yt=new Ll(O),this.ri=new Ql(this.ii,this.Xs,new Jg(this.yt)),this.Cs=new Wg(this.referenceDelegate,this.yt),this.remoteDocumentCache=fv(this.yt),this.Ns=new Km,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===J&&C("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Mt(Qe.FAILED_PRECONDITION,Pd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new du(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Gt.Z)(function*(a){if(t.started)return e(a)});return function(a){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Gt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Gt.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_c(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Cd(e))return E("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return E("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return dd(e).get("owner").next(t=>Lt.resolve(this.mi(t)))}gi(e){return _c(e).delete(this.clientId)}yi(){var e=this;return(0,Gt.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const a=fo(i,"clientMetadata");return a.W().next(d=>{const _=e.Ii(d,18e5),D=d.filter(O=>-1===_.indexOf(O));return Lt.forEach(D,O=>a.delete(O.clientId)).next(()=>D)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Lt.resolve(!0):dd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Mt(Qe.FAILED_PRECONDITION,Pd);return!1}}return!(!this.networkEnabled||!this.inForeground)||_c(e).W().next(i=>void 0===this.Ii(i,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&E("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Gt.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Np(t,du.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>_c(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Xm.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hg(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Bg.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){E("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",d=15===(_=this.Xs)?vy:14===_?rv:13===_?Rg:12===_?nv:11===_?Mp:void re();var _;let D;return this.ri.runTransaction(e,a,d,O=>(D=new Np(O,this.Ss?this.Ss.next():du.at),"readwrite-primary"===t?this.fi(D).next($=>!!$||this.di(D)).next($=>{if(!$)throw C(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Mt(Qe.FAILED_PRECONDITION,ed);return i(D)}).next($=>this.wi(D).next(()=>$)):this.Vi(D).next(()=>i(D)))).then(O=>(D.raiseOnCommittedEvent(),O))}Vi(e){return dd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Mt(Qe.FAILED_PRECONDITION,Pd)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dd(e).put("owner",t)}static C(){return Ql.C()}_i(e){const t=dd(e);return t.get("owner").next(i=>this.mi(i)?(E("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Lt.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(C(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Vr.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return E("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return C("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){C("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dd(n){return fo(n,"owner")}function _c(n){return fo(n,"clientMetadata")}function kd(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ld{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=a}static Ci(e,t){let i=li(),a=li();for(const d of t.docChanges)switch(d.type){case 0:i=i.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new Ld(e,t.fromCache,i,a)}}class Xh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,a){return this.ki(e,t).next(d=>d||this.Oi(e,t,a,i)).next(d=>d||this.Mi(e,t))}ki(e,t){if(gp(t))return Lt.resolve(null);let i=pl(t);return this.indexManager.getIndexType(e,i).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Rh(t,null,"F"),i=pl(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(d=>{const _=li(...d);return this.Ni.getDocuments(e,_).next(D=>this.indexManager.getMinOffset(e,i).next(O=>{const $=this.Fi(t,D);return this.$i(t,$,_,O.readTime)?this.ki(e,Rh(t,null,"F")):this.Bi(e,$,t,O)}))})))}Oi(e,t,i,a){return gp(t)||a.isEqual(Tr.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(d=>{const _=this.Fi(t,d);return this.$i(t,_,i,a)?this.Mi(e,t):(Ed()<=Bo.in.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_p(t)),this.Bi(e,_,t,Ih(a,-1)))})}Fi(e,t){let i=new zs(vp(e));return t.forEach((a,d)=>{wg(e,d)&&(i=i.add(d))}),i}$i(e,t,i,a){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Mi(e,t){return Ed()<=Bo.in.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",_p(t)),this.Ni.getDocumentsMatchingQuery(e,t,cu.min())}Bi(e,t,i,a){return this.Ni.getDocumentsMatchingQuery(e,i,a).next(d=>(t.forEach(_=>{d=d.insert(_.key,_)}),d))}}class Vf{constructor(e,t,i,a){this.persistence=e,this.Li=t,this.yt=a,this.qi=new zo(Zr),this.Ui=new Uh(d=>cc(d),Nh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Qg(n,e,t,i){return new Vf(n,e,t,i)}function i_(n,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,Gt.Z)(function*(n,e){const t=kt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(d=>(a=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(d=>{const _=[],D=[];let O=li();for(const $ of a){_.push($.batchId);for(const J of $.mutations)O=O.add(J.key)}for(const $ of d){D.push($.batchId);for(const J of $.mutations)O=O.add(J.key)}return t.localDocuments.getDocuments(i,O).next($=>({ji:$,removedBatchIds:_,addedBatchIds:D}))})})}),Xg.apply(this,arguments)}function Vp(n,e){const t=kt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(_,D,O,$){const J=O.batch,fe=J.keys();let xe=Lt.resolve();return fe.forEach(Ke=>{xe=xe.next(()=>$.getEntry(D,Ke)).next(mt=>{const Ut=O.docVersions.get(Ke);He(null!==Ut),mt.version.compareTo(Ut)<0&&(J.applyToRemoteDocument(mt,O),mt.isValidDocument()&&(mt.setReadTime(O.commitVersion),$.addEntry(mt)))})}),xe.next(()=>_.mutationQueue.removeMutationBatch(D,J))}(t,i,e,d).next(()=>d.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(_){let D=li();for(let O=0;O<_.mutationResults.length;++O)_.mutationResults[O].transformResults.length>0&&(D=D.add(_.batch.mutations[O].key));return D}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function $p(n){const e=kt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function em(n,e){const t=kt(n),i=e.snapshotVersion;let a=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const _=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.qi;const D=[];e.targetChanges.forEach((J,fe)=>{const xe=a.get(fe);if(!xe)return;D.push(t.Cs.removeMatchingKeys(d,J.removedDocuments,fe).next(()=>t.Cs.addMatchingKeys(d,J.addedDocuments,fe)));let Ke=xe.withSequenceNumber(d.currentSequenceNumber);var mt,Ut,an;e.targetMismatches.has(fe)?Ke=Ke.withResumeToken(Po.EMPTY_BYTE_STRING,Tr.min()).withLastLimboFreeSnapshotVersion(Tr.min()):J.resumeToken.approximateByteSize()>0&&(Ke=Ke.withResumeToken(J.resumeToken,i)),a=a.insert(fe,Ke),Ut=Ke,an=J,(0===(mt=xe).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-mt.snapshotVersion.toMicroseconds()>=3e8||an.addedDocuments.size+an.modifiedDocuments.size+an.removedDocuments.size>0)&&D.push(t.Cs.updateTargetData(d,Ke))});let O=Ku(),$=li();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(d,J))}),D.push(s_(d,_,e.documentUpdates).next(J=>{O=J.Wi,$=J.zi})),!i.isEqual(Tr.min())){const J=t.Cs.getLastRemoteSnapshotVersion(d).next(fe=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,i));D.push(J)}return Lt.waitFor(D).next(()=>_.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,O,$)).next(()=>O)}).then(d=>(t.qi=a,d))}function s_(n,e,t){let i=li(),a=li();return t.forEach(d=>i=i.add(d)),e.getEntries(n,i).next(d=>{let _=Ku();return t.forEach((D,O)=>{const $=d.get(D);O.isFoundDocument()!==$.isFoundDocument()&&(a=a.add(D)),O.isNoDocument()&&O.version.isEqual(Tr.min())?(e.removeEntry(D,O.readTime),_=_.insert(D,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),_=_.insert(D,O)):E("LocalStore","Ignoring outdated watch update for ",D,". Current version:",$.version," Watch version:",O.version)}),{Wi:_,zi:a}})}function Ty(n,e){const t=kt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $f(n,e){const t=kt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Cs.getTargetData(i,e).next(d=>d?(a=d,Lt.resolve(a)):t.Cs.allocateTargetId(i).next(_=>(a=new Od(e,_,0,i.currentSequenceNumber),t.Cs.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.qi.get(i.targetId);return(null===a||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function Hf(n,e,t){return tm.apply(this,arguments)}function tm(){return tm=(0,Gt.Z)(function*(n,e,t){const i=kt(n),a=i.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",d,_=>i.persistence.referenceDelegate.removeTarget(_,a)))}catch(_){if(!Cd(_))throw _;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}i.qi=i.qi.remove(e),i.Ui.delete(a.target)}),tm.apply(this,arguments)}function Fd(n,e,t){const i=kt(n);let a=Tr.min(),d=li();return i.persistence.runTransaction("Execute query","readonly",_=>function(D,O,$){const J=kt(D),fe=J.Ui.get($);return void 0!==fe?Lt.resolve(J.qi.get(fe)):J.Cs.getTargetData(O,$)}(i,_,pl(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(_,D.targetId).next(O=>{d=O})}).next(()=>i.Li.getDocumentsMatchingQuery(_,e,t?a:Tr.min(),t?d:li())).next(D=>(nm(i,V_(e),D),{documents:D,Hi:d})))}function mv(n,e){const t=kt(n),i=kt(t.Cs),a=t.qi.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>i.ne(d,e).next(_=>_?_.target:null))}function o_(n,e){const t=kt(n),i=t.Ki.get(e)||Tr.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Gi.getAllFromCollectionGroup(a,e,Ih(i,-1),Number.MAX_SAFE_INTEGER)).then(a=>(nm(t,e,a),a))}function nm(n,e,t){let i=n.Ki.get(e)||Tr.min();t.forEach((a,d)=>{d.readTime.compareTo(i)>0&&(i=d.readTime)}),n.Ki.set(e,i)}function a_(){return a_=(0,Gt.Z)(function*(n,e,t,i){const a=kt(n);let d=li(),_=Ku();for(const $ of t){const J=e.Ji($.metadata.name);$.document&&(d=d.add(J));const fe=e.Yi($);fe.setReadTime(e.Xi($.metadata.readTime)),_=_.insert(J,fe)}const D=a.Gi.newChangeBuffer({trackRemovals:!0}),O=yield $f(a,($=i,pl(Xa(ji.fromString(`__bundle__/docs/${$}`)))));var $;return a.persistence.runTransaction("Apply bundle documents","readwrite",$=>s_($,D,_).next(J=>(D.apply($),J)).next(J=>a.Cs.removeMatchingKeysForTargetId($,O.targetId).next(()=>a.Cs.addMatchingKeys($,d,O.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments($,J.Wi,J.zi)).next(()=>J.Wi)))}),a_.apply(this,arguments)}function im(n,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Gt.Z)(function*(n,e,t=li()){const i=yield $f(n,pl(Lg(e.bundledQuery))),a=kt(n);return a.persistence.runTransaction("Save named query","readwrite",d=>{const _=Ko(e.readTime);if(i.snapshotVersion.compareTo(_)>=0)return a.Ns.saveNamedQuery(d,e);const D=i.withResumeToken(Po.EMPTY_BYTE_STRING,_);return a.qi=a.qi.insert(D.targetId,D),a.Cs.updateTargetData(d,D).next(()=>a.Cs.removeMatchingKeysForTargetId(d,i.targetId)).next(()=>a.Cs.addMatchingKeys(d,t,i.targetId)).next(()=>a.Ns.saveNamedQuery(d,e))})}),Gf.apply(this,arguments)}function vc(n,e){return`firestore_clients_${n}_${e}`}function u_(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function jf(n,e){return`firestore_targets_${n}_${e}`}class ef{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Zi(e,t,i){const a=JSON.parse(i);let d,_="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return _&&a.error&&(_="string"==typeof a.error.message&&"string"==typeof a.error.code,_&&(d=new Mt(a.error.code,a.error.message))),_?new ef(e,t,a.state,d):(C("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let a,d="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Mt(i.error.code,i.error.message))),d?new Wf(e,i.state,a):(C("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let a="object"==typeof i&&i.activeTargetIds instanceof Array,d=Dp();for(let _=0;a&&_<i.activeTargetIds.length;++_)a=Xd(i.activeTargetIds[_]),d=d.add(i.activeTargetIds[_]);return a?new zf(e,d):(C("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hp{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hp(t.clientId,t.onlineState):(C("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sm{constructor(){this.activeTargetIds=Dp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f{constructor(e,t,i,a,d){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new zo(Zr),this.started=!1,this.cr=[];const _=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=vc(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new sm),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Gt.Z)(function*(){const t=yield e.syncEngine.vi();for(const a of t){if(a===e.sr)continue;const d=e.getItem(vc(e.persistenceKey,a));if(d){const _=zf.Zi(a,d);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const a=e.yr(i);a&&e.pr(a)}for(const a of e.cr)e.rr(a);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(jf(this.persistenceKey,e));if(i){const a=Wf.Zi(e,i);a&&(t=a.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jf(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.Er(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return E("SharedClientState","READ",e,t),t}setItem(e,t){E("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){E("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(E("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void C("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Gt.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const a=t.vr(i.key);return t.Vr(a,null)}{const a=t.Sr(i.key,i.newValue);if(a)return t.Vr(a.clientId,a)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const a=t.Dr(i.key,i.newValue);if(a)return t.Cr(a)}}else if(t._r.test(i.key)){if(null!==i.newValue){const a=t.Nr(i.key,i.newValue);if(a)return t.kr(a)}}else if(i.key===t.wr){if(null!==i.newValue){const a=t.yr(i.newValue);if(a)return t.pr(a)}}else if(i.key===t.hr){const a=function(d){let _=du.at;if(null!=d)try{const D=JSON.parse(d);He("number"==typeof D),_=D}catch(D){C("SharedClientState","Failed to read sequence number from WebStorage",D)}return _}(i.newValue);a!==du.at&&t.sequenceNumberHandler(a)}else if(i.key===t.mr){const a=t.Or(i.newValue);yield Promise.all(a.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const a=new ef(this.currentUser,e,t,i),d=u_(this.persistenceKey,this.currentUser,e);this.setItem(d,a.tr())}Er(e){const t=u_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const a=jf(this.persistenceKey,e),d=new Wf(e,t,i);this.setItem(a,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return zf.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),a=Number(i[1]);return ef.Zi(new Oo(void 0!==i[2]?i[2]:null),a,t)}Nr(e,t){const i=this._r.exec(e),a=Number(i[1]);return Wf.Zi(a,t)}yr(e){return Hp.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Gt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);E("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),a=this.Ir(this.ur),d=this.Ir(i),_=[],D=[];return d.forEach(O=>{a.has(O)||_.push(O)}),a.forEach(O=>{d.has(O)||D.push(O)}),this.syncEngine.Br(_,D).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Dp();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class v{constructor(){this.Lr=new sm,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new sm,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class I{Ur(e){}shutdown(){}}class q{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const te={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ye{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ve extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,a,d){const _=this.ho(e,t);E("RestConnection","Sending: ",_,i);const D={};return this.lo(D,a,d),this.fo(e,_,D,i).then(O=>(E("RestConnection","Received: ",O),O),O=>{throw k("RestConnection",`${e} failed with error: `,O,"url: ",_,"request:",i),O})}_o(e,t,i,a,d,_){return this.ao(e,t,i,a,d)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),i&&i.headers.forEach((a,d)=>e[d]=a)}ho(e,t){return`${this.oo}/v1/${t}:${te[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,a){return new Promise((d,_)=>{const D=new Pa;D.setWithCredentials(!0),D.listenOnce(qd.COMPLETE,()=>{try{switch(D.getLastErrorCode()){case Mr.NO_ERROR:const $=D.getResponseJson();E("Connection","XHR received:",JSON.stringify($)),d($);break;case Mr.TIMEOUT:E("Connection",'RPC "'+e+'" timed out'),_(new Mt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case Mr.HTTP_ERROR:const J=D.getStatus();if(E("Connection",'RPC "'+e+'" failed with status:',J,"response text:",D.getResponseText()),J>0){let fe=D.getResponseJson();Array.isArray(fe)&&(fe=fe[0]);const xe=fe?.error;if(xe&&xe.status&&xe.message){const Ke=function(mt){const Ut=mt.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(Ut)>=0?Ut:Qe.UNKNOWN}(xe.status);_(new Mt(Ke,xe.message))}else _(new Mt(Qe.UNKNOWN,"Server responded with status "+D.getStatus()))}else _(new Mt(Qe.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{E("Connection",'RPC "'+e+'" completed.')}});const O=JSON.stringify(a);D.send(t,"POST",O,i,15)})}wo(e,t,i){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=la(),_=yd(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new Ch({})),this.lo(D.initMessageHeaders,t,i),D.encodeInitMessageHeaders=!0;const O=a.join("");E("Connection","Creating WebChannel: "+O,D);const $=d.createWebChannel(O,D);let J=!1,fe=!1;const xe=new ye({Hr:mt=>{fe?E("Connection","Not sending because WebChannel is closed:",mt):(J||(E("Connection","Opening WebChannel transport."),$.open(),J=!0),E("Connection","WebChannel sending:",mt),$.send(mt))},Jr:()=>$.close()}),Ke=(mt,Ut,an)=>{mt.listen(Ut,Ln=>{try{an(Ln)}catch(tr){setTimeout(()=>{throw tr},0)}})};return Ke($,hl.EventType.OPEN,()=>{fe||E("Connection","WebChannel transport opened.")}),Ke($,hl.EventType.CLOSE,()=>{fe||(fe=!0,E("Connection","WebChannel transport closed"),xe.io())}),Ke($,hl.EventType.ERROR,mt=>{fe||(fe=!0,k("Connection","WebChannel transport errored:",mt),xe.io(new Mt(Qe.UNAVAILABLE,"The operation could not be completed")))}),Ke($,hl.EventType.MESSAGE,mt=>{var Ut;if(!fe){const an=mt.data[0];He(!!an);const tr=an.error||(null===(Ut=an[0])||void 0===Ut?void 0:Ut.error);if(tr){E("Connection","WebChannel received error:",tr);const Nr=tr.status;let Fr=function(Er){const Bi=Fs[Er];if(void 0!==Bi)return j_(Bi)}(Nr),cr=tr.message;void 0===Fr&&(Fr=Qe.INTERNAL,cr="Unknown error status: "+Nr+" with message "+tr.message),fe=!0,xe.io(new Mt(Fr,cr)),$.close()}else E("Connection","WebChannel received:",an),xe.ro(an)}}),Ke(_,Ya.STAT_EVENT,mt=>{mt.stat===Jl.PROXY?E("Connection","Detected buffering proxy"):mt.stat===Jl.NOPROXY&&E("Connection","Detected no buffering proxy")}),setTimeout(()=>{xe.so()},0),xe}}function Je(){return typeof window<"u"?window:null}function gt(){return typeof document<"u"?document:null}function Qt(n){return new Ip(n,!0)}class nn{constructor(e,t,i=1e3,a=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=a,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-i);a>0&&E("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ln{constructor(e,t,i,a,d,_,D,O){this.Hs=e,this.vo=i,this.Vo=a,this.connection=d,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=D,this.listener=O,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new nn(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Gt.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Gt.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Gt.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(C(t.toString()),C("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===Qe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.So===t&&this.Go(i,a)},i=>{e(()=>{const a=new Mt(Qe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(a)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{i(()=>this.Qo(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Gt.Z)(function*(){e.state=0,e.start()}))}Qo(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kn extends ln{constructor(e,t,i,a,d,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,_),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Y_(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:re(),a=e.targetChange.targetIds||[],d=function(O,$){return O.wt?(He(void 0===$||"string"==typeof $),Po.fromBase64String($||"")):(He(void 0===$||$ instanceof Uint8Array),Po.fromUint8Array($||new Uint8Array))}(n,e.targetChange.resumeToken),_=e.targetChange.cause,D=_&&function(O){const $=void 0===O.code?Qe.UNKNOWN:j_(O.code);return new Mt($,O.message||"")}(_);t=new Sf(i,a,d,D||null)}else if("documentChange"in e){const i=e.documentChange,a=Zu(n,i.document.name),d=Ko(i.document.updateTime),_=i.document.createTime?Ko(i.document.createTime):Tr.min(),D=new qo({mapValue:{fields:i.document.fields}}),O=co.newFoundDocument(a,d,_,D);t=new Df(i.targetIds||[],i.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const i=e.documentDelete,a=Zu(n,i.document),d=i.readTime?Ko(i.readTime):Tr.min(),_=co.newNoDocument(a,d);t=new Df([],i.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const i=e.documentRemove,a=Zu(n,i.document);t=new Df([],i.removedTargetIds||[],a,null)}else{if(!("filter"in e))return re();{const i=e.filter,d=new Bh(i.count||0);t=new Vm(i.targetId,d)}}var O;return t}(this.yt,e),i=function(a){if(!("targetChange"in a))return Tr.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?Tr.min():d.readTime?Ko(d.readTime):Tr.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=$h(this.yt),t.addTarget=function(a,d){let _;const D=d.target;return _=nh(D)?{documents:kc(a,D)}:{query:Yu(a,D)},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?_.resumeToken=Hm(a,d.resumeToken):d.snapshotVersion.compareTo(Tr.min())>0&&(_.readTime=Md(a,d.snapshotVersion.toTimestamp())),_}(this.yt,e);const i=function Mg(n,e){const t=function(i,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return re()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=$h(this.yt),t.removeTarget=e,this.Bo(t)}}class gr extends ln{constructor(e,t,i,a,d,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,_),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function gy(n,e){return n&&n.length>0?(He(void 0!==e),n.map(t=>function(i,a){let d=Ko(i.updateTime?i.updateTime:a);return d.isEqual(Tr.min())&&(d=Ko(a)),new bp(d,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ko(e.commitTime);return this.listener.Zo(i,t)}return He(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=$h(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Hh(this.yt,i))};this.Bo(t)}}class Hr extends class{}{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=a,this.nu=!1}su(){if(this.nu)throw new Mt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.ao(e,t,i,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Mt(Qe.UNKNOWN,a.toString())})}_o(e,t,i,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection._o(e,t,i,d,_,a)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Mt(Qe.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Ki{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(C(t),this.ou=!1):E("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class as{constructor(e,t,i,a,d){var _=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(D=>{i.enqueueAndForget((0,Gt.Z)(function*(){var O;Vc(_)&&(E("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,Gt.Z)(function*($){const J=kt($);J._u.add(4),yield Ia(J),J.gu.set("Unknown"),J._u.delete(4),yield gu(J)}),function($){return O.apply(this,arguments)})(_))}))}),this.gu=new Ki(i,a)}}function gu(n){return mu.apply(this,arguments)}function mu(){return mu=(0,Gt.Z)(function*(n){if(Vc(n))for(const e of n.wu)yield e(!0)}),mu.apply(this,arguments)}function Ia(n){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,Gt.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Bs.apply(this,arguments)}function Ba(n,e){const t=kt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Cy(t)?om(t):_u(t).ko()&&qf(t,e))}function Ul(n,e){const t=kt(n),i=_u(t);t.du.delete(e),i.ko()&&tf(t,e),0===t.du.size&&(i.ko()?i.Fo():Vc(t)&&t.gu.set("Unknown"))}function qf(n,e){n.yu.Ot(e.targetId),_u(n).zo(e)}function tf(n,e){n.yu.Ot(e),_u(n).Ho(e)}function om(n){n.yu=new ci({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),_u(n).start(),n.gu.uu()}function Cy(n){return Vc(n)&&!_u(n).No()&&n.du.size>0}function Vc(n){return 0===kt(n)._u.size}function JE(n){n.yu=void 0}function Gw(n){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,Gt.Z)(function*(n){n.du.forEach((e,t)=>{qf(n,e)})}),Dy.apply(this,arguments)}function QE(n,e){return _v.apply(this,arguments)}function _v(){return _v=(0,Gt.Z)(function*(n,e){JE(n),Cy(n)?(n.gu.hu(e),om(n)):n.gu.set("Unknown")}),_v.apply(this,arguments)}function A0(n,e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,Gt.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Sf&&2===e.state&&e.cause)try{yield(i=(0,Gt.Z)(function*(a,d){const _=d.cause;for(const D of d.targetIds)a.du.has(D)&&(yield a.remoteSyncer.rejectListen(D,_),a.du.delete(D),a.yu.removeTarget(D))}),function(a,d){return i.apply(this,arguments)})(n,e)}catch(i){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield am(n,i)}else if(e instanceof Df?n.yu.Kt(e):e instanceof Vm?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Tr.min()))try{const i=yield $p(n.localStore);t.compareTo(i)>=0&&(yield function(a,d){const _=a.yu.Zt(d);return _.targetChanges.forEach((D,O)=>{if(D.resumeToken.approximateByteSize()>0){const $=a.du.get(O);$&&a.du.set(O,$.withResumeToken(D.resumeToken,d))}}),_.targetMismatches.forEach(D=>{const O=a.du.get(D);if(!O)return;a.du.set(D,O.withResumeToken(Po.EMPTY_BYTE_STRING,O.snapshotVersion)),tf(a,D);const $=new Od(O.target,D,1,O.sequenceNumber);qf(a,$)}),a.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(i){E("RemoteStore","Failed to raise snapshot:",i),yield am(n,i)}var i}),Ua.apply(this,arguments)}function am(n,e,t){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,Gt.Z)(function*(n,e,t){if(!Cd(e))throw e;n._u.add(1),yield Ia(n),n.gu.set("Offline"),t||(t=()=>$p(n.localStore)),n.asyncQueue.enqueueRetryable((0,Gt.Z)(function*(){E("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield gu(n)}))}),Sy.apply(this,arguments)}function x0(n,e){return e().catch(t=>am(n,t,e))}function Gp(n){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,Gt.Z)(function*(n){const e=kt(n),t=Bd(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;l_(e);)try{const a=yield Ty(e.localStore,i);if(null===a){0===e.fu.length&&t.Fo();break}i=a.batchId,M0(e,a)}catch(a){yield am(e,a)}um(e)&&N0(e)}),Iy.apply(this,arguments)}function l_(n){return Vc(n)&&n.fu.length<10}function M0(n,e){n.fu.push(e);const t=Bd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function um(n){return Vc(n)&&!Bd(n).No()&&n.fu.length>0}function N0(n){Bd(n).start()}function jw(n){return vv.apply(this,arguments)}function vv(){return vv=(0,Gt.Z)(function*(n){Bd(n).eu()}),vv.apply(this,arguments)}function Ww(n){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,Gt.Z)(function*(n){const e=Bd(n);for(const t of n.fu)e.Xo(t.mutations)}),Ay.apply(this,arguments)}function yv(n,e,t){return jp.apply(this,arguments)}function jp(){return jp=(0,Gt.Z)(function*(n,e,t){const i=n.fu.shift(),a=Op.from(i,e,t);yield x0(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Gp(n)}),jp.apply(this,arguments)}function lm(n,e){return hd.apply(this,arguments)}function hd(){return hd=(0,Gt.Z)(function*(n,e){var t;e&&Bd(n).Yo&&(yield(t=(0,Gt.Z)(function*(i,a){if(G_(d=a.code)&&d!==Qe.ABORTED){const _=i.fu.shift();Bd(i).Mo(),yield x0(i,()=>i.remoteSyncer.rejectFailedWrite(_.batchId,a)),yield Gp(i)}var d}),function(i,a){return t.apply(this,arguments)})(n,e)),um(n)&&N0(n)}),hd.apply(this,arguments)}function O0(n,e){return xy.apply(this,arguments)}function xy(){return xy=(0,Gt.Z)(function*(n,e){const t=kt(n);t.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");const i=Vc(t);t._u.add(3),yield Ia(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield gu(t)}),xy.apply(this,arguments)}function fd(n,e){return pd.apply(this,arguments)}function pd(){return pd=(0,Gt.Z)(function*(n,e){const t=kt(n);e?(t._u.delete(2),yield gu(t)):e||(t._u.add(2),yield Ia(t),t.gu.set("Unknown"))}),pd.apply(this,arguments)}function _u(n){return n.pu||(n.pu=function(e,t,i){const a=kt(e);return a.su(),new kn(t,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,i)}(n.datastore,n.asyncQueue,{Yr:Gw.bind(null,n),Zr:QE.bind(null,n),Wo:A0.bind(null,n)}),n.wu.push(function(){var e=(0,Gt.Z)(function*(t){t?(n.pu.Mo(),Cy(n)?om(n):n.gu.set("Unknown")):(yield n.pu.stop(),JE(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Bd(n){return n.Iu||(n.Iu=function(e,t,i){const a=kt(e);return a.su(),new gr(t,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,i)}(n.datastore,n.asyncQueue,{Yr:jw.bind(null,n),Zr:lm.bind(null,n),tu:Ww.bind(null,n),Zo:yv.bind(null,n)}),n.wu.push(function(){var e=(0,Gt.Z)(function*(t){t?(n.Iu.Mo(),yield Gp(n)):(yield n.Iu.stop(),n.fu.length>0&&(E("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Ev{constructor(e,t,i,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=d,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,t,i,a,d){const _=Date.now()+i,D=new Ev(e,t,_,a,d);return D.start(i),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(n,e){if(C("AsyncQueue",`${e}: ${n}`),Cd(n))return new Mt(Qe.UNAVAILABLE,`${e}: ${n}`);throw n}class cm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Rn.comparator(t.key,i.key):(t,i)=>Rn.comparator(t.key,i.key),this.keyedMap=Vh(),this.sortedSet=new zo(this.comparator)}static emptySet(e){return new cm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=i.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new cm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class XE{constructor(){this.Tu=new zo(Rn.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):re():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class zp{constructor(e,t,i,a,d,_,D,O,$){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=d,this.fromCache=_,this.syncStateChanged=D,this.excludesMetadataChanges=O,this.hasCachedResults=$}static fromInitialDocuments(e,t,i,a,d){const _=[];return t.forEach(D=>{_.push({type:0,doc:D})}),new zp(e,t,cm.emptySet(t),_,i,a,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class bv{constructor(){this.Au=void 0,this.listeners=[]}}class c_{constructor(){this.queries=new Uh(e=>km(e),Oc),this.onlineState="Unknown",this.Ru=new Set}}function My(n,e){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,Gt.Z)(function*(n,e){const t=kt(n),i=e.query;let a=!1,d=t.queries.get(i);if(d||(a=!0,d=new bv),a)try{d.Au=yield t.onListen(i)}catch(_){const D=Wp(_,`Initialization of query '${_p(e.query)}' failed`);return void e.onError(D)}t.queries.set(i,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&Ry(t)}),Ny.apply(this,arguments)}function Oy(n,e){return wv.apply(this,arguments)}function wv(){return wv=(0,Gt.Z)(function*(n,e){const t=kt(n),i=e.query;let a=!1;const d=t.queries.get(i);if(d){const _=d.listeners.indexOf(e);_>=0&&(d.listeners.splice(_,1),a=0===d.listeners.length)}if(a)return t.queries.delete(i),t.onUnlisten(i)}),wv.apply(this,arguments)}function R0(n,e){const t=kt(n);let i=!1;for(const a of e){const _=t.queries.get(a.query);if(_){for(const D of _.listeners)D.Pu(a)&&(i=!0);_.Au=a}}i&&Ry(t)}function Tv(n,e,t){const i=kt(n),a=i.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);i.queries.delete(e)}function Ry(n){n.Ru.forEach(e=>{e.next()})}class Py{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)3!==a.type&&i.push(a);e=new zp(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class P0{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class ky{constructor(e){this.yt=e}Ji(e){return Zu(this.yt,e)}Yi(e){return e.metadata.exists?Z_(this.yt,e.document,!1):co.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ko(e)}}class Cv{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dv(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=ji.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new ky(this.yt);for(const a of e)if(a.metadata.queries){const d=i.Ji(a.metadata.name);for(const _ of a.metadata.queries){const D=(t.get(_)||li()).add(d);t.set(_,D)}}return t}complete(){var e=this;return(0,Gt.Z)(function*(){const t=yield function rm(n,e,t,i){return a_.apply(this,arguments)}(e.localStore,new ky(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const a of e.queries)yield im(e.localStore,a,i.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Dv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class k0{constructor(e){this.key=e}}class Ly{constructor(e){this.key=e}}class Fy{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=li(),this.mutatedKeys=li(),this.Gu=vp(e),this.Qu=new cm(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new XE,a=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,_=a,D=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,$="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((J,fe)=>{const xe=a.get(J),Ke=wg(this.query,fe)?fe:null,mt=!!xe&&this.mutatedKeys.has(xe.key),Ut=!!Ke&&(Ke.hasLocalMutations||this.mutatedKeys.has(Ke.key)&&Ke.hasCommittedMutations);let an=!1;xe&&Ke?xe.data.isEqual(Ke.data)?mt!==Ut&&(i.track({type:3,doc:Ke}),an=!0):this.Hu(xe,Ke)||(i.track({type:2,doc:Ke}),an=!0,(O&&this.Gu(Ke,O)>0||$&&this.Gu(Ke,$)<0)&&(D=!0)):!xe&&Ke?(i.track({type:0,doc:Ke}),an=!0):xe&&!Ke&&(i.track({type:1,doc:xe}),an=!0,(O||$)&&(D=!0)),an&&(Ke?(_=_.add(Ke),d=Ut?d.add(J):d.delete(J)):(_=_.delete(J),d=d.delete(J)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const J="F"===this.query.limitType?_.last():_.first();_=_.delete(J.key),d=d.delete(J.key),i.track({type:1,doc:J})}return{Qu:_,zu:i,$i:D,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort(($,J)=>function(fe,xe){const Ke=mt=>{switch(mt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return Ke(fe)-Ke(xe)}($.type,J.type)||this.Gu($.doc,J.doc)),this.Ju(i);const _=t?this.Yu():[],D=0===this.Ku.size&&this.current?1:0,O=D!==this.Uu;return this.Uu=D,0!==d.length||O?{snapshot:new zp(this.query,e.Qu,a,d,e.mutatedKeys,0===D,O,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:_}:{Xu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new XE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=li(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Ly(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new k0(i))}),t}tc(e){this.qu=e.Hi,this.Ku=li();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return zp.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class eb{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class L0{constructor(e){this.key=e,this.nc=!1}}class F0{constructor(e,t,i,a,d,_){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=_,this.sc={},this.ic=new Uh(D=>km(D),Oc),this.rc=new Map,this.oc=new Set,this.uc=new zo(Rn.comparator),this.cc=new Map,this.ac=new Zg,this.hc={},this.lc=new Map,this.fc=Yh.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function tb(n,e){return By.apply(this,arguments)}function By(){return By=(0,Gt.Z)(function*(n,e){const t=Ru(n);let i,a;const d=t.ic.get(e);if(d)i=d.targetId,t.sharedClientState.addLocalQueryTarget(i),a=d.view.ec();else{const _=yield $f(t.localStore,pl(e));t.isPrimaryClient&&Ba(t.remoteStore,_);const D=t.sharedClientState.addLocalQueryTarget(_.targetId);i=_.targetId,a=yield dm(t,e,i,"current"===D,_.resumeToken)}return a}),By.apply(this,arguments)}function dm(n,e,t,i,a){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,Gt.Z)(function*(n,e,t,i,a){n._c=(fe,xe,Ke)=>{return(mt=(0,Gt.Z)(function*(Ut,an,Ln,tr){let Nr=an.view.Wu(Ln);Nr.$i&&(Nr=yield Fd(Ut.localStore,an.query,!1).then(({documents:Er})=>an.view.Wu(Er,Nr)));const Fr=tr&&tr.targetChanges.get(an.targetId),cr=an.view.applyChanges(Nr,Ut.isPrimaryClient,Fr);return hm(Ut,an.targetId,cr.Xu),cr.snapshot}),function(Ut,an,Ln,tr){return mt.apply(this,arguments)})(n,fe,xe,Ke);var mt};const d=yield Fd(n.localStore,e,!0),_=new Fy(e,d.Hi),D=_.Wu(d.documents),O=Sp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,a),$=_.applyChanges(D,n.isPrimaryClient,O);hm(n,t,$.Xu);const J=new eb(e,t,_);return n.ic.set(e,J),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),$.snapshot}),Uy.apply(this,arguments)}function B0(n,e){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,Gt.Z)(function*(n,e){const t=kt(n),i=t.ic.get(e),a=t.rc.get(i.targetId);if(a.length>1)return t.rc.set(i.targetId,a.filter(d=>!Oc(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Ul(t.remoteStore,i.targetId),qp(t,i.targetId)}).catch(fl))):(qp(t,i.targetId),yield Hf(t.localStore,i.targetId,!0))}),Vy.apply(this,arguments)}function $y(){return $y=(0,Gt.Z)(function*(n,e,t){const i=Us(n);try{const a=yield function(d,_){const D=kt(d),O=ns.now(),$=_.reduce((xe,Ke)=>xe.add(Ke.key),li());let J,fe;return D.persistence.runTransaction("Locally write mutations","readwrite",xe=>{let Ke=Ku(),mt=li();return D.Gi.getEntries(xe,$).next(Ut=>{Ke=Ut,Ke.forEach((an,Ln)=>{Ln.isValidDocument()||(mt=mt.add(an))})}).next(()=>D.localDocuments.getOverlayedDocuments(xe,Ke)).next(Ut=>{J=Ut;const an=[];for(const Ln of _){const tr=Um(Ln,J.get(Ln.key).overlayedDocument);null!=tr&&an.push(new Pc(Ln.key,tr,Pm(tr.value.mapValue),Lo.exists(!0)))}return D.mutationQueue.addMutationBatch(xe,O,an,_)}).next(Ut=>{fe=Ut;const an=Ut.applyToLocalDocumentSet(J,mt);return D.documentOverlayCache.saveOverlays(xe,Ut.batchId,an)})}).then(()=>({batchId:fe.batchId,changes:z_(J)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(d,_,D){let O=d.hc[d.currentUser.toKey()];O||(O=new zo(Zr)),O=O.insert(_,D),d.hc[d.currentUser.toKey()]=O}(i,a.batchId,t),yield p(i,a.changes),yield Gp(i.remoteStore)}catch(a){const d=Wp(a,"Failed to persist write");t.reject(d)}}),$y.apply(this,arguments)}function U0(n,e){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,Gt.Z)(function*(n,e){const t=kt(n);try{const i=yield em(t.localStore,e);e.targetChanges.forEach((a,d)=>{const _=t.cc.get(d);_&&(He(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?_.nc=!0:a.modifiedDocuments.size>0?He(_.nc):a.removedDocuments.size>0&&(He(_.nc),_.nc=!1))}),yield p(t,i,e)}catch(i){yield fl(i)}}),Sv.apply(this,arguments)}function V0(n,e,t){const i=kt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const a=[];i.ic.forEach((d,_)=>{const D=_.view.bu(e);D.snapshot&&a.push(D.snapshot)}),function(d,_){const D=kt(d);D.onlineState=_;let O=!1;D.queries.forEach(($,J)=>{for(const fe of J.listeners)fe.bu(_)&&(O=!0)}),O&&Ry(D)}(i.eventManager,e),a.length&&i.sc.Wo(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function $0(n,e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,Gt.Z)(function*(n,e,t){const i=kt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.cc.get(e),d=a&&a.key;if(d){let _=new zo(Rn.comparator);_=_.insert(d,co.newNoDocument(d,Tr.min()));const D=li().add(d),O=new sh(Tr.min(),new Map,new zs(Zr),_,D);yield U0(i,O),i.uc=i.uc.remove(d),i.cc.delete(e),d_(i)}else yield Hf(i.localStore,e,!1).then(()=>qp(i,e,t)).catch(fl)}),Hy.apply(this,arguments)}function zw(n,e){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,Gt.Z)(function*(n,e){const t=kt(n),i=e.batch.batchId;try{const a=yield Vp(t.localStore,e);Wy(t,i,null),jy(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield p(t,a)}catch(a){yield fl(a)}}),Gy.apply(this,arguments)}function rb(n,e,t){return H0.apply(this,arguments)}function H0(){return H0=(0,Gt.Z)(function*(n,e,t){const i=kt(n);try{const a=yield function(d,_){const D=kt(d);return D.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let $;return D.mutationQueue.lookupMutationBatch(O,_).next(J=>(He(null!==J),$=J.keys(),D.mutationQueue.removeMutationBatch(O,J))).next(()=>D.mutationQueue.performConsistencyCheck(O)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(O,$,_)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,$)).next(()=>D.localDocuments.getDocuments(O,$))})}(i.localStore,e);Wy(i,e,t),jy(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield p(i,a)}catch(a){yield fl(a)}}),H0.apply(this,arguments)}function Iv(){return Iv=(0,Gt.Z)(function*(n,e){const t=kt(n);Vc(t.remoteStore)||E("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(d){const _=kt(d);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>_.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===i)return void e.resolve();const a=t.lc.get(i)||[];a.push(e),t.lc.set(i,a)}catch(i){const a=Wp(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),Iv.apply(this,arguments)}function jy(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Wy(n,e,t){const i=kt(n);let a=i.hc[i.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),i.hc[i.currentUser.toKey()]=a}}function qp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||zy(n,i)})}function zy(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Ul(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),d_(n))}function hm(n,e,t){for(const i of t)i instanceof k0?(n.ac.addReference(i.key,e),j0(n,i)):i instanceof Ly?(E("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||zy(n,i.key)):re()}function j0(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(E("SyncEngine","New document in limbo: "+t),n.oc.add(i),d_(n))}function d_(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Rn(ji.fromString(e)),i=n.fc.next();n.cc.set(i,new L0(t)),n.uc=n.uc.insert(t,i),Ba(n.remoteStore,new Od(pl(Xa(t.path)),i,2,du.at))}}function p(n,e,t){return r.apply(this,arguments)}function r(){return r=(0,Gt.Z)(function*(n,e,t){const i=kt(n),a=[],d=[],_=[];var D;i.ic.isEmpty()||(i.ic.forEach((D,O)=>{_.push(i._c(O,e,t).then($=>{if(($||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(O.targetId,$?.fromCache?"not-current":"current"),$){a.push($);const J=Ld.Ci(O.targetId,$);d.push(J)}}))}),yield Promise.all(_),i.sc.Wo(a),yield(D=(0,Gt.Z)(function*(O,$){const J=kt(O);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",fe=>Lt.forEach($,xe=>Lt.forEach(xe.Si,Ke=>J.persistence.referenceDelegate.addReference(fe,xe.targetId,Ke)).next(()=>Lt.forEach(xe.Di,Ke=>J.persistence.referenceDelegate.removeReference(fe,xe.targetId,Ke)))))}catch(fe){if(!Cd(fe))throw fe;E("LocalStore","Failed to update sequence numbers: "+fe)}for(const fe of $){const xe=fe.targetId;if(!fe.fromCache){const Ke=J.qi.get(xe),Ut=Ke.withLastLimboFreeSnapshotVersion(Ke.snapshotVersion);J.qi=J.qi.insert(xe,Ut)}}}),function(O,$){return D.apply(this,arguments)})(i.localStore,d))}),r.apply(this,arguments)}function u(n,e){return h.apply(this,arguments)}function h(){return h=(0,Gt.Z)(function*(n,e){const t=kt(n);if(!t.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());const i=yield i_(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(_=>{_.forEach(D=>{D.reject(new Mt(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield p(t,i.ji)}var a}),h.apply(this,arguments)}function y(n,e){const t=kt(n),i=t.cc.get(e);if(i&&i.nc)return li().add(i.key);{let a=li();const d=t.rc.get(e);if(!d)return a;for(const _ of d){const D=t.ic.get(_);a=a.unionWith(D.view.ju)}return a}}function T(n,e){return P.apply(this,arguments)}function P(){return P=(0,Gt.Z)(function*(n,e){const t=kt(n),i=yield Fd(t.localStore,e.query,!0),a=e.view.tc(i);return t.isPrimaryClient&&hm(t,e.targetId,a.Xu),a}),P.apply(this,arguments)}function K(n,e){return ee.apply(this,arguments)}function ee(){return ee=(0,Gt.Z)(function*(n,e){const t=kt(n);return o_(t.localStore,e).then(i=>p(t,i))}),ee.apply(this,arguments)}function oe(n,e,t,i){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,Gt.Z)(function*(n,e,t,i){const a=kt(n),d=yield function(_,D){const O=kt(_),$=kt(O.mutationQueue);return O.persistence.runTransaction("Lookup mutation documents","readonly",J=>$.Tn(J,D).next(fe=>fe?O.localDocuments.getDocuments(J,fe):Lt.resolve(null)))}(a.localStore,e);var D;null!==d?("pending"===t?yield Gp(a.remoteStore):"acknowledged"===t||"rejected"===t?(Wy(a,e,i||null),jy(a,e),D=e,kt(kt(a.localStore).mutationQueue).An(D)):re(),yield p(a,d)):E("SyncEngine","Cannot apply mutation batch with id: "+e)}),Oe.apply(this,arguments)}function Ht(){return Ht=(0,Gt.Z)(function*(n,e){const t=kt(n);if(Ru(t),Us(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),a=yield cn(t,i.toArray());t.dc=!0,yield fd(t.remoteStore,!0);for(const d of a)Ba(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const i=[];let a=Promise.resolve();t.rc.forEach((d,_)=>{t.sharedClientState.isLocalQueryTarget(_)?i.push(_):a=a.then(()=>(qp(t,_),Hf(t.localStore,_,!0))),Ul(t.remoteStore,_)}),yield a,yield cn(t,i),function(d){const _=kt(d);_.cc.forEach((D,O)=>{Ul(_.remoteStore,O)}),_.ac.fs(),_.cc=new Map,_.uc=new zo(Rn.comparator)}(t),t.dc=!1,yield fd(t.remoteStore,!1)}}),Ht.apply(this,arguments)}function cn(n,e,t){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,Gt.Z)(function*(n,e,t){const i=kt(n),a=[],d=[];for(const _ of e){let D;const O=i.rc.get(_);if(O&&0!==O.length){D=yield $f(i.localStore,pl(O[0]));for(const $ of O){const J=i.ic.get($),fe=yield T(i,J);fe.snapshot&&d.push(fe.snapshot)}}else{const $=yield mv(i.localStore,_);D=yield $f(i.localStore,$),yield dm(i,ir($),_,!1,D.resumeToken)}a.push(D)}return i.sc.Wo(d),a}),Rt.apply(this,arguments)}function ir(n){return Sa(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Hn(n){const e=kt(n);return kt(kt(e.localStore).persistence).vi()}function sr(n,e,t,i){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,Gt.Z)(function*(n,e,t,i){const a=kt(n);if(a.dc)return void E("SyncEngine","Ignoring unexpected query state notification.");const d=a.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const _=yield o_(a.localStore,V_(d[0])),D=sh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Po.EMPTY_BYTE_STRING);yield p(a,_,D);break}case"rejected":yield Hf(a.localStore,e,!0),qp(a,e,i);break;default:re()}}),Xn.apply(this,arguments)}function Cs(n,e,t){return bo.apply(this,arguments)}function bo(){return bo=(0,Gt.Z)(function*(n,e,t){const i=Ru(n);if(i.dc){for(const a of e){if(i.rc.has(a)){E("SyncEngine","Adding an already active target "+a);continue}const d=yield mv(i.localStore,a),_=yield $f(i.localStore,d);yield dm(i,ir(d),_.targetId,!1,_.resumeToken),Ba(i.remoteStore,_)}for(const a of t)i.rc.has(a)&&(yield Hf(i.localStore,a,!1).then(()=>{Ul(i.remoteStore,a),qp(i,a)}).catch(fl))}}),bo.apply(this,arguments)}function Ru(n){const e=kt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$0.bind(null,e),e.sc.Wo=R0.bind(null,e.eventManager),e.sc.wc=Tv.bind(null,e.eventManager),e}function Us(n){const e=kt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rb.bind(null,e),e}class gd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Gt.Z)(function*(){t.yt=Qt(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Qg(this.persistence,new Xh,e.initialUser,this.yt)}yc(e){return new Yo(vl.Bs,this.yt)}gc(e){return new v}terminate(){var e=this;return(0,Gt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yr extends gd{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Gt.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield Us(i.Ac.syncEngine),yield Gp(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Qg(this.persistence,new Xh,e.initialUser,this.yt)}Tc(e,t){return new dv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new nd(t,this.persistence);return new M_(e.asyncQueue,i)}yc(e){const t=kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Bl.withCacheSize(this.cacheSizeBytes):Bl.DEFAULT;return new Uc(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Je(),gt(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new v}}class Aa extends yr{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Gt.Z)(function*(){yield t().call(i,e);const a=i.Ac.syncEngine;i.sharedClientState instanceof f&&(i.sharedClientState.syncEngine={Fr:oe.bind(null,a),$r:sr.bind(null,a),Br:Cs.bind(null,a),vi:Hn.bind(null,a),Mr:K.bind(null,a)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var d=(0,Gt.Z)(function*(_){yield function at(n,e){return Ht.apply(this,arguments)}(i.Ac.syncEngine,_),i.gcScheduler&&(_&&!i.gcScheduler.started?i.gcScheduler.start():_||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(_&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():_||i.indexBackfillerScheduler.stop())});return function(_){return d.apply(this,arguments)}}())})()}gc(e){const t=Je();if(!f.C(t))throw new Mt(Qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new f(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class eo{initialize(e,t){var i=this;return(0,Gt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=a=>V0(i.syncEngine,a,1),i.remoteStore.remoteSyncer.handleCredentialChange=u.bind(null,i.syncEngine),yield fd(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new c_}createDatastore(e){const t=Qt(e.databaseInfo.databaseId),i=new Ve(e.databaseInfo);return new Hr(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,a=e.asyncQueue,d=D=>V0(this.syncEngine,D,0),_=q.C()?new q:new I,new as(t,i,a,d,_);var t,i,a,d,_}createSyncEngine(e,t){return function(i,a,d,_,D,O,$){const J=new F0(i,a,d,_,D,O);return $&&(J.dc=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Gt.Z)(function*(t){const i=kt(t);E("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Ia(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yl(n,e,t){if(!t)throw new Mt(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nf(n,e,t,i){if(!0===e&&!0===i)throw new Mt(Qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fh(n){if(!Rn.isDocumentKey(n))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kf(n){if(Rn.isDocumentKey(n))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $c(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":re()}function hi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Mt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$c(n);throw new Mt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function fm(n,e){if(e<=0)throw new Mt(Qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const qw=new Map;class Kw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Mt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qy{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ja;switch(t.type){case"gapi":return new Dh(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Mt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qw.get(e);t&&(E("ComponentProvider","Removing Datastore"),qw.delete(e),t.terminate())}(this),Promise.resolve()}}class pa{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pa(this.firestore,e,this._key)}}class Vl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vl(this.firestore,e,this._query)}}class rf extends Vl{constructor(e,t,i){super(e,t,Xa(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pa(this.firestore,null,new Rn(e))}withConverter(e){return new rf(this.firestore,e,this._path)}}function Zw(n,e,...t){if(n=(0,Vr.m9)(n),yl("collection","path",e),n instanceof qy){const i=ji.fromString(e,...t);return Kf(i),new rf(n,null,i)}{if(!(n instanceof pa||n instanceof rf))throw new Mt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ji.fromString(e,...t));return Kf(i),new rf(n.firestore,null,i)}}function pm(n,e,...t){if(n=(0,Vr.m9)(n),1===arguments.length&&(e=Yd.R()),yl("doc","path",e),n instanceof qy){const i=ji.fromString(e,...t);return fh(i),new pa(n,null,new Rn(i))}{if(!(n instanceof pa||n instanceof rf))throw new Mt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ji.fromString(e,...t));return fh(i),new pa(n.firestore,n instanceof rf?n.converter:null,new Rn(i))}}function Yw(n,e){return n=(0,Vr.m9)(n),e=(0,Vr.m9)(e),(n instanceof pa||n instanceof rf)&&(e instanceof pa||e instanceof rf)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ib(n,e){return n=(0,Vr.m9)(n),e=(0,Vr.m9)(e),n instanceof Vl&&e instanceof Vl&&n.firestore===e.firestore&&Oc(n._query,e._query)&&n.converter===e.converter}function Jw(n,e=10240){let t=0;return{read:()=>(0,Gt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Gt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):C("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Qw{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Sr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Gt.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Gt.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Gt.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),a=Number(i);isNaN(a)&&e.Dc(`length string (${i}) is not valid number`);const d=yield e.Cc(a);return new P0(JSON.parse(d),t.length+a)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Gt.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Gt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Gt.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class WC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Gt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Mt(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(a=(0,Gt.Z)(function*(d,_){const D=kt(d),O=$h(D.yt)+"/documents",$={documents:_.map(Ke=>xf(D.yt,Ke))},J=yield D._o("BatchGetDocuments",O,$,_.length),fe=new Map;J.forEach(Ke=>{const mt=function py(n,e){return"found"in e?function(t,i){He(!!i.found);const a=Zu(t,i.found.name),d=Ko(i.found.updateTime),_=i.found.createTime?Ko(i.found.createTime):Tr.min(),D=new qo({mapValue:{fields:i.found.fields}});return co.newFoundDocument(a,d,_,D)}(n,e):"missing"in e?function(t,i){He(!!i.missing),He(!!i.readTime);const a=Zu(t,i.missing),d=Ko(i.readTime);return co.newNoDocument(a,d)}(n,e):re()}(D.yt,Ke);fe.set(mt.key.toString(),mt)});const xe=[];return _.forEach(Ke=>{const mt=fe.get(Ke.toString());He(!!mt),xe.push(mt)}),xe}),function(d,_){return a.apply(this,arguments)})(t.datastore,e);var a;return i.forEach(a=>t.recordVersion(a)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Gt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,a)=>{const d=Rn.fromPath(a);e.mutations.push(new Sg(d,e.precondition(d)))}),yield(i=(0,Gt.Z)(function*(a,d){const _=kt(a),D=$h(_.yt)+"/documents",O={writes:d.map($=>Hh(_.yt,$))};yield _.ao("Commit",D,O)}),function(a,d){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw re();t=Tr.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Mt(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tr.min())?Lo.exists(!1):Lo.updateTime(t):Lo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tr.min()))throw new Mt(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lo.updateTime(t)}return Lo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zC{constructor(e,t,i,a,d){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=d,this.kc=i.maxAttempts,this.xo=new nn(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Gt.Z)(function*(){const t=new WC(e.datastore),i=e.Mc(t);i&&i.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.Fc(d)}))}).catch(a=>{e.Fc(a)})}))}Mc(e){try{const t=this.updateFunction(e);return!ec(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!G_(t)}return!1}}class uS{constructor(e,t,i,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Oo.UNAUTHENTICATED,this.clientId=Yd.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var _=(0,Gt.Z)(function*(D){E("FirestoreClient","Received user=",D.uid),yield d.authCredentialListener(D),d.user=D});return function(D){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(i,_=>(E("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,Gt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Gt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Wp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function qC(n,e){return eT.apply(this,arguments)}function eT(){return eT=(0,Gt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Gt.Z)(function*(d){i.isEqual(d)||(yield i_(e.localStore,d),i=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),eT.apply(this,arguments)}function KC(n,e){return W0.apply(this,arguments)}function W0(){return W0=(0,Gt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Av(n);E("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(a=>O0(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,d)=>O0(e.remoteStore,d)),n.onlineComponents=e}),W0.apply(this,arguments)}function Av(n){return sb.apply(this,arguments)}function sb(){return sb=(0,Gt.Z)(function*(n){return n.offlineComponents||(E("FirestoreClient","Using default OfflineComponentProvider"),yield qC(n,new gd)),n.offlineComponents}),sb.apply(this,arguments)}function z0(n){return q0.apply(this,arguments)}function q0(){return q0=(0,Gt.Z)(function*(n){return n.onlineComponents||(E("FirestoreClient","Using default OnlineComponentProvider"),yield KC(n,new eo)),n.onlineComponents}),q0.apply(this,arguments)}function xv(n){return Av(n).then(e=>e.persistence)}function K0(n){return Av(n).then(e=>e.localStore)}function ob(n){return z0(n).then(e=>e.remoteStore)}function ab(n){return z0(n).then(e=>e.syncEngine)}function Jy(n){return ub.apply(this,arguments)}function ub(){return ub=(0,Gt.Z)(function*(n){const e=yield z0(n),t=e.eventManager;return t.onListen=tb.bind(null,e.syncEngine),t.onUnlisten=B0.bind(null,e.syncEngine),t}),ub.apply(this,arguments)}function Mv(n,e,t={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function(a,d,_,D,O){const $=new Yy({next:fe=>{d.enqueueAndForget(()=>Oy(a,J));const xe=fe.docs.has(_);!xe&&fe.fromCache?O.reject(new Mt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):xe&&fe.fromCache&&D&&"server"===D.source?O.reject(new Mt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(fe)},error:fe=>O.reject(fe)}),J=new Py(Xa(_.path),$,{includeMetadataChanges:!0,Nu:!0});return My(a,J)}(yield Jy(n),n.asyncQueue,e,t,i)})),i.promise}function lb(n,e,t={}){const i=new Sr;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function(a,d,_,D,O){const $=new Yy({next:fe=>{d.enqueueAndForget(()=>Oy(a,J)),fe.fromCache&&"server"===D.source?O.reject(new Mt(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):O.resolve(fe)},error:fe=>O.reject(fe)}),J=new Py(_,$,{includeMetadataChanges:!0,Nu:!0});return My(a,J)}(yield Jy(n),n.asyncQueue,e,t,i)})),i.promise}class iT{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new nn(this,"async_queue_retry"),this.Wc=()=>{const t=gt();t&&E("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=gt();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=gt();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Sr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Gt.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Cd(t))throw t;E("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,C("INTERNAL UNHANDLED ERROR: ",function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),_}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=Ev.createAndSchedule(this,e,t,i,d=>this.Yc(d));return this.Uc.push(a),a}zc(){this.Kc&&re()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Gt.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function cb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const a of["next","error","complete"])if(a in i&&"function"==typeof i[a])return!0;return!1}(n)}class db{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ga extends qy{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new iT,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sT(this),this._firestoreClient.terminate()}}function Pu(n){return n._firestoreClient||sT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sT(n){var e;const t=n._freezeSettings(),i=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Sc(n._databaseId,d,n._persistenceKey,(D=t).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var d,D;n._firestoreClient=new uS(n._authCredentials,n._appCheckCredentials,n._queue,i)}function fb(n,e,t){const i=new Sr;return n.asyncQueue.enqueue((0,Gt.Z)(function*(){try{yield qC(n,t),yield KC(n,e),i.resolve()}catch(a){const d=a;if(!("FirebaseError"===(_=d).name?_.code===Qe.FAILED_PRECONDITION||_.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw d;k("Error enabling offline persistence. Falling back to persistence disabled: "+d),i.reject(d)}var _})).then(()=>i.promise)}function oT(n){if(n._initialized||n._terminated)throw new Mt(Qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sf(Po.fromBase64String(e))}catch(t){throw new Mt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sf(Po.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Mt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ro(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class h_{constructor(e){this._methodName=e}}class Nv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zr(this._lat,e._lat)||Zr(this._long,e._long)}}const aT=/^__.*__$/;class c1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ad(e,this.data,t,this.fieldTransforms)}}class uT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Z0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Ov{constructor(e,t,i,a,d,_){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=a,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=_||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Ov(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:i,oa:!1});return a.ua(e),a}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:i,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return e0(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Z0(this.sa)&&aT.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class lT{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||Qt(e)}da(e,t,i,a=!1){return new Ov({sa:e,methodName:t,fa:i,path:Ro.emptyPath(),oa:!1,la:a},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Zp(n){const e=n._freezeSettings(),t=Qt(n._databaseId);return new lT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Y0(n,e,t,i,a,d={}){const _=n.da(d.merge||d.mergeFields?2:0,e,t,a);_b("Data must be an object, but it was:",_,i);const D=fT(i,_);let O,$;if(d.merge)O=new Qs(_.fieldMask),$=_.fieldTransforms;else if(d.mergeFields){const J=[];for(const fe of d.mergeFields){const xe=X0(e,fe,t);if(!_.contains(xe))throw new Mt(Qe.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);yb(J,xe)||J.push(xe)}O=new Qs(J),$=_.fieldTransforms.filter(fe=>O.covers(fe.field))}else O=null,$=_.fieldTransforms;return new c1(new qo(D),O,$)}class Qy extends h_{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qy}}function J0(n,e,t){return new Ov({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class pb extends h_{_toFieldTransform(e){return new Fh(e.path,new Lh)}isEqual(e){return e instanceof pb}}class cT extends h_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=J0(this,e,!0),i=this._a.map(d=>Yp(d,t)),a=new wf(i);return new Fh(e.path,a)}isEqual(e){return this===e}}class Rv extends h_{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=J0(this,e,!0),i=this._a.map(d=>Yp(d,t)),a=new gl(i);return new Fh(e.path,a)}isEqual(e){return this===e}}class dT extends h_{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Rc(e.yt,Ph(e.yt,this.wa));return new Fh(e.path,t)}isEqual(e){return this===e}}function gb(n,e,t,i){const a=n.da(1,e,t);_b("Data must be an object, but it was:",a,i);const d=[],_=qo.empty();Xl(i,(O,$)=>{const J=Xy(e,O,t);$=(0,Vr.m9)($);const fe=a.ca(J);if($ instanceof Qy)d.push(J);else{const xe=Yp($,fe);null!=xe&&(d.push(J),_.set(J,xe))}});const D=new Qs(d);return new uT(_,D,a.fieldTransforms)}function hT(n,e,t,i,a,d){const _=n.da(1,e,t),D=[X0(e,i,t)],O=[a];if(d.length%2!=0)throw new Mt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<d.length;xe+=2)D.push(X0(e,d[xe])),O.push(d[xe+1]);const $=[],J=qo.empty();for(let xe=D.length-1;xe>=0;--xe)if(!yb($,D[xe])){const Ke=D[xe];let mt=O[xe];mt=(0,Vr.m9)(mt);const Ut=_.ca(Ke);if(mt instanceof Qy)$.push(Ke);else{const an=Yp(mt,Ut);null!=an&&($.push(Ke),J.set(Ke,an))}}const fe=new Qs($);return new uT(J,fe,_.fieldTransforms)}function mb(n,e,t,i=!1){return Yp(t,n.da(i?4:3,e))}function Yp(n,e){if(Q0(n=(0,Vr.m9)(n)))return _b("Unsupported field value:",e,n),fT(n,e);if(n instanceof h_)return function(t,i){if(!Z0(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const a=[];let d=0;for(const _ of t){let D=Yp(_,i.aa(d));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),d++}return{arrayValue:{values:a}}}(n,e)}return function(t,i){if(null===(t=(0,Vr.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ph(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=ns.fromDate(t);return{timestampValue:Md(i.yt,a)}}if(t instanceof ns){const a=new ns(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Md(i.yt,a)}}if(t instanceof Nv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sf)return{bytesValue:Hm(i.yt,t._byteString)};if(t instanceof pa){const a=i.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw i.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gm(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${$c(t)}`)}(n,e)}function fT(n,e){const t={};return Wr(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xl(n,(i,a)=>{const d=Yp(a,e.ra(i));null!=d&&(t[i]=d)}),{mapValue:{fields:t}}}function Q0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ns||n instanceof Nv||n instanceof sf||n instanceof pa||n instanceof h_)}function _b(n,e,t){if(!Q0(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$c(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function X0(n,e,t){if((e=(0,Vr.m9)(e))instanceof Zf)return e._internalPath;if("string"==typeof e)return Xy(n,e);throw e0("Field path arguments must be of type string or ",n,!1,void 0,t)}const vb=new RegExp("[~\\*/\\[\\]]");function Xy(n,e,t){if(e.search(vb)>=0)throw e0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zf(...e.split("."))._internalPath}catch{throw e0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function e0(n,e,t,i,a){const d=i&&!i.isEmpty(),_=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let O="";return(d||_)&&(O+=" (found",d&&(O+=` in field ${i}`),_&&(O+=` in document ${a}`),O+=")"),new Mt(Qe.INVALID_ARGUMENT,D+n+O)}function yb(n,e){return n.some(t=>t.isEqual(e))}class Pv{constructor(e,t,i,a,d){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new pa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new d1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class d1 extends Pv{data(){return super.data()}}function eE(n,e){return"string"==typeof e?Xy(n,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}function pT(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Mt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}class kv extends Eb{}function f_(n,e,...t){let i=[];e instanceof Eb&&i.push(e),i=i.concat(t),function(a){const d=a.filter(D=>D instanceof Fv).length,_=a.filter(D=>D instanceof Lv).length;if(d>1||d>0&&_>0)throw new Mt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Lv extends kv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Lv(e,t,i)}_apply(e){const t=this._parse(e);return Cb(e._query,t),new Vl(e.firestore,e.converter,mp(e._query,t))}_parse(e){const t=Zp(e.firestore);return function(a,d,_,D,O,$,J){let fe;if(O.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new Mt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){Tb(J,$);const xe=[];for(const Ke of J)xe.push(wb(D,a,Ke));fe={arrayValue:{values:xe}}}else fe=wb(D,a,J)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||Tb(J,$),fe=mb(_,"where",J,"in"===$||"not-in"===$);return Wi.create(O,$,fe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Fv extends Eb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:ps.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,a){let d=i;const _=a.getFlattenedFilters();for(const D of _)Cb(d,D),d=mp(d,D)}(e._query,t),new Vl(e.firestore,e.converter,mp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bb extends kv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bb(e,t)}_apply(e){const t=function(i,a,d){if(null!==i.startAt)throw new Mt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Mt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new sd(a,d);return function(D,O){if(null===Nc(D)){const $=bg(D);null!==$&&Db(0,$,O.field)}}(i,_),_}(e._query,this._field,this._direction);return new Vl(e.firestore,e.converter,function(i,a){const d=i.explicitOrderBy.concat([a]);return new rh(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class t0 extends kv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new t0(e,t,i)}_apply(e){return new Vl(e.firestore,e.converter,Rh(e._query,this._limit,this._limitType))}}class tE extends kv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new tE(e,t,i)}_apply(e){const t=Bv(e,this.type,this._docOrFields,this._inclusive);return new Vl(e.firestore,e.converter,(a=t,new rh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)));var i,a}}class nE extends kv{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new nE(e,t,i)}_apply(e){const t=Bv(e,this.type,this._docOrFields,this._inclusive);return new Vl(e.firestore,e.converter,(a=t,new rh((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)));var i,a}}function Bv(n,e,t,i){if(t[0]=(0,Vr.m9)(t[0]),t[0]instanceof Pv)return function(a,d,_,D,O){if(!D)throw new Mt(Qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const $=[];for(const J of dc(a))if(J.field.isKeyField())$.push(pf(d,D.key));else{const fe=D.data.field(J.field);if(cp(fe))throw new Mt(Qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===fe){const xe=J.field.canonicalString();throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xe}' (used as the orderBy) does not exist.`)}$.push(fe)}return new Ic($,O)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=Zp(n.firestore);return function(d,_,D,O,$,J){const fe=d.explicitOrderBy;if($.length>fe.length)throw new Mt(Qe.INVALID_ARGUMENT,`Too many arguments provided to ${O}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xe=[];for(let Ke=0;Ke<$.length;Ke++){const mt=$[Ke];if(fe[Ke].field.isKeyField()){if("string"!=typeof mt)throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${O}(), but got a ${typeof mt}`);if(!Oh(d)&&-1!==mt.indexOf("/"))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${O}() must be a plain document ID, but '${mt}' contains a slash.`);const Ut=d.path.child(ji.fromString(mt));if(!Rn.isDocumentKey(Ut))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${O}() must result in a valid document path, but '${Ut}' is not because it contains an odd number of segments.`);const an=new Rn(Ut);xe.push(pf(_,an))}else{const Ut=mb(D,O,mt);xe.push(Ut)}}return new Ic(xe,J)}(n._query,n.firestore._databaseId,a,e,t,i)}}function wb(n,e,t){if("string"==typeof(t=(0,Vr.m9)(t))){if(""===t)throw new Mt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oh(e)&&-1!==t.indexOf("/"))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ji.fromString(t));if(!Rn.isDocumentKey(i))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pf(n,new Rn(i))}if(t instanceof pa)return pf(n,t._key);throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$c(t)}.`)}function Tb(n,e){if(!Array.isArray(n)||0===n.length)throw new Mt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Mt(Qe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Cb(n,e){if(e.isInequality()){const i=bg(n),a=e.field;if(null!==i&&!i.isEqual(a))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${a.toString()}'`);const d=Nc(n);null!==d&&Db(0,a,d)}const t=function(i,a){for(const d of i)for(const _ of d.getFlattenedFilters())if(a.indexOf(_.op)>=0)return _.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Mt(Qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Db(n,e,t){if(!t.isEqual(e))throw new Mt(Qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class rE{convertValue(e,t="none"){switch(xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw re()}}convertObject(e,t){const i={};return Xl(e.fields,(a,d)=>{i[a]=this.convertValue(d,t)}),i}convertGeoPoint(e){return new Nv(vo(e.latitude),vo(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Im(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ah(e));default:return null}}convertTimestamp(e){const t=ko(e);return new ns(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ji.fromString(e);He(Ju(i));const a=new Nu(i.get(1),i.get(3)),d=new Rn(i.popFirst(5));return a.isEqual(t)||C(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function iE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class hS extends rE{constructor(e){super(),this.firestore=e}convertBytes(e){return new sf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pa(this.firestore,null,t)}}class gm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yf extends Pv{constructor(e,t,i,a,d,_){super(e,t,i,a,_),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new n0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(eE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class n0 extends Yf{data(e={}){return super.data(e)}}class mm{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new gm(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new n0(this._firestore,this._userDataWriter,i.key,i,new gm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(_=>({type:"added",doc:new n0(i._firestore,i._userDataWriter,_.doc.key,_.doc,new gm(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:d++}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(_=>a||3!==_.type).map(_=>{const D=new n0(i._firestore,i._userDataWriter,_.doc.key,_.doc,new gm(i._snapshot.mutatedKeys.has(_.doc.key),i._snapshot.fromCache),i.query.converter);let O=-1,$=-1;return 0!==_.type&&(O=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),1!==_.type&&(d=d.add(_.doc),$=d.indexOf(_.doc.key)),{type:v1(_.type),doc:D,oldIndex:O,newIndex:$}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function v1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function Uv(n,e){return n instanceof Yf&&e instanceof Yf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mm&&e instanceof mm&&n._firestore===e._firestore&&ib(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Jf extends rE{constructor(e){super(),this.firestore=e}convertBytes(e){return new sf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pa(this.firestore,null,t)}}function _T(n,e,t){n=hi(n,pa);const i=hi(n.firestore,ga),a=iE(n.converter,e,t);return p_(i,[Y0(Zp(i),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Lo.none())])}function vT(n,e,t,...i){n=hi(n,pa);const a=hi(n.firestore,ga),d=Zp(a);let _;return _="string"==typeof(e=(0,Vr.m9)(e))||e instanceof Zf?hT(d,"updateDoc",n._key,e,t,i):gb(d,"updateDoc",n._key,e),p_(a,[_.toMutation(n._key,Lo.exists(!0))])}function yT(n,...e){var t,i,a;n=(0,Vr.m9)(n);let d={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||cb(e[_])||(d=e[_],_++);const D={includeMetadataChanges:d.includeMetadataChanges};if(cb(e[_])){const fe=e[_];e[_]=null===(t=fe.next)||void 0===t?void 0:t.bind(fe),e[_+1]=null===(i=fe.error)||void 0===i?void 0:i.bind(fe),e[_+2]=null===(a=fe.complete)||void 0===a?void 0:a.bind(fe)}let O,$,J;if(n instanceof pa)$=hi(n.firestore,ga),J=Xa(n._key.path),O={next:fe=>{e[_]&&e[_](aE($,n,fe))},error:e[_+1],complete:e[_+2]};else{const fe=hi(n,Vl);$=hi(fe.firestore,ga),J=fe._query;const xe=new Jf($);O={next:Ke=>{e[_]&&e[_](new mm($,xe,fe,Ke))},error:e[_+1],complete:e[_+2]},pT(n._query)}return function(fe,xe,Ke,mt){const Ut=new Yy(mt),an=new Py(xe,Ut,Ke);return fe.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return My(yield Jy(fe),an)})),()=>{Ut.bc(),fe.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return Oy(yield Jy(fe),an)}))}}(Pu($),J,D,O)}function p_(n,e){return function(t,i){const a=new Sr;return t.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function nb(n,e,t){return $y.apply(this,arguments)}(yield ab(t),i,a)})),a.promise}(Pu(n),e)}function aE(n,e,t){const i=t.docs.get(e._key),a=new Jf(n);return new Yf(n,a,e._key,i,new gm(t.hasPendingWrites,t.fromCache),e.converter)}const Ab={maxAttempts:5};class uE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zp(e)}set(e,t,i){this._verifyNotCommitted();const a=Jp(e,this._firestore),d=iE(a.converter,t,i),_=Y0(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,i);return this._mutations.push(_.toMutation(a._key,Lo.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const d=Jp(e,this._firestore);let _;return _="string"==typeof(t=(0,Vr.m9)(t))||t instanceof Zf?hT(this._dataReader,"WriteBatch.update",d._key,t,i,a):gb(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(_.toMutation(d._key,Lo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Jp(e,this._firestore);return this._mutations=this._mutations.concat(new ih(t._key,Lo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(Qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jp(n,e){if((n=(0,Vr.m9)(n)).firestore!==e)throw new Mt(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class xb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zp(e)}get(e){const t=Jp(e,this._firestore),i=new hS(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return re();const d=a[0];if(d.isFoundDocument())return new Pv(this._firestore,i,d.key,d,t.converter);if(d.isNoDocument())return new Pv(this._firestore,i,t._key,null,t.converter);throw re()})}set(e,t,i){const a=Jp(e,this._firestore),d=iE(a.converter,t,i),_=Y0(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,i);return this._transaction.set(a._key,_),this}update(e,t,i,...a){const d=Jp(e,this._firestore);let _;return _="string"==typeof(t=(0,Vr.m9)(t))||t instanceof Zf?hT(this._dataReader,"Transaction.update",d._key,t,i,a):gb(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,_),this}delete(e){const t=Jp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jp(e,this._firestore),i=new Jf(this._firestore);return super.get(e).then(a=>new Yf(this._firestore,i,t._key,a._document,new gm(!1,!1),t.converter))}}function Ob(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Mt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Rb(){if(typeof Uint8Array>"u")throw new Mt("unimplemented","Uint8Arrays are not available in this environment.")}function Pb(){if(!function N_(){return typeof atob<"u"}())throw new Mt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){qu=Ks.SDK_VERSION,(0,Ks._registerComponent)(new io.wA("firestore",(t,{instanceIdentifier:i,options:a})=>{const d=t.getProvider("app").getImmediate(),_=new ga(new Jc(t.getProvider("auth-internal")),new Zd(t.getProvider("app-check-internal")),function(D,O){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new Mt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(D.options.projectId,O)}(d,i),d);return a=Object.assign({useFetchStreams:e},a),_._setSettings(a),_},"PUBLIC").setMultipleInstances(!0)),(0,Ks.registerVersion)(Da,"3.8.1",n),(0,Ks.registerVersion)(Da,"3.8.1","esm2017")}();class s0{constructor(e){this._delegate=e}static fromBase64String(e){return Pb(),new s0(sf.fromBase64String(e))}static fromUint8Array(e){return Rb(),new s0(sf.fromUint8Array(e))}toBase64(){return Pb(),this._delegate.toBase64()}toUint8Array(){return Rb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lE(n){return function DT(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Hc{enableIndexedDbPersistence(e,t){return function hb(n,e){oT(n=hi(n,ga));const t=Pu(n),i=n._freezeSettings(),a=new eo;return fb(t,a,new yr(a,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function n1(n){oT(n=hi(n,ga));const e=Pu(n),t=n._freezeSettings(),i=new eo;return fb(e,i,new Aa(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function r1(n){if(n._initialized&&!n._terminated)throw new Mt(Qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Gt.Z)(function*(){try{yield(t=(0,Gt.Z)(function*(i){if(!Ql.C())return Promise.resolve();const a=i+"main";yield Ql.delete(a)}),function(i){return t.apply(this,arguments)})(kd(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class g_{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Nu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&k("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Ky(n,e,t,i={}){var a;const d=(n=hi(n,qy))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&k("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let _,D;if("string"==typeof i.mockUserToken)_=i.mockUserToken,D=Oo.MOCK_USER;else{_=(0,Vr.Sg)(i.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const O=i.mockUserToken.sub||i.mockUserToken.user_id;if(!O)throw new Mt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new Oo(O)}n._authCredentials=new Kd(new xu(_,D))}}(this._delegate,e,t,i)}enableNetwork(){return function s1(n){return function nT(n){return n.asyncQueue.enqueue((0,Gt.Z)(function*(){const e=yield xv(n),t=yield ob(n);return e.setNetworkEnabled(!0),function(i){const a=kt(i);return a._u.delete(0),gu(a)}(t)}))}(Pu(n=hi(n,ga)))}(this._delegate)}disableNetwork(){return function o1(n){return function ZC(n){return n.asyncQueue.enqueue((0,Gt.Z)(function*(){const e=yield xv(n),t=yield ob(n);return e.setNetworkEnabled(!1),(i=(0,Gt.Z)(function*(a){const d=kt(a);d._u.add(0),yield Ia(d),d.gu.set("Offline")}),function(a){return i.apply(this,arguments)})(t);var i}))}(Pu(n=hi(n,ga)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,nf("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function i1(n){return function(e){const t=new Sr;return e.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return function G0(n,e){return Iv.apply(this,arguments)}(yield ab(e),t)})),t.promise}(Pu(n=hi(n,ga)))}(this._delegate)}onSnapshotsInSync(e){return function w1(n,e){return function QC(n,e){const t=new Yy(e);return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return i=yield Jy(n),a=t,kt(i).Ru.add(a),void a.next();var i,a})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return i=yield Jy(n),a=t,void kt(i).Ru.delete(a);var i,a}))}}(Pu(n=hi(n,ga)),cb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Mt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vm(this,Zw(this._delegate,e))}catch(t){throw El(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ud(this,pm(this._delegate,e))}catch(t){throw El(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gc(this,function Zy(n,e){if(n=hi(n,qy),yl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Mt(Qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vl(n,null,(t=e,new rh(ji.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw El(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Mb(n,e,t){n=hi(n,ga);const i=Object.assign(Object.assign({},Ab),t);return function(a){if(a.maxAttempts<1)throw new Mt(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(a,d,_){const D=new Sr;return a.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){const O=yield function tT(n){return z0(n).then(e=>e.datastore)}(a);new zC(a.asyncQueue,O,_,d,D).run()})),D.promise}(Pu(n),a=>e(new xb(n,a)),i)}(this._delegate,t=>e(new M1(this,t)))}batch(){return Pu(this._delegate),new N1(new uE(this._delegate,e=>p_(this._delegate,e)))}loadBundle(e){return function a1(n,e){const t=Pu(n=hi(n,ga)),i=new db;return function rT(n,e,t,i){const a=function(d,_){let D;return D="string"==typeof d?(new TextEncoder).encode(d):d,O=function(O,$){if(O instanceof Uint8Array)return Jw(O,$);if(O instanceof ArrayBuffer)return Jw(new Uint8Array(O),$);if(O instanceof ReadableStream)return O.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new Qw(O,_);var O}(t,Qt(e));n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){!function Kp(n,e,t){const i=kt(n);var a;(a=(0,Gt.Z)(function*(d,_,D){try{const O=yield _.getMetadata();if(yield function(xe,Ke){const mt=kt(xe),Ut=Ko(Ke.createTime);return mt.persistence.runTransaction("hasNewerBundle","readonly",an=>mt.Ns.getBundleMetadata(an,Ke.id)).then(an=>!!an&&an.createTime.compareTo(Ut)>=0)}(d.localStore,O))return yield _.close(),D._completeWith({taskState:"Success",documentsLoaded:(xe=O).totalDocuments,bytesLoaded:xe.totalBytes,totalDocuments:xe.totalDocuments,totalBytes:xe.totalBytes}),Promise.resolve(new Set);D._updateProgress(Dv(O));const $=new Cv(O,d.localStore,_.yt);let J=yield _.mc();for(;J;){const xe=yield $.Fu(J);xe&&D._updateProgress(xe),J=yield _.mc()}const fe=yield $.complete();return yield p(d,fe.Lu,void 0),yield function(xe,Ke){const mt=kt(xe);return mt.persistence.runTransaction("Save bundle","readwrite",Ut=>mt.Ns.saveBundleMetadata(Ut,Ke))}(d.localStore,O),D._completeWith(fe.progress),Promise.resolve(fe.Bu)}catch(O){return k("SyncEngine",`Loading bundle failed with ${O}`),D._failWith(O),Promise.resolve(new Set)}var xe}),function(d,_,D){return a.apply(this,arguments)})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}(yield ab(n),a,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function u1(n,e){return function XC(n,e){return n.asyncQueue.enqueue((0,Gt.Z)(function*(){return function(t,i){const a=kt(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.Ns.getNamedQuery(d,i))}(yield K0(n),e)}))}(Pu(n=hi(n,ga)),e).then(t=>t?new Vl(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Gc(this,t):null)}}class cE extends rE{constructor(e){super(),this.firestore=e}convertBytes(e){return new s0(new sf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ud.forKey(t,this.firestore,null)}}class M1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cE(e)}get(e){const t=ym(e);return this._delegate.get(t).then(i=>new o0(this._firestore,new Yf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=ym(e);return i?(Ob("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const d=ym(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...a),this}delete(e){const t=ym(e);return this._delegate.delete(t),this}}class N1{constructor(e){this._delegate=e}set(e,t,i){const a=ym(e);return i?(Ob("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const d=ym(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,i,...a),this}delete(e){const t=ym(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _m{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new n0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vv(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=_m.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let d=a.get(t);return d||(d=new _m(e,new cE(e),t),a.set(t,d)),d}}_m.INSTANCES=new WeakMap;class Ud{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Mt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ud(t,new pa(t._delegate,i,new Rn(e)))}static forKey(e,t,i){return new Ud(t,new pa(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new vm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vm(this.firestore,Zw(this._delegate,e))}catch(t){throw El(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Vr.m9)(e))instanceof pa&&Yw(this._delegate,e)}set(e,t){t=Ob("DocumentReference.set",t);try{return t?_T(this._delegate,e,t):_T(this._delegate,e)}catch(i){throw El(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?vT(this._delegate,e):vT(this._delegate,e,t,...i)}catch(a){throw El(a,"updateDoc()","DocumentReference.update()")}}delete(){return function sE(n){return p_(hi(n.firestore,ga),[new ih(n._key,Lo.none())])}(this._delegate)}onSnapshot(...e){const t=ST(e),i=dE(e,a=>new o0(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return yT(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Qf(n){n=hi(n,pa);const e=hi(n.firestore,ga),t=Pu(e),i=new Jf(e);return function YC(n,e){const t=new Sr;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return(i=(0,Gt.Z)(function*(a,d,_){try{const D=yield function(O,$){const J=kt(O);return J.persistence.runTransaction("read document","readonly",fe=>J.localDocuments.getDocument(fe,$))}(a,d);D.isFoundDocument()?_.resolve(D):D.isNoDocument()?_.resolve(null):_.reject(new Mt(Qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const O=Wp(D,`Failed to get document '${d} from cache`);_.reject(O)}}),function(a,d,_){return i.apply(this,arguments)})(yield K0(n),e,t);var i})),t.promise}(t,n._key).then(a=>new Yf(e,i,n._key,a,new gm(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function E1(n){n=hi(n,pa);const e=hi(n.firestore,ga);return Mv(Pu(e),n._key,{source:"server"}).then(t=>aE(e,n,t))}(this._delegate):function y1(n){n=hi(n,pa);const e=hi(n.firestore,ga);return Mv(Pu(e),n._key).then(t=>aE(e,n,t))}(this._delegate),t.then(i=>new o0(this.firestore,new Yf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ud(this.firestore,this._delegate.withConverter(e?_m.getInstance(this.firestore,e):null))}}function El(n,e,t){return n.message=n.message.replace(e,t),n}function ST(n){for(const e of n)if("object"==typeof e&&!lE(e))return e;return{}}function dE(n,e){var t,i;let a;return a=lE(n[0])?n[0]:lE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(i=a.complete)||void 0===i?void 0:i.bind(a)}}class o0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ud(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Uv(this._delegate,e._delegate)}}class Vv extends o0{data(e){const t=this._delegate.data(e);return function sn(n,e){n||re()}(void 0!==t),t}}class Gc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cE(e)}where(e,t,i){try{return new Gc(this.firestore,f_(this._delegate,function h1(n,e,t){const i=e,a=eE("where",n);return Lv._create(a,i,t)}(e,t,i)))}catch(a){throw El(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gc(this.firestore,f_(this._delegate,function f1(n,e="asc"){const t=e,i=eE("orderBy",n);return bb._create(i,t)}(e,t)))}catch(i){throw El(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gc(this.firestore,f_(this._delegate,function gT(n){return fm("limit",n),t0._create("limit",n,"F")}(e)))}catch(t){throw El(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gc(this.firestore,f_(this._delegate,function mT(n){return fm("limitToLast",n),t0._create("limitToLast",n,"L")}(e)))}catch(t){throw El(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gc(this.firestore,f_(this._delegate,function p1(...n){return tE._create("startAt",n,!0)}(...e)))}catch(t){throw El(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gc(this.firestore,f_(this._delegate,function g1(...n){return tE._create("startAfter",n,!1)}(...e)))}catch(t){throw El(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gc(this.firestore,f_(this._delegate,function m1(...n){return nE._create("endBefore",n,!1)}(...e)))}catch(t){throw El(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gc(this.firestore,f_(this._delegate,function _1(...n){return nE._create("endAt",n,!0)}(...e)))}catch(t){throw El(t,"endAt()","Query.endAt()")}}isEqual(e){return ib(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function r0(n){n=hi(n,Vl);const e=hi(n.firestore,ga),t=Pu(e),i=new Jf(e);return function JC(n,e){const t=new Sr;return n.asyncQueue.enqueueAndForget((0,Gt.Z)(function*(){return(i=(0,Gt.Z)(function*(a,d,_){try{const D=yield Fd(a,d,!0),O=new Fy(d,D.Hi),$=O.Wu(D.documents),J=O.applyChanges($,!1);_.resolve(J.snapshot)}catch(D){const O=Wp(D,`Failed to execute query '${d} against cache`);_.reject(O)}}),function(a,d,_){return i.apply(this,arguments)})(yield K0(n),e,t);var i})),t.promise}(t,n._query).then(a=>new mm(e,i,n,a))}(this._delegate):"server"===e?.source?function b1(n){n=hi(n,Vl);const e=hi(n.firestore,ga),t=Pu(e),i=new Jf(e);return lb(t,n._query,{source:"server"}).then(a=>new mm(e,i,n,a))}(this._delegate):function Ib(n){n=hi(n,Vl);const e=hi(n.firestore,ga),t=Pu(e),i=new Jf(e);return pT(n._query),lb(t,n._query).then(a=>new mm(e,i,n,a))}(this._delegate),t.then(i=>new kb(this.firestore,new mm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=ST(e),i=dE(e,a=>new kb(this.firestore,new mm(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return yT(this._delegate,t,i)}withConverter(e){return new Gc(this.firestore,this._delegate.withConverter(e?_m.getInstance(this.firestore,e):null))}}class O1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Vv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Vv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new O1(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Vv(this._firestore,i))})}isEqual(e){return Uv(this._delegate,e._delegate)}}class vm extends Gc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ud(this.firestore,e):null}doc(e){try{return new Ud(this.firestore,void 0===e?pm(this._delegate):pm(this._delegate,e))}catch(t){throw El(t,"doc()","CollectionReference.doc()")}}add(e){return function oE(n,e){const t=hi(n.firestore,ga),i=pm(n),a=iE(n.converter,e);return p_(t,[Y0(Zp(n.firestore),"addDoc",i._key,a,null!==n.converter,{}).toMutation(i._key,Lo.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ud(this.firestore,t))}isEqual(e){return Yw(this._delegate,e._delegate)}withConverter(e){return new vm(this.firestore,this._delegate.withConverter(e?_m.getInstance(this.firestore,e):null))}}function ym(n){return hi(n,pa)}class hE{constructor(...e){this._delegate=new Zf(...e)}static documentId(){return new hE(Ro.keyField().canonicalString())}isEqual(e){return(e=(0,Vr.m9)(e))instanceof Zf&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function D1(){return new pb("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xf(e)}static delete(){const e=function C1(){return new Qy("deleteField")}();return e._methodName="FieldValue.delete",new Xf(e)}static arrayUnion(...e){const t=function S1(...n){return new cT("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xf(t)}static arrayRemove(...e){const t=function I1(...n){return new Rv("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xf(t)}static increment(e){const t=function bT(n){return new dT("increment",n)}(e);return t._methodName="FieldValue.increment",new Xf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Lb={Firestore:g_,GeoPoint:Nv,Timestamp:ns,Blob:s0,Transaction:M1,WriteBatch:N1,DocumentReference:Ud,DocumentSnapshot:o0,Query:Gc,QueryDocumentSnapshot:Vv,QuerySnapshot:kb,CollectionReference:vm,FieldPath:hE,FieldValue:Xf,setLogLevel:function x1(n){!function N(n){Ol.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function IT(n){(function fS(n,e){n.INTERNAL.registerComponent(new io.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},Lb)))})(n,(e,t)=>new g_(e,t,new Hc)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(va.Z);var Qp=F(1041),AT=F(6217),$v=F(9260);function Fb(n,e){return function R1(n,e=is.z){return new me.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function xT(n,e){return Fb(n,e).pipe((0,_e.U)(t=>({payload:t,type:"query"})))}function fE(n,e){return xT(n,e).pipe((0,Xo.O)(void 0),tu(),(0,_e.U)(([t,i])=>{const a=i.payload.docChanges(),d=a.map(_=>({type:_.type,payload:_}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((_,D)=>{const O=a.find(J=>J.doc.ref.isEqual(_.ref)),$=t?.payload.docs.find(J=>J.ref.isEqual(_.ref));O&&JSON.stringify(O.doc.metadata)===JSON.stringify(_.metadata)||!O&&$&&JSON.stringify($.metadata)===JSON.stringify(_.metadata)||d.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:_}})}),d}))}function P1(n,e,t){return fE(n,t).pipe((0,Ts.R)((i,a)=>function k1(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function L1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ub(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ub(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ub(n,e.oldIndex,1)}return n}(n,i))}),n}(i,a.map(d=>d.payload),e),[]),(0,Ma.x)(),(0,_e.U)(i=>i.map(a=>({type:a.type,payload:a}))))}function Ub(n,e,t,...i){const a=n.slice();return a.splice(e,t,...i),a}function Vb(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $b{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=fE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_e.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Xo.O)(void 0),tu(),(0,Ie.h)(([i,a])=>a.length>0||!i),(0,_e.U)(([i,a])=>a),zi.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ts.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Vb(e);return P1(this.query,t,this.afs.schedulers.outsideAngular).pipe(zi.iC)}valueChanges(e={}){return xT(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),zi.iC)}get(e){return(0,eu.D)(this.query.get(e)).pipe(zi.iC)}add(e){return this.ref.add(e)}doc(e){return new MT(this.ref.doc(e),this.afs)}}class MT{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:a,query:d}=PT(i,t);return new $b(a,d,this.afs)}snapshotChanges(){return function Bb(n,e){return Fb(n,e).pipe((0,Xo.O)(void 0),tu(),(0,_e.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_e.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,eu.D)(this.ref.get(e)).pipe(zi.iC)}}class NT{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?fE(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Ie.h)(t=>t.length>0),zi.iC):fE(this.query,this.afs.schedulers.outsideAngular).pipe(zi.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ts.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Vb(e);return P1(this.query,t,this.afs.schedulers.outsideAngular).pipe(zi.iC)}valueChanges(e={}){return xT(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),zi.iC)}get(e){return(0,eu.D)(this.query.get(e)).pipe(zi.iC)}}const Hb=new l.OlP("angularfire2.enableFirestorePersistence"),OT=new l.OlP("angularfire2.firestore.persistenceSettings"),F1=new l.OlP("angularfire2.firestore.settings"),RT=new l.OlP("angularfire2.firestore.use-emulator");function PT(n,e=(t=>t)){return{query:e(n),ref:n}}let Gb=(()=>{class n{constructor(t,i,a,d,_,D,O,$,J,fe,xe,Ke,mt,Ut,an,Ln,tr){this.schedulers=O;const Nr=(0,ro.on)(t,D,i),Fr=J;fe&&(0,Qp.nw)(Nr,D,xe,mt,Ut,an,Ke,Ln),[this.firestore,this.persistenceEnabled$]=(0,ro.cc)(`${Nr.name}.firestore`,"AngularFirestore",Nr.name,()=>{const cr=D.runOutsideAngular(()=>Nr.firestore());if(d&&cr.settings(d),Fr&&cr.useEmulator(...Fr),a&&!(0,M.PM)(_)){const Er=()=>{try{return(0,eu.D)(cr.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch(Bi){return typeof console<"u"&&console.warn(Bi),(0,pe.of)(!1)}};return[cr,D.runOutsideAngular(Er)]}return[cr,(0,pe.of)(!1)]},[d,Fr,a])}collection(t,i){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:_}=PT(a,i),D=this.schedulers.ngZone.run(()=>d);return new $b(D,_,this)}collectionGroup(t,i){const a=i||(_=>_),d=this.firestore.collectionGroup(t);return new NT(a(d),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>i);return new MT(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ro.Dh),l.LFG(ro.xv,8),l.LFG(Hb,8),l.LFG(F1,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(zi.HU),l.LFG(OT,8),l.LFG(RT,8),l.LFG(Qp.zQ,8),l.LFG(Qp.Qv,8),l.LFG(Qp.L6,8),l.LFG(Qp._Q,8),l.LFG(Qp.rT,8),l.LFG(Qp.lh,8),l.LFG(Qp.f7,8),l.LFG(AT.nm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kT=(()=>{class n{constructor(){$v.Z.registerVersion("angularfire",zi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Hb,useValue:!0},{provide:OT,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Gb]}),n})();var m_=F(5574);class __{constructor(e,t){this.firestore=e,this.authService=t,this.firestoreCollection=e.collection("trips")}getTrips(){return this.firestore.collection("trips",e=>e.where("userId","==",this.authService.user.uid).orderBy("start_at")).valueChanges({idField:"id"})}addNewTrip(e){return this.firestoreCollection.add(e)}}__.\u0275fac=function(e){return new(e||__)(l.LFG(Gb),l.LFG(m_.e))},__.\u0275prov=l.Yz7({token:__,factory:__.\u0275fac,providedIn:"root"});class Hv{constructor(e,t,i){this.actions$=e,this.tripService=t,this.store=i,this.getTrips$=wo(()=>this.actions$.pipe(Yi(yu),(0,Ji.M)(this.store.pipe((0,Yt.Ys)(Uu)),this.store.pipe((0,Yt.Ys)(Qo))),(0,xa.w)(([a,d,_])=>!0===d?this.tripService.getTrips().pipe((0,_e.U)(D=>no({trips:D,tripsChanged:!1})),(0,Wt.K)(D=>(0,pe.of)(_i({error:D.message})))):(0,pe.of)(no({trips:_,tripsChanged:d}))))),this.newTrip$=wo(()=>this.actions$.pipe(Yi($a),(0,xa.w)(a=>this.tripService.addNewTrip(a).then(d=>Ec({trip:a,id:d.id})).catch(d=>_i({error:d.message})))))}}Hv.\u0275fac=function(e){return new(e||Hv)(l.LFG(ar),l.LFG(__),l.LFG(Yt.yh))},Hv.\u0275prov=l.Yz7({token:Hv,factory:Hv.\u0275fac});const pS=(0,Yt.Lq)({isLoading:!1,trips:[],error:null,selectedTripId:null,tripsChanged:!0},(0,Yt.on)(yu,n=>({...n,isLoading:!0})),(0,Yt.on)(no,(n,e)=>({...n,isLoading:!1,trips:e.trips,tripsChanged:!1})),(0,Yt.on)($a,n=>({...n,isLoading:!0})),(0,Yt.on)(Ec,(n,{trip:e,id:t})=>{let i=[...n.trips],a={...e,id:t};return i.unshift(a),{...n,isLoading:!1,trips:i,selectedTripId:t,tripsChanged:!0}}),(0,Yt.on)(_i,(n,e)=>({...n,isLoading:!1,error:e.error})),(0,Yt.on)(Jo,(n,e)=>({...n,trips:n.trips.map(t=>t.id===n.selectedTripId?{...t,...e}:t)})),(0,Yt.on)(Vi,(n,{tripId:e})=>({...n,selectedTripId:e})),(0,Yt.on)(Tl,n=>({...n,selectedTripId:null})));var af=F(6159),U1=F(9770),gS=F(1144),mS=F(3268);const _S=["addListener","removeListener"],vS=["addEventListener","removeEventListener"],yS=["on","off"];function Xu(n,e,t,i){if((0,vn.m)(t)&&(i=t,t=void 0),i)return Xu(n,e,t).pipe((0,mS.Z)(i));const[a,d]=function LT(n){return(0,vn.m)(n.addEventListener)&&(0,vn.m)(n.removeEventListener)}(n)?vS.map(_=>D=>n[_](e,D,t)):function pE(n){return(0,vn.m)(n.addListener)&&(0,vn.m)(n.removeListener)}(n)?_S.map(V1(n,e)):function ES(n){return(0,vn.m)(n.on)&&(0,vn.m)(n.off)}(n)?yS.map(V1(n,e)):[];if(!a&&(0,gS.z)(n))return(0,ni.z)(_=>Xu(_,e,t))((0,Zt.Xf)(n));if(!a)throw new TypeError("Invalid event target");return new me.y(_=>{const D=(...O)=>_.next(1<O.length?O:O[0]);return a(D),()=>d(D)})}function V1(n,e){return t=>i=>n[t](e,i)}var Gv=F(7272);const ep=new me.y(ue.Z);var bS=F(4033);const FT={connector:()=>new Se.x};function BT(n,e=FT){const{connector:t}=e;return(0,qe.e)((i,a)=>{const d=t();(0,Zt.Xf)(n(function jb(n){return new me.y(e=>n.subscribe(e))}(d))).subscribe(a),a.add(i.subscribe(d))})}var VT=F(8505),H1=F(9718);function $T(n,e){return e?t=>(0,Gv.z)(e.pipe((0,Rr.q)(1),Ae()),t.pipe($T(n))):(0,ni.z)((t,i)=>n(t,i).pipe((0,Rr.q)(1),(0,H1.h)(t)))}var gE=F(3532),G1=F(1165);function HT(n=0,e,t=is.P){let i=-1;return null!=e&&((0,gE.K)(e)?t=e:i=e),new me.y(a=>{let d=(0,G1.q)(n)?+n-t.now():n;d<0&&(d=0);let _=0;return t.schedule(function(){a.closed||(a.next(_++),0<=i?this.schedule(void 0,i):a.complete())},d)})}function j1(n,e=is.z){const t=HT(n,e);return $T(()=>t)}const mE="Service workers are disabled or not supported by this browser";class _E{constructor(e){if(this.serviceWorker=e,e){const i=Xu(e,"controllerchange").pipe((0,_e.U)(()=>e.controller)),a=(0,U1.P)(()=>(0,pe.of)(e.controller)),d=(0,Gv.z)(a,i);this.worker=d.pipe((0,Ie.h)(J=>!!J)),this.registration=this.worker.pipe((0,xa.w)(()=>e.getRegistration()));const $=Xu(e,"message").pipe((0,_e.U)(J=>J.data)).pipe((0,Ie.h)(J=>J&&J.type)).pipe(function wS(n){return n?e=>BT(n)(e):e=>function UT(n,e){const t=(0,vn.m)(n)?n:()=>n;return(0,vn.m)(e)?BT(e,{connector:t}):i=>new bS.c(i,t)}(new Se.x)(e)}());$.connect(),this.events=$}else this.worker=this.events=this.registration=function W1(n){return(0,U1.P)(()=>(0,qt._)(new Error(n)))}(mE)}postMessage(e,t){return this.worker.pipe((0,Rr.q)(1),(0,VT.b)(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const a=this.waitForOperationCompleted(i),d=this.postMessage(e,t);return Promise.all([d,a]).then(([,_])=>_)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe((0,Ie.h)(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,Rr.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ie.h)(t=>t.nonce===e),(0,Rr.q)(1),(0,_e.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let z1=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.subscriptionChanges=new Se.x,!t.isEnabled)return this.messages=ep,this.notificationClicks=ep,void(this.subscription=ep);this.messages=this.sw.eventsOfType("PUSH").pipe((0,_e.U)(a=>a.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,_e.U)(a=>a.data)),this.pushManager=this.sw.registration.pipe((0,_e.U)(a=>a.pushManager));const i=this.pushManager.pipe((0,xa.w)(a=>a.getSubscription()));this.subscription=(0,Ue.T)(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(mE));const i={userVisibleOnly:!0};let a=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),d=new Uint8Array(new ArrayBuffer(a.length));for(let _=0;_<a.length;_++)d[_]=a.charCodeAt(_);return i.applicationServerKey=d,this.pushManager.pipe((0,xa.w)(_=>_.subscribe(i)),(0,Rr.q)(1)).toPromise().then(_=>(this.subscriptionChanges.next(_),_))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Rr.q)(1),(0,xa.w)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(a=>{if(!a)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(mE))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_E))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),TS=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=ep,this.available=ep,this.activated=ep,void(this.unrecoverable=ep);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Ie.h)(i=>"VERSION_READY"===i.type),(0,_e.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mE));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(mE));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_E))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Wb{}const zb=new l.OlP("NGSW_REGISTER_SCRIPT");function GT(n,e,t,i){return()=>{if(!(0,M.NF)(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let a;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)a=t.registrationStrategy();else{const[_,...D]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(_){case"registerImmediately":a=(0,pe.of)(null);break;case"registerWithDelay":a=q1(+D[0]||0);break;case"registerWhenStable":a=D[0]?(0,Ue.T)(ph(n),q1(+D[0])):ph(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>a.pipe((0,Rr.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(_=>console.error("Service worker registration failed with:",_))))}}function q1(n){return(0,pe.of)(null).pipe(j1(n))}function ph(n){return n.get(l.z2F).isStable.pipe((0,Ie.h)(t=>t))}function K1(n,e){return new _E((0,M.NF)(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let qb=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:zb,useValue:t},{provide:Wb,useValue:i},{provide:_E,useFactory:K1,deps:[Wb,l.Lbi]},{provide:l.ip1,useFactory:GT,deps:[l.zs3,zb,Wb,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[z1,TS]}),n})();const{isArray:Z1}=Array;function Y1(n){return 1===n.length&&Z1(n[0])?n[0]:n}var tp=F(1135),jT=F(9841),Q1=F(3269);function v_(...n){const e=(0,Q1.jO)(n),t=Y1(n);return t.length?new me.y(i=>{let a=t.map(()=>[]),d=t.map(()=>!1);i.add(()=>{a=d=null});for(let _=0;!i.closed&&_<t.length;_++)(0,Zt.Xf)(t[_]).subscribe((0,Ce.x)(i,D=>{if(a[_].push(D),a.every(O=>O.length)){const O=a.map($=>$.shift());i.next(e?e(...O):O),a.some(($,J)=>!$.length&&d[J])&&i.complete()}},()=>{d[_]=!0,!a[_].length&&i.complete()}));return()=>{a=d=null}}):Et.E}var ma=F(2722),X1=F(5684),zT=F(8746),Gr=F(433),eD={left:"right",right:"left",bottom:"top",top:"bottom"};function a0(n){return n.replace(/left|right|bottom|top/g,function(e){return eD[e]})}function np(n){return n.split("-")[0]}var Kb={start:"end",end:"start"};function Xp(n){return n.replace(/start|end/g,function(e){return Kb[e]})}var yc="top",jc="bottom",ku="right",Wc="left",Zb="auto",jv=[yc,jc,ku,Wc],y_="start",Wv="end",qT="clippingParents",vE="viewport",zv="popper",tD="reference",Yb=jv.reduce(function(n,e){return n.concat([e+"-"+y_,e+"-"+Wv])},[]),yE=[].concat(jv,[Zb]).reduce(function(n,e){return n.concat([e,e+"-"+y_,e+"-"+Wv])},[]),nD="beforeRead",EE="read",Jb="afterRead",Qb="beforeMain",Xb="main",ew="afterMain",tw="beforeWrite",u0="write",l0="afterWrite",nw=[nD,EE,Jb,Qb,Xb,ew,tw,u0,l0];function gh(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function E_(n){return n instanceof gh(n).Element||n instanceof Element}function mh(n){return n instanceof gh(n).HTMLElement||n instanceof HTMLElement}function KT(n){return!(typeof ShadowRoot>"u")&&(n instanceof gh(n).ShadowRoot||n instanceof ShadowRoot)}function b_(n){return((E_(n)?n.ownerDocument:n.document)||window.document).documentElement}var Em=Math.max,bE=Math.min,qv=Math.round;function rw(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function rD(){return!/^((?!chrome|android).)*safari/i.test(rw())}function c0(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),a=1,d=1;e&&mh(n)&&(a=n.offsetWidth>0&&qv(i.width)/n.offsetWidth||1,d=n.offsetHeight>0&&qv(i.height)/n.offsetHeight||1);var D=(E_(n)?gh(n):window).visualViewport,O=!rD()&&t,$=(i.left+(O&&D?D.offsetLeft:0))/a,J=(i.top+(O&&D?D.offsetTop:0))/d,fe=i.width/a,xe=i.height/d;return{width:fe,height:xe,top:J,right:$+fe,bottom:J+xe,left:$,x:$,y:J}}function ZT(n){var e=gh(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function YT(n){return c0(b_(n)).left+ZT(n).scrollLeft}function eg(n){return gh(n).getComputedStyle(n)}function rp(n){return n?(n.nodeName||"").toLowerCase():null}function TE(n){return"html"===rp(n)?n:n.assignedSlot||n.parentNode||(KT(n)?n.host:null)||b_(n)}function CE(n){var e=eg(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function bm(n){return["html","body","#document"].indexOf(rp(n))>=0?n.ownerDocument.body:mh(n)&&CE(n)?n:bm(TE(n))}function Kv(n,e){var t;void 0===e&&(e=[]);var i=bm(n),a=i===(null==(t=n.ownerDocument)?void 0:t.body),d=gh(i),_=a?[d].concat(d.visualViewport||[],CE(i)?i:[]):i,D=e.concat(_);return a?D:D.concat(Kv(TE(_)))}function iw(n){return["table","td","th"].indexOf(rp(n))>=0}function DE(n){return mh(n)&&"fixed"!==eg(n).position?n.offsetParent:null}function w_(n){for(var e=gh(n),t=DE(n);t&&iw(t)&&"static"===eg(t).position;)t=DE(t);return t&&("html"===rp(t)||"body"===rp(t)&&"static"===eg(t).position)?e:t||function iD(n){var e=/firefox/i.test(rw());if(/Trident/i.test(rw())&&mh(n)&&"fixed"===eg(n).position)return null;var a=TE(n);for(KT(a)&&(a=a.host);mh(a)&&["html","body"].indexOf(rp(a))<0;){var d=eg(a);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain||-1!==["transform","perspective"].indexOf(d.willChange)||e&&"filter"===d.willChange||e&&d.filter&&"none"!==d.filter)return a;a=a.parentNode}return null}(n)||e}function SE(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&KT(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Zv(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function sD(n,e,t){return e===vE?Zv(function CS(n,e){var t=gh(n),i=b_(n),a=t.visualViewport,d=i.clientWidth,_=i.clientHeight,D=0,O=0;if(a){d=a.width,_=a.height;var $=rD();($||!$&&"fixed"===e)&&(D=a.offsetLeft,O=a.offsetTop)}return{width:d,height:_,x:D+YT(n),y:O}}(n,t)):E_(e)?function DS(n,e){var t=c0(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):Zv(function wE(n){var e,t=b_(n),i=ZT(n),a=null==(e=n.ownerDocument)?void 0:e.body,d=Em(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),_=Em(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),D=-i.scrollLeft+YT(n),O=-i.scrollTop;return"rtl"===eg(a||t).direction&&(D+=Em(t.clientWidth,a?a.clientWidth:0)-d),{width:d,height:_,x:D,y:O}}(b_(n)))}function T_(n){return n.split("-")[1]}function sw(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function JT(n){var O,e=n.reference,t=n.element,i=n.placement,a=i?np(i):null,d=i?T_(i):null,_=e.x+e.width/2-t.width/2,D=e.y+e.height/2-t.height/2;switch(a){case yc:O={x:_,y:e.y-t.height};break;case jc:O={x:_,y:e.y+e.height};break;case ku:O={x:e.x+e.width,y:D};break;case Wc:O={x:e.x-t.width,y:D};break;default:O={x:e.x,y:e.y}}var $=a?sw(a):null;if(null!=$){var J="y"===$?"height":"width";switch(d){case y_:O[$]=O[$]-(e[J]/2-t[J]/2);break;case Wv:O[$]=O[$]+(e[J]/2-t[J]/2)}}return O}function XT(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function ow(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}function C_(n,e){void 0===e&&(e={});var i=e.placement,a=void 0===i?n.placement:i,d=e.strategy,_=void 0===d?n.strategy:d,D=e.boundary,O=void 0===D?qT:D,$=e.rootBoundary,J=void 0===$?vE:$,fe=e.elementContext,xe=void 0===fe?zv:fe,Ke=e.altBoundary,mt=void 0!==Ke&&Ke,Ut=e.padding,an=void 0===Ut?0:Ut,Ln=XT("number"!=typeof an?an:ow(an,jv)),Nr=n.rects.popper,Fr=n.elements[mt?xe===zv?tD:zv:xe],cr=function IS(n,e,t,i){var a="clippingParents"===e?function SS(n){var e=Kv(TE(n)),i=["absolute","fixed"].indexOf(eg(n).position)>=0&&mh(n)?w_(n):n;return E_(i)?e.filter(function(a){return E_(a)&&SE(a,i)&&"body"!==rp(a)}):[]}(n):[].concat(e),d=[].concat(a,[t]),D=d.reduce(function(O,$){var J=sD(n,$,i);return O.top=Em(J.top,O.top),O.right=bE(J.right,O.right),O.bottom=bE(J.bottom,O.bottom),O.left=Em(J.left,O.left),O},sD(n,d[0],i));return D.width=D.right-D.left,D.height=D.bottom-D.top,D.x=D.left,D.y=D.top,D}(E_(Fr)?Fr:Fr.contextElement||b_(n.elements.popper),O,J,_),Er=c0(n.elements.reference),Bi=JT({reference:Er,element:Nr,strategy:"absolute",placement:a}),to=Zv(Object.assign({},Nr,Bi)),ic=xe===zv?to:Er,sc={top:cr.top-ic.top+Ln.top,bottom:ic.bottom-cr.bottom+Ln.bottom,left:cr.left-ic.left+Ln.left,right:ic.right-cr.right+Ln.right},wl=n.modifiersData.offset;if(xe===zv&&wl){var sg=wl[a];Object.keys(sc).forEach(function($d){var T0=[ku,jc].indexOf($d)>=0?1:-1,C0=[yc,jc].indexOf($d)>=0?"y":"x";sc[$d]+=sg[C0]*T0})}return sc}const IE={name:"flip",enabled:!0,phase:"main",fn:function aD(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var a=t.mainAxis,d=void 0===a||a,_=t.altAxis,D=void 0===_||_,O=t.fallbackPlacements,$=t.padding,J=t.boundary,fe=t.rootBoundary,xe=t.altBoundary,Ke=t.flipVariations,mt=void 0===Ke||Ke,Ut=t.allowedAutoPlacements,an=e.options.placement,Ln=np(an),Nr=O||(Ln!==an&&mt?function oD(n){if(np(n)===Zb)return[];var e=a0(n);return[Xp(n),e,Xp(e)]}(an):[a0(an)]),Fr=[an].concat(Nr).reduce(function(YE,sy){return YE.concat(np(sy)===Zb?function eC(n,e){void 0===e&&(e={});var a=e.boundary,d=e.rootBoundary,_=e.padding,D=e.flipVariations,O=e.allowedAutoPlacements,$=void 0===O?yE:O,J=T_(e.placement),fe=J?D?Yb:Yb.filter(function(mt){return T_(mt)===J}):jv,xe=fe.filter(function(mt){return $.indexOf(mt)>=0});0===xe.length&&(xe=fe);var Ke=xe.reduce(function(mt,Ut){return mt[Ut]=C_(n,{placement:Ut,boundary:a,rootBoundary:d,padding:_})[np(Ut)],mt},{});return Object.keys(Ke).sort(function(mt,Ut){return Ke[mt]-Ke[Ut]})}(e,{placement:sy,boundary:J,rootBoundary:fe,padding:$,flipVariations:mt,allowedAutoPlacements:Ut}):sy)},[]),cr=e.rects.reference,Er=e.rects.popper,Bi=new Map,to=!0,ic=Fr[0],sc=0;sc<Fr.length;sc++){var wl=Fr[sc],sg=np(wl),$d=T_(wl)===y_,T0=[yc,jc].indexOf(sg)>=0,C0=T0?"width":"height",uf=C_(e,{placement:wl,boundary:J,rootBoundary:fe,altBoundary:xe,padding:$}),og=T0?$d?ku:Wc:$d?jc:yc;cr[C0]>Er[C0]&&(og=a0(og));var BC=a0(og),D0=[];if(d&&D0.push(uf[sg]<=0),D&&D0.push(uf[og]<=0,uf[BC]<=0),D0.every(function(YE){return YE})){ic=wl,to=!1;break}Bi.set(wl,D0)}if(to)for(var iS=function(sy){var Hw=Fr.find(function($C){var S0=Bi.get($C);if(S0)return S0.slice(0,sy).every(function(sS){return sS})});if(Hw)return ic=Hw,"break"},$w=mt?3:1;$w>0&&"break"!==iS($w);$w--);e.placement!==ic&&(e.modifiersData[i]._skip=!0,e.placement=ic,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function AE(n,e,t){return Em(n,bE(e,t))}function d0(n){var e=c0(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}const uw={name:"preventOverflow",enabled:!0,phase:"main",fn:function uD(n){var e=n.state,t=n.options,i=n.name,a=t.mainAxis,d=void 0===a||a,_=t.altAxis,D=void 0!==_&&_,xe=t.tether,Ke=void 0===xe||xe,mt=t.tetherOffset,Ut=void 0===mt?0:mt,an=C_(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Ln=np(e.placement),tr=T_(e.placement),Nr=!tr,Fr=sw(Ln),cr=function aw(n){return"x"===n?"y":"x"}(Fr),Er=e.modifiersData.popperOffsets,Bi=e.rects.reference,to=e.rects.popper,ic="function"==typeof Ut?Ut(Object.assign({},e.rects,{placement:e.placement})):Ut,sc="number"==typeof ic?{mainAxis:ic,altAxis:ic}:Object.assign({mainAxis:0,altAxis:0},ic),wl=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,sg={x:0,y:0};if(Er){if(d){var $d,T0="y"===Fr?yc:Wc,C0="y"===Fr?jc:ku,uf="y"===Fr?"height":"width",og=Er[Fr],BC=og+an[T0],D0=og-an[C0],UC=Ke?-to[uf]/2:0,iS=tr===y_?Bi[uf]:to[uf],$w=tr===y_?-to[uf]:-Bi[uf],VC=e.elements.arrow,YE=Ke&&VC?d0(VC):{width:0,height:0},sy=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hw=sy[T0],$C=sy[C0],S0=AE(0,Bi[uf],YE[uf]),sS=Nr?Bi[uf]/2-UC-S0-Hw-sc.mainAxis:iS-S0-Hw-sc.mainAxis,VL=Nr?-Bi[uf]/2+UC+S0+$C+sc.mainAxis:$w+S0+$C+sc.mainAxis,oS=e.elements.arrow&&w_(e.elements.arrow),ZA=null!=($d=wl?.[Fr])?$d:0,GL=og+VL-ZA,YA=AE(Ke?bE(BC,og+sS-ZA-(oS?"y"===Fr?oS.clientTop||0:oS.clientLeft||0:0)):BC,og,Ke?Em(D0,GL):D0);Er[Fr]=YA,sg[Fr]=YA-og}if(D){var JA,I0=Er[cr],HC="y"===cr?"height":"width",QA=I0+an["x"===Fr?yc:Wc],XA=I0-an["x"===Fr?jc:ku],aS=-1!==[yc,Wc].indexOf(Ln),ex=null!=(JA=wl?.[cr])?JA:0,tx=aS?QA:I0-Bi[HC]-to[HC]-ex+sc.altAxis,nx=aS?I0+Bi[HC]+to[HC]-ex-sc.altAxis:XA,rx=Ke&&aS?function tC(n,e,t){var i=AE(n,e,t);return i>t?t:i}(tx,I0,nx):AE(Ke?tx:QA,I0,Ke?nx:XA);Er[cr]=rx,sg[cr]=rx-I0}e.modifiersData[i]=sg}},requiresIfExists:["offset"]},nC={name:"arrow",enabled:!0,phase:"main",fn:function xS(n){var e,t=n.state,i=n.name,a=n.options,d=t.elements.arrow,_=t.modifiersData.popperOffsets,D=np(t.placement),O=sw(D),J=[Wc,ku].indexOf(D)>=0?"height":"width";if(d&&_){var fe=function(e,t){return XT("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ow(e,jv))}(a.padding,t),xe=d0(d),Ke="y"===O?yc:Wc,mt="y"===O?jc:ku,Ut=t.rects.reference[J]+t.rects.reference[O]-_[O]-t.rects.popper[J],an=_[O]-t.rects.reference[O],Ln=w_(d),tr=Ln?"y"===O?Ln.clientHeight||0:Ln.clientWidth||0:0,Er=tr/2-xe[J]/2+(Ut/2-an/2),Bi=AE(fe[Ke],Er,tr-xe[J]-fe[mt]);t.modifiersData[i]=((e={})[O]=Bi,e.centerOffset=Bi-Er,e)}},effect:function MS(n){var e=n.state,i=n.options.element,a=void 0===i?"[data-popper-arrow]":i;null!=a&&("string"==typeof a&&!(a=e.elements.popper.querySelector(a))||SE(e.elements.popper,a)&&(e.elements.arrow=a))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function RS(n,e,t){void 0===t&&(t=!1);var i=mh(e),a=mh(e)&&function OS(n){var e=n.getBoundingClientRect(),t=qv(e.width)/n.offsetWidth||1,i=qv(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),d=b_(e),_=c0(n,a,t),D={scrollLeft:0,scrollTop:0},O={x:0,y:0};return(i||!i&&!t)&&(("body"!==rp(e)||CE(d))&&(D=function NS(n){return n!==gh(n)&&mh(n)?function lD(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):ZT(n)}(e)),mh(e)?((O=c0(e,!0)).x+=e.clientLeft,O.y+=e.clientTop):d&&(O.x=YT(d))),{x:_.left+D.scrollLeft-O.x,y:_.top+D.scrollTop-O.y,width:_.width,height:_.height}}function PS(n){var e=new Map,t=new Set,i=[];function a(d){t.add(d.name),[].concat(d.requires||[],d.requiresIfExists||[]).forEach(function(D){if(!t.has(D)){var O=e.get(D);O&&a(O)}}),i.push(d)}return n.forEach(function(d){e.set(d.name,d)}),n.forEach(function(d){t.has(d.name)||a(d)}),i}function cD(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var dD={placement:"bottom",modifiers:[],strategy:"absolute"};function rC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function lw(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,a=n.defaultOptions,d=void 0===a?dD:a;return function(D,O,$){void 0===$&&($=d);var J={placement:"bottom",orderedModifiers:[],options:Object.assign({},dD,d),modifiersData:{},elements:{reference:D,popper:O},attributes:{},styles:{}},fe=[],xe=!1,Ke={state:J,setOptions:function(Ln){var tr="function"==typeof Ln?Ln(J.options):Ln;Ut(),J.options=Object.assign({},d,J.options,tr),J.scrollParents={reference:E_(D)?Kv(D):D.contextElement?Kv(D.contextElement):[],popper:Kv(O)};var Nr=function kS(n){var e=PS(n);return nw.reduce(function(t,i){return t.concat(e.filter(function(a){return a.phase===i}))},[])}(function LS(n){var e=n.reduce(function(t,i){var a=t[i.name];return t[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,J.options.modifiers)));return J.orderedModifiers=Nr.filter(function(wl){return wl.enabled}),function mt(){J.orderedModifiers.forEach(function(an){var tr=an.options,Fr=an.effect;if("function"==typeof Fr){var cr=Fr({state:J,name:an.name,instance:Ke,options:void 0===tr?{}:tr});fe.push(cr||function(){})}})}(),Ke.update()},forceUpdate:function(){if(!xe){var Ln=J.elements,tr=Ln.reference,Nr=Ln.popper;if(rC(tr,Nr)){J.rects={reference:RS(tr,w_(Nr),"fixed"===J.options.strategy),popper:d0(Nr)},J.reset=!1,J.placement=J.options.placement,J.orderedModifiers.forEach(function(wl){return J.modifiersData[wl.name]=Object.assign({},wl.data)});for(var cr=0;cr<J.orderedModifiers.length;cr++)if(!0!==J.reset){var Er=J.orderedModifiers[cr],Bi=Er.fn,to=Er.options;"function"==typeof Bi&&(J=Bi({state:J,options:void 0===to?{}:to,name:Er.name,instance:Ke})||J)}else J.reset=!1,cr=-1}}},update:cD(function(){return new Promise(function(an){Ke.forceUpdate(),an(J)})}),destroy:function(){Ut(),xe=!0}};if(!rC(D,O))return Ke;function Ut(){fe.forEach(function(an){return an()}),fe=[]}return Ke.setOptions($).then(function(an){!xe&&$.onFirstUpdate&&$.onFirstUpdate(an)}),Ke}}var s=lw(),o={passive:!0};const g={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function c(n){var e=n.state,t=n.instance,i=n.options,a=i.scroll,d=void 0===a||a,_=i.resize,D=void 0===_||_,O=gh(e.elements.popper),$=[].concat(e.scrollParents.reference,e.scrollParents.popper);return d&&$.forEach(function(J){J.addEventListener("scroll",t.update,o)}),D&&O.addEventListener("resize",t.update,o),function(){d&&$.forEach(function(J){J.removeEventListener("scroll",t.update,o)}),D&&O.removeEventListener("resize",t.update,o)}},data:{}},b={name:"popperOffsets",enabled:!0,phase:"read",fn:function m(n){var e=n.state;e.modifiersData[n.name]=JT({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var A={top:"auto",right:"auto",bottom:"auto",left:"auto"};function G(n){var e,t=n.popper,i=n.popperRect,a=n.placement,d=n.variation,_=n.offsets,D=n.position,O=n.gpuAcceleration,$=n.adaptive,J=n.roundOffsets,fe=n.isFixed,xe=_.x,Ke=void 0===xe?0:xe,mt=_.y,Ut=void 0===mt?0:mt,an="function"==typeof J?J({x:Ke,y:Ut}):{x:Ke,y:Ut};Ke=an.x,Ut=an.y;var Ln=_.hasOwnProperty("x"),tr=_.hasOwnProperty("y"),Nr=Wc,Fr=yc,cr=window;if($){var Er=w_(t),Bi="clientHeight",to="clientWidth";Er===gh(t)&&"static"!==eg(Er=b_(t)).position&&"absolute"===D&&(Bi="scrollHeight",to="scrollWidth"),(a===yc||(a===Wc||a===ku)&&d===Wv)&&(Fr=jc,Ut-=(fe&&Er===cr&&cr.visualViewport?cr.visualViewport.height:Er[Bi])-i.height,Ut*=O?1:-1),a!==Wc&&(a!==yc&&a!==jc||d!==Wv)||(Nr=ku,Ke-=(fe&&Er===cr&&cr.visualViewport?cr.visualViewport.width:Er[to])-i.width,Ke*=O?1:-1)}var $d,wl=Object.assign({position:D},$&&A),sg=!0===J?function L(n){var t=n.y,a=window.devicePixelRatio||1;return{x:qv(n.x*a)/a||0,y:qv(t*a)/a||0}}({x:Ke,y:Ut}):{x:Ke,y:Ut};return Ke=sg.x,Ut=sg.y,Object.assign({},wl,O?(($d={})[Fr]=tr?"0":"",$d[Nr]=Ln?"0":"",$d.transform=(cr.devicePixelRatio||1)<=1?"translate("+Ke+"px, "+Ut+"px)":"translate3d("+Ke+"px, "+Ut+"px, 0)",$d):((e={})[Fr]=tr?Ut+"px":"",e[Nr]=Ln?Ke+"px":"",e.transform="",e))}const le={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Q(n){var e=n.state,t=n.options,i=t.gpuAcceleration,a=void 0===i||i,d=t.adaptive,_=void 0===d||d,D=t.roundOffsets,O=void 0===D||D,J={placement:np(e.placement),variation:T_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,G(Object.assign({},J,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:_,roundOffsets:O})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,G(Object.assign({},J,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:O})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},St={name:"applyStyles",enabled:!0,phase:"write",fn:function Re(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},a=e.attributes[t]||{},d=e.elements[t];!mh(d)||!rp(d)||(Object.assign(d.style,i),Object.keys(a).forEach(function(_){var D=a[_];!1===D?d.removeAttribute(_):d.setAttribute(_,!0===D?"":D)}))})},effect:function rt(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var a=e.elements[i],d=e.attributes[i]||{},D=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(O,$){return O[$]="",O},{});!mh(a)||!rp(a)||(Object.assign(a.style,D),Object.keys(d).forEach(function(O){a.removeAttribute(O)}))})}},requires:["computeStyles"]};var Cn=lw({defaultModifiers:[g,b,le,St]});const Yr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function mr(n){var e=n.state,i=n.name,a=n.options.offset,d=void 0===a?[0,0]:a,_=yE.reduce(function(J,fe){return J[fe]=function Wn(n,e,t){var i=np(n),a=[Wc,yc].indexOf(i)>=0?-1:1,d="function"==typeof t?t(Object.assign({},e,{placement:n})):t,_=d[0],D=d[1];return _=_||0,D=(D||0)*a,[Wc,ku].indexOf(i)>=0?{x:D,y:_}:{x:_,y:D}}(fe,e.rects,d),J},{}),D=_[e.placement],$=D.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=D.x,e.modifiersData.popperOffsets.y+=$),e.modifiersData[i]=_}};function hn(n,e){}function Oi(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,hn,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function Va(n,e){}function Lu(n,e){}function FS(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(a){l.CHM(t);const d=l.oxw().$implicit;return l.KtG(d.panelDiv=a)}),l.TgZ(1,"div",9),l.YNc(2,Lu,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const ax=function(n,e){return{$implicit:n,opened:e}};function ux(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,Va,0,0,"ng-template",6),l.qZA(),l.YNc(3,FS,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(),a=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:i.type?"bg-"+i.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||a)("ngTemplateOutletContext",l.WLB(8,ax,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!i.destroyOnHide||t.isOpen||t.transitionRunning)}}function lx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.close())}),l.qZA()}}const cw=["*"];function cx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return _.focus(),l.KtG(_.select(d.id,_.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,i=l.oxw();l.ekj("active",t.id===i.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function dx(n,e){}function hx(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,dx,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,i=e.index,a=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(i+1)(a),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function fx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function px(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const gx=["ngbDatepickerDayView",""],mx=["month"],_x=["year"];function vx(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("value",t),l.uIk("aria-label",i.i18n.getMonthFullName(t,i.date.year)),l.xp6(1),l.Oqu(i.i18n.getMonthShortName(t,i.date.year))}}function yx(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(i.i18n.getYearNumerals(t))}}function Ex(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(a){l.CHM(t);const d=l.oxw();return l.KtG(d.select.emit(a))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function bx(n,e){1&n&&l._UZ(0,"div",0)}function wx(n,e){1&n&&l._UZ(0,"div",0)}function Tx(n,e){if(1&n&&(l.YNc(0,bx,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,wx,1,0,"div",9)),2&n){const t=e.$implicit,i=e.index,a=l.oxw(2);l.Q6J("ngIf",i>0),l.xp6(2),l.hij(" ",a.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",i!==a.months.length-1)}}function Cx(n,e){if(1&n&&l.YNc(0,Tx,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function Dx(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function Sx(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function Ix(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,Dx,2,1,"div",3),l.YNc(2,Sx,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function Ax(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,i=l.oxw();l.xp6(1),l.Oqu(i.i18n.getWeekNumerals(t.number))}}function xx(n,e){}function Mx(n,e){if(1&n&&l.YNc(0,xx,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,i=l.oxw(3);l.Q6J("ngTemplateOutlet",i.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Nx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(a){const _=l.CHM(t).$implicit;return l.oxw(3).doSelect(_),l.KtG(a.preventDefault())}),l.YNc(1,Mx,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function Ox(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,Ax,2,1,"div",9),l.YNc(2,Nx,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function Rx(n,e){1&n&&l.YNc(0,Ox,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const Px=["defaultDayTemplate"],kx=["content"];function Lx(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const i=e.currentMonth,a=e.selected,d=e.disabled,_=e.focused;l.Q6J("date",e.date)("currentMonth",i)("selected",a)("disabled",d)("focused",_)}}function Fx(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw(2);l.xp6(1),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," ")}}function Bx(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,Fx,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===i.navigation||i.displayMonths>1&&"select"===i.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function Ux(n,e){if(1&n&&l.YNc(0,Bx,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function Vx(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(a){l.CHM(t);const d=l.oxw();return l.KtG(d.onNavigateEvent(a))})("select",function(a){l.CHM(t);const d=l.oxw();return l.KtG(d.onNavigateDateSelect(a))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function $x(n,e){}function Hx(n,e){}const Gx=["dialog"],jx=["ngbNavOutlet",""];function Wx(n,e){}const zx=function(n){return{$implicit:n}};function qx(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,Wx,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw();l.Q6J("item",t)("nav",i.nav)("role",i.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,zx,t.active||i.isPanelTransitioning(t)))}}function Kx(n,e){if(1&n&&l.YNc(0,qx,2,7,"div",1),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||i.isPanelTransitioning(t))}}function Zx(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function Yx(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function Jx(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function Qx(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function Xx(n,e){1&n&&l._uU(0,"...")}function eM(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function tM(n,e){if(1&n&&(l._uU(0),l.YNc(1,eM,2,0,"span",14)),2&n){const t=e.$implicit,i=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===i)}}function nM(n,e){}const rM=function(n){return{disabled:!0,currentPage:n}};function iM(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,nM,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,i=l.oxw(),a=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||a)("ngTemplateOutletContext",l.VKq(2,rM,t))}}function sM(n,e){}const oM=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function aM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(a){l.CHM(t);const d=l.oxw().$implicit;return l.oxw(2).selectPage(d),l.KtG(a.preventDefault())}),l.YNc(1,sM,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,i=l.oxw(),a=i.disabled,d=i.$implicit,_=l.oxw(),D=l.MAs(11);l.uIk("tabindex",a?"-1":null)("aria-disabled",a?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==_.tplNumber?null:_.tplNumber.templateRef)||D)("ngTemplateOutletContext",l.kEZ(4,oM,a,t,d))}}function uM(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,iM,2,4,"a",18),l.YNc(2,aM,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(),a=i.$implicit,d=i.disabled,_=l.oxw();l.ekj("active",t===a)("disabled",_.isEllipsis(t)||d),l.uIk("aria-current",t===a?"page":null),l.xp6(1),l.Q6J("ngIf",_.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!_.isEllipsis(t))}}function lM(n,e){1&n&&l.YNc(0,uM,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function cM(n,e){}const hD=function(n,e){return{disabled:n,currentPage:e}};function dM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(a){return l.CHM(t),l.oxw().selectPage(1),l.KtG(a.preventDefault())}),l.YNc(2,cM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,hD,t.previousDisabled(),t.page))}}function hM(n,e){}const fM=function(n){return{disabled:n}};function pM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(a){l.CHM(t);const d=l.oxw();return d.selectPage(d.page-1),l.KtG(a.preventDefault())}),l.YNc(2,hM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||i)("ngTemplateOutletContext",l.VKq(6,fM,t.previousDisabled()))}}function gM(n,e){}function mM(n,e){}function _M(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(a){l.CHM(t);const d=l.oxw();return d.selectPage(d.page+1),l.KtG(a.preventDefault())}),l.YNc(2,mM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,hD,t.nextDisabled(),t.page))}}function vM(n,e){}function yM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(a){l.CHM(t);const d=l.oxw();return d.selectPage(d.pageCount),l.KtG(a.preventDefault())}),l.YNc(2,vM,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||i)("ngTemplateOutletContext",l.WLB(6,hD,t.nextDisabled(),t.page))}}const EM=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function TM(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function CM(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function DM(n,e){}function SM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const d=l.CHM(t).index,_=l.oxw();return l.KtG(_.enter(d+1))})("click",function(){const d=l.CHM(t).index,_=l.oxw();return l.KtG(_.handleClick(d+1))}),l.YNc(3,DM,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,i=l.oxw(),a=l.MAs(1);l.xp6(1),l.hij("(",t<i.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",i.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||a)("ngTemplateOutletContext",i.contexts[t])}}function IM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.changeHour(a.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function AM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.changeHour(-a.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function xM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.changeMinute(a.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function MM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.changeMinute(-a.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function NM(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function OM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2);return l.KtG(a.changeSecond(a.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function RM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2);return l.KtG(a.changeSecond(-a.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function PM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,OM,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(a){l.CHM(t);const d=l.oxw();return l.KtG(d.updateSecond(a.target.value))})("blur",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.handleBlur())})("input",function(a){l.CHM(t);const d=l.oxw();return l.KtG(d.formatInput(a.target))})("keydown.ArrowUp",function(a){l.CHM(t);const d=l.oxw();return d.changeSecond(d.secondStep),l.KtG(a.preventDefault())})("keydown.ArrowDown",function(a){l.CHM(t);const d=l.oxw();return d.changeSecond(-d.secondStep),l.KtG(a.preventDefault())}),l.qZA(),l.YNc(3,RM,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function kM(n,e){1&n&&l._UZ(0,"div",5)}function LM(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function FM(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function BM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.toggleMeridian())}),l.YNc(2,LM,2,1,"ng-container",25),l.YNc(3,FM,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),i=l.oxw();l.xp6(1),l.ekj("btn-sm",i.isSmallSize)("btn-lg",i.isLargeSize)("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.model&&i.model.hour>=12)("ngIfElse",t)}}function UM(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function VM(n,e){}function $M(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,VM,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),i=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||i)}}function HM(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw();l.Tol(i.highlightClass),l.xp6(1),l.Oqu(t)}}function GM(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function jM(n,e){if(1&n&&(l.YNc(0,HM,2,3,"span",1),l.YNc(1,GM,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,i=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",i)}}function zc(n){return parseInt(`${n}`,10)}function BS(n){return null!=n?`${n}`:""}function iC(n,e,t=0){return Math.max(Math.min(n,e),t)}function xE(n){return"string"==typeof n}function el(n){return!isNaN(zc(n))}function Fu(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function wm(n){return null!=n}function US(n){return n&&n.then}function ME(n){return el(n)?`0${n}`.slice(-2):""}function VS(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Yv(n){return(n||document.body).getBoundingClientRect()}function $S(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const HS={animation:!0,transitionTimerDelayMs:5},JM=()=>{},{transitionTimerDelayMs:QM}=HS,dw=new Map,Bu=(n,e,t,i)=>{let a=i.context||{};const d=dw.get(e);if(d)switch(i.runningTransition){case"continue":return Et.E;case"stop":n.run(()=>d.transition$.complete()),a=Object.assign(d.context,a),dw.delete(e)}const _=t(e,i.animation,a)||JM;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>_()),(0,pe.of)(void 0).pipe(function ZM(n){return e=>new me.y(t=>e.subscribe({next:_=>n.run(()=>t.next(_)),error:_=>n.run(()=>t.error(_)),complete:()=>n.run(()=>t.complete())}))}(n));const D=new Se.x,O=new Se.x,$=D.pipe(function WT(...n){return e=>(0,Gv.z)(e,(0,pe.of)(...n))}(!0));dw.set(e,{transition$:D,complete:()=>{O.next(),O.complete()},context:a});const J=function YM(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const fe=Xu(e,"transitionend").pipe((0,ma.R)($),(0,Ie.h)(({target:Ke})=>Ke===e));(function Vd(...n){return 1===(n=Y1(n)).length?(0,Zt.Xf)(n[0]):new me.y(function J1(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Zt.Xf)(n[i]).subscribe((0,Ce.x)(e,a=>{if(t){for(let d=0;d<t.length;d++)d!==i&&t[d].unsubscribe();t=null}e.next(a)})))}}(n))})(HT(J+QM).pipe((0,ma.R)($)),fe,O).pipe((0,ma.R)($)).subscribe(()=>{dw.delete(e),n.run(()=>{_(),D.next(),D.complete()})})}),D.asObservable()},fD=(n,e,t)=>{let{direction:i,maxSize:a,dimension:d}=t;const{classList:_}=n;function D(){_.add("collapse"),"show"===i?_.add("show"):_.remove("show")}if(e)return a||(a=function eN(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,i=t.contains("show");i||t.add("show"),n.style[e]="";const a=n.getBoundingClientRect()[e]+"px";return i||t.remove("show"),a}(n,d),t.maxSize=a,n.style[d]="show"!==i?a:"0px",_.remove("collapse"),_.remove("collapsing"),_.remove("show"),Yv(n),_.add("collapsing")),n.style[d]="show"===i?a:"0px",()=>{D(),_.remove("collapsing"),n.style[d]=""};D()};let Jv=(()=>{class n{constructor(){this.animation=HS.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tN=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nN=0,pD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),gD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),mD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),sC=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+nN++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,i,a){if(1&t&&(l.Suo(a,gD,4),l.Suo(a,pD,4),l.Suo(a,mD,4)),2&t){let d;l.iGM(d=l.CRH())&&(i.titleTpls=d),l.iGM(d=l.CRH())&&(i.headerTpls=d),l.iGM(d=l.CRH())&&(i.contentTpls=d)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),rN=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),GS=(()=>{class n{constructor(t,i){this.accordion=t,this.panel=i}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>oC)),l.Y36(sC,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.accordion.toggle(i.panel.id)}),2&t&&(l.Ikx("disabled",i.panel.disabled),l.uIk("aria-expanded",i.panel.isOpen)("aria-controls",i.panel.id),l.ekj("collapsed",!i.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),oC=(()=>{class n{constructor(t,i,a){this._ngZone=i,this._changeDetector=a,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const i=this._findPanelById(t);i&&this._changeOpenState(i,!i.isOpen)}ngAfterContentChecked(){xE(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,Rr.q)(1)).subscribe(()=>{this.panels.forEach(t=>{const i=t.panelDiv;i?t.initClassDone||(t.initClassDone=!0,Bu(this._ngZone,i,fD,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,i){if(null!=t&&!t.disabled&&t.isOpen!==i){let a=!1;this.panelChange.emit({panelId:t.id,nextState:i,preventDefault:()=>{a=!0}}),a||(t.isOpen=i,t.transitionRunning=!0,i&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,i=!0){this.panels.forEach(a=>{a.id!==t&&a.isOpen&&(a.isOpen=!1,a.transitionRunning=i)})}_findPanelById(t){return this.panels.find(i=>i.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(i=>{i.transitionRunning&&Bu(this._ngZone,i.panelDiv,fD,{animation:t,runningTransition:"stop",context:{direction:i.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{i.transitionRunning=!1;const{id:d}=i;i.isOpen?(i.shown.emit(),this.shown.emit(d)):(i.hidden.emit(),this.hidden.emit(d))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(tN),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,i,a){if(1&t&&l.Suo(a,sC,4),2&t){let d;l.iGM(d=l.CRH())&&(i.panels=d)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("aria-multiselectable",!i.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,i){1&t&&(l.YNc(0,Oi,3,3,"ng-template",0,1,l.W1O),l.YNc(2,ux,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",i.panels))},dependencies:[M.ax,M.tP,GS,rN,pD,M.O5],encapsulation:2}),n})(),_D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oC]}),n})();const iN=({classList:n})=>{n.remove("show")};let sN=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oN=(()=>{class n{constructor(t,i,a,d){this._renderer=i,this._element=a,this._zone=d,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Bu(this._zone,this._element.nativeElement,iN,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const i=t.type;i&&!i.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${i.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${i.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(sN),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("fade",i.animation)("alert-dismissible",i.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:cw,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,lx,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",i.dismissible))},dependencies:[M.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),jS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oN]}),n})();var Qv=(()=>(function(n){n.START="start",n.END="end"}(Qv||(Qv={})),Qv))();const WS=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),hw=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},aC=n=>{hw(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},aN=(n,e,{direction:t})=>{const{classList:i}=n;return e?(WS(n)?hw(i):(i.add("carousel-item-"+(t===Qv.START?"next":"prev")),Yv(n),i.add("carousel-item-"+t)),()=>{aC(i),i.add("active")}):(hw(i),aC(i),void i.add("active"))},uN=(n,e,{direction:t})=>{const{classList:i}=n;return e?(WS(n)?hw(i):i.add("carousel-item-"+t),()=>{aC(i),i.remove("active")}):(hw(i),aC(i),void i.remove("active"))};let lN=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cN=0,zS=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+cN++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),qS=(()=>{class n{constructor(t,i,a,d,_){this._platformId=i,this._ngZone=a,this._cd=d,this._container=_,this.NgbSlideEventSource=h0,this._destroy$=new Se.x,this._interval$=new tp.X(0),this._mouseHover$=new tp.X(!1),this._focused$=new tp.X(!1),this._pauseOnHover$=new tp.X(!1),this._pauseOnFocus$=new tp.X(!1),this._pause$=new tp.X(!1),this._wrap$=new tp.X(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(h0.ARROW_LEFT)}arrowRight(){this.focus(),this.next(h0.ARROW_RIGHT)}ngAfterContentInit(){(0,M.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=(0,jT.a)([this.slide.pipe((0,_e.U)(i=>i.current),(0,Xo.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,Xo.O)(null))]).pipe((0,_e.U)(([i,a])=>{const d=this.slides.toArray(),_=this._getSlideIdxById(i);return a?d.length>1:_<d.length-1}),(0,Ma.x)());(0,jT.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,_e.U)(([i,a,d,_,D,O,$])=>i||a&&d||_&&D||!$?0:O),(0,Ma.x)(),(0,xa.w)(i=>i>0?HT(i,i):ep),(0,ma.R)(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(h0.TIMER)))}),this.slides.changes.pipe((0,ma.R)(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{dw.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Rr.q)(1)).subscribe(()=>{for(const{id:t}of this.slides){const i=this._getSlideElement(t);t===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Qv.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Qv.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,a){const d=this._transitionIds;if(d&&(d[0]!==t||d[1]!==this.activeId))return;let _=this._getSlideById(t);if(_&&_.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:_.id,direction:i,paused:this._pause$.value,source:a});const D={animation:this.animation,runningTransition:"stop",context:{direction:i}},O=[],$=this._getSlideById(this.activeId);if($){const Ke=Bu(this._ngZone,this._getSlideElement($.id),uN,D);Ke.subscribe(()=>{$.slid.emit({isShown:!1,direction:i,source:a})}),O.push(Ke)}const J=this.activeId;this.activeId=_.id;const fe=this._getSlideById(this.activeId),xe=Bu(this._ngZone,this._getSlideElement(_.id),aN,D);xe.subscribe(()=>{fe?.slid.emit({isShown:!0,direction:i,source:a})}),O.push(xe),v_(...O).pipe((0,Rr.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:J,current:_.id,direction:i,paused:this._pause$.value,source:a})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?Qv.END:Qv.START}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),a=this._getSlideIdxById(t);return a===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[a+1].id}_getPrevSlide(t){const i=this.slides.toArray(),a=this._getSlideIdxById(t);return 0===a?this.wrap?i[i.length-1].id:i[0].id:i[a-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lN),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,a){if(1&t&&l.Suo(a,zS,4),2&t){let d;l.iGM(d=l.CRH())&&(i.slides=d)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+i.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,cx,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,hx,4,4,"div",3),l.qZA(),l.YNc(4,fx,4,0,"button",4),l.YNc(5,px,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!i.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",i.slides),l.xp6(2),l.Q6J("ngForOf",i.slides),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows))},dependencies:[M.ax,M.tP,M.O5],encapsulation:2,changeDetection:0}),n})();var h0=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(h0||(h0={})),h0))();let vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qS]}),n})(),dN=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KS=(()=>{class n{constructor(t,i,a){this._element=t,this._zone=a,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=i.animation,this.horizontal=i.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,i){return Bu(this._zone,this._element.nativeElement,fD,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(dN),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("collapse-horizontal",i.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class bl{constructor(e,t,i){this.year=Fu(e)?e:null,this.month=Fu(t)?t:null,this.day=Fu(i)?i:null}static from(e){return e instanceof bl?e:e?new bl(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function NE(n,e){return!function hN(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function ZS(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function lC(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function yD(n,e){const{minDate:t,maxDate:i,disabled:a,markDisabled:d}=e;return!(null==n||a||d&&d(n,{year:n.year,month:n.month})||t&&n.before(t)||i&&n.after(i))}function YS(n){return new bl(n.getFullYear(),n.getMonth()+1,n.getDate())}function cC(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let OE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function bN(){return new wN}()},providedIn:"root"}),n})(),wN=(()=>{class n extends OE{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,i="d",a=1){let d=cC(t),_=!0,D=d.getMonth();switch(i){case"y":d.setFullYear(d.getFullYear()+a);break;case"m":D+=a,d.setMonth(D),D%=12,D<0&&(D+=12);break;case"d":d.setDate(d.getDate()+a),_=!1;break;default:return t}return _&&d.getMonth()!==D&&d.setDate(0),YS(d)}getPrev(t,i="d",a=1){return this.getNext(t,i,-a)}getWeekday(t){let a=cC(t).getDay();return 0===a?7:a}getWeekNumber(t,i){7===i&&(i=0);const _=cC(t[(11-i)%7]);_.setDate(_.getDate()+4-(_.getDay()||7));const D=_.getTime();return _.setMonth(0),_.setDate(1),Math.floor(Math.round((D-_.getTime())/864e5)/7)+1}getToday(){return YS(new Date)}isValid(t){if(!(t&&Fu(t.year)&&Fu(t.month)&&Fu(t.day)&&0!==t.year))return!1;const i=cC(t);return!isNaN(i.getTime())&&i.getFullYear()===t.year&&i.getMonth()+1===t.month&&i.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),f0=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function TN(n){return new CN(n)}(l.LFG(l.soG)),i},providedIn:"root"}),n})(),CN=(()=>{class n extends f0{constructor(t){super(),this._locale=t,this._monthsShort=(0,M.UT)(t,M.x.Standalone,M.Tn.Abbreviated),this._monthsFull=(0,M.UT)(t,M.x.Standalone,M.Tn.Wide)}getWeekdayLabel(t,i){const a=(0,M.Mn)(this._locale,M.x.Standalone,void 0===i?M.Tn.Short:i);return a.map((_,D)=>a[(D+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){const i=new Date(t.year,t.month-1,t.day);return(0,M.p6)(i,"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ED=(()=>{class n{constructor(t,i){this._calendar=t,this._i18n=i,this._VALIDATORS={dayTemplateData:a=>{if(this._state.dayTemplateData!==a)return{dayTemplateData:a}},displayMonths:a=>{if(Fu(a=zc(a))&&a>0&&this._state.displayMonths!==a)return{displayMonths:a}},disabled:a=>{if(this._state.disabled!==a)return{disabled:a}},firstDayOfWeek:a=>{if(Fu(a=zc(a))&&a>=0&&this._state.firstDayOfWeek!==a)return{firstDayOfWeek:a}},focusVisible:a=>{if(this._state.focusVisible!==a&&!this._state.disabled)return{focusVisible:a}},markDisabled:a=>{if(this._state.markDisabled!==a)return{markDisabled:a}},maxDate:a=>{const d=this.toValidDate(a,null);if(NE(this._state.maxDate,d))return{maxDate:d}},minDate:a=>{const d=this.toValidDate(a,null);if(NE(this._state.minDate,d))return{minDate:d}},navigation:a=>{if(this._state.navigation!==a)return{navigation:a}},outsideDays:a=>{if(this._state.outsideDays!==a)return{outsideDays:a}},weekdays:a=>{const d=!0===a||!1===a?M.Tn.Short:a,_=!0!==a&&!1!==a||a;if(this._state.weekdayWidth!==d||this._state.weekdaysVisible!==_)return{weekdayWidth:d,weekdaysVisible:_}}},this._model$=new Se.x,this._dateSelect$=new Se.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:M.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,Ie.h)(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,Ie.h)(t=>null!==t))}set(t){let i=Object.keys(t).map(a=>this._VALIDATORS[a](t[a])).reduce((a,d)=>({...a,...d}),{});Object.keys(i).length>0&&this._nextState(i)}focus(t){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&NE(this._state.focusDate,i)&&this._nextState({focusDate:t})}focusSelect(){yD(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const i=this.toValidDate(t,this._calendar.getToday());null!=i&&!this._state.disabled&&(!this._state.firstDate||ZS(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(t,i={}){const a=this.toValidDate(t,null);null!=a&&!this._state.disabled&&(NE(this._state.selectedDate,a)&&this._nextState({selectedDate:a}),i.emitEvent&&yD(a,this._state)&&this._dateSelect$.next(a))}toValidDate(t,i){const a=bl.from(t);return void 0===i&&(i=this._calendar.getToday()),this._calendar.isValid(a)?a:i}getMonth(t){for(let i of this._state.months)if(t.month===i.number&&t.year===i.year)return i;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const i=this._updateState(t);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(t){const{months:i,displayMonths:a,selectedDate:d,focusDate:_,focusVisible:D,disabled:O,outsideDays:$}=t;t.months.forEach(J=>{J.weeks.forEach(fe=>{fe.days.forEach(xe=>{_&&(xe.context.focused=_.equals(xe.date)&&D),xe.tabindex=!O&&_&&xe.date.equals(_)&&_.month===J.number?0:-1,!0===O&&(xe.context.disabled=!0),void 0!==d&&(xe.context.selected=null!==d&&d.equals(xe.date)),J.number!==xe.date.month&&(xe.hidden="hidden"===$||"collapsed"===$||a>1&&xe.date.after(i[0].firstDate)&&xe.date.before(i[a-1].lastDate))})})})}_updateState(t){const i=Object.assign({},this._state,t);let a=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(function fN(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(i.minDate,i.maxDate),i.focusDate=lC(i.focusDate,i.minDate,i.maxDate),i.firstDate=lC(i.firstDate,i.minDate,i.maxDate),a=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(a=i.selectedDate),"focusVisible"in t||"focusDate"in t&&(i.focusDate=lC(i.focusDate,i.minDate,i.maxDate),a=i.focusDate,0!==i.months.length&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=lC(i.firstDate,i.minDate,i.maxDate),a=i.firstDate),a){const _=function vN(n,e,t,i,a){const{displayMonths:d,months:_}=t,D=_.splice(0,_.length);return Array.from({length:d},($,J)=>{const fe=Object.assign(n.getNext(e,"m",J),{day:1});if(_[J]=null,!a){const xe=D.findIndex(Ke=>Ke.firstDate.equals(fe));-1!==xe&&(_[J]=D.splice(xe,1)[0])}return fe}).forEach(($,J)=>{null===_[J]&&(_[J]=function yN(n,e,t,i,a={}){const{dayTemplateData:d,minDate:_,maxDate:D,firstDayOfWeek:O,markDisabled:$,outsideDays:J,weekdayWidth:fe,weekdaysVisible:xe}=t,Ke=n.getToday();a.firstDate=null,a.lastDate=null,a.number=e.month,a.year=e.year,a.weeks=a.weeks||[],a.weekdays=a.weekdays||[],e=function EN(n,e,t){const i=n.getDaysPerWeek(),a=new bl(e.year,e.month,1),d=n.getWeekday(a)%i;return n.getPrev(a,"d",(i+d-t)%i)}(n,e,O),xe||(a.weekdays.length=0);for(let mt=0;mt<n.getWeeksPerMonth();mt++){let Ut=a.weeks[mt];Ut||(Ut=a.weeks[mt]={number:0,days:[],collapsed:!0});const an=Ut.days;for(let Ln=0;Ln<n.getDaysPerWeek();Ln++){0===mt&&xe&&(a.weekdays[Ln]=i.getWeekdayLabel(n.getWeekday(e),fe));const tr=new bl(e.year,e.month,e.day),Nr=n.getNext(tr),Fr=i.getDayAriaLabel(tr);let cr=!!(_&&tr.before(_)||D&&tr.after(D));!cr&&$&&(cr=$(tr,{month:a.number,year:a.year}));let Er=tr.equals(Ke),Bi=d?d(tr,{month:a.number,year:a.year}):void 0;null===a.firstDate&&tr.month===a.number&&(a.firstDate=tr),tr.month===a.number&&Nr.month!==a.number&&(a.lastDate=tr);let to=an[Ln];to||(to=an[Ln]={}),to.date=tr,to.context=Object.assign(to.context||{},{$implicit:tr,date:tr,data:Bi,currentMonth:a.number,currentYear:a.year,disabled:cr,focused:!1,selected:!1,today:Er}),to.tabindex=-1,to.ariaLabel=Fr,to.hidden=!1,e=Nr}Ut.number=n.getWeekNumber(an.map(Ln=>Ln.date),O),Ut.collapsed="collapsed"===J&&an[0].date.month!==a.number&&an[an.length-1].date.month!==a.number}return a}(n,$,t,i,D.shift()||{}))}),_}(this._calendar,a,i,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);i.months=_,i.firstDate=_[0].firstDate,i.lastDate=_[_.length-1].lastDate,"selectedDate"in t&&!yD(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=a);const D=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,O=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;"select"===i.navigation?(("minDate"in t||"maxDate"in t||0===i.selectBoxes.years.length||D)&&(i.selectBoxes.years=function gN(n,e,t){if(!n)return[];const i=e?Math.max(e.year,n.year-500):n.year-10,d=(t?Math.min(t.year,n.year+500):n.year+10)-i+1,_=Array(d);for(let D=0;D<d;D++)_[D]=i+D;return _}(i.firstDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||0===i.selectBoxes.months.length||D)&&(i.selectBoxes.months=function pN(n,e,t,i){if(!e)return[];let a=n.getMonths(e.year);if(t&&e.year===t.year){const d=a.findIndex(_=>_===t.month);a=a.slice(d)}if(i&&e.year===i.year){const d=a.findIndex(_=>_===i.month);a=a.slice(0,d+1)}return a}(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},("arrows"===i.navigation||"select"===i.navigation)&&(O||D||"minDate"in t||"maxDate"in t||"disabled"in t)&&(i.prevDisabled=i.disabled||function _N(n,e,t){const i=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(i.year===t.year&&i.month<t.month||i.year<t.year&&1===t.month)}(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||function mN(n,e,t){const i=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&i.after(t)}(this._calendar,i.lastDate,i.maxDate))}return i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(OE),l.LFG(f0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var RE=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(RE||(RE={})),RE))();let DN=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(f0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,i){2&t&&l.ekj("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:gx,decls:1,vars:1,template:function(t,i){1&t&&l._uU(0),2&t&&l.Oqu(i.i18n.getDayNumerals(i.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),SN=(()=>{class n{constructor(t,i){this.i18n=t,this._renderer=i,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new bl(this.date.year,zc(t),1))}changeYear(t){this.select.emit(new bl(zc(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(f0),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,i){if(1&t&&(l.Gf(mx,7,l.SBq),l.Gf(_x,7,l.SBq)),2&t){let a;l.iGM(a=l.CRH())&&(i.monthSelect=a.first),l.iGM(a=l.CRH())&&(i.yearSelect=a.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,i,a;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,i=$localize`:@@ngb.datepicker.select-year:Select year`,a=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",i,"title",a,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,i){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(d){return i.changeMonth(d.target.value)}),l.YNc(2,vx,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(d){return i.changeYear(d.target.value)}),l.YNc(5,yx,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.months),l.xp6(1),l.Q6J("disabled",i.disabled),l.xp6(2),l.Q6J("ngForOf",i.years))},dependencies:[M.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),IN=(()=>{class n{constructor(t){this.i18n=t,this.navigation=RE,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(f0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,i,a;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,a=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",i,"title",a,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(d){return i.onClickPrev(d)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,Ex,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,Cx,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(d){return i.onClickNext(d)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",i.prevDisabled),l.xp6(2),l.Q6J("ngIf",i.showSelect),l.xp6(1),l.Q6J("ngIf",!i.showSelect),l.xp6(2),l.Q6J("disabled",i.nextDisabled))},dependencies:[M.O5,M.ax,SN],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Vs=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Vs||(Vs={})),Vs))();let AN=(()=>{class n{processKey(t,i){const{state:a,calendar:d}=i;switch(t.which){case Vs.PageUp:i.focusDate(d.getPrev(a.focusedDate,t.shiftKey?"y":"m",1));break;case Vs.PageDown:i.focusDate(d.getNext(a.focusedDate,t.shiftKey?"y":"m",1));break;case Vs.End:i.focusDate(t.shiftKey?a.maxDate:a.lastDate);break;case Vs.Home:i.focusDate(t.shiftKey?a.minDate:a.firstDate);break;case Vs.ArrowLeft:i.focusDate(d.getPrev(a.focusedDate,"d",1));break;case Vs.ArrowUp:i.focusDate(d.getPrev(a.focusedDate,"d",d.getDaysPerWeek()));break;case Vs.ArrowRight:i.focusDate(d.getNext(a.focusedDate,"d",1));break;case Vs.ArrowDown:i.focusDate(d.getNext(a.focusedDate,"d",d.getDaysPerWeek()));break;case Vs.Enter:case Vs.Space:i.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bD=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=M.Tn.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function xN(){return new MN}()},providedIn:"root"}),n})(),MN=(()=>{class n extends wD{fromModel(t){return t&&Fu(t.year)&&Fu(t.month)&&Fu(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Fu(t.year)&&Fu(t.month)&&Fu(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),JS=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),TD=(()=>{class n{constructor(t,i,a,d){this.i18n=t,this.datepicker=i,this._keyboardService=a,this._service=d}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(f0),l.Y36((0,l.Gpc)(()=>PE)),l.Y36(AN),l.Y36(ED))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(d){return i.onKeyDown(d)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(l.YNc(0,Ix,3,2,"div",0),l.YNc(1,Rx,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",i.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",i.viewModel.weeks))},dependencies:[M.O5,M.ax,M.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),PE=(()=>{class n{constructor(t,i,a,d,_,D,O,$){this._service=t,this._calendar=i,this.i18n=a,this._elementRef=D,this._ngbDateAdapter=O,this._ngZone=$,this._controlValue=null,this._destroyed$=new Se.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=J=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(J=>this[J]=d[J]),t.dateSelect$.pipe((0,ma.R)(this._destroyed$)).subscribe(J=>{this.dateSelect.emit(J)}),t.model$.pipe((0,ma.R)(this._destroyed$)).subscribe(J=>{const fe=J.firstDate,xe=this.model?this.model.firstDate:null;this._publicState={maxDate:J.maxDate,minDate:J.minDate,firstDate:J.firstDate,lastDate:J.lastDate,focusedDate:J.focusDate,months:J.months.map(Ln=>Ln.firstDate)};let Ke=!1;if(!fe.equals(xe)&&(this.navigate.emit({current:xe?{year:xe.year,month:xe.month}:null,next:{year:fe.year,month:fe.month},preventDefault:()=>Ke=!0}),Ke&&null!==xe))return void this._service.open(xe);const mt=J.selectedDate,Ut=J.focusDate,an=this.model?this.model.focusDate:null;this.model=J,NE(mt,this._controlValue)&&(this._controlValue=mt,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(mt))),NE(Ut,an)&&an&&J.focusVisible&&this.focus(),_.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(bl.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,Rr.q)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(bl.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Xu(this._contentEl.nativeElement,"focusin"),i=Xu(this._contentEl.nativeElement,"focusout"),{nativeElement:a}=this._elementRef;(0,Ue.T)(t,i).pipe((0,Ie.h)(({target:d,relatedTarget:_})=>!(VS(d,"ngb-dp-day")&&VS(_,"ngb-dp-day")&&a.contains(d)&&a.contains(_))),(0,ma.R)(this._destroyed$)).subscribe(({type:d})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===d})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>t[i]=this[i]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(a=>a in t).forEach(a=>i[a]=this[a]),this._service.set(i),"startDate"in t){const{currentValue:a,previousValue:d}=t.startDate;ZS(d,a)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case RE.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case RE.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=bl.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ED),l.Y36(OE),l.Y36(f0),l.Y36(bD),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(wD),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,i,a){if(1&t&&l.Suo(a,JS,7),2&t){let d;l.iGM(d=l.CRH())&&(i.contentTemplate=d.first)}},viewQuery:function(t,i){if(1&t&&(l.Gf(Px,7),l.Gf(kx,7)),2&t){let a;l.iGM(a=l.CRH())&&(i._defaultDayTemplate=a.first),l.iGM(a=l.CRH())&&(i._contentEl=a.first)}},hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("disabled",i.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Gr.JU,useExisting:(0,l.Gpc)(()=>n),multi:!0},ED]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,i){if(1&t&&(l.YNc(0,Lx,1,5,"ng-template",null,0,l.W1O),l.YNc(2,Ux,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,Vx,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,$x,0,0,"ng-template",6),l.qZA(),l.YNc(9,Hx,0,0,"ng-template",6)),2&t){const a=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==i.navigation),l.xp6(1),l.ekj("ngb-dp-months",!i.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==i.contentTemplate?null:i.contentTemplate.templateRef)||a),l.xp6(1),l.Q6J("ngTemplateOutlet",i.footerTemplate)}},dependencies:[M.O5,M.ax,M.tP,DN,TD,IN],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const eI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function CD(n){const e=Array.from(n.querySelectorAll(eI)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const DD=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{const a=Xu(e,"focusin").pipe((0,ma.R)(t),(0,_e.U)(d=>d.target));Xu(e,"keydown").pipe((0,ma.R)(t),(0,Ie.h)(d=>d.which===Vs.Tab),(0,Ji.M)(a)).subscribe(([d,_])=>{const[D,O]=CD(e);(_===D||_===e)&&d.shiftKey&&(O.focus(),d.preventDefault()),_===O&&!d.shiftKey&&(D.focus(),d.preventDefault())}),i&&Xu(e,"click").pipe((0,ma.R)(t),(0,Ji.M)(a),(0,_e.U)(d=>d[1])).subscribe(d=>d.focus())})};let SD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function GN(){return new jN}()},providedIn:"root"}),n})(),jN=(()=>{class n extends SD{parse(t){if(null!=t){const i=t.trim().split("-");if(1===i.length&&el(i[0]))return{year:zc(i[0]),month:null,day:null};if(2===i.length&&el(i[0])&&el(i[1]))return{year:zc(i[0]),month:zc(i[1]),day:null};if(3===i.length&&el(i[0])&&el(i[1])&&el(i[2]))return{year:zc(i[0]),month:zc(i[1]),day:zc(i[2])}}return null}format(t){return t?`${t.year}-${el(t.month)?ME(t.month):""}-${el(t.day)?ME(t.day):""}`:""}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();new Date(1882,10,12),new Date(2174,10,25);let gC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PE,TD]}),n})(),pI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class ng{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let tO=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Rr.q)(1)).subscribe(()=>{Bu(this._zone,this._el.nativeElement,(t,i)=>{i&&Yv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Bu(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class gI{close(e){}dismiss(e){}}class nO{constructor(e,t,i,a){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=a,this._closed=new Se.x,this._dismissed=new Se.x,this._hidden=new Se.x,e.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,_)=>{this._resolve=d,this._reject=_}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,ma.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,ma.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();US(t)?t.then(i=>{!1!==i&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,pe.of)(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),v_(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var gw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(gw||(gw={})),gw))();let rO=(()=>{class n{constructor(t,i,a){this._document=t,this._elRef=i,this._zone=a,this._closed$=new Se.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Se.x,this.hidden=new Se.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":xE(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Rr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},_=v_(Bu(this._zone,t,()=>t.classList.remove("show"),i),Bu(this._zone,this._dialogEl.nativeElement,()=>{},i));return _.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),_}_show(){const t={animation:this.animation,runningTransition:"continue"};v_(Bu(this._zone,this._elRef.nativeElement,(d,_)=>{_&&Yv(d),d.classList.add("show")},t),Bu(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Xu(t,"keydown").pipe((0,ma.R)(this._closed$),(0,Ie.h)(a=>a.which===Vs.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(gw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Xu(this._dialogEl.nativeElement,"mousedown").pipe((0,ma.R)(this._closed$),(0,VT.b)(()=>i=!1),(0,xa.w)(()=>Xu(t,"mouseup").pipe((0,ma.R)(this._closed$),(0,Rr.q)(1))),(0,Ie.h)(({target:a})=>t===a)).subscribe(()=>{i=!0}),Xu(t,"click").pipe((0,ma.R)(this._closed$)).subscribe(({target:a})=>{t===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(gw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),a=CD(t)[0];(i||a||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Bu(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(M.K0),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(Gx,7),2&t){let a;l.iGM(a=l.CRH())&&(i._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:cw,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),mI=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,a=i.style,{overflow:d,paddingRight:_}=a;if(t>0){const D=parseFloat(window.getComputedStyle(i).paddingRight);a.paddingRight=`${D+t}px`}return a.overflow="hidden",()=>{t>0&&(a.paddingRight=_),a.overflow=d}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M.K0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iO=(()=>{class n{constructor(t,i,a,d,_,D,O){this._applicationRef=t,this._injector=i,this._environmentInjector=a,this._document=d,this._scrollBar=_,this._rendererFactory=D,this._ngZone=O,this._activeWindowCmptHasChanged=new Se.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const $=this._windowCmpts[this._windowCmpts.length-1];DD(this._ngZone,$.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden($.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,a){const d=a.container instanceof HTMLElement?a.container:wm(a.container)?this._document.querySelector(a.container):this._document.body,_=this._rendererFactory.createRenderer(null,null);if(!d)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const D=new gI,O=(t=a.injector||t).get(l.lqb,null)||this._environmentInjector,$=this._getContentRef(t,O,i,D,a);let J=!1!==a.backdrop?this._attachBackdrop(d):void 0,fe=this._attachWindowComponent(d,$.nodes),xe=new nO(fe,$,J,a.beforeDismiss);return this._registerModalRef(xe),this._registerWindowCmpt(fe),xe.hidden.pipe((0,Rr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),D.close=Ke=>{xe.close(Ke)},D.dismiss=Ke=>{xe.dismiss(Ke)},this._applyWindowOptions(fe.instance,a),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),J&&J.instance&&(this._applyBackdropOptions(J.instance,a),J.changeDetectorRef.detectChanges()),fe.changeDetectorRef.detectChanges(),xe}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,l.LMc)(tO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let a=(0,l.LMc)(rO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(a.hostView),t.appendChild(a.location.nativeElement),a}_applyWindowOptions(t,i){this._windowAttributes.forEach(a=>{wm(i[a])&&(t[a]=i[a])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(a=>{wm(i[a])&&(t[a]=i[a])})}_getContentRef(t,i,a,d,_){return a?a instanceof l.Rgc?this._createFromTemplateRef(a,d):xE(a)?this._createFromString(a):this._createFromComponent(t,i,a,d,_):new ng([])}_createFromTemplateRef(t,i){const d=t.createEmbeddedView({$implicit:i,close(_){i.close(_)},dismiss(_){i.dismiss(_)}});return this._applicationRef.attachView(d),new ng([d.rootNodes],d)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new ng([[i]])}_createFromComponent(t,i,a,d,_){const D=l.zs3.create({providers:[{provide:gI,useValue:d}],parent:t}),O=(0,l.LMc)(a,{environmentInjector:i,elementInjector:D}),$=O.location.nativeElement;return _.scrollable&&$.classList.add("component-host-scrollable"),this._applicationRef.attachView(O.hostView),new ng([[$]],O.hostView,O)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(a=>{a!==t&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const a=this._modalRefs.indexOf(t);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(M.K0),l.LFG(mI),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_I=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vI=(()=>{class n{constructor(t,i,a){this._injector=t,this._modalStack=i,this._config=a}open(t,i={}){const a={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(iO),l.LFG(_I))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vI]}),n})(),sO=(()=>{class n{constructor(t){this._ngbConfig=t,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EI=n=>wm(n)&&""!==n;let oO=0,MD=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbNavContent",""]],standalone:!0}),n})(),vC=(()=>{class n{constructor(t,i){this._nav=t,this.elementRef=i,this.disabled=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){wm(this.domId)||(this.domId="ngb-nav-"+oO++)}get active(){return this._nav.activeId===this.id}get id(){return EI(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(wm(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>yC)),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavItem",""]],contentQueries:function(t,i,a){if(1&t&&l.Suo(a,MD,4),2&t){let d;l.iGM(d=l.CRH())&&(i.contentTpls=d)}},hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0}),n})(),yC=(()=>{class n{constructor(t,i,a,d){this.role=t,this._cd=a,this._document=d,this.activeIdChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.destroy$=new Se.x,this.navItemChange$=new Se.x,this.navChange=new l.vpe,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(t){t.disabled||this._updateActiveId(t.id)}onKeyDown(t){if("tablist"!==this.roles||!this.keyboard)return;const i=t.which,a=this.links.filter(D=>!D.navItem.disabled),{length:d}=a;let _=-1;if(a.forEach((D,O)=>{D.elRef.nativeElement===this._document.activeElement&&(_=O)}),d){switch(i){case Vs.ArrowLeft:if("vertical"===this.orientation)return;_=(_-1+d)%d;break;case Vs.ArrowRight:if("vertical"===this.orientation)return;_=(_+1)%d;break;case Vs.ArrowDown:if("horizontal"===this.orientation)return;_=(_+1)%d;break;case Vs.ArrowUp:if("horizontal"===this.orientation)return;_=(_-1+d)%d;break;case Vs.Home:_=0;break;case Vs.End:_=d-1}"changeWithArrows"===this.keyboard&&this.select(a[_].navItem.id),a[_].elRef.nativeElement.focus(),t.preventDefault()}}select(t){this._updateActiveId(t,!1)}ngAfterContentInit(){if(!wm(this.activeId)){const t=this.items.first?this.items.first.id:null;EI(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe((0,ma.R)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:t}){t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(t,i=!0){if(this.activeId!==t){let a=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:t,preventDefault:()=>{a=!0}}),a||(this.activeId=t,this.activeIdChange.emit(t),this._notifyItemChanged(t))}}_notifyItemChanged(t){this.navItemChange$.next(this._getItemById(t))}_getItemById(t){return this.items&&this.items.find(i=>i.id===t)||null}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("role"),l.Y36(sO),l.Y36(l.sBO),l.Y36(M.K0))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNav",""]],contentQueries:function(t,i,a){if(1&t&&(l.Suo(a,vC,4),l.Suo(a,ND,5)),2&t){let d;l.iGM(d=l.CRH())&&(i.items=d),l.iGM(d=l.CRH())&&(i.links=d)}},hostVars:6,hostBindings:function(t,i){1&t&&l.NdJ("keydown.arrowLeft",function(d){return i.onKeyDown(d)})("keydown.arrowRight",function(d){return i.onKeyDown(d)})("keydown.arrowDown",function(d){return i.onKeyDown(d)})("keydown.arrowUp",function(d){return i.onKeyDown(d)})("keydown.Home",function(d){return i.onKeyDown(d)})("keydown.End",function(d){return i.onKeyDown(d)}),2&t&&(l.uIk("aria-orientation","vertical"===i.orientation&&"tablist"===i.roles?"vertical":void 0)("role",i.role?i.role:i.roles?"tablist":void 0),l.ekj("nav",!0)("flex-column","vertical"===i.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[l.TTD]}),n})(),ND=(()=>{class n{constructor(t,i,a,d){this.role=t,this.navItem=i,this.nav=a,this.elRef=d}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("role"),l.Y36(vC),l.Y36(yC),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(t,i){1&t&&l.NdJ("click",function(d){return i.nav.click(i.navItem),d.preventDefault()}),2&t&&(l.Ikx("id",i.navItem.domId),l.uIk("role",i.role?i.role:i.nav.roles?"tab":void 0)("tabindex",i.navItem.disabled?-1:void 0)("aria-controls",i.navItem.isPanelInDom()?i.navItem.panelDomId:null)("aria-selected",i.navItem.active)("aria-disabled",i.navItem.disabled),l.ekj("nav-link",!0)("nav-item",i.hasNavItemClass())("active",i.navItem.active)("disabled",i.navItem.disabled))},standalone:!0}),n})();const aO=({classList:n})=>(n.remove("show"),()=>n.remove("active")),uO=(n,e)=>{e&&Yv(n),n.classList.add("show")};let OD=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.item.panelDomId),l.uIk("role",i.role?i.role:i.nav.roles?"tabpanel":void 0)("aria-labelledby",i.item.domId),l.ekj("fade",i.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),RD=(()=>{class n{constructor(t,i){this._cd=t,this._ngZone=i,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,ma.R)(this.nav.destroy$),(0,Xo.O)(this._activePane?.item||null),(0,Ma.x)(),(0,X1.T)(1)).subscribe(t=>{const i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Bu(this._ngZone,this._activePane.elRef.nativeElement,aO,i).subscribe(()=>{const a=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Bu(this._ngZone,this._activePane.elRef.nativeElement,uO,i).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),a&&(a.hidden.emit(),this.nav.hidden.emit(a.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(i=>i.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,i){if(1&t&&l.Gf(OD,5),2&t){let a;l.iGM(a=l.CRH())&&(i._panes=a)}},hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:jx,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&l.YNc(0,Kx,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",i.nav.items)},dependencies:[OD,M.ax,M.O5,M.tP],encapsulation:2,changeDetection:0}),n})(),PD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[RD]}),n})(),lO=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),wI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),TI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),CI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),DI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),SI=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),II=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),AI=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,a=Math.floor(this.maxSize/2);return this.page<=a?i=this.maxSize:this.pageCount-this.page<a?t=this.pageCount-this.maxSize:(t=this.page-a-1,i=this.page+(this.maxSize%2==0?a-1:a)),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(t){const i=this.page;this.page=iC(t,this.pageCount,1),this.page!==i&&el(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),el(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,a=this.pageCount;[i,a]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,a),this._applyEllipses(i,a)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,i,a){if(1&t&&(l.Suo(a,bI,5),l.Suo(a,wI,5),l.Suo(a,TI,5),l.Suo(a,CI,5),l.Suo(a,DI,5),l.Suo(a,SI,5),l.Suo(a,II,5)),2&t){let d;l.iGM(d=l.CRH())&&(i.tplEllipsis=d.first),l.iGM(d=l.CRH())&&(i.tplFirst=d.first),l.iGM(d=l.CRH())&&(i.tplLast=d.first),l.iGM(d=l.CRH())&&(i.tplNext=d.first),l.iGM(d=l.CRH())&&(i.tplNumber=d.first),l.iGM(d=l.CRH())&&(i.tplPrevious=d.first),l.iGM(d=l.CRH())&&(i.tplPages=d.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,i,a,d,_,D,O;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,i=$localize`:@@ngb.pagination.next:`,a=$localize`:@@ngb.pagination.last:`,d=$localize`:@@ngb.pagination.first-aria:First`,_=$localize`:@@ngb.pagination.previous-aria:Previous`,D=$localize`:@@ngb.pagination.next-aria:Next`,O=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,i,a,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",d,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"],["aria-label",D,"href","",1,"page-link",3,"click"],["aria-label",O,"href","",1,"page-link",3,"click"]]},template:function(t,i){if(1&t&&(l.YNc(0,Zx,2,0,"ng-template",null,0,l.W1O),l.YNc(2,Yx,2,0,"ng-template",null,1,l.W1O),l.YNc(4,Jx,2,0,"ng-template",null,2,l.W1O),l.YNc(6,Qx,2,0,"ng-template",null,3,l.W1O),l.YNc(8,Xx,1,0,"ng-template",null,4,l.W1O),l.YNc(10,tM,2,2,"ng-template",null,5,l.W1O),l.YNc(12,lM,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,dM,3,9,"li",7),l.YNc(16,pM,3,8,"li",7),l.YNc(17,gM,0,0,"ng-template",8),l.YNc(18,_M,3,9,"li",7),l.YNc(19,yM,3,9,"li",7),l.qZA()),2&t){const a=l.MAs(13);l.xp6(14),l.Tol("pagination"+(i.size?" pagination-"+i.size:"")),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==i.tplPages?null:i.tplPages.templateRef)||a)("ngTemplateOutletContext",l.kEZ(8,EM,i.page,i.pages,i.disabled)),l.xp6(1),l.Q6J("ngIf",i.directionLinks),l.xp6(1),l.Q6J("ngIf",i.boundaryLinks)}},dependencies:[M.O5,M.ax,M.tP],encapsulation:2,changeDetection:0}),n})(),xI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[AI]}),n})(),NI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),gO=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mO=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!el(t)||t<=0?100:t}get max(){return this._max}getValue(){return iC(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("aria-valuenow",i.getValue())("aria-valuemax",i.max)("aria-label",i.ariaLabel),l.Udp("height",i.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:cw,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,TM,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",i.type?i.textType?" bg-"+i.type:" text-bg-"+i.type:"","",i.textType?" text-"+i.textType:"",""),l.Udp("width",i.getPercentValue(),"%"),l.ekj("progress-bar-animated",i.animated)("progress-bar-striped",i.striped),l.xp6(1),l.Q6J("ngIf",i.showValue))},dependencies:[M.O5,M.Zx],encapsulation:2,changeDetection:0}),n})(),OI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mO]}),n})(),_O=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vO=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=a=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Vs.ArrowDown:case Vs.ArrowLeft:this.update(this.rate-1);break;case Vs.ArrowUp:case Vs.ArrowRight:this.update(this.rate+1);break;case Vs.Home:this.update(0);break;case Vs.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const a=iC(t,this.max,0);this.isInteractive()&&this.rate!==a&&(this.rate=a,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,a)=>i.fill=Math.round(100*iC(t-a,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_O),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,a){if(1&t&&l.Suo(a,l.Rgc,5),2&t){let d;l.iGM(d=l.CRH())&&(i.starTemplateFromContent=d.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&l.NdJ("blur",function(){return i.handleBlur()})("keydown",function(d){return i.handleKeyDown(d)})("mouseleave",function(){return i.reset()}),2&t&&(l.Ikx("tabindex",i.disabled?-1:i.tabindex),l.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Gr.JU,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(l.YNc(0,CM,1,1,"ng-template",null,0,l.W1O),l.YNc(2,SM,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",i.contexts))},dependencies:[M.ax,M.tP],encapsulation:2,changeDetection:0}),n})(),RI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[vO]}),n})();class PI{constructor(e,t,i){this.hour=zc(e),this.minute=zc(t),this.second=zc(i)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=el(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){el(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){el(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return el(this.hour)&&el(this.minute)&&(!e||el(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let yO=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function EO(){return new bO}()},providedIn:"root"}),n})(),bO=(()=>{class n extends kI{fromModel(t){return t&&Fu(t.hour)&&Fu(t.minute)?{hour:t.hour,minute:t.minute,second:Fu(t.second)?t.second:null}:null}toModel(t){return t&&Fu(t.hour)&&Fu(t.minute)?{hour:t.hour,minute:t.minute,second:Fu(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),LI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function wO(n){return new TO(n)}(l.LFG(l.soG)),i},providedIn:"root"}),n})(),TO=(()=>{class n extends LI{constructor(t){super(),this._periods=(0,M.ol)(t,M.x.Standalone,M.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const CO=/[^0-9]/g;let DO=(()=>{class n{constructor(t,i,a,d){this._config=t,this._ngbTimeAdapter=i,this._cd=a,this.i18n=d,this.onChange=_=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=Fu(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=Fu(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=Fu(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const i=this._ngbTimeAdapter.fromModel(t);this.model=i?new PI(i.hour,i.minute,i.second):new PI,!this.seconds&&(!i||!el(i.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const i=!!this.model&&this.model.hour>=12,a=zc(t);this.model?.updateHour(this.meridian&&(i&&a<12||!i&&12===a)?a+12:a),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(zc(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(zc(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(CO,"")}formatHour(t){return el(t)?ME(this.meridian?t%12==0?12:t%12:t%24):ME(NaN)}formatMinSec(t){return ME(el(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!el(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yO),l.Y36(kI),l.Y36(l.sBO),l.Y36(LI))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Gr.JU,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,i,a,d,_,D,O,$,J,fe,xe,Ke,mt;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,i=$localize`:@@ngb.timepicker.MM:MM`,a=$localize`:@@ngb.timepicker.minutes:Minutes`,d=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,_=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,D=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,O=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,$=$localize`:@@ngb.timepicker.SS:SS`,J=$localize`:@@ngb.timepicker.seconds:Seconds`,fe=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,xe=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Ke=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,mt=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",i,"aria-label",a,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],d,[1,"chevron","ngb-tp-chevron","bottom"],_,D,O,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",$,"aria-label",J,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],fe,xe,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],Ke,mt]},template:function(t,i){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,IM,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(d){return i.updateHour(d.target.value)})("blur",function(){return i.handleBlur()})("input",function(d){return i.formatInput(d.target)})("keydown.ArrowUp",function(d){return i.changeHour(i.hourStep),d.preventDefault()})("keydown.ArrowDown",function(d){return i.changeHour(-i.hourStep),d.preventDefault()}),l.qZA(),l.YNc(5,AM,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,xM,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(d){return i.updateMinute(d.target.value)})("blur",function(){return i.handleBlur()})("input",function(d){return i.formatInput(d.target)})("keydown.ArrowUp",function(d){return i.changeMinute(i.minuteStep),d.preventDefault()})("keydown.ArrowDown",function(d){return i.changeMinute(-i.minuteStep),d.preventDefault()}),l.qZA(),l.YNc(11,MM,4,7,"button",3),l.qZA(),l.YNc(12,NM,2,0,"div",8),l.YNc(13,PM,4,9,"div",9),l.YNc(14,kM,1,0,"div",8),l.YNc(15,BM,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",i.disabled),l.Q6J("disabled",i.disabled),l.xp6(3),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatHour(null==i.model?null:i.model.hour))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(4),l.Q6J("ngIf",i.spinners),l.xp6(1),l.ekj("form-control-sm",i.isSmallSize)("form-control-lg",i.isLargeSize),l.Q6J("value",i.formatMinSec(null==i.model?null:i.model.minute))("readOnly",i.readonlyInputs)("disabled",i.disabled),l.xp6(1),l.Q6J("ngIf",i.spinners),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.seconds),l.xp6(1),l.Q6J("ngIf",i.meridian),l.xp6(1),l.Q6J("ngIf",i.meridian))},dependencies:[M.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),FI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[DO]}),n})();const SO=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Yv(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},IO=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let AO=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),MO=(()=>{class n{constructor(t,i,a,d){this.ariaLive=t,this._zone=a,this._element=d,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=i.ariaLive),this.delay=i.delay,this.autohide=i.autohide,this.animation=i.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,Rr.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Bu(this._zone,this._element.nativeElement,IO,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Bu(this._zone,this._element.nativeElement,SO,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(AO),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,i,a){if(1&t&&l.Suo(a,xO,7,l.Rgc),2&t){let d;l.iGM(d=l.CRH())&&(i.contentHeaderTpl=d.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,i){2&t&&(l.uIk("aria-live",i.ariaLive),l.ekj("fade",i.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:cw,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,i){1&t&&(l.F$t(),l.YNc(0,UM,2,1,"ng-template",null,0,l.W1O),l.YNc(2,$M,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",i.contentHeaderTpl||i.header))},dependencies:[M.O5,M.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),BI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[MO]}),n})(),UI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),NO=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=BS(this.result),a=Array.isArray(this.term)?this.term:[this.term],d=$=>this.accentSensitive?$:$S($),_=a.map($=>function qM(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(d(BS($)))).filter($=>$),D=this.accentSensitive?i:$S(i),O=_.length?D.split(new RegExp(`(${_.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=O;else{let $=0;this.parts=O.map(J=>i.substring($,$+=J.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,i){1&t&&l.YNc(0,jM,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",i.parts)},dependencies:[M.O5,M.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function OO(){return 100}});let VI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[NO]}),n})();class EC{close(e){}dismiss(e){}}class RO{constructor(e,t,i,a){this._panelCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=a,this._closed=new Se.x,this._dismissed=new Se.x,this._hidden=new Se.x,e.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),i&&i.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,_)=>{this._resolve=d,this._reject=_}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,ma.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,ma.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}close(e){this._panelCmptRef&&(this._closed.next(e),this._resolve(e),this._removeOffcanvasElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeOffcanvasElements()}dismiss(e){if(this._panelCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();US(t)?t.then(i=>{!1!==i&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeOffcanvasElements(){const e=this._panelCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,pe.of)(void 0);e.subscribe(()=>{const{nativeElement:i}=this._panelCmptRef.location;i.parentNode.removeChild(i),this._panelCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._panelCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),v_(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var mw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(mw||(mw={})),mw))();let PO=(()=>{class n{constructor(t,i){this._el=t,this._zone=i,this.dismissEvent=new l.vpe}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Rr.q)(1)).subscribe(()=>{Bu(this._zone,this._el.nativeElement,(t,i)=>{i&&Yv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Bu(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(mw.BACKDROP_CLICK)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(t,i){1&t&&l.NdJ("mousedown",function(){return i.dismiss()}),2&t&&(l.Tol("offcanvas-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),kO=(()=>{class n{constructor(t,i,a){this._document=t,this._elRef=i,this._zone=a,this._closed$=new Se.x,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new l.vpe,this.shown=new Se.x,this.hidden=new Se.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Rr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,a=Bu(this._zone,this._elRef.nativeElement,d=>(t.classList.remove("showing"),t.classList.add("hiding"),()=>t.classList.remove("show","hiding")),{animation:this.animation,runningTransition:"stop"});return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){Bu(this._zone,this._elRef.nativeElement,(a,d)=>(d&&Yv(a),a.classList.add("show","showing"),()=>a.classList.remove("showing")),{animation:this.animation,runningTransition:"continue"}).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Xu(t,"keydown").pipe((0,ma.R)(this._closed$),(0,Ie.h)(i=>i.which===Vs.Escape)).subscribe(i=>{this.keyboard&&requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(mw.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),a=CD(t)[0];(i||a||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(M.K0),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("offcanvas offcanvas-"+i.position+(i.panelClass?" "+i.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:cw,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2}),n})(),LO=(()=>{class n{constructor(t,i,a,d,_){this._applicationRef=t,this._injector=i,this._document=a,this._scrollBar=d,this._ngZone=_,this._activePanelCmptHasChanged=new Se.x,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new l.vpe,this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&DD(this._ngZone,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,a){const d=a.container instanceof HTMLElement?a.container:wm(a.container)?this._document.querySelector(a.container):this._document.body;if(!d)throw new Error(`The specified offcanvas container "${a.container||"body"}" was not found in the DOM.`);a.scroll||this._hideScrollBar();const _=new EC,D=this._getContentRef(a.injector||t,i,_);let O=!1!==a.backdrop?this._attachBackdrop(d):void 0,$=this._attachWindowComponent(d,D.nodes),J=new RO($,D,O,a.beforeDismiss);return this._registerOffcanvasRef(J),this._registerPanelCmpt($),J.hidden.pipe((0,zT.x)(()=>this._restoreScrollBar())).subscribe(),_.close=fe=>{J.close(fe)},_.dismiss=fe=>{J.dismiss(fe)},this._applyPanelOptions($.instance,a),O&&O.instance&&(this._applyBackdropOptions(O.instance,a),O.changeDetectorRef.detectChanges()),$.changeDetectorRef.detectChanges(),J}get activeInstance(){return this._activeInstance}dismiss(t){this._offcanvasRef?.dismiss(t)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(t){let i=(0,l.LMc)(PO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let a=(0,l.LMc)(kO,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(a.hostView),t.appendChild(a.location.nativeElement),a}_applyPanelOptions(t,i){this._panelAttributes.forEach(a=>{wm(i[a])&&(t[a]=i[a])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(a=>{wm(i[a])&&(t[a]=i[a])}),t.static="static"===i.backdrop}_getContentRef(t,i,a){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,a):xE(i)?this._createFromString(i):this._createFromComponent(t,i,a):new ng([])}_createFromTemplateRef(t,i){const d=t.createEmbeddedView({$implicit:i,close(_){i.close(_)},dismiss(_){i.dismiss(_)}});return this._applicationRef.attachView(d),new ng([d.rootNodes],d)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new ng([[i]])}_createFromComponent(t,i,a){const d=l.zs3.create({providers:[{provide:EC,useValue:a}],parent:t}),_=(0,l.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:d}),D=_.location.nativeElement;return this._applicationRef.attachView(_.hostView),new ng([[D]],_.hostView,_)}_registerOffcanvasRef(t){const i=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=t,this._activeInstance.emit(this._offcanvasRef),t.result.then(i,i)}_registerPanelCmpt(t){this._panelCmpt=t,this._activePanelCmptHasChanged.next(),t.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(M.K0),l.LFG(mI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FO=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Jv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bC=(()=>{class n{constructor(t,i,a){this._injector=t,this._offcanvasStack=i,this._config=a}open(t,i={}){const a={...this._config,animation:this._config.animation,...i};return this._offcanvasStack.open(this._injector,t,a)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(t){this._offcanvasStack.dismiss(t)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(LO),l.LFG(FO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const BO=[_D,jS,vD,uC,gC,pI,yI,PD,$I,xI,NI,OI,RI,FI,BI,UI,VI];let UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BO,_D,jS,vD,uC,gC,pI,yI,PD,$I,xI,NI,OI,RI,FI,BI,UI,VI]}),n})();class _w{constructor(){}ngOnInit(){}}_w.\u0275fac=function(e){return new(e||_w)},_w.\u0275cmp=l.Xpm({type:_w,selectors:[["app-carousel"]],standalone:!0,features:[l.jDz],decls:27,vars:0,consts:[["id","carouselCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide-to","1","aria-label","Slide 2"],[1,"carousel-inner",2,"width","100%","height","400px !important"],[1,"carousel-item","active"],["src","assets/Planning.jpg",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block",2,"top","0","bottom","auto"],[1,"carousel-item"],["src","assets/Prepare.jpg",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"button",2)(3,"button",3),l.qZA(),l.TgZ(4,"div",4)(5,"div",5),l._UZ(6,"img",6),l.TgZ(7,"div",7)(8,"h3"),l._uU(9,"Plan your travel"),l.qZA(),l.TgZ(10,"p"),l._uU(11,"Plan by capturing where, when, with whom."),l.qZA()()(),l.TgZ(12,"div",8),l._UZ(13,"img",9),l.TgZ(14,"div",10)(15,"h3"),l._uU(16,"Prepare your travel"),l.qZA(),l.TgZ(17,"p"),l._uU(18,"Checklist to track the booking and packing."),l.qZA()()()(),l.TgZ(19,"button",11),l._UZ(20,"span",12),l.TgZ(21,"span",13),l._uU(22,"Previous"),l.qZA()(),l.TgZ(23,"button",14),l._UZ(24,"span",15),l.TgZ(25,"span",13),l._uU(26,"Next"),l.qZA()()())},dependencies:[M.ez],styles:[".carousel-caption[_ngcontent-%COMP%]{position:absolute;z-index:10;top:0;bottom:auto;color:#e40808;text-align:center;font-weight:700;font-size:x-large}"]});class m0{constructor(){}ngOnInit(){}}function VO(n,e){1&n&&(l.TgZ(0,"div",12)(1,"span"),l._uU(2,"Please enter a valid email address"),l.qZA()())}function $O(n,e){1&n&&(l.TgZ(0,"div",12)(1,"span"),l._uU(2,"Please enter the Password"),l.qZA()())}m0.\u0275fac=function(e){return new(e||m0)},m0.\u0275cmp=l.Xpm({type:m0,selectors:[["app-home"]],standalone:!0,features:[l.jDz],decls:6,vars:0,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-4","pull-md-left"],[1,"col-md-8","pull-md-right"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"router-outlet"),l.qZA(),l.TgZ(4,"div",3),l._UZ(5,"app-carousel"),l.qZA()()())},dependencies:[M.ez,af.Bz,af.lC,_w]});class LE{constructor(e){this.authService=e}ngOnInit(){this.reactiveForm=new Gr.cw({email:new Gr.NI(null,[Gr.kI.required,Gr.kI.email]),password:new Gr.NI(null,[Gr.kI.required])})}login(){this.reactiveForm.valid&&this.authService.SignIn(this.reactiveForm.value.email,this.reactiveForm.value.password)}}LE.\u0275fac=function(e){return new(e||LE)(l.Y36(m_.e))},LE.\u0275cmp=l.Xpm({type:LE,selectors:[["app-login"]],standalone:!0,features:[l.jDz],decls:24,vars:4,consts:[[1,"mb-3"],[3,"formGroup","ngSubmit"],["for","emailInput",1,"form-label"],["type","email","id","emailInput","formControlName","email",1,"form-control"],["class","showValidation",4,"ngIf"],["for","passwordInput",1,"form-label"],["type","password","id","passwordInput","formControlName","password",1,"form-control"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary","text-center","mt-4",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/signup",1,"button"],["routerLink","/forgot",1,"button"],[1,"showValidation"]],template:function(e,t){1&e&&(l.TgZ(0,"h4",0),l._uU(1,"Login"),l.qZA(),l.TgZ(2,"form",1),l.NdJ("ngSubmit",function(){return t.login()}),l.TgZ(3,"div",0)(4,"label",2),l._uU(5,"Email address"),l.qZA(),l._UZ(6,"input",3),l.YNc(7,VO,3,0,"div",4),l.qZA(),l.TgZ(8,"div",0)(9,"label",5),l._uU(10,"Password"),l.qZA(),l._UZ(11,"input",6),l.YNc(12,$O,3,0,"div",4),l.qZA(),l.TgZ(13,"div",7)(14,"button",8),l._uU(15,"Go"),l.qZA()()(),l.TgZ(16,"div",9)(17,"a",10)(18,"strong"),l._uU(19,"Register"),l.qZA()()(),l.TgZ(20,"div",9)(21,"a",11)(22,"strong"),l._uU(23,"Forgot Password?"),l.qZA()()()),2&e&&(l.xp6(2),l.Q6J("formGroup",t.reactiveForm),l.xp6(5),l.Q6J("ngIf",!t.reactiveForm.get("email").valid&&t.reactiveForm.get("email").touched),l.xp6(5),l.Q6J("ngIf",!t.reactiveForm.get("password").valid&&t.reactiveForm.get("password").touched),l.xp6(2),l.Q6J("disabled",!t.reactiveForm.valid))},dependencies:[M.ez,M.O5,Gr.UX,Gr._Y,Gr.Fj,Gr.JJ,Gr.JL,Gr.sg,Gr.u,af.Bz,af.rH],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}.showValidation[_ngcontent-%COMP%]{color:red}"]});class vw{constructor(){}ngOnInit(){}}function HO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8)(1,"input",9),l.NdJ("change",function(a){l.CHM(t);const d=l.oxw();return l.KtG(d.onSelectAllChange(a))}),l.qZA(),l.TgZ(2,"label",10),l._uU(3,"All"),l.qZA()()}}function GO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"option",11),l.NdJ("ngValue",function(){const d=l.CHM(t).$implicit;return l.KtG(d.value)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t.text)}}function jO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",14),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.openDetails(d))}),l._uU(1),l.TgZ(2,"span",15),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.removeTag(d))}),l._uU(3,"X"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function WO(n,e){if(1&n&&(l.TgZ(0,"div",12),l.YNc(1,jO,4,1,"span",13),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.tags)}}function zO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),l.NdJ("dblclick",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.removeTag(d))}),l._uU(4),l.TgZ(5,"span",20),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw(2);return l.KtG(_.removeTag(d))}),l._uU(6,"X"),l.qZA()()()()()}if(2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t)}}function qO(n,e){if(1&n&&(l.TgZ(0,"div",12),l.YNc(1,zO,7,1,"div",16),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.tags)}}vw.\u0275fac=function(e){return new(e||vw)},vw.\u0275cmp=l.Xpm({type:vw,selectors:[["app-flow"]],standalone:!0,features:[l.jDz],decls:37,vars:0,consts:[[1,"text-center"],[1,"container","mt-3"],[1,"row","g-0","b-1"],[1,"col-lg-4"],[1,"card","text-black","bg-plan","rounded-0"],[1,"card-body"],[1,"card-text","text-start"],[1,"card","text-black","bg-prepare","rounded-0"],[1,"card","text-black","bg-tripon","rounded-0"]],template:function(e,t){1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4"),l._uU(7,"Travel Plan"),l.qZA(),l.TgZ(8,"ul",6)(9,"li"),l._uU(10,"Capture where, when and with whom planning to travel"),l.qZA(),l.TgZ(11,"li"),l._uU(12,"Capture visiting places, transport, activities to do, food and stay"),l.qZA()()()()(),l.TgZ(13,"div",3)(14,"div",7)(15,"div",5)(16,"h4"),l._uU(17,"Prepare"),l.qZA(),l.TgZ(18,"ul",6)(19,"li"),l._uU(20,"Track your bookings for leave, transport, stay, activities"),l.qZA(),l.TgZ(21,"li"),l._uU(22,"Track your bag items using checklist"),l.qZA(),l.TgZ(23,"li"),l._uU(24,"Track your preparation status"),l.qZA()()()()(),l.TgZ(25,"div",3)(26,"div",8)(27,"div",5)(28,"h4"),l._uU(29,"Travel On"),l.qZA(),l.TgZ(30,"ul",6)(31,"li"),l._uU(32,"During travel, track your expenses against transport, food, shopping etc."),l.qZA(),l.TgZ(33,"li"),l._uU(34,"Add interesting notes"),l.qZA(),l.TgZ(35,"li"),l._uU(36,"Shared expenses are tracked with report"),l.qZA()()()()()()()())},dependencies:[M.ez],styles:[".container[_ngcontent-%COMP%]   .bg-plan[_ngcontent-%COMP%]{background-color:#639be4}.container[_ngcontent-%COMP%]   .bg-prepare[_ngcontent-%COMP%]{background-color:#ebe97e}.container[_ngcontent-%COMP%]   .bg-tripon[_ngcontent-%COMP%]{background-color:#addd9f}"]});class FE{constructor(e){this.offCanvasService=e,this.showDetails=!0,this.showSelectAll=!1,this.isCollapsed=!0,this.tags=[],this.isSelectAll=!1}ngOnInit(){}onOptionsSelected(e){this.addtoTags(e.target.value),e.target.value="-1",this.isCollapsed=!0}addtoTags(e){"-1"!==e&&this.tags.indexOf(e)<0&&this.tags.push(e)}removeTag(e){this.tags=this.tags.filter(t=>t!=e)}openDetails(e){this.offCanvasService.open(BE,{position:"end"}).componentInstance.tagName=e}onSelectAllChange(e){e.target.checked?(this.tags=[],this.tags=this.items.map(t=>t.text)):this.tags=[],this.isCollapsed=!0}}FE.\u0275fac=function(e){return new(e||FE)(l.Y36(bC))},FE.\u0275cmp=l.Xpm({type:FE,selectors:[["app-selecttag"]],inputs:{toggleLabel:"toggleLabel",items:"items",showDetails:"showDetails",showSelectAll:"showSelectAll"},standalone:!0,features:[l.jDz],decls:13,vars:7,consts:[["role","button","aria-controls","toggleLabelLink",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mt-2","mb-2",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],["class","form-check form-switch",4,"ngIf"],["aria-label",".form-select example",1,"form-select","form-select",3,"change"],["value","-1"],[3,"ngValue",4,"ngFor","ngForOf"],["class","itag-container",4,"ngIf"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"change"],["for","flexSwitchCheckDefault",1,"form-check-label"],[3,"ngValue"],[1,"itag-container"],["class","btn btn-outline-secondary btn-sm position-relative mt-2 itag-tag btn-block",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm","position-relative","mt-2","itag-tag","btn-block",3,"click"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-secondary",3,"click"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"itag-tag-2",3,"dblclick"],[1,"close",3,"click"]],template:function(e,t){if(1&e){const i=l.EpF();l.TgZ(0,"div")(1,"div",0),l.NdJ("click",function(){l.CHM(i);const d=l.MAs(5);return l.KtG(d.toggle())}),l.TgZ(2,"strong"),l._uU(3),l.qZA()(),l.TgZ(4,"div",1,2),l.NdJ("ngbCollapseChange",function(d){return t.isCollapsed=d}),l.YNc(6,HO,4,0,"div",3),l.TgZ(7,"select",4),l.NdJ("change",function(d){return t.onOptionsSelected(d)}),l.TgZ(8,"option",5),l._uU(9,"Choose"),l.qZA(),l.YNc(10,GO,2,1,"option",6),l.qZA()(),l.YNc(11,WO,2,1,"div",7),l.YNc(12,qO,2,1,"div",7),l.qZA()}2&e&&(l.xp6(1),l.uIk("aria-expanded",t.isCollapsed),l.xp6(2),l.Oqu(t.toggleLabel),l.xp6(1),l.Q6J("ngbCollapse",t.isCollapsed),l.xp6(2),l.Q6J("ngIf",t.showSelectAll),l.xp6(4),l.Q6J("ngForOf",t.items),l.xp6(1),l.Q6J("ngIf",t.showDetails),l.xp6(1),l.Q6J("ngIf",!t.showDetails))},dependencies:[M.ez,M.sg,M.O5,uC,KS],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#00f}.itag-tag[_ngcontent-%COMP%]{margin-right:15px;word-break:break-all}.itag-tag-2[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;line-height:50px;cursor:pointer;word-break:break-all}.itag-tag-2[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}"]});class _0{constructor(){this.tripSource=new tp.X(null),this.trip=this.tripSource.asObservable(),this.isTripDataChanged=!1}onTripChange(e){this.tripSource.next(e)}}_0.\u0275fac=function(e){return new(e||_0)},_0.\u0275prov=l.Yz7({token:_0,factory:_0.\u0275fac,providedIn:"root"});class BE{constructor(e,t){this.activeOffcanvas=e,this.eventService=t}ngOnInit(){this.eventService.trip.subscribe(e=>this.members=e.people.map(t=>({text:t,value:t})))}}function KO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",6),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.openDetails(d))}),l._uU(1),l.TgZ(2,"span",7),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removeTag(d))}),l._uU(3,"X"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}BE.\u0275fac=function(e){return new(e||BE)(l.Y36(EC),l.Y36(_0))},BE.\u0275cmp=l.Xpm({type:BE,selectors:[["app-offcanvas"]],standalone:!0,features:[l.jDz],decls:22,vars:6,consts:[[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close","text-reset",3,"click"],[1,"offcanvas-body","container"],["form","ngForm"],[1,"mb-3","form-floating"],["placeholder","Comments","id","floatingTextareaComments",1,"form-control"],["for","floatingTextareaComments"],["type","text","placeholder","Cost","id","floatingInputCost","name","name",1,"form-control"],["for","floatingInputCost"],[1,"mb-3"],["toggleLabel","Paid By",3,"items","showDetails"],["toggleLabel","Share expense with",3,"items","showDetails","showSelectAll"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary","text-center","mt-4",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"h5",1),l._uU(2),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return t.activeOffcanvas.dismiss("Cross click")}),l.qZA()(),l.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5),l._UZ(8,"textarea",6),l.TgZ(9,"label",7),l._uU(10,"Comments"),l.qZA()(),l.TgZ(11,"div",5),l._UZ(12,"input",8),l.TgZ(13,"label",9),l._uU(14,"Cost"),l.qZA()(),l.TgZ(15,"div",10),l._UZ(16,"app-selecttag",11),l.qZA(),l.TgZ(17,"div",10),l._UZ(18,"app-selecttag",12),l.qZA(),l.TgZ(19,"div",13)(20,"button",14),l.NdJ("click",function(){return t.activeOffcanvas.close("Close click")}),l._uU(21,"Ok"),l.qZA()()()()),2&e&&(l.xp6(2),l.hij("",t.tagName," Details"),l.xp6(14),l.Q6J("items",t.members)("showDetails",!1),l.xp6(2),l.Q6J("items",t.members)("showDetails",!1)("showSelectAll",!0))},dependencies:[M.ez,Gr.u5,Gr._Y,Gr.JL,Gr.F,FE]});class yw{constructor(e){this.offCanvasService=e,this.isCollapsed=!0,this.userInput="",this.tags=[]}ngOnInit(){}addtoTags(){this.userInput.length>0&&this.tags.indexOf(this.userInput)<0&&this.tags.push(this.userInput),this.userInput="",this.isCollapsed=!0}removeTag(e){this.tags=this.tags.filter(t=>t!=e)}openDetails(e){this.offCanvasService.open(BE,{position:"end"}).componentInstance.tagName=e}}yw.\u0275fac=function(e){return new(e||yw)(l.Y36(bC))},yw.\u0275cmp=l.Xpm({type:yw,selectors:[["app-texttag"]],inputs:{toggleLabel:"toggleLabel",placeholderText:"placeholderText"},standalone:!0,features:[l.jDz],decls:9,vars:6,consts:[["role","button","aria-controls","toggleLabelLink",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"mt-2","mb-2",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],["type","text","id","nameInput",1,"form-control","itag-input",3,"placeholder","ngModel","ngModelChange","keydown.enter"],[1,"itag-container"],["class","btn btn-outline-secondary btn-sm position-relative mt-2 itag-tag",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary","btn-sm","position-relative","mt-2","itag-tag",3,"click"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-secondary",3,"click"]],template:function(e,t){if(1&e){const i=l.EpF();l.TgZ(0,"div")(1,"div",0),l.NdJ("click",function(){l.CHM(i);const d=l.MAs(5);return l.KtG(d.toggle())}),l.TgZ(2,"strong"),l._uU(3),l.qZA()(),l.TgZ(4,"div",1,2),l.NdJ("ngbCollapseChange",function(d){return t.isCollapsed=d}),l.TgZ(6,"input",3),l.NdJ("ngModelChange",function(d){return t.userInput=d})("keydown.enter",function(){return t.addtoTags()}),l.qZA()(),l.TgZ(7,"div",4),l.YNc(8,KO,4,1,"span",5),l.qZA()()}2&e&&(l.xp6(1),l.uIk("aria-expanded",t.isCollapsed),l.xp6(2),l.Oqu(t.toggleLabel),l.xp6(1),l.Q6J("ngbCollapse",t.isCollapsed),l.xp6(2),l.s9C("placeholder",t.placeholderText),l.Q6J("ngModel",t.userInput),l.xp6(2),l.Q6J("ngForOf",t.tags))},dependencies:[M.ez,M.sg,Gr.u5,Gr.Fj,Gr.JJ,Gr.On,uC,KS],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#00f}.itag-tag[_ngcontent-%COMP%]{margin-right:15px;word-break:break-all}"]});const ZO=[{text:"Own Car",value:"Own Car"},{text:"Hiring",value:"Hiring"},{text:"Cab/Public",value:"Cab/Public"},{text:"Flight",value:"Flight"},{text:"Ferry",value:"Ferry"},{text:"Walking",value:"Walking"}];function YO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",9),l.NdJ("mouseenter",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.hoveredDate=d)})("mouseleave",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.hoveredDate=null)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.focused,a=l.oxw();l.ekj("focused",i)("range",a.isRange(t))("faded",a.isHovered(t)||a.isInside(t)),l.xp6(1),l.hij(" ",t.day," ")}}const JO=function(n,e,t){return{year:n,month:e,day:t}};class Ew{constructor(e,t,i){this.offcanvasService=t,this.eventService=i,this.hoveredDate=null,this.fromDate=null,this.toDate=null,this.current=new Date,this.minDate={year:this.current.getFullYear(),month:this.current.getMonth()+1,day:this.current.getDate()},this.isDisabled=a=>a.year<this.minDate.year&&a.month<this.minDate.month&&a.day<this.minDate.day,this.fromDate=e.getToday(),this.toDate=e.getNext(e.getToday(),"d",5),this.transportOptions=ZO}onDateSelection(e){this.fromDate||this.toDate?this.fromDate&&!this.toDate&&e.after(this.fromDate)?this.toDate=e:(this.toDate=null,this.fromDate=e):this.fromDate=e}isHovered(e){return this.fromDate&&!this.toDate&&this.hoveredDate&&e.after(this.fromDate)&&e.before(this.hoveredDate)}isInside(e){return this.toDate&&e.after(this.fromDate)&&e.before(this.toDate)}isRange(e){return e.equals(this.fromDate)||this.toDate&&e.equals(this.toDate)||this.isInside(e)||this.isHovered(e)}}Ew.\u0275fac=function(e){return new(e||Ew)(l.Y36(OE),l.Y36(bC),l.Y36(_0))},Ew.\u0275cmp=l.Xpm({type:Ew,selectors:[["app-place"]],inputs:{place:"place",slideIndex:"slideIndex"},standalone:!0,features:[l.jDz],decls:15,vars:11,consts:[[1,"form-group"],[1,"mb-3"],["for","placeDatesInput",1,"form-label"],["outsideDays","hidden",3,"id","displayMonths","dayTemplate","minDate","markDisabled","dateSelect"],["dpPlace{{slideIndex}}",""],["t",""],["toggleLabel","Add Transport",3,"items"],["toggleLabel","Add Stays","placeholderText","Ex: Airbnb at XXX"],["toggleLabel","Add Activities","placeholderText","Ex: Waitomo Caves on 11th Sunday"],[1,"custom-day",3,"mouseenter","mouseleave"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"label",2),l._uU(3),l.qZA(),l._UZ(4,"br"),l.TgZ(5,"ngb-datepicker",3,4),l.NdJ("dateSelect",function(a){return t.onDateSelection(a)}),l.qZA(),l.YNc(7,YO,2,7,"ng-template",null,5,l.W1O),l.qZA(),l.TgZ(9,"div",1),l._UZ(10,"app-selecttag",6),l.qZA(),l.TgZ(11,"div",1),l._UZ(12,"app-texttag",7),l.qZA(),l.TgZ(13,"div",1),l._UZ(14,"app-texttag",8),l.qZA()()),2&e){const i=l.MAs(8);l.xp6(3),l.hij("Start & End Dates at ",t.place,""),l.xp6(2),l.MGl("id","dpPlace",t.slideIndex,""),l.Q6J("displayMonths",1)("dayTemplate",i)("minDate",l.kEZ(7,JO,t.minDate.year,t.minDate.month,t.minDate.day))("markDisabled",t.isDisabled),l.xp6(5),l.Q6J("items",t.transportOptions)}},dependencies:[M.ez,gC,PE,yw,FE],styles:[".custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}"]});var QO=F(7489);function XO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"span",5),l.NdJ("dblclick",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removeTag(d))}),l._uU(4),l.TgZ(5,"span",6),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removeTag(d))}),l._uU(6,"X"),l.qZA()()()()()}if(2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t)}}class v0{constructor(){this.userInput="",this.tags=[],this.onChange=e=>{},this.onTouched=()=>{},this.touched=!1,this.disabled=!1}writeValue(e){this.tags=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}setDisabledState(e){this.disabled=e}validate(e){return 0===this.tags?.length?{tagsAreEmpty:!0}:null}ngOnInit(){}addtoTags(){if(this.markAsTouched(),!this.disabled&&this.userInput.length>0){let e=this.userInput.replace(/\w+/g,QO.startCase);this.tags?.indexOf(e)<0&&(this.tags=[...this.tags,e],this.onChange(this.tags))}this.userInput=""}removeTag(e){this.markAsTouched(),this.tags=this.tags.filter(t=>t!=e),this.onChange(this.tags)}}v0.\u0275fac=function(e){return new(e||v0)},v0.\u0275cmp=l.Xpm({type:v0,selectors:[["app-inputformtag"]],inputs:{placeholderText:"placeholderText"},standalone:!0,features:[l._Bn([{provide:Gr.JU,multi:!0,useExisting:v0},{provide:Gr.Cf,multi:!0,useExisting:v0}]),l.jDz],decls:3,vars:3,consts:[[1,"itag-container"],["type","text","id","nameInput","name","name",1,"form-control","itag-input",3,"placeholder","ngModel","ngModelChange","focusout","keydown.enter"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[1,"itag-tag",3,"dblclick"],[1,"close",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"input",1),l.NdJ("ngModelChange",function(a){return t.userInput=a})("focusout",function(){return t.addtoTags()})("keydown.enter",function(){return t.addtoTags()}),l.qZA(),l.YNc(2,XO,7,1,"div",2),l.qZA()),2&e&&(l.xp6(1),l.s9C("placeholder",t.placeholderText),l.Q6J("ngModel",t.userInput),l.xp6(1),l.Q6J("ngForOf",t.tags))},dependencies:[M.ez,M.sg,Gr.u5,Gr.Fj,Gr.JJ,Gr.On],styles:[".itag-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itag-tag[_ngcontent-%COMP%]{margin-right:10px;padding:6px;border:1px solid rgb(190,185,185);border-radius:5px;line-height:50px;cursor:pointer;word-break:break-all;color:#00f}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:.55rem;color:#504e4e}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-weight:700}.itag-tag[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}"]});class wC{constructor(e,t){this.store=e,this.authService=t,this.isLoading$=this.store.pipe((0,Yt.Ys)(oc)),this.error$=this.store.pipe((0,Yt.Ys)(Ha))}}const eR=["dpTravel"];function tR(n,e){1&n&&(l.TgZ(0,"div",12)(1,"span"),l._uU(2,"Please add places"),l.qZA()())}function nR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",13),l.NdJ("mouseenter",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.hoveredDate=d)})("mouseleave",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.hoveredDate=null)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.focused,a=l.oxw();l.ekj("focused",i)("range",a.isRange(t))("faded",a.isHovered(t)||a.isInside(t)),l.xp6(1),l.hij(" ",t.day," ")}}function rR(n,e){1&n&&(l.TgZ(0,"div",12)(1,"span"),l._uU(2,"Please add people"),l.qZA()())}const iR=function(n,e,t){return{year:n,month:e,day:t}};class bw extends wC{constructor(e,t,i,a){super(i,a),this.fb=e,this.calendar=t,this.hoveredDate=null,this.current=new Date,this.minDate={year:this.current.getFullYear(),month:this.current.getMonth()+1,day:this.current.getDate()},this.isDisabled=d=>d.year<this.minDate.year&&d.month<this.minDate.month&&d.day<this.minDate.day}ngOnInit(){if(this.tripDataInput){const{places:e,people:t,start_at:i,end_at:a}=this.tripDataInput;let d=new Date(i),_=new Date(a);this.reactiveForm=this.fb.group({places:new Gr.NI(e,[Gr.kI.required]),people:new Gr.NI(t,[Gr.kI.required]),fromDate:new Gr.NI(new bl(d.getFullYear(),d.getMonth()+1,d.getDate())),toDate:new Gr.NI(new bl(_.getFullYear(),_.getMonth()+1,_.getDate()))})}else this.reactiveForm=this.fb.group({places:new Gr.NI([],[Gr.kI.required]),people:new Gr.NI([],[Gr.kI.required]),fromDate:new Gr.NI(this.calendar.getToday()),toDate:new Gr.NI(this.calendar.getNext(this.calendar.getToday(),"d",5))})}ngAfterViewInit(){this.tripDataInput&&this.datepicker.navigateTo({year:this.reactiveForm.value.fromDate.year,month:this.reactiveForm.value.fromDate.month})}onDateSelection(e){this.reactiveForm.value.fromDate||this.reactiveForm.value.toDate?this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)?this.reactiveForm.patchValue({toDate:e}):(this.reactiveForm.patchValue({toDate:null}),this.reactiveForm.patchValue({fromDate:e})):this.reactiveForm.patchValue({fromDate:e})}isHovered(e){return this.reactiveForm.value.fromDate&&!this.reactiveForm.value.toDate&&this.hoveredDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.hoveredDate)}isInside(e){return this.reactiveForm.value.toDate&&e.after(this.reactiveForm.value.fromDate)&&e.before(this.reactiveForm.value.toDate)}isRange(e){return e.equals(this.reactiveForm.value.fromDate)||this.reactiveForm.value.toDate&&e.equals(this.reactiveForm.value.toDate)||this.isInside(e)||this.isHovered(e)}getFormGroup(){return this.reactiveForm}}bw.\u0275fac=function(e){return new(e||bw)(l.Y36(Gr.qu),l.Y36(OE),l.Y36(Yt.yh),l.Y36(m_.e))},bw.\u0275cmp=l.Xpm({type:bw,selectors:[["app-new-trip"]],viewQuery:function(e,t){if(1&e&&l.Gf(eR,5),2&e){let i;l.iGM(i=l.CRH())&&(t.datepicker=i.first)}},inputs:{tripDataInput:"tripDataInput"},standalone:!0,features:[l.qOj,l.jDz],decls:20,vars:11,consts:[[1,"container"],[1,"form-group","pt-3",3,"formGroup"],[1,"mb-3"],["for","placesInput",1,"form-label"],["id","placesInput","placeholderText","Ex: Queenstown","formControlName","places"],["class","showValidation",4,"ngIf"],["for","travelDatesInput",1,"form-label"],["id","dpTravel","outsideDays","hidden",3,"displayMonths","dayTemplate","minDate","markDisabled","dateSelect"],["dpTravel",""],["t",""],["for","peopleInput",1,"form-label"],["id","peopleInput","placeholderText","Ex: John","formControlName","people"],[1,"showValidation"],[1,"custom-day",3,"mouseenter","mouseleave"]],template:function(e,t){if(1&e&&(l.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),l._uU(4,"Travel places, Add places one after another by pressing [enter]"),l.qZA(),l._UZ(5,"app-inputformtag",4),l.YNc(6,tR,3,0,"div",5),l.qZA(),l.TgZ(7,"div",2)(8,"label",6),l._uU(9,"Travel Start - End Date"),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"ngb-datepicker",7,8),l.NdJ("dateSelect",function(a){return t.onDateSelection(a)}),l.qZA(),l.YNc(13,nR,2,7,"ng-template",null,9,l.W1O),l.qZA(),l.TgZ(15,"div",2)(16,"label",10),l._uU(17,"Travelling with, Add people one after another by pressing [enter]. If group, enter comma seperated persons"),l.qZA(),l._UZ(18,"app-inputformtag",11),l.YNc(19,rR,3,0,"div",5),l.qZA()()()),2&e){const i=l.MAs(14);l.xp6(1),l.Q6J("formGroup",t.reactiveForm),l.xp6(5),l.Q6J("ngIf",!t.reactiveForm.get("places").valid&&t.reactiveForm.get("places").touched&&t.reactiveForm.get("places").dirty),l.xp6(5),l.Q6J("displayMonths",1)("dayTemplate",i)("minDate",l.kEZ(7,iR,t.minDate.year,t.minDate.month,t.minDate.day))("markDisabled",t.isDisabled),l.xp6(8),l.Q6J("ngIf",!t.reactiveForm.get("people").valid&&t.reactiveForm.get("people").touched&&t.reactiveForm.get("people").dirty)}},dependencies:[M.ez,M.O5,Gr.UX,Gr._Y,Gr.JJ,Gr.JL,Gr.sg,Gr.u,gC,PE,v0],styles:["label[_ngcontent-%COMP%]{font-weight:500}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}app-inputformtag.ng-invalid.ng-touched.ng-dirty[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:red 1px solid}.showValidation[_ngcontent-%COMP%]{color:red}"],changeDetection:0});var HI=F(4465);const sR=["ngcarousel"],oR=["newtrip"];function aR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",12),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2);return l.KtG(a.goToNext())}),l._uU(1,"Next"),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("disabled",!(null!=t.newTripComponent&&t.newTripComponent.getFormGroup().valid))}}function uR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",12),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2);return l.KtG(a.create())}),l._uU(1,"Create"),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("disabled",!(null!=t.newTripComponent&&t.newTripComponent.getFormGroup().valid))}}function lR(n,e){if(1&n&&(l.TgZ(0,"div",5)(1,"fieldset",6)(2,"div",7),l._UZ(3,"app-new-trip",8,9),l.qZA(),l.TgZ(5,"div",10),l.YNc(6,aR,2,1,"button",11),l.YNc(7,uR,2,1,"button",11),l.qZA()()()),2&n){const t=l.oxw();l.xp6(3),l.Q6J("tripDataInput",t.tripDataInput),l.xp6(3),l.Q6J("ngIf",t.canProceed),l.xp6(1),l.Q6J("ngIf",void 0===t.tripDataInput)}}function cR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(3);return l.KtG(a.goToNext())}),l._uU(1,"Next"),l.qZA()}}function dR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5)(1,"fieldset",6)(2,"div",14)(3,"h6"),l._uU(4),l.qZA()(),l.TgZ(5,"div",7),l._UZ(6,"app-place",15),l.qZA(),l.TgZ(7,"div",10)(8,"button",16),l.NdJ("click",function(){l.CHM(t);const a=l.oxw(2);return l.KtG(a.getToPrev())}),l._uU(9,"Previous"),l.qZA(),l.YNc(10,cR,2,0,"button",17),l.qZA()()()}if(2&n){const t=l.oxw(),i=t.$implicit,a=t.index,d=l.oxw();l.xp6(4),l.hij("At ",i,""),l.xp6(2),l.s9C("place",i),l.s9C("slideIndex",a),l.xp6(4),l.Q6J("ngIf",d.travelPlaces.length>0&&void 0!==d.travelPlaces[a+1])}}function hR(n,e){1&n&&l.YNc(0,dR,11,4,"ng-template",13),2&n&&l.MGl("id","slide-",e.index,"")}class ww extends wC{constructor(e,t,i,a){super(e,t),this.parserFormatter=i,this.toastService=a,this.tripChangeNotify=new l.vpe,this.travelPlaces=[]}ngOnInit(){this.tripDataInput&&(this.travelPlaces=this.tripDataInput.places,this.canProceed=!0)}ngOnChanges(e){let t=e.tripDataInput;t&&t.previousValue!==t.currentValue&&(this.tripDataInput=t.currentValue,this.travelPlaces=this.tripDataInput.places)}navigateToSlide(e){this.ngCarousel.select(e),console.log(e)}getToPrev(){this.ngCarousel.prev()}goToNext(){const e=this.newTripComponent?.getFormGroup();if(e.valid){if(e.dirty){const{places:t,fromDate:i,toDate:a,people:d}=e.value;let _={places:t,start_at:this.parserFormatter.format(i),end_at:this.parserFormatter.format(a),people:d,userId:this.tripDataInput.userId,id:this.tripDataInput.id};this.store.dispatch(Jo({..._})),this.newTripComponent?.getFormGroup().markAsPristine(),this.tripChangeNotify.emit(!0)}this.ngCarousel.next()}}create(){const e=this.newTripComponent?.getFormGroup();if(e.valid&&e.dirty){const{places:t,fromDate:i,toDate:a,people:d}=e.value;let _={places:t,start_at:this.parserFormatter.format(i),end_at:this.parserFormatter.format(a),people:d,userId:this.authService.user.uid,id:null};this.store.dispatch($a({..._})),this.error$?(this.toastService.showWarningToast("New trip created.","Please continue capture other information in the Inprogress tab."),this.newTripComponent?.getFormGroup().markAsPristine(),this.tripChangeNotify.emit(!0),this.canProceed=!0):(this.toastService.showWarningToast("Failed to Save","Something went Wrong. Please report using feedback feature."),console.log(this.error$))}}}function fR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"label",11),l._uU(4),l.qZA(),l._UZ(5,"input",12),l.qZA()(),l.TgZ(6,"div",9)(7,"button",13),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.removefromCheckList(d))}),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(4),l.Oqu(t)}}ww.\u0275fac=function(e){return new(e||ww)(l.Y36(Yt.yh),l.Y36(m_.e),l.Y36(SD),l.Y36(HI.k))},ww.\u0275cmp=l.Xpm({type:ww,selectors:[["app-planning"]],viewQuery:function(e,t){if(1&e&&(l.Gf(sR,7),l.Gf(oR,5)),2&e){let i;l.iGM(i=l.CRH())&&(t.ngCarousel=i.first),l.iGM(i=l.CRH())&&(t.newTripComponent=i.first)}},inputs:{tripDataInput:"tripDataInput"},outputs:{tripChangeNotify:"tripChangeNotify"},standalone:!0,features:[l.qOj,l.TTD,l.jDz],decls:5,vars:5,consts:[[1,"container"],[3,"showNavigationArrows","showNavigationIndicators","interval","keyboard"],["ngcarousel",""],["ngbSlide","","id","slide-main"],[4,"ngFor","ngForOf"],[1,"picsum-img-wrapper"],["id","step-1"],[1,"panel-body"],[3,"tripDataInput"],["newtrip",""],[1,"text-center","mt-5"],["class","btn btn-primary me-3",3,"disabled","click",4,"ngIf"],[1,"btn","btn-primary","me-3",3,"disabled","click"],["ngbSlide","",3,"id"],[1,"place-heading","mb-3",2,"text-align","center"],[3,"place","slideIndex"],[1,"btn","btn-primary","me-3",3,"click"],["class","btn btn-primary me-3",3,"click",4,"ngIf"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"ngb-carousel",1,2),l.YNc(3,lR,8,3,"ng-template",3),l.YNc(4,hR,1,1,null,4),l.qZA()()),2&e&&(l.xp6(1),l.Q6J("showNavigationArrows",!1)("showNavigationIndicators",!1)("interval",0)("keyboard",!1),l.xp6(3),l.Q6J("ngForOf",t.travelPlaces))},dependencies:[M.ez,M.sg,M.O5,vD,qS,zS,Ew,bw],styles:["label[_ngcontent-%COMP%]{font-weight:500}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}"],changeDetection:0});class Tw{constructor(e){this.activeOffcanvas=e,this.userInput="",this.bagItems=[]}ngOnInit(){}addtoCheckList(){this.userInput.length>0&&this.bagItems.indexOf(this.userInput)<0&&this.bagItems.push(this.userInput),this.userInput=""}removefromCheckList(e){this.bagItems=this.bagItems.filter(t=>t!=e)}}Tw.\u0275fac=function(e){return new(e||Tw)(l.Y36(EC))},Tw.\u0275cmp=l.Xpm({type:Tw,selectors:[["app-offcanvas-bag"]],standalone:!0,features:[l.jDz],decls:9,vars:2,consts:[[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close","text-reset",3,"click"],[1,"offcanvas-body"],["type","text","placeholder","Ex: Mobile Charger, press [Enter]","id","bagitemInput",1,"form-control","itag-input","mb-3",3,"ngModel","ngModelChange","keydown.enter"],[1,"container"],[1,"content"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","mb-2"],[1,"col"],[1,"form-check","form-switch"],[1,"form-check-label"],["type","checkbox",1,"form-check-input"],["type","button","aria-label","Close",1,"btn-close","btn-sm",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"h5",1),l._uU(2,"Bag Checklist"),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return t.activeOffcanvas.dismiss("Cross click")}),l.qZA()(),l.TgZ(4,"div",3)(5,"input",4),l.NdJ("ngModelChange",function(a){return t.userInput=a})("keydown.enter",function(){return t.addtoCheckList()}),l.qZA(),l.TgZ(6,"div",5)(7,"div",6),l.YNc(8,fR,8,1,"div",7),l.qZA()()()),2&e&&(l.xp6(5),l.Q6J("ngModel",t.userInput),l.xp6(3),l.Q6J("ngForOf",t.bagItems))},dependencies:[M.ez,M.sg,Gr.u5,Gr.Fj,Gr.JJ,Gr.On],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 150px)}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:auto;overflow-x:hidden}"]});class Cw{constructor(e){this.offCanvasService=e}openBagCheckList(){this.offCanvasService.open(Tw,{position:"end"})}}function pR(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Your Plan"),l.qZA())}function gR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-planning",9),l.NdJ("tripChangeNotify",function(a){l.CHM(t);const d=l.oxw();return l.KtG(d.tripChanged(a))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("tripDataInput",t.tripDataInput)}}function mR(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Preparation"),l.qZA())}function _R(n,e){1&n&&l._UZ(0,"app-prepare")}function vR(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Travel On"),l.qZA())}function yR(n,e){1&n&&l._uU(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}function ER(n,e){1&n&&(l.TgZ(0,"strong"),l._uU(1,"Summary and Expense Report"),l.qZA())}function bR(n,e){1&n&&l._uU(0," Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS. ")}Cw.\u0275fac=function(e){return new(e||Cw)(l.Y36(bC))},Cw.\u0275cmp=l.Xpm({type:Cw,selectors:[["app-prepare"]],standalone:!0,features:[l.jDz],decls:30,vars:0,consts:[[1,"container"],[1,"mb-3"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchChecLeave",1,"form-check-input"],["for","flexSwitchChecLeave",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckTransport",1,"form-check-input"],["for","flexSwitchCheckTransport",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckStay",1,"form-check-input"],["for","flexSwitchCheckStay",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckActivities",1,"form-check-input"],["for","flexSwitchCheckActivities",1,"form-check-label"],["type","checkbox","id","flexSwitchCheckBag",1,"form-check-input"],["for","flexSwitchCheckBag",1,"form-check-label"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"input",3),l.TgZ(4,"label",4),l._uU(5,"Leave requested at Office"),l.qZA()()(),l.TgZ(6,"div",1)(7,"div",2),l._UZ(8,"input",5),l.TgZ(9,"label",6),l._uU(10,"Transport booked"),l.qZA()()(),l.TgZ(11,"div",1)(12,"div",2),l._UZ(13,"input",7),l.TgZ(14,"label",8),l._uU(15,"Stay booked"),l.qZA()()(),l.TgZ(16,"div",1)(17,"div",2),l._UZ(18,"input",9),l.TgZ(19,"label",10),l._uU(20,"Activities booked"),l.qZA()()(),l.TgZ(21,"div",1)(22,"div",2),l._UZ(23,"input",11),l.TgZ(24,"label",12),l._uU(25,"Bag packed"),l.qZA()()(),l.TgZ(26,"div",1)(27,"div",13),l.NdJ("click",function(){return t.openBagCheckList()}),l.TgZ(28,"strong"),l._uU(29,"Bag Checklist"),l.qZA()()()())},dependencies:[M.ez]});class Dw extends wC{constructor(e){super(e),this.activePanel="plan-panel"}ngOnInit(){this.getTripData()}tripChanged(e){this.getTripData()}getTripData(){this.store.pipe((0,Yt.Ys)(Hl)).subscribe(e=>{this.store.select((n=>(0,Yt.P1)($s,e=>e.trips.find(t=>t.id===n)))(e)).pipe((0,Rr.q)(1)).subscribe(t=>{t&&(this.tripDataInput=t)})})}}Dw.\u0275fac=function(e){return new(e||Dw)(l.Y36(Yt.yh))},Dw.\u0275cmp=l.Xpm({type:Dw,selectors:[["app-tripdetail"]],inputs:{tripId:"tripId",activePanel:"activePanel"},standalone:!0,features:[l.qOj,l.jDz],decls:16,vars:3,consts:[[1,"container"],[3,"activeIds","destroyOnHide","closeOthers"],["acc","ngbAccordion"],["id","plan-panel"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","preparation-panel"],["id","travelon-panel"],["id","summary-panel"],[3,"tripDataInput","tripChangeNotify"]],template:function(e,t){1&e&&(l.TgZ(0,"section")(1,"div",0)(2,"ngb-accordion",1,2)(4,"ngb-panel",3),l.YNc(5,pR,2,0,"ng-template",4),l.YNc(6,gR,1,1,"ng-template",5),l.qZA(),l.TgZ(7,"ngb-panel",6),l.YNc(8,mR,2,0,"ng-template",4),l.YNc(9,_R,1,0,"ng-template",5),l.qZA(),l.TgZ(10,"ngb-panel",7),l.YNc(11,vR,2,0,"ng-template",4),l.YNc(12,yR,1,0,"ng-template",5),l.qZA(),l.TgZ(13,"ngb-panel",8),l.YNc(14,ER,2,0,"ng-template",4),l.YNc(15,bR,1,0,"ng-template",5),l.qZA()()()()),2&e&&(l.xp6(2),l.Q6J("activeIds",t.activePanel)("destroyOnHide",!1)("closeOthers",!0))},dependencies:[M.ez,_D,oC,sC,gD,mD,ww,Cw],styles:[".collapsible[_ngcontent-%COMP%]{background-color:#eee;color:#444;cursor:pointer;padding:18px;width:100%;border:none;text-align:left;outline:none;font-size:15px}.accordion[_ngcontent-%COMP%]{--bs-accordion-bg: rgb(255, 253, 253)}.collapse[_ngcontent-%COMP%]:not(.show){display:none}"]});const wR=["modelControl"];function TR(n,e){1&n&&(l.TgZ(0,"div",9),l._UZ(1,"img",10),l.qZA())}function CR(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.error$)}}function DR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){const d=l.CHM(t).$implicit,_=l.oxw();return l.KtG(_.showTripDetails({tripId:d.id}))}),l.TgZ(1,"div")(2,"div",7),l._uU(3),l.qZA(),l.TgZ(4,"div"),l._uU(5),l.ALo(6,"date"),l.ALo(7,"date"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(3),l.Oqu(t.places),l.xp6(2),l.AsE("(",l.xi3(6,3,t.start_at,"fullDate")," - ",l.xi3(7,6,t.end_at,"fullDate"),")")}}function SR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"h5",13),l._uU(2),l.qZA(),l.TgZ(3,"button",14),l.NdJ("click",function(){const d=l.CHM(t).$implicit;return l.KtG(d.dismiss("Cross click"))}),l.qZA()(),l.TgZ(4,"div",15),l._UZ(5,"app-tripdetail"),l.qZA(),l.TgZ(6,"div",16)(7,"button",17),l.NdJ("click",function(){const d=l.CHM(t).$implicit;return l.KtG(d.close("Close click"))}),l._uU(8,"Close"),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.title)}}class Sw extends wC{constructor(e,t,i){super(e),this.ngbModelconfig=t,this.modalService=i,this.trips$=e.pipe((0,Yt.Ys)(Qo)),t.backdrop="static"}ngOnInit(){this.store.dispatch(yu())}showTripDetails(e){this.title=e?.tripId?"Edit Trip":"New Trip",this.store.dispatch(e?.tripId?Vi({tripId:e.tripId}):Tl()),this.modalService.open(this.modelControl,{scrollable:!0,size:"xl"})}}function IR(n,e){1&n&&l._UZ(0,"app-triplist")}function AR(n,e){1&n&&l._UZ(0,"app-triplist")}Sw.\u0275fac=function(e){return new(e||Sw)(l.Y36(Yt.yh),l.Y36(_I),l.Y36(vI))},Sw.\u0275cmp=l.Xpm({type:Sw,selectors:[["app-triplist"]],viewQuery:function(e,t){if(1&e&&l.Gf(wR,5),2&e){let i;l.iGM(i=l.CRH())&&(t.modelControl=i.first)}},standalone:!0,features:[l.qOj,l.jDz],decls:17,vars:9,consts:[[1,"container"],[1,"pt-3"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"list-group","list-group-light","ms-1","me-1"],["type","button","class","btn list-group-item list-group-item-action d-flex justify-content-between align-items-center px-3 border-2 rounded-2 mt-1 mb-3 list-group-item-primary",3,"click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item","list-group-item-action","px-3","text-center","justify-content-between","align-items-center","border-2","rounded-3","mb-3","list-group-item-success",3,"click"],[1,"fw-bold"],["modelControl",""],[1,"text-center"],["src","assets/loading.gif","alt","Loading..."],["type","button",1,"btn","list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","px-3","border-2","rounded-2","mt-1","mb-3","list-group-item-primary",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,TR,2,0,"div",2),l.ALo(3,"async"),l.YNc(4,CR,2,1,"div",3),l.ALo(5,"async"),l.TgZ(6,"div",4),l.YNc(7,DR,8,9,"button",5),l.ALo(8,"async"),l.TgZ(9,"button",6),l.NdJ("click",function(){return t.showTripDetails()}),l.TgZ(10,"div")(11,"div",7),l._uU(12,"New Trip"),l.qZA(),l.TgZ(13,"div",7),l._uU(14,"+"),l.qZA()()()(),l.YNc(15,SR,9,1,"ng-template",null,8,l.W1O),l.qZA()()),2&e&&(l.xp6(2),l.Q6J("ngIf",l.lcZ(3,3,t.isLoading$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(5,5,t.error$)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(8,7,t.trips$)))},dependencies:[M.ez,M.sg,M.O5,M.Ov,M.uU,Dw],styles:[".accordion-button.collapsed[_ngcontent-%COMP%]{background:rgb(243,245,247)}"],changeDetection:0});class Iw{}Iw.\u0275fac=function(e){return new(e||Iw)},Iw.\u0275cmp=l.Xpm({type:Iw,selectors:[["app-trip-tabs"]],standalone:!0,features:[l.jDz],decls:15,vars:4,consts:[[1,"container","mt-3","mb-3"],["ngbNav","",1,"nav-tabs","justify-content-center","nav-justified",3,"activeId"],["nav","ngbNav"],[1,"col-lg-4","text-center",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"]],template:function(e,t){if(1&e&&(l.TgZ(0,"section")(1,"div",0)(2,"ul",1,2)(4,"li",3)(5,"a",4)(6,"h5"),l._uU(7,"Trips"),l.qZA()(),l.YNc(8,IR,1,0,"ng-template",5),l.qZA(),l.TgZ(9,"li",3)(10,"a",4)(11,"h5"),l._uU(12,"Past Trips"),l.qZA()(),l.YNc(13,AR,1,0,"ng-template",5),l.qZA()(),l._UZ(14,"div",6),l.qZA()()),2&e){const i=l.MAs(3);l.xp6(2),l.Q6J("activeId",1),l.xp6(2),l.Q6J("ngbNavItem",1),l.xp6(5),l.Q6J("ngbNavItem",2),l.xp6(5),l.Q6J("ngbNavOutlet",i)}},dependencies:[M.ez,PD,MD,yC,vC,ND,RD,Sw],styles:[".nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#7a8dbb;border-width:0 0 2px 0;border-color:green}.nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#2c1cbe;border-width:2px 2px 0 2px}.tab-content[_ngcontent-%COMP%]{border-width:0 2px 2px 2px;border-color:green;border-style:solid;margin-top:-1px}"],changeDetection:0});class Aw{}Aw.\u0275fac=function(e){return new(e||Aw)},Aw.\u0275cmp=l.Xpm({type:Aw,selectors:[["app-trips"]],standalone:!0,features:[l.jDz],decls:2,vars:0,template:function(e,t){1&e&&l._UZ(0,"app-flow")(1,"app-trip-tabs")},dependencies:[M.ez,vw,Iw]});class UE{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return null!=this.authService.user||(this.router.navigate(["login"]),!1)}}UE.\u0275fac=function(e){return new(e||UE)(l.LFG(m_.e),l.LFG(af.F0))},UE.\u0275prov=l.Yz7({token:UE,factory:UE.\u0275fac,providedIn:"root"});const xR=[{path:"",component:m0,children:[{path:"login",component:LE},{path:"",component:LE}]},{path:"signup",component:m0,children:[{path:"",loadComponent:()=>F.e(431).then(F.bind(F,5431)).then(n=>n.SignupComponent)}]},{path:"forgot",component:m0,children:[{path:"",loadComponent:()=>F.e(895).then(F.bind(F,9895)).then(n=>n.ForgotComponent)}]},{path:"trip",canActivate:[UE],children:[{path:"",component:Aw}]},{path:"**",loadComponent:()=>F.e(73).then(F.bind(F,73)).then(n=>n.PagenotfoundComponent)}];function MR(n,e){1&n&&(l.TgZ(0,"li",10)(1,"a",11)(2,"strong"),l._uU(3,"Login"),l.qZA()()())}function NR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",12)(1,"a",13)(2,"strong"),l._uU(3),l.qZA()(),l.TgZ(4,"ul",14)(5,"li")(6,"a",15),l._uU(7,"Settings"),l.qZA()(),l.TgZ(8,"li")(9,"a",16),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.logOut())}),l._uU(10,"Logout"),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(3),l.Oqu(t.authService.user.displayName)}}class xw{constructor(e){this.authService=e}ngOnInit(){}logOut(){this.authService.SignOut()}}xw.\u0275fac=function(e){return new(e||xw)(l.Y36(m_.e))},xw.\u0275cmp=l.Xpm({type:xw,selectors:[["app-navbar"]],standalone:!0,features:[l.jDz],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container"],["href","#",1,"navbar-brand"],["src","assets/Logo.svg","alt","","width","70","height","30"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],["class","nav-item",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item"],["routerLink","login",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","data-bs-target","#navbardropdownmenu","aria-controls","navbardropdownmenu","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink","id","navbardropdownmenu","data-bs-popper","",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["routerLink","login",1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6)(7,"ul",7),l.YNc(8,MR,4,0,"li",8),l.YNc(9,NR,11,1,"li",9),l.qZA()()()()),2&e&&(l.xp6(8),l.Q6J("ngIf",!t.authService.user),l.xp6(1),l.Q6J("ngIf",t.authService.user))},dependencies:[M.ez,M.O5,af.Bz,af.rH],styles:[".navbar[_ngcontent-%COMP%]{background-color:#fff}"]});var OR=F(5356);function GI(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function jI(n){return[yc,ku,jc,Wc].some(function(e){return n[e]>=0})}const WI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function RR(n){var e=n.state,t=n.name,i=e.rects.reference,a=e.rects.popper,d=e.modifiersData.preventOverflow,_=C_(e,{elementContext:"reference"}),D=C_(e,{altBoundary:!0}),O=GI(_,i),$=GI(D,a,d),J=jI(O),fe=jI($);e.modifiersData[t]={referenceClippingOffsets:O,popperEscapeOffsets:$,isReferenceHidden:J,hasPopperEscaped:fe},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":J,"data-popper-escaped":fe})}};var kD=lw({defaultModifiers:[g,b,le,St,Yr,IE,uw,nC,WI]});const LD="transitionend",FR=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),zI=n=>{let e=n.getAttribute("data-bs-target");if(!e||"#"===e){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&"#"!==t?t.trim():null}return e},qI=n=>{const e=zI(n);return e&&document.querySelector(e)?e:null},D_=n=>{const e=zI(n);return e?document.querySelector(e):null},KI=n=>{n.dispatchEvent(new Event(LD))},S_=n=>!(!n||"object"!=typeof n)&&(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Xv=n=>S_(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(n):null,VE=n=>{if(!S_(n)||0===n.getClientRects().length)return!1;const e="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return e},ey=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),ZI=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?ZI(n.parentNode):null},TC=()=>{},YI=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,FD=[],ip=()=>"rtl"===document.documentElement.dir,sp=n=>{(n=>{"loading"===document.readyState?(FD.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of FD)e()}),FD.push(n)):n()})(()=>{const e=YI();if(e){const t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},I_=n=>{"function"==typeof n&&n()},JI=(n,e,t=!0)=>{if(!t)return void I_(n);const a=(n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const i=Number.parseFloat(e),a=Number.parseFloat(t);return i||a?(e=e.split(",")[0],t=t.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(t))):0})(e)+5;let d=!1;const _=({target:D})=>{D===e&&(d=!0,e.removeEventListener(LD,_),I_(n))};e.addEventListener(LD,_),setTimeout(()=>{d||KI(e)},a)},BD=(n,e,t,i)=>{const a=n.length;let d=n.indexOf(e);return-1===d?!t&&i?n[a-1]:n[0]:(d+=t?1:-1,i&&(d=(d+a)%a),n[Math.max(0,Math.min(d,a-1))])},$R=/[^.]*(?=\..*)\.|.*/,HR=/\..*/,GR=/::\d+$/,UD={};let QI=1;const XI={mouseenter:"mouseover",mouseleave:"mouseout"},jR=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function eA(n,e){return e&&`${e}::${QI++}`||n.uidEvent||QI++}function tA(n){const e=eA(n);return n.uidEvent=e,UD[e]=UD[e]||{},UD[e]}function nA(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function rA(n,e,t){const i="string"==typeof e,a=i?t:e||t;let d=sA(n);return jR.has(d)||(d=n),[i,a,d]}function iA(n,e,t,i,a){if("string"!=typeof e||!n)return;let[d,_,D]=rA(e,t,i);var mt;e in XI&&(mt=_,_=function(Ut){if(!Ut.relatedTarget||Ut.relatedTarget!==Ut.delegateTarget&&!Ut.delegateTarget.contains(Ut.relatedTarget))return mt.call(this,Ut)});const O=tA(n),$=O[D]||(O[D]={}),J=nA($,_,d?t:null);if(J)return void(J.oneOff=J.oneOff&&a);const fe=eA(_,e.replace($R,"")),xe=d?function zR(n,e,t){return function i(a){const d=n.querySelectorAll(e);for(let{target:_}=a;_&&_!==this;_=_.parentNode)for(const D of d)if(D===_)return $D(a,{delegateTarget:_}),i.oneOff&&yn.off(n,a.type,e,t),t.apply(_,[a])}}(n,t,_):function WR(n,e){return function t(i){return $D(i,{delegateTarget:n}),t.oneOff&&yn.off(n,i.type,e),e.apply(n,[i])}}(n,_);xe.delegationSelector=d?t:null,xe.callable=_,xe.oneOff=a,xe.uidEvent=fe,$[fe]=xe,n.addEventListener(D,xe,d)}function VD(n,e,t,i,a){const d=nA(e[t],i,a);d&&(n.removeEventListener(t,d,Boolean(a)),delete e[t][d.uidEvent])}function qR(n,e,t,i){const a=e[t]||{};for(const d of Object.keys(a))if(d.includes(i)){const _=a[d];VD(n,e,t,_.callable,_.delegationSelector)}}function sA(n){return n=n.replace(HR,""),XI[n]||n}const yn={on(n,e,t,i){iA(n,e,t,i,!1)},one(n,e,t,i){iA(n,e,t,i,!0)},off(n,e,t,i){if("string"!=typeof e||!n)return;const[a,d,_]=rA(e,t,i),D=_!==e,O=tA(n),$=O[_]||{},J=e.startsWith(".");if(typeof d<"u"){if(!Object.keys($).length)return;VD(n,O,_,d,a?t:null)}else{if(J)for(const fe of Object.keys(O))qR(n,O,fe,e.slice(1));for(const fe of Object.keys($)){const xe=fe.replace(GR,"");if(!D||e.includes(xe)){const Ke=$[fe];VD(n,O,_,Ke.callable,Ke.delegationSelector)}}}},trigger(n,e,t){if("string"!=typeof e||!n)return null;const i=YI();let _=null,D=!0,O=!0,$=!1;e!==sA(e)&&i&&(_=i.Event(e,t),i(n).trigger(_),D=!_.isPropagationStopped(),O=!_.isImmediatePropagationStopped(),$=_.isDefaultPrevented());let J=new Event(e,{bubbles:D,cancelable:!0});return J=$D(J,t),$&&J.preventDefault(),O&&n.dispatchEvent(J),J.defaultPrevented&&_&&_.preventDefault(),J}};function $D(n,e){for(const[t,i]of Object.entries(e||{}))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get:()=>i})}return n}const ty=new Map,HD={set(n,e,t){ty.has(n)||ty.set(n,new Map);const i=ty.get(n);i.has(e)||0===i.size?i.set(e,t):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,e)=>ty.has(n)&&ty.get(n).get(e)||null,remove(n,e){if(!ty.has(n))return;const t=ty.get(n);t.delete(e),0===t.size&&ty.delete(n)}};function oA(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function GD(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const A_={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${GD(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${GD(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of t){let a=i.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),e[a]=oA(n.dataset[i])}return e},getDataAttribute:(n,e)=>oA(n.getAttribute(`data-bs-${GD(e)}`))};class Nw{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=S_(t)?A_.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...S_(t)?A_.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const i of Object.keys(t)){const a=t[i],d=e[i],_=S_(d)?"element":FR(d);if(!new RegExp(a).test(_))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${_}" but expected type "${a}".`)}}}class rg extends Nw{constructor(e,t){super(),(e=Xv(e))&&(this._element=e,this._config=this._getConfig(t),HD.set(this._element,this.constructor.DATA_KEY,this))}dispose(){HD.remove(this._element,this.constructor.DATA_KEY),yn.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){JI(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return HD.get(Xv(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const CC=(n,e="hide")=>{const i=n.NAME;yn.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),ey(this))return;const d=D_(this)||this.closest(`.${i}`);n.getOrCreateInstance(d)[e]()})},aA=".bs.alert",YR=`close${aA}`,JR=`closed${aA}`;class DC extends rg{static get NAME(){return"alert"}close(){if(yn.trigger(this._element,YR).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),yn.trigger(this._element,JR),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=DC.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}CC(DC,"close"),sp(DC);const uA='[data-bs-toggle="button"]';class SC extends rg{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=SC.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}yn.on(document,"click.bs.button.data-api",uA,n=>{n.preventDefault();const e=n.target.closest(uA);SC.getOrCreateInstance(e).toggle()}),sp(SC);const _s={find:(n,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,n)),findOne:(n,e=document.documentElement)=>Element.prototype.querySelector.call(e,n),children:(n,e)=>[].concat(...n.children).filter(t=>t.matches(e)),parents(n,e){const t=[];let i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!ey(t)&&VE(t))}},$E=".bs.swipe",oP=`touchstart${$E}`,aP=`touchmove${$E}`,uP=`touchend${$E}`,lP=`pointerdown${$E}`,cP=`pointerup${$E}`,gP={endCallback:null,leftCallback:null,rightCallback:null},mP={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class IC extends Nw{constructor(e,t){super(),this._element=e,e&&IC.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return gP}static get DefaultType(){return mP}static get NAME(){return"swipe"}dispose(){yn.off(this._element,$E)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),I_(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&I_(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(yn.on(this._element,lP,e=>this._start(e)),yn.on(this._element,cP,e=>this._end(e)),this._element.classList.add("pointer-event")):(yn.on(this._element,oP,e=>this._start(e)),yn.on(this._element,aP,e=>this._move(e)),yn.on(this._element,uP,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ny=".bs.carousel",lA=".data-api",Ow="next",HE="prev",GE="left",AC="right",bP=`slide${ny}`,jD=`slid${ny}`,wP=`keydown${ny}`,TP=`mouseenter${ny}`,CP=`mouseleave${ny}`,DP=`dragstart${ny}`,SP=`load${ny}${lA}`,IP=`click${ny}${lA}`,cA="carousel",xC="active",dA=".active",hA=".carousel-item",RP=dA+hA,BP={ArrowLeft:AC,ArrowRight:GE},UP={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},VP={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Rw extends rg{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=_s.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===cA&&this.cycle()}static get Default(){return UP}static get DefaultType(){return VP}static get NAME(){return"carousel"}next(){this._slide(Ow)}nextWhenVisible(){!document.hidden&&VE(this._element)&&this.next()}prev(){this._slide(HE)}pause(){this._isSliding&&KI(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void yn.one(this._element,jD,()=>this.cycle());this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void yn.one(this._element,jD,()=>this.to(e));const i=this._getItemIndex(this._getActive());i!==e&&this._slide(e>i?Ow:HE,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&yn.on(this._element,wP,e=>this._keydown(e)),"hover"===this._config.pause&&(yn.on(this._element,TP,()=>this.pause()),yn.on(this._element,CP,()=>this._maybeEnableCycle())),this._config.touch&&IC.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of _s.find(".carousel-item img",this._element))yn.on(i,DP,a=>a.preventDefault());this._swipeHelper=new IC(this._element,{leftCallback:()=>this._slide(this._directionToOrder(GE)),rightCallback:()=>this._slide(this._directionToOrder(AC)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=BP[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=_s.findOne(dA,this._indicatorsElement);t.classList.remove(xC),t.removeAttribute("aria-current");const i=_s.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(xC),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),a=e===Ow,d=t||BD(this._getItems(),i,a,this._config.wrap);if(d===i)return;const _=this._getItemIndex(d),D=Ke=>yn.trigger(this._element,Ke,{relatedTarget:d,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:_});if(D(bP).defaultPrevented||!i||!d)return;const $=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(_),this._activeElement=d;const J=a?"carousel-item-start":"carousel-item-end",fe=a?"carousel-item-next":"carousel-item-prev";d.classList.add(fe),i.classList.add(J),d.classList.add(J),this._queueCallback(()=>{d.classList.remove(J,fe),d.classList.add(xC),i.classList.remove(xC,fe,J),this._isSliding=!1,D(jD)},i,this._isAnimated()),$&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return _s.findOne(RP,this._element)}_getItems(){return _s.find(hA,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ip()?e===GE?HE:Ow:e===GE?Ow:HE}_orderToDirection(e){return ip()?e===HE?GE:AC:e===HE?AC:GE}static jQueryInterface(e){return this.each(function(){const t=Rw.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}yn.on(document,IP,"[data-bs-slide], [data-bs-slide-to]",function(n){const e=D_(this);if(!e||!e.classList.contains(cA))return;n.preventDefault();const t=Rw.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(t.to(i),void t._maybeEnableCycle()):"next"===A_.getDataAttribute(this,"slide")?(t.next(),void t._maybeEnableCycle()):(t.prev(),void t._maybeEnableCycle())}),yn.on(window,SP,()=>{const n=_s.find('[data-bs-ride="carousel"]');for(const e of n)Rw.getOrCreateInstance(e)}),sp(Rw);const Pw=".bs.collapse",GP=`show${Pw}`,jP=`shown${Pw}`,WP=`hide${Pw}`,zP=`hidden${Pw}`,qP=`click${Pw}.data-api`,WD="show",jE="collapse",MC="collapsing",ZP=`:scope .${jE} .${jE}`,zD='[data-bs-toggle="collapse"]',e2={parent:null,toggle:!0},t2={parent:"(null|element)",toggle:"boolean"};class kw extends rg{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=_s.find(zD);for(const a of i){const d=qI(a),_=_s.find(d).filter(D=>D===this._element);null!==d&&_.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return e2}static get DefaultType(){return t2}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(D=>D!==this._element).map(D=>kw.getOrCreateInstance(D,{toggle:!1}))),e.length&&e[0]._isTransitioning||yn.trigger(this._element,GP).defaultPrevented)return;for(const D of e)D.hide();const i=this._getDimension();this._element.classList.remove(jE),this._element.classList.add(MC),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(MC),this._element.classList.add(jE,WD),this._element.style[i]="",yn.trigger(this._element,jP)},this._element,!0),this._element.style[i]=`${this._element[_]}px`}hide(){if(this._isTransitioning||!this._isShown()||yn.trigger(this._element,WP).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,this._element.classList.add(MC),this._element.classList.remove(jE,WD);for(const a of this._triggerArray){const d=D_(a);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(MC),this._element.classList.add(jE),yn.trigger(this._element,zP)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(WD)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Xv(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(zD);for(const t of e){const i=D_(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){const t=_s.find(ZP,this._config.parent);return _s.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const i=kw.getOrCreateInstance(this,t);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}yn.on(document,qP,zD,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();const e=qI(this),t=_s.find(e);for(const i of t)kw.getOrCreateInstance(i,{toggle:!1}).toggle()}),sp(kw);const fA="dropdown",y0=".bs.dropdown",qD=".data-api",r2="ArrowUp",gA="ArrowDown",s2=`hide${y0}`,o2=`hidden${y0}`,a2=`show${y0}`,u2=`shown${y0}`,mA=`click${y0}${qD}`,_A=`keydown${y0}${qD}`,l2=`keyup${y0}${qD}`,WE="show",E0='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',g2=`${E0}.${WE}`,NC=".dropdown-menu",y2=ip()?"top-end":"top-start",E2=ip()?"top-start":"top-end",b2=ip()?"bottom-end":"bottom-start",w2=ip()?"bottom-start":"bottom-end",T2=ip()?"left-start":"right-start",C2=ip()?"right-start":"left-start",I2={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},A2={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Tm extends rg{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=_s.next(this._element,NC)[0]||_s.prev(this._element,NC)[0]||_s.findOne(NC,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return I2}static get DefaultType(){return A2}static get NAME(){return fA}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ey(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!yn.trigger(this._element,a2,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))yn.on(i,"mouseover",TC);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(WE),this._element.classList.add(WE),yn.trigger(this._element,u2,e)}}hide(){!ey(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!yn.trigger(this._element,s2,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))yn.off(i,"mouseover",TC);this._popper&&this._popper.destroy(),this._menu.classList.remove(WE),this._element.classList.remove(WE),this._element.setAttribute("aria-expanded","false"),A_.removeDataAttribute(this._menu,"popper"),yn.trigger(this._element,o2,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!S_(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${fA.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof w>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:S_(this._config.reference)?e=Xv(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=kD(e,this._menu,t)}_isShown(){return this._menu.classList.contains(WE)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return T2;if(e.classList.contains("dropstart"))return C2;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?E2:y2:t?w2:b2}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(A_.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const i=_s.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(a=>VE(a));i.length&&BD(i,t,e===gA,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Tm.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=_s.find(g2);for(const i of t){const a=Tm.getInstance(i);if(!a||!1===a._config.autoClose)continue;const d=e.composedPath(),_=d.includes(a._menu);if(d.includes(a._element)||"inside"===a._config.autoClose&&!_||"outside"===a._config.autoClose&&_||a._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const D={relatedTarget:a._element};"click"===e.type&&(D.clickEvent=e),a._completeHide(D)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,a=[r2,gA].includes(e.key);if(!a&&!i||t&&!i)return;e.preventDefault();const d=this.matches(E0)?this:_s.prev(this,E0)[0]||_s.next(this,E0)[0]||_s.findOne(E0,e.delegateTarget.parentNode),_=Tm.getOrCreateInstance(d);if(a)return e.stopPropagation(),_.show(),void _._selectMenuItem(e);_._isShown()&&(e.stopPropagation(),_.hide(),d.focus())}}yn.on(document,_A,E0,Tm.dataApiKeydownHandler),yn.on(document,_A,NC,Tm.dataApiKeydownHandler),yn.on(document,mA,Tm.clearMenus),yn.on(document,l2,Tm.clearMenus),yn.on(document,mA,E0,function(n){n.preventDefault(),Tm.getOrCreateInstance(this).toggle()}),sp(Tm);const vA=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yA=".sticky-top",OC="padding-right",EA="margin-right";class KD{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,OC,t=>t+e),this._setElementAttributes(vA,OC,t=>t+e),this._setElementAttributes(yA,EA,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,OC),this._resetElementAttributes(vA,OC),this._resetElementAttributes(yA,EA)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const a=this.getWidth();this._applyManipulationCallback(e,_=>{if(_!==this._element&&window.innerWidth>_.clientWidth+a)return;this._saveInitialAttribute(_,t);const D=window.getComputedStyle(_).getPropertyValue(t);_.style.setProperty(t,`${i(Number.parseFloat(D))}px`)})}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&A_.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,a=>{const d=A_.getDataAttribute(a,t);null!==d?(A_.removeDataAttribute(a,t),a.style.setProperty(t,d)):a.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(S_(e))t(e);else for(const i of _s.find(e,this._element))t(i)}}const bA="backdrop",TA=`mousedown.bs.${bA}`,M2={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},N2={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class CA extends Nw{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return M2}static get DefaultType(){return N2}static get NAME(){return bA}show(e){if(!this._config.isVisible)return void I_(e);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{I_(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),I_(e)})):I_(e)}dispose(){this._isAppended&&(yn.off(this._element,TA),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Xv(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),yn.on(e,TA,()=>{I_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){JI(e,this._getElement(),this._config.isAnimated)}}const RC=".bs.focustrap",R2=`focusin${RC}`,P2=`keydown.tab${RC}`,DA="backward",F2={autofocus:!0,trapElement:null},B2={autofocus:"boolean",trapElement:"element"};class SA extends Nw{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return F2}static get DefaultType(){return B2}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),yn.off(document,RC),yn.on(document,R2,e=>this._handleFocusin(e)),yn.on(document,P2,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,yn.off(document,RC))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=_s.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===DA?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?DA:"forward")}}const ig=".bs.modal",H2=`hide${ig}`,G2=`hidePrevented${ig}`,IA=`hidden${ig}`,AA=`show${ig}`,j2=`shown${ig}`,W2=`resize${ig}`,z2=`click.dismiss${ig}`,q2=`mousedown.dismiss${ig}`,K2=`keydown.dismiss${ig}`,Z2=`click${ig}.data-api`,xA="modal-open",ZD="modal-static",tk={backdrop:!0,focus:!0,keyboard:!0},nk={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class zE extends rg{constructor(e,t){super(e,t),this._dialog=_s.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new KD,this._addEventListeners()}static get Default(){return tk}static get DefaultType(){return nk}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||yn.trigger(this._element,AA,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xA),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||yn.trigger(this._element,H2).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const e of[window,this._dialog])yn.off(e,ig);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new CA({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new SA({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=_s.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,yn.trigger(this._element,j2,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){yn.on(this._element,K2,e=>{if("Escape"===e.key){if(this._config.keyboard)return e.preventDefault(),void this.hide();this._triggerBackdropTransition()}}),yn.on(window,W2,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),yn.on(this._element,q2,e=>{yn.one(this._element,z2,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(xA),this._resetAdjustments(),this._scrollBar.reset(),yn.trigger(this._element,IA)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(yn.trigger(this._element,G2).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(ZD)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(ZD),this._queueCallback(()=>{this._element.classList.remove(ZD),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const a=ip()?"paddingLeft":"paddingRight";this._element.style[a]=`${t}px`}if(!i&&e){const a=ip()?"paddingRight":"paddingLeft";this._element.style[a]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const i=zE.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}}yn.on(document,Z2,'[data-bs-toggle="modal"]',function(n){const e=D_(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),yn.one(e,AA,a=>{a.defaultPrevented||yn.one(e,IA,()=>{VE(this)&&this.focus()})});const t=_s.findOne(".modal.show");t&&zE.getInstance(t).hide(),zE.getOrCreateInstance(e).toggle(this)}),CC(zE),sp(zE);const x_=".bs.offcanvas",NA=".data-api",ik=`load${x_}${NA}`,RA="showing",kA=".offcanvas.show",ak=`show${x_}`,uk=`shown${x_}`,lk=`hide${x_}`,LA=`hidePrevented${x_}`,FA=`hidden${x_}`,ck=`resize${x_}`,dk=`click${x_}${NA}`,hk=`keydown.dismiss${x_}`,pk={backdrop:!0,keyboard:!0,scroll:!1},gk={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ry extends rg{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return pk}static get DefaultType(){return gk}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||yn.trigger(this._element,ak,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new KD).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(RA),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(RA),yn.trigger(this._element,uk,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!yn.trigger(this._element,lk).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new KD).reset(),yn.trigger(this._element,FA)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new CA({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():yn.trigger(this._element,LA)}:null})}_initializeFocusTrap(){return new SA({trapElement:this._element})}_addEventListeners(){yn.on(this._element,hk,e=>{if("Escape"===e.key){if(!this._config.keyboard)return void yn.trigger(this._element,LA);this.hide()}})}static jQueryInterface(e){return this.each(function(){const t=ry.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}yn.on(document,dk,'[data-bs-toggle="offcanvas"]',function(n){const e=D_(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ey(this))return;yn.one(e,FA,()=>{VE(this)&&this.focus()});const t=_s.findOne(kA);t&&t!==e&&ry.getInstance(t).hide(),ry.getOrCreateInstance(e).toggle(this)}),yn.on(window,ik,()=>{for(const n of _s.find(kA))ry.getOrCreateInstance(n).show()}),yn.on(window,ck,()=>{for(const n of _s.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&ry.getOrCreateInstance(n).hide()}),CC(ry),sp(ry);const mk=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),vk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,yk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ek=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?!mk.has(t)||Boolean(vk.test(n.nodeValue)||yk.test(n.nodeValue)):e.filter(i=>i instanceof RegExp).some(i=>i.test(t))},BA={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Tk={allowList:BA,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ck={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Dk={entry:"(string|element|function|null)",selector:"(string|element)"};class Sk extends Nw{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Tk}static get DefaultType(){return Ck}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[a,d]of Object.entries(this._config.content))this._setContent(e,d,a);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Dk)}_setContent(e,t,i){const a=_s.findOne(i,e);if(a){if(!(t=this._resolvePossibleFunction(t)))return void a.remove();if(S_(t))return void this._putElementInTemplate(Xv(t),a);if(this._config.html)return void(a.innerHTML=this._maybeSanitize(t));a.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function bk(n,e,t){if(!n.length)return n;if(t&&"function"==typeof t)return t(n);const a=(new window.DOMParser).parseFromString(n,"text/html"),d=[].concat(...a.body.querySelectorAll("*"));for(const _ of d){const D=_.nodeName.toLowerCase();if(!Object.keys(e).includes(D)){_.remove();continue}const O=[].concat(..._.attributes),$=[].concat(e["*"]||[],e[D]||[]);for(const J of O)Ek(J,$)||_.removeAttribute(J.nodeName)}return a.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Ak=new Set(["sanitize","allowList","sanitizeFn"]),YD="fade",PC="show",VA="hide.bs.modal",Lw="hover",JD="focus",Gk={AUTO:"auto",TOP:"top",RIGHT:ip()?"left":"right",BOTTOM:"bottom",LEFT:ip()?"right":"left"},jk={allowList:BA,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Wk={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class qE extends rg{constructor(e,t){if(typeof w>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return jk}static get DefaultType(){return Wk}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),yn.off(this._element.closest(".modal"),VA,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=yn.trigger(this._element,this.constructor.eventName("show")),i=(ZI(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:d}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(d.append(a),yn.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(a),a.classList.add(PC),"ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))yn.on(D,"mouseover",TC);this._queueCallback(()=>{yn.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!yn.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(PC),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))yn.off(a,"mouseover",TC);this._activeTrigger.click=!1,this._activeTrigger[JD]=!1,this._activeTrigger[Lw]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),yn.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(YD,PC),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(YD),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Sk({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(YD)}_isShown(){return this.tip&&this.tip.classList.contains(PC)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,i=Gk[t.toUpperCase()];return kD(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)yn.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==t){const i=this.constructor.eventName(t===Lw?"mouseenter":"focusin"),a=this.constructor.eventName(t===Lw?"mouseleave":"focusout");yn.on(this._element,i,this._config.selector,d=>{const _=this._initializeOnDelegatedTarget(d);_._activeTrigger["focusin"===d.type?JD:Lw]=!0,_._enter()}),yn.on(this._element,a,this._config.selector,d=>{const _=this._initializeOnDelegatedTarget(d);_._activeTrigger["focusout"===d.type?JD:Lw]=_._element.contains(d.relatedTarget),_._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},yn.on(this._element.closest(".modal"),VA,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=A_.getDataAttributes(this._element);for(const i of Object.keys(t))Ak.has(i)&&delete t[i];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:Xv(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=qE.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}sp(qE);const Zk={...qE.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Yk={...qE.DefaultType,content:"(null|string|element|function)"};class QD extends qE{static get Default(){return Zk}static get DefaultType(){return Yk}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=QD.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}sp(QD);const XD=".bs.scrollspy",Xk=`activate${XD}`,$A=`click${XD}`,eL=`load${XD}.data-api`,KE="active",eS="[href]",HA=".nav-link",iL=`${HA}, .nav-item > ${HA}, .list-group-item`,aL={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},uL={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class kC extends rg{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return aL}static get DefaultType(){return uL}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Xv(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(yn.off(this._config.target,$A),yn.on(this._config.target,$A,eS,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,a=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:a,behavior:"smooth"});i.scrollTop=a}}))}_getNewObserver(){return new IntersectionObserver(t=>this._observerCallback(t),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){const t=_=>this._targetLinks.get(`#${_.target.id}`),i=_=>{this._previousScrollData.visibleEntryTop=_.target.offsetTop,this._process(t(_))},a=(this._rootElement||document.documentElement).scrollTop,d=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const _ of e){if(!_.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(_));continue}const D=_.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(d&&D){if(i(_),!a)return}else!d&&!D&&i(_)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=_s.find(eS,this._config.target);for(const t of e){if(!t.hash||ey(t))continue;const i=_s.findOne(t.hash,this._element);VE(i)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(KE),this._activateParents(e),yn.trigger(this._element,Xk,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))_s.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(KE);else for(const t of _s.parents(e,".nav, .list-group"))for(const i of _s.prev(t,iL))i.classList.add(KE)}_clearActiveClass(e){e.classList.remove(KE);const t=_s.find(`${eS}.${KE}`,e);for(const i of t)i.classList.remove(KE)}static jQueryInterface(e){return this.each(function(){const t=kC.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}yn.on(window,eL,()=>{for(const n of _s.find('[data-bs-spy="scroll"]'))kC.getOrCreateInstance(n)}),sp(kC);const b0=".bs.tab",cL=`hide${b0}`,dL=`hidden${b0}`,hL=`show${b0}`,fL=`shown${b0}`,pL=`click${b0}`,gL=`keydown${b0}`,mL=`load${b0}`,_L="ArrowLeft",GA="ArrowRight",vL="ArrowUp",jA="ArrowDown",w0="active",tS="show",nS=":not(.dropdown-toggle)",zA='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',rS=`.nav-link${nS}, .list-group-item${nS}, [role="tab"]${nS}, ${zA}`,DL=`.${w0}[data-bs-toggle="tab"], .${w0}[data-bs-toggle="pill"], .${w0}[data-bs-toggle="list"]`;class ZE extends rg{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),yn.on(this._element,gL,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?yn.trigger(t,cL,{relatedTarget:e}):null;yn.trigger(e,hL,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(w0),this._activate(D_(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),yn.trigger(e,fL,{relatedTarget:t})):e.classList.add(tS)},e,e.classList.contains("fade")))}_deactivate(e,t){e&&(e.classList.remove(w0),e.blur(),this._deactivate(D_(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),yn.trigger(e,dL,{relatedTarget:t})):e.classList.remove(tS)},e,e.classList.contains("fade")))}_keydown(e){if(![_L,GA,vL,jA].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[GA,jA].includes(e.key),i=BD(this._getChildren().filter(a=>!ey(a)),e.target,t,!0);i&&(i.focus({preventScroll:!0}),ZE.getOrCreateInstance(i).show())}_getChildren(){return _s.find(rS,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=D_(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const a=(d,_)=>{const D=_s.findOne(d,i);D&&D.classList.toggle(_,t)};a(".dropdown-toggle",w0),a(".dropdown-menu",tS),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(w0)}_getInnerElement(e){return e.matches(rS)?e:_s.findOne(rS,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=ZE.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}yn.on(document,pL,zA,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ey(this)&&ZE.getOrCreateInstance(this).show()}),yn.on(window,mL,()=>{for(const n of _s.find(DL))ZE.getOrCreateInstance(n)}),sp(ZE);const iy=".bs.toast",IL=`mouseover${iy}`,AL=`mouseout${iy}`,xL=`focusin${iy}`,ML=`focusout${iy}`,NL=`hide${iy}`,OL=`hidden${iy}`,RL=`show${iy}`,PL=`shown${iy}`,LC="show",FC="showing",LL={animation:"boolean",autohide:"boolean",delay:"number"},FL={animation:!0,autohide:!0,delay:5e3};class Fw extends rg{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return FL}static get DefaultType(){return LL}static get NAME(){return"toast"}show(){yn.trigger(this._element,RL).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(LC,FC),this._queueCallback(()=>{this._element.classList.remove(FC),yn.trigger(this._element,PL),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!yn.trigger(this._element,NL).defaultPrevented&&(this._element.classList.add(FC),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(FC,LC),yn.trigger(this._element,OL)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(LC),super.dispose()}isShown(){return this._element.classList.contains(LC)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){yn.on(this._element,IL,e=>this._onInteraction(e,!0)),yn.on(this._element,AL,e=>this._onInteraction(e,!1)),yn.on(this._element,xL,e=>this._onInteraction(e,!0)),yn.on(this._element,ML,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Fw.getOrCreateInstance(this,e);if("string"==typeof e){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}CC(Fw),sp(Fw);const BL=["toastElement"];class Bw{constructor(){this.disposeEvent=new l.vpe}ngOnInit(){this.show()}show(){this.toast=new Fw(this.toastEl.nativeElement,this.type===OR.G.Error?{autohide:!1}:{delay:5e3}),Xu(this.toastEl.nativeElement,"hidden.bs.toast").pipe((0,Rr.q)(1)).subscribe(()=>this.hide()),this.toast.show()}hide(){this.toast.dispose(),this.disposeEvent.emit()}}function UL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"app-toast",2),l.NdJ("disposeEvent",function(){const d=l.CHM(t).index,_=l.oxw();return l.KtG(_.dispose(d))}),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.Q6J("type",t.type)("title",t.title)("message",t.message)}}Bw.\u0275fac=function(e){return new(e||Bw)},Bw.\u0275cmp=l.Xpm({type:Bw,selectors:[["app-toast"]],viewQuery:function(e,t){if(1&e&&l.Gf(BL,7),2&e){let i;l.iGM(i=l.CRH())&&(t.toastEl=i.first)}},inputs:{type:"type",title:"title",message:"message"},outputs:{disposeEvent:"disposeEvent"},standalone:!0,features:[l.jDz],decls:8,vars:3,consts:[["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","fade","toast-width","mt-2",3,"ngClass"],["toastElement",""],[1,"toast-header"],[1,"me-auto"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0,1)(2,"div",2)(3,"strong",3),l._uU(4),l.qZA(),l.TgZ(5,"button",4),l.NdJ("click",function(){return t.hide()}),l.qZA()(),l.TgZ(6,"div",5),l._uU(7),l.qZA()()),2&e&&(l.Q6J("ngClass",t.type),l.xp6(4),l.Oqu(t.title),l.xp6(3),l.Oqu(t.message))},dependencies:[M.ez,M.mk],styles:[".success[_ngcontent-%COMP%]{background-color:#198754}.info[_ngcontent-%COMP%]{background-color:#0d6efd}.warning[_ngcontent-%COMP%]{background-color:#ffbf00}.error[_ngcontent-%COMP%]{background-color:#dc3545}"]});class Uw{constructor(e,t){this.toastService=e,this.cdr=t,this.currentToasts=[]}ngOnInit(){this.subscribeToToasts()}subscribeToToasts(){this.toastService.toastEvents.subscribe(e=>{this.currentToasts.push({type:e.type,title:e.title,message:e.message}),this.cdr.detectChanges()})}dispose(e){this.currentToasts.splice(e,1),this.cdr.detectChanges()}}Uw.\u0275fac=function(e){return new(e||Uw)(l.Y36(HI.k),l.Y36(l.sBO))},Uw.\u0275cmp=l.Xpm({type:Uw,selectors:[["app-toaster"]],standalone:!0,features:[l.jDz],decls:2,vars:1,consts:[[1,"toaster","position-fixed","top-0","end-0","px-3","py-2","m-16"],[4,"ngFor","ngForOf"],[3,"type","title","message","disposeEvent"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.YNc(1,UL,2,3,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",t.currentToasts))},dependencies:[M.ez,M.sg,Bw],styles:[".toaster[_ngcontent-%COMP%]{z-index:1}"]});class Vw{constructor(){this.title="Lets Go"}}Vw.\u0275fac=function(e){return new(e||Vw)},Vw.\u0275cmp=l.Xpm({type:Vw,selectors:[["app-root"]],standalone:!0,features:[l.jDz],decls:5,vars:0,template:function(e,t){1&e&&(l.TgZ(0,"section"),l._UZ(1,"app-navbar"),l.qZA(),l.TgZ(2,"section"),l._UZ(3,"app-toaster")(4,"router-outlet"),l.qZA())},dependencies:[M.ez,xw,af.Bz,af.lC,Uw]});(0,l.G48)(),(0,Vn.Cg)(Vw,{providers:[(0,Yt.mW)({trips:pS}),function $l(...n){const e=n.flat(),t=function yi(n){return n.filter(Ci)}(e);return(0,l.MR2)([t,{provide:l.Xts,multi:!0,useValue:()=>{(0,l.f3M)(Yt.qY),(0,l.f3M)(Yt.Py,{optional:!0});const i=(0,l.f3M)(Sn),a=(0,l.f3M)(Xe),d=!i.isStarted;d&&i.start();for(const _ of e){const D=Ci(_)?(0,l.f3M)(_):_;a.addEffects(D)}d&&(0,l.f3M)(Yt.yh).dispatch(To())}}])}([Hv]),(0,Cr.rM)({maxAge:25,logOnly:!(0,l.X6Q)(),autoPause:!0,trace:!1,traceLimit:75}),(0,l.RIp)(qb.register("ngsw-worker.js",{enabled:!(0,l.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),af.Bz.forRoot(xR),rn,UO,ro.hO.initializeApp({apiKey:"AIzaSyAoclTcVL0TrR8JYU5IGd-19W2pWJbB4Go",authDomain:"letsgo-2022.firebaseapp.com",projectId:"letsgo-2022",storageBucket:"letsgo-2022.appspot.com",messagingSenderId:"738391365092",appId:"1:738391365092:web:a3bbc45d9b2e3c985763f1"}),Qp.ww,kT.enablePersistence())]})},7489:function(je,be,F){var w;je=F.nmd(je),function(){var M,Me="Expected a function",_e="__lodash_hash_undefined__",ge="__lodash_placeholder__",Ft=1/0,pn=9007199254740991,Dn=4294967295,mn=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Zn="[object Arguments]",nr="[object Array]",rs="[object Boolean]",ai="[object Date]",Or="[object Error]",rr="[object Function]",fi="[object GeneratorFunction]",Br="[object Map]",fr="[object Number]",Qn="[object Object]",jn="[object Promise]",dn="[object RegExp]",br="[object Set]",Ri="[object String]",Ti="[object Symbol]",jr="[object WeakMap]",xn="[object ArrayBuffer]",un="[object DataView]",Mn="[object Float32Array]",Fn="[object Float64Array]",Ur="[object Int8Array]",Zi="[object Int16Array]",En="[object Int32Array]",us="[object Uint8Array]",lr="[object Uint8ClampedArray]",vs="[object Uint16Array]",or="[object Uint32Array]",ls=/\b__p \+= '';/g,gi=/\b(__p \+=) '' \+/g,rn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jt=/&(?:amp|lt|gt|quot|#39);/g,gn=/[&<>"']/g,Vn=RegExp(jt.source),Yt=RegExp(gn.source),Cr=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,qe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(Ae.source),qt=/^\s+/,vn=/\s/,$e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,ve=/,? & /,it=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/[()=,{}\[\]\/\s]/,Zt=/\\(\\)?/g,wn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ni=/\w*$/,ri=/^[-+]0x[0-9a-f]+$/i,ys=/^0b[01]+$/i,Rr=/^\[object .+?Constructor\]$/,Ui=/^0o[0-7]+$/i,Ms=/^(?:0|[1-9]\d*)$/,wo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ws=/($^)/,ii=/['\n\r\u2028\u2029\\]/g,qs="\\ud800-\\udfff",yi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Di="\\u2700-\\u27bf",ei="a-z\\xdf-\\xf6\\xf8-\\xff",qn="A-Z\\xc0-\\xd6\\xd8-\\xde",on="\\ufe0e\\ufe0f",Ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_a="["+qs+"]",ur="["+Ns+"]",Yn="["+yi+"]",To="\\d+",Fo="["+Di+"]",cs="["+ei+"]",oo="[^"+qs+Ns+To+Di+ei+qn+"]",Pi="\\ud83c[\\udffb-\\udfff]",ke="[^"+qs+"]",yt="(?:\\ud83c[\\udde6-\\uddff]){2}",st="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="["+qn+"]",Te="(?:"+cs+"|"+oo+")",Xe="(?:"+Bt+"|"+oo+")",Pt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",en="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Sn="(?:"+Yn+"|"+Pi+")?",Tn="["+on+"]?",ds=Tn+Sn+"(?:\\u200d(?:"+[ke,yt,st].join("|")+")"+Tn+Sn+")*",nt="(?:"+[Fo,yt,st].join("|")+")"+ds,Pe="(?:"+[ke+Yn+"?",Yn,yt,st,_a].join("|")+")",$l=RegExp("['\u2019]","g"),Ji=RegExp(Yn,"g"),xa=RegExp(Pi+"(?="+Pi+")|"+Pe+ds,"g"),yu=RegExp([Bt+"?"+cs+"+"+Pt+"(?="+[ur,Bt,"$"].join("|")+")",Xe+"+"+en+"(?="+[ur,Bt+Te,"$"].join("|")+")",Bt+"?"+Te+"+"+Pt,Bt+"+"+en,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",To,nt].join("|"),"g"),no=RegExp("[\\u200d"+qs+yi+on+"]"),$a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ec=-1,_i={};_i[Mn]=_i[Fn]=_i[Ur]=_i[Zi]=_i[En]=_i[us]=_i[lr]=_i[vs]=_i[or]=!0,_i[Zn]=_i[nr]=_i[xn]=_i[rs]=_i[un]=_i[ai]=_i[Or]=_i[rr]=_i[Br]=_i[fr]=_i[Qn]=_i[dn]=_i[br]=_i[Ri]=_i[jr]=!1;var Vi={};Vi[Zn]=Vi[nr]=Vi[xn]=Vi[un]=Vi[rs]=Vi[ai]=Vi[Mn]=Vi[Fn]=Vi[Ur]=Vi[Zi]=Vi[En]=Vi[Br]=Vi[fr]=Vi[Qn]=Vi[dn]=Vi[br]=Vi[Ri]=Vi[Ti]=Vi[us]=Vi[lr]=Vi[vs]=Vi[or]=!0,Vi[Or]=Vi[rr]=Vi[jr]=!1;var Qo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ha=parseFloat,Hl=parseInt,Uu="object"==typeof global&&global&&global.Object===Object&&global,Co="object"==typeof self&&self&&self.Object===Object&&self,is=Uu||Co||Function("return this")(),eu=be&&!be.nodeType&&be,zi=eu&&je&&!je.nodeType&&je,Xo=zi&&zi.exports===eu,tu=Xo&&Uu.process,Ts=function(){try{return zi&&zi.require&&zi.require("util").types||tu&&tu.binding&&tu.binding("util")}catch{}}(),Ma=Ts&&Ts.isArrayBuffer,ro=Ts&&Ts.isDate,Eu=Ts&&Ts.isMap,va=Ts&&Ts.isRegExp,Gt=Ts&&Ts.isSet,Ks=Ts&&Ts.isTypedArray;function io(ze,xt,ht){switch(ht.length){case 0:return ze.call(xt);case 1:return ze.call(xt,ht[0]);case 2:return ze.call(xt,ht[0],ht[1]);case 3:return ze.call(xt,ht[0],ht[1],ht[2])}return ze.apply(xt,ht)}function Bo(ze,xt,ht,Bn){for(var Ar=-1,Li=null==ze?0:ze.length;++Ar<Li;){var Gs=ze[Ar];xt(Bn,Gs,ht(Gs),ze)}return Bn}function Vr(ze,xt){for(var ht=-1,Bn=null==ze?0:ze.length;++ht<Bn&&!1!==xt(ze[ht],ht,ze););return ze}function nu(ze,xt){for(var ht=null==ze?0:ze.length;ht--&&!1!==xt(ze[ht],ht,ze););return ze}function ms(ze,xt){for(var ht=-1,Bn=null==ze?0:ze.length;++ht<Bn;)if(!xt(ze[ht],ht,ze))return!1;return!0}function fn(ze,xt){for(var ht=-1,Bn=null==ze?0:ze.length,Ar=0,Li=[];++ht<Bn;){var Gs=ze[ht];xt(Gs,ht,ze)&&(Li[Ar++]=Gs)}return Li}function Ds(ze,xt){return!(null==ze||!ze.length)&&Si(ze,xt,0)>-1}function Pn(ze,xt,ht){for(var Bn=-1,Ar=null==ze?0:ze.length;++Bn<Ar;)if(ht(xt,ze[Bn]))return!0;return!1}function vr(ze,xt){for(var ht=-1,Bn=null==ze?0:ze.length,Ar=Array(Bn);++ht<Bn;)Ar[ht]=xt(ze[ht],ht,ze);return Ar}function $i(ze,xt){for(var ht=-1,Bn=xt.length,Ar=ze.length;++ht<Bn;)ze[Ar+ht]=xt[ht];return ze}function hs(ze,xt,ht,Bn){var Ar=-1,Li=null==ze?0:ze.length;for(Bn&&Li&&(ht=ze[++Ar]);++Ar<Li;)ht=xt(ht,ze[Ar],Ar,ze);return ht}function ea(ze,xt,ht,Bn){var Ar=null==ze?0:ze.length;for(Bn&&Ar&&(ht=ze[--Ar]);Ar--;)ht=xt(ht,ze[Ar],Ar,ze);return ht}function Uo(ze,xt){for(var ht=-1,Bn=null==ze?0:ze.length;++ht<Bn;)if(xt(ze[ht],ht,ze))return!0;return!1}var Hs=Ga("length");function Qi(ze,xt,ht){var Bn;return ht(ze,function(Ar,Li,Gs){if(xt(Ar,Li,Gs))return Bn=Li,!1}),Bn}function bu(ze,xt,ht,Bn){for(var Ar=ze.length,Li=ht+(Bn?1:-1);Bn?Li--:++Li<Ar;)if(xt(ze[Li],Li,ze))return Li;return-1}function Si(ze,xt,ht){return xt==xt?function md(ze,xt,ht){for(var Bn=ht-1,Ar=ze.length;++Bn<Ar;)if(ze[Bn]===xt)return Bn;return-1}(ze,xt,ht):bu(ze,Vo,ht)}function po(ze,xt,ht,Bn){for(var Ar=ht-1,Li=ze.length;++Ar<Li;)if(Bn(ze[Ar],xt))return Ar;return-1}function Vo(ze){return ze!=ze}function Ir(ze,xt){var ht=null==ze?0:ze.length;return ht?ya(ze,xt)/ht:NaN}function Ga(ze){return function(xt){return null==xt?M:xt[ze]}}function tl(ze){return function(xt){return null==ze?M:ze[xt]}}function Ss(ze,xt,ht,Bn,Ar){return Ar(ze,function(Li,Gs,$r){ht=Bn?(Bn=!1,Li):xt(ht,Li,Gs,$r)}),ht}function ya(ze,xt){for(var ht,Bn=-1,Ar=ze.length;++Bn<Ar;){var Li=xt(ze[Bn]);Li!==M&&(ht=ht===M?Li:ht+Li)}return ht}function nl(ze,xt){for(var ht=-1,Bn=Array(ze);++ht<ze;)Bn[ht]=xt(ht);return Bn}function Na(ze){return ze&&ze.slice(0,Tu(ze)+1).replace(qt,"")}function U(ze){return function(xt){return ze(xt)}}function j(ze,xt){return vr(xt,function(ht){return ze[ht]})}function H(ze,xt){return ze.has(xt)}function ce(ze,xt){for(var ht=-1,Bn=ze.length;++ht<Bn&&Si(xt,ze[ht],0)>-1;);return ht}function _t(ze,xt){for(var ht=ze.length;ht--&&Si(xt,ze[ht],0)>-1;);return ht}function Nn(ze,xt){for(var ht=ze.length,Bn=0;ht--;)ze[ht]===xt&&++Bn;return Bn}var Ii=tl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Es=tl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ea(ze){return"\\"+Qo[ze]}function ss(ze){return no.test(ze)}function qi(ze){var xt=-1,ht=Array(ze.size);return ze.forEach(function(Bn,Ar){ht[++xt]=[Ar,Bn]}),ht}function Rs(ze,xt){return function(ht){return ze(xt(ht))}}function go(ze,xt){for(var ht=-1,Bn=ze.length,Ar=0,Li=[];++ht<Bn;){var Gs=ze[ht];(Gs===xt||Gs===ge)&&(ze[ht]=ge,Li[Ar++]=ht)}return Li}function bs(ze){var xt=-1,ht=Array(ze.size);return ze.forEach(function(Bn){ht[++xt]=Bn}),ht}function Vu(ze){return ss(ze)?function il(ze){for(var xt=xa.lastIndex=0;xa.test(ze);)++xt;return xt}(ze):Hs(ze)}function lo(ze){return ss(ze)?function $u(ze){return ze.match(xa)||[]}(ze):function Hi(ze){return ze.split("")}(ze)}function Tu(ze){for(var xt=ze.length;xt--&&vn.test(ze.charAt(xt)););return xt}var rl=tl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Cu=function ze(xt){var f,ht=(xt=null==xt?is:Cu.defaults(is.Object(),xt,Cu.pick(is,Jo))).Array,Bn=xt.Date,Ar=xt.Error,Li=xt.Function,Gs=xt.Math,$r=xt.Object,So=xt.RegExp,Xi=xt.String,$o=xt.TypeError,jl=ht.prototype,iu=$r.prototype,Wl=xt["__core-js_shared__"],su=Li.prototype.toString,wr=iu.hasOwnProperty,B=0,X=(f=/[^.]+$/.exec(Wl&&Wl.keys&&Wl.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",W=iu.toString,ae=su.call($r),Be=is._,Ot=So("^"+su.call(wr).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=Xo?xt.Buffer:M,_n=xt.Symbol,vi=xt.Uint8Array,si=zt?zt.allocUnsafe:M,Ai=Rs($r.getPrototypeOf,$r),Jr=$r.create,es=iu.propertyIsEnumerable,xi=jl.splice,zr=_n?_n.isConcatSpreadable:M,Ao=_n?_n.iterator:M,fs=_n?_n.toStringTag:M,mo=function(){try{var f=Xd($r,"defineProperty");return f({},"",{}),f}catch{}}(),js=xt.clearTimeout!==is.clearTimeout&&xt.clearTimeout,na=Bn&&Bn.now!==is.Date.now&&Bn.now,sl=xt.setTimeout!==is.setTimeout&&xt.setTimeout,ou=Gs.ceil,zl=Gs.floor,Oa=$r.getOwnPropertySymbols,ra=zt?zt.isBuffer:M,ja=xt.isFinite,Wa=jl.join,Hd=Rs($r.keys,$r),Ps=Gs.max,Is=Gs.min,ba=Bn.now,qc=xt.parseInt,ia=Gs.random,Du=jl.reverse,Ws=Xd(xt,"DataView"),Gi=Xd(xt,"Map"),Su=Xd(xt,"Promise"),za=Xd(xt,"Set"),Iu=Xd(xt,"WeakMap"),Gu=Xd($r,"create"),ks=Iu&&new Iu,Ho={},ol=xc(Ws),wa=xc(Gi),Ta=xc(Su),ju=xc(za),bc=xc(Iu),so=_n?_n.prototype:M,Zs=so?so.valueOf:M,Kc=so?so.toString:M;function de(f){if(ha(f)&&!oi(f)&&!(f instanceof Qr)){if(f instanceof sa)return f;if(wr.call(f,"__wrapped__"))return fp(f)}return new sa(f)}var Ys=function(){function f(){}return function(v){if(!ho(v))return{};if(Jr)return Jr(v);f.prototype=v;var I=new f;return f.prototype=M,I}}();function xo(){}function sa(f,v){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=M}function Qr(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dn,this.__views__=[]}function qa(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function Dl(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function jo(f){var v=-1,I=null==f?0:f.length;for(this.clear();++v<I;){var q=f[v];this.set(q[0],q[1])}}function Ls(f){var v=-1,I=null==f?0:f.length;for(this.__data__=new jo;++v<I;)this.add(f[v])}function S(f){var v=this.__data__=new Dl(f);this.size=v.size}function Kt(f,v){var I=oi(f),q=!I&&Yu(f),te=!I&&!q&&Nd(f),ye=!I&&!q&&!te&&uh(f),Ve=I||q||te||ye,Je=Ve?nl(f.length,Xi):[],gt=Je.length;for(var Qt in f)(v||wr.call(f,Qt))&&(!Ve||!("length"==Qt||te&&("offset"==Qt||"parent"==Qt)||ye&&("buffer"==Qt||"byteLength"==Qt||"byteOffset"==Qt)||yo(Qt,gt)))&&Je.push(Qt);return Je}function $n(f){var v=f.length;return v?f[Nl(0,v-1)]:M}function In(f,v){return ps(Qa(f),z(v,0,f.length))}function ti(f){return ps(Qa(f))}function ui(f,v,I){(I!==M&&!rc(f[v],I)||I===M&&!(v in f))&&au(f,v,I)}function _o(f,v,I){var q=f[v];(!wr.call(f,v)||!rc(q,I)||I===M&&!(v in f))&&au(f,v,I)}function oa(f,v){for(var I=f.length;I--;)if(rc(f[I][0],v))return I;return-1}function ul(f,v,I,q){return tn(f,function(te,ye,Ve){v(q,te,I(te),Ve)}),q}function Wo(f,v){return f&&ns(v,fa(v),f)}function au(f,v,I){"__proto__"==v&&mo?mo(f,v,{configurable:!0,enumerable:!0,value:I,writable:!0}):f[v]=I}function Cc(f,v){for(var I=-1,q=v.length,te=ht(q),ye=null==f;++I<q;)te[I]=ye?M:pu(f,v[I]);return te}function z(f,v,I){return f==f&&(I!==M&&(f=f<=I?f:I),v!==M&&(f=f>=v?f:v)),f}function Z(f,v,I,q,te,ye){var Ve,Je=1&v,gt=2&v,Qt=4&v;if(I&&(Ve=te?I(f,q,te,ye):I(f)),Ve!==M)return Ve;if(!ho(f))return f;var nn=oi(f);if(nn){if(Ve=function Im(f){var v=f.length,I=new f.constructor(v);return v&&"string"==typeof f[0]&&wr.call(f,"index")&&(I.index=f.index,I.input=f.input),I}(f),!Je)return Qa(f,Ve)}else{var ln=ko(f),kn=ln==rr||ln==fi;if(Nd(f))return Jc(f,Je);if(ln==Qn||ln==Zn||kn&&!te){if(Ve=gt||kn?{}:Ah(f),!Je)return gt?function Sh(f,v){return ns(f,mg(f),v)}(f,function ll(f,v){return f&&ns(v,La(v),f)}(Ve,f)):function Tr(f,v){return ns(f,Po(f),v)}(f,Wo(Ve,f))}else{if(!Vi[ln])return te?f:{};Ve=function Sd(f,v,I){var q=f.constructor;switch(v){case xn:return bd(f);case rs:case ai:return new q(+f);case un:return function Dh(f,v){var I=v?bd(f.buffer):f.buffer;return new f.constructor(I,f.byteOffset,f.byteLength)}(f,I);case Mn:case Fn:case Ur:case Zi:case En:case us:case lr:case vs:case or:return cg(f,I);case Br:return new q;case fr:case Ri:return new q(f);case dn:return function lu(f){var v=new f.constructor(f.source,ni.exec(f));return v.lastIndex=f.lastIndex,v}(f);case br:return new q;case Ti:return function Zd(f){return Zs?$r(Zs.call(f)):{}}(f)}}(f,ln,Je)}}ye||(ye=new S);var gr=ye.get(f);if(gr)return gr;ye.set(f,Ve),Ap(f)?f.forEach(function(Lr){Ve.add(Z(Lr,v,I,Lr,f,ye))}):Gh(f)&&f.forEach(function(Lr,Ki){Ve.set(Ki,Z(Lr,v,I,Ki,f,ye))});var Ni=nn?M:(Qt?gt?Sc:du:gt?La:fa)(f);return Vr(Ni||f,function(Lr,Ki){Ni&&(Lr=f[Ki=Lr]),_o(Ve,Ki,Z(Lr,v,I,Ki,f,ye))}),Ve}function Fe(f,v,I){var q=I.length;if(null==f)return!q;for(f=$r(f);q--;){var te=I[q],Ve=f[te];if(Ve===M&&!(te in f)||!(0,v[te])(Ve))return!1}return!0}function ot(f,v,I){if("function"!=typeof f)throw new $o(Me);return hp(function(){f.apply(M,I)},v)}function It(f,v,I,q){var te=-1,ye=Ds,Ve=!0,Je=f.length,gt=[],Qt=v.length;if(!Je)return gt;I&&(v=vr(v,U(I))),q?(ye=Pn,Ve=!1):v.length>=200&&(ye=H,Ve=!1,v=new Ls(v));e:for(;++te<Je;){var nn=f[te],ln=null==I?nn:I(nn);if(nn=q||0!==nn?nn:0,Ve&&ln==ln){for(var kn=Qt;kn--;)if(v[kn]===ln)continue e;gt.push(nn)}else ye(v,ln,q)||gt.push(nn)}return gt}de.templateSettings={escape:Cr,evaluate:Ue,interpolate:Se,variable:"",imports:{_:de}},(de.prototype=xo.prototype).constructor=de,(sa.prototype=Ys(xo.prototype)).constructor=sa,(Qr.prototype=Ys(xo.prototype)).constructor=Qr,qa.prototype.clear=function wc(){this.__data__=Gu?Gu(null):{},this.size=0},qa.prototype.delete=function Wu(f){var v=this.has(f)&&delete this.__data__[f];return this.size-=v?1:0,v},qa.prototype.get=function al(f){var v=this.__data__;if(Gu){var I=v[f];return I===_e?M:I}return wr.call(v,f)?v[f]:M},qa.prototype.has=function ac(f){var v=this.__data__;return Gu?v[f]!==M:wr.call(v,f)},qa.prototype.set=function Ei(f,v){var I=this.__data__;return this.size+=this.has(f)?0:1,I[f]=Gu&&v===M?_e:v,this},Dl.prototype.clear=function uc(){this.__data__=[],this.size=0},Dl.prototype.delete=function Tc(f){var v=this.__data__,I=oa(v,f);return!(I<0||(I==v.length-1?v.pop():xi.call(v,I,1),--this.size,0))},Dl.prototype.get=function lc(f){var v=this.__data__,I=oa(v,f);return I<0?M:v[I][1]},Dl.prototype.has=function Zl(f){return oa(this.__data__,f)>-1},Dl.prototype.set=function Sl(f,v){var I=this.__data__,q=oa(I,f);return q<0?(++this.size,I.push([f,v])):I[q][1]=v,this},jo.prototype.clear=function Mo(){this.size=0,this.__data__={hash:new qa,map:new(Gi||Dl),string:new qa}},jo.prototype.delete=function Il(f){var v=ec(this,f).delete(f);return this.size-=v?1:0,v},jo.prototype.get=function Ra(f){return ec(this,f).get(f)},jo.prototype.has=function pr(f){return ec(this,f).has(f)},jo.prototype.set=function Ca(f,v){var I=ec(this,f),q=I.size;return I.set(f,v),this.size+=I.size==q?0:1,this},Ls.prototype.add=Ls.prototype.push=function x(f){return this.__data__.set(f,_e),this},Ls.prototype.has=function R(f){return this.__data__.has(f)},S.prototype.clear=function V(){this.__data__=new Dl,this.size=0},S.prototype.delete=function Y(f){var v=this.__data__,I=v.delete(f);return this.size=v.size,I},S.prototype.get=function ie(f){return this.__data__.get(f)},S.prototype.has=function he(f){return this.__data__.has(f)},S.prototype.set=function et(f,v){var I=this.__data__;if(I instanceof Dl){var q=I.__data__;if(!Gi||q.length<199)return q.push([f,v]),this.size=++I.size,this;I=this.__data__=new jo(q)}return I.set(f,v),this.size=I.size,this};var tn=Ro(bi),Un=Ro(zu,!0);function Kn(f,v){var I=!0;return tn(f,function(q,te,ye){return I=!!v(q,te,ye)}),I}function er(f,v,I){for(var q=-1,te=f.length;++q<te;){var ye=f[q],Ve=v(ye);if(null!=Ve&&(Je===M?Ve==Ve&&!Zo(Ve):I(Ve,Je)))var Je=Ve,gt=ye}return gt}function kr(f,v){var I=[];return tn(f,function(q,te,ye){v(q,te,ye)&&I.push(q)}),I}function ts(f,v,I,q,te){var ye=-1,Ve=f.length;for(I||(I=xh),te||(te=[]);++ye<Ve;){var Je=f[ye];v>0&&I(Je)?v>1?ts(Je,v-1,I,q,te):$i(te,Je):q||(te[te.length]=Je)}return te}var Js=Rn(),cl=Rn(!0);function bi(f,v){return f&&Js(f,v,fa)}function zu(f,v){return f&&cl(f,v,fa)}function No(f,v){return fn(v,function(I){return Pl(f[I])})}function aa(f,v){for(var I=0,q=(v=Sr(v,f)).length;null!=f&&I<q;)f=f[Ac(v[I++])];return I&&I==q?f:M}function Gd(f,v,I){var q=v(f);return oi(f)?q:$i(q,I(f))}function Ka(f){return null==f?f===M?"[object Undefined]":"[object Null]":fs&&fs in $r(f)?function N_(f){var v=wr.call(f,fs),I=f[fs];try{f[fs]=M;var q=!0}catch{}var te=W.call(f);return q&&(v?f[fs]=I:delete f[fs]),te}(f):function dp(f){return W.call(f)}(f)}function _h(f,v){return f>v}function vh(f,v){return null!=f&&wr.call(f,v)}function Al(f,v){return null!=f&&v in $r(f)}function As(f,v,I){for(var q=I?Pn:Ds,te=f[0].length,ye=f.length,Ve=ye,Je=ht(ye),gt=1/0,Qt=[];Ve--;){var nn=f[Ve];Ve&&v&&(nn=vr(nn,U(v))),gt=Is(nn.length,gt),Je[Ve]=!I&&(v||te>=120&&nn.length>=120)?new Ls(Ve&&nn):M}nn=f[0];var ln=-1,kn=Je[0];e:for(;++ln<te&&Qt.length<gt;){var gr=nn[ln],Hr=v?v(gr):gr;if(gr=I||0!==gr?gr:0,!(kn?H(kn,Hr):q(Qt,Hr,I))){for(Ve=ye;--Ve;){var Ni=Je[Ve];if(!(Ni?H(Ni,Hr):q(f[Ve],Hr,I)))continue e}kn&&kn.push(Hr),Qt.push(gr)}}return Qt}function dl(f,v,I){var q=null==(f=Id(f,v=Sr(v,f)))?f:f[Ac(hu(v))];return null==q?M:io(q,f,I)}function op(f){return ha(f)&&Ka(f)==Zn}function xl(f,v,I,q,te){return f===v||(null==f||null==v||!ha(f)&&!ha(v)?f!=f&&v!=v:function Zc(f,v,I,q,te,ye){var Ve=oi(f),Je=oi(v),gt=Ve?nr:ko(f),Qt=Je?nr:ko(v),nn=(gt=gt==Zn?Qn:gt)==Qn,ln=(Qt=Qt==Zn?Qn:Qt)==Qn,kn=gt==Qt;if(kn&&Nd(f)){if(!Nd(v))return!1;Ve=!0,nn=!1}if(kn&&!nn)return ye||(ye=new S),Ve||uh(f)?ap(f,v,I,q,te,ye):function up(f,v,I,q,te,ye,Ve){switch(I){case un:if(f.byteLength!=v.byteLength||f.byteOffset!=v.byteOffset)return!1;f=f.buffer,v=v.buffer;case xn:return!(f.byteLength!=v.byteLength||!ye(new vi(f),new vi(v)));case rs:case ai:case fr:return rc(+f,+v);case Or:return f.name==v.name&&f.message==v.message;case dn:case Ri:return f==v+"";case Br:var Je=qi;case br:if(Je||(Je=bs),f.size!=v.size&&!(1&q))return!1;var Qt=Ve.get(f);if(Qt)return Qt==v;q|=2,Ve.set(f,v);var nn=ap(Je(f),Je(v),q,te,ye,Ve);return Ve.delete(f),nn;case Ti:if(Zs)return Zs.call(f)==Zs.call(v)}return!1}(f,v,gt,I,q,te,ye);if(!(1&I)){var gr=nn&&wr.call(f,"__wrapped__"),Hr=ln&&wr.call(v,"__wrapped__");if(gr||Hr){var Ni=gr?f.value():f,Lr=Hr?v.value():v;return ye||(ye=new S),te(Ni,Lr,I,q,ye)}}return!!kn&&(ye||(ye=new S),function M_(f,v,I,q,te,ye){var Ve=1&I,Je=du(f),gt=Je.length;if(gt!=du(v).length&&!Ve)return!1;for(var ln=gt;ln--;){var kn=Je[ln];if(!(Ve?kn in v:wr.call(v,kn)))return!1}var gr=ye.get(f),Hr=ye.get(v);if(gr&&Hr)return gr==v&&Hr==f;var Ni=!0;ye.set(f,v),ye.set(v,f);for(var Lr=Ve;++ln<gt;){var Ki=f[kn=Je[ln]],as=v[kn];if(q)var gu=Ve?q(as,Ki,kn,v,f,ye):q(Ki,as,kn,f,v,ye);if(!(gu===M?Ki===as||te(Ki,as,I,q,ye):gu)){Ni=!1;break}Lr||(Lr="constructor"==kn)}if(Ni&&!Lr){var mu=f.constructor,Ia=v.constructor;mu!=Ia&&"constructor"in f&&"constructor"in v&&!("function"==typeof mu&&mu instanceof mu&&"function"==typeof Ia&&Ia instanceof Ia)&&(Ni=!1)}return ye.delete(f),ye.delete(v),Ni}(f,v,I,q,te,ye))}(f,v,I,q,xl,te))}function Yc(f,v,I,q){var te=I.length,ye=te,Ve=!q;if(null==f)return!ye;for(f=$r(f);te--;){var Je=I[te];if(Ve&&Je[2]?Je[1]!==f[Je[0]]:!(Je[0]in f))return!1}for(;++te<ye;){var gt=(Je=I[te])[0],Qt=f[gt],nn=Je[1];if(Ve&&Je[2]){if(Qt===M&&!(gt in f))return!1}else{var ln=new S;if(q)var kn=q(Qt,nn,gt,f,v,ln);if(!(kn===M?xl(nn,Qt,3,q,ln):kn))return!1}}return!0}function Cm(f){return!(!ho(f)||function O_(f){return!!X&&X in f}(f))&&(Pl(f)?Ot:Rr).test(xc(f))}function ug(f){return"function"==typeof f?f:null==f?Yo:"object"==typeof f?oi(f)?hf(f[0],f[1]):uu(f):Qg(f)}function df(f){if(!gf(f))return Hd(f);var v=[];for(var I in $r(f))wr.call(f,I)&&"constructor"!=I&&v.push(I);return v}function bh(f,v){return f<v}function Wd(f,v){var I=-1,q=ml(f)?ht(f.length):[];return tn(f,function(te,ye,Ve){q[++I]=v(te,ye,Ve)}),q}function uu(f){var v=Dd(f);return 1==v.length&&v[0][2]?Am(v[0][0],v[0][1]):function(I){return I===f||Yc(I,f,v)}}function hf(f,v){return tc(f)&&th(v)?Am(Ac(f),v):function(I){var q=pu(I,f);return q===M&&q===v?kp(I,f):xl(v,q,3)}}function Yl(f,v,I,q,te){f!==v&&Js(v,function(ye,Ve){if(te||(te=new S),ho(ye))!function wh(f,v,I,q,te,ye,Ve){var Je=_f(f,I),gt=_f(v,I),Qt=Ve.get(gt);if(Qt)ui(f,I,Qt);else{var nn=ye?ye(Je,gt,I+"",f,v,Ve):M,ln=nn===M;if(ln){var kn=oi(gt),gr=!kn&&Nd(gt),Hr=!kn&&!gr&&uh(gt);nn=gt,kn||gr||Hr?oi(Je)?nn=Je:da(Je)?nn=Qa(Je):gr?(ln=!1,nn=Jc(gt,!0)):Hr?(ln=!1,nn=cg(gt,!0)):nn=[]:Wh(gt)||Yu(gt)?(nn=Je,Yu(Je)?nn=Od(Je):(!ho(Je)||Pl(Je))&&(nn=Ah(gt))):ln=!1}ln&&(Ve.set(gt,nn),te(nn,gt,q,ye,Ve),Ve.delete(gt)),ui(f,I,nn)}}(f,v,Ve,I,Yl,q,te);else{var Je=q?q(_f(f,Ve),ye,Ve+"",f,v,te):M;Je===M&&(Je=ye),ui(f,Ve,Je)}},La)}function Ml(f,v){var I=f.length;if(I)return yo(v+=v<0?I:0,I)?f[v]:M}function Th(f,v,I){v=v.length?vr(v,function(ye){return oi(ye)?function(Ve){return aa(Ve,1===ye.length?ye[0]:ye)}:ye}):[Yo];var q=-1;return v=vr(v,U(Wr())),function Gl(ze,xt){var ht=ze.length;for(ze.sort(xt);ht--;)ze[ht]=ze[ht].value;return ze}(Wd(f,function(ye,Ve,Je){return{criteria:vr(v,function(Qt){return Qt(ye)}),index:++q,value:ye}}),function(ye,Ve){return function Yd(f,v,I){for(var q=-1,te=f.criteria,ye=v.criteria,Ve=te.length,Je=I.length;++q<Ve;){var gt=ff(te[q],ye[q]);if(gt)return q>=Je?gt:gt*("desc"==I[q]?-1:1)}return f.index-v.index}(ye,Ve,I)})}function zd(f,v,I){for(var q=-1,te=v.length,ye={};++q<te;){var Ve=v[q],Je=aa(f,Ve);I(Je,Ve)&&Jl(ye,Sr(Ve,f),Je)}return ye}function ua(f,v,I,q){var te=q?po:Si,ye=-1,Ve=v.length,Je=f;for(f===v&&(v=Qa(v)),I&&(Je=vr(f,U(I)));++ye<Ve;)for(var gt=0,Qt=v[ye],nn=I?I(Qt):Qt;(gt=te(Je,nn,gt,q))>-1;)Je!==f&&xi.call(Je,gt,1),xi.call(f,gt,1);return f}function vd(f,v){for(var I=f?v.length:0,q=I-1;I--;){var te=v[I];if(I==q||te!==ye){var ye=te;yo(te)?xi.call(f,te,1):k(f,te)}}return f}function Nl(f,v){return f+zl(ia()*(v-f+1))}function yd(f,v){var I="";if(!f||v<1||v>pn)return I;do{v%2&&(I+=f),(v=zl(v/2))&&(f+=f)}while(v);return I}function Mr(f,v){return xm(rd(f,v,Yo),f+"")}function qd(f){return $n(_l(f))}function Ya(f,v){var I=_l(f);return ps(I,z(v,0,I.length))}function Jl(f,v,I,q){if(!ho(f))return f;for(var te=-1,ye=(v=Sr(v,f)).length,Ve=ye-1,Je=f;null!=Je&&++te<ye;){var gt=Ac(v[te]),Qt=I;if("__proto__"===gt||"constructor"===gt||"prototype"===gt)return f;if(te!=Ve){var nn=Je[gt];(Qt=q?q(nn,gt,Je):M)===M&&(Qt=ho(nn)?nn:yo(v[te+1])?[]:{})}_o(Je,gt,Qt),Je=Je[gt]}return f}var Ch=ks?function(f,v){return ks.set(f,v),f}:Yo,hl=mo?function(f,v){return mo(f,"toString",{configurable:!0,enumerable:!1,value:Yg(v),writable:!0})}:Yo;function Pa(f){return ps(_l(f))}function Da(f,v,I){var q=-1,te=f.length;v<0&&(v=-v>te?0:te+v),(I=I>te?te:I)<0&&(I+=te),te=v>I?0:I-v>>>0,v>>>=0;for(var ye=ht(te);++q<te;)ye[q]=f[q+v];return ye}function Oo(f,v){var I;return tn(f,function(q,te,ye){return!(I=v(q,te,ye))}),!!I}function qu(f,v,I){var q=0,te=null==f?q:f.length;if("number"==typeof v&&v==v&&te<=2147483647){for(;q<te;){var ye=q+te>>>1,Ve=f[ye];null!==Ve&&!Zo(Ve)&&(I?Ve<=v:Ve<v)?q=ye+1:te=ye}return te}return Ol(f,v,Yo,I)}function Ol(f,v,I,q){var te=0,ye=null==f?0:f.length;if(0===ye)return 0;for(var Ve=(v=I(v))!=v,Je=null===v,gt=Zo(v),Qt=v===M;te<ye;){var nn=zl((te+ye)/2),ln=I(f[nn]),kn=ln!==M,gr=null===ln,Hr=ln==ln,Ni=Zo(ln);if(Ve)var Lr=q||Hr;else Lr=Qt?Hr&&(q||kn):Je?Hr&&kn&&(q||!gr):gt?Hr&&kn&&!gr&&(q||!Ni):!gr&&!Ni&&(q?ln<=v:ln<v);Lr?te=nn+1:ye=nn}return Is(ye,4294967294)}function Ed(f,v){for(var I=-1,q=f.length,te=0,ye=[];++I<q;){var Ve=f[I],Je=v?v(Ve):Ve;if(!I||!rc(Je,gt)){var gt=Je;ye[te++]=0===Ve?0:Ve}}return ye}function N(f){return"number"==typeof f?f:Zo(f)?NaN:+f}function E(f){if("string"==typeof f)return f;if(oi(f))return vr(f,E)+"";if(Zo(f))return Kc?Kc.call(f):"";var v=f+"";return"0"==v&&1/f==-Ft?"-0":v}function C(f,v,I){var q=-1,te=Ds,ye=f.length,Ve=!0,Je=[],gt=Je;if(I)Ve=!1,te=Pn;else if(ye>=200){var Qt=v?null:Ql(f);if(Qt)return bs(Qt);Ve=!1,te=H,gt=new Ls}else gt=v?[]:Je;e:for(;++q<ye;){var nn=f[q],ln=v?v(nn):nn;if(nn=I||0!==nn?nn:0,Ve&&ln==ln){for(var kn=gt.length;kn--;)if(gt[kn]===ln)continue e;v&&gt.push(ln),Je.push(nn)}else te(gt,ln,I)||(gt!==Je&&gt.push(ln),Je.push(nn))}return Je}function k(f,v){return null==(f=Id(f,v=Sr(v,f)))||delete f[Ac(hu(v))]}function ne(f,v,I,q){return Jl(f,v,I(aa(f,v)),q)}function re(f,v,I,q){for(var te=f.length,ye=q?te:-1;(q?ye--:++ye<te)&&v(f[ye],ye,f););return I?Da(f,q?0:ye,q?ye+1:te):Da(f,q?ye+1:0,q?te:ye)}function He(f,v){var I=f;return I instanceof Qr&&(I=I.value()),hs(v,function(q,te){return te.func.apply(te.thisArg,$i([q],te.args))},I)}function sn(f,v,I){var q=f.length;if(q<2)return q?C(f[0]):[];for(var te=-1,ye=ht(q);++te<q;)for(var Ve=f[te],Je=-1;++Je<q;)Je!=te&&(ye[te]=It(ye[te]||Ve,f[Je],v,I));return C(ts(ye,1),v,I)}function kt(f,v,I){for(var q=-1,te=f.length,ye=v.length,Ve={};++q<te;)I(Ve,f[q],q<ye?v[q]:M);return Ve}function Qe(f){return da(f)?f:[]}function Mt(f){return"function"==typeof f?f:Yo}function Sr(f,v){return oi(f)?f:tc(f,v)?[f]:hr(xs(f))}var xu=Mr;function Ja(f,v,I){var q=f.length;return I=I===M?q:I,!v&&I>=q?f:Da(f,v,I)}var Kd=js||function(f){return is.clearTimeout(f)};function Jc(f,v){if(v)return f.slice();var I=f.length,q=si?si(I):new f.constructor(I);return f.copy(q),q}function bd(f){var v=new f.constructor(f.byteLength);return new vi(v).set(new vi(f)),v}function cg(f,v){var I=v?bd(f.buffer):f.buffer;return new f.constructor(I,f.byteOffset,f.length)}function ff(f,v){if(f!==v){var I=f!==M,q=null===f,te=f==f,ye=Zo(f),Ve=v!==M,Je=null===v,gt=v==v,Qt=Zo(v);if(!Je&&!Qt&&!ye&&f>v||ye&&Ve&&gt&&!Je&&!Qt||q&&Ve&&gt||!I&&gt||!te)return 1;if(!q&&!ye&&!Qt&&f<v||Qt&&I&&te&&!q&&!ye||Je&&I&&te||!Ve&&te||!gt)return-1}return 0}function Zr(f,v,I,q){for(var te=-1,ye=f.length,Ve=I.length,Je=-1,gt=v.length,Qt=Ps(ye-Ve,0),nn=ht(gt+Qt),ln=!q;++Je<gt;)nn[Je]=v[Je];for(;++te<Ve;)(ln||te<ye)&&(nn[I[te]]=f[te]);for(;Qt--;)nn[Je++]=f[te++];return nn}function wd(f,v,I,q){for(var te=-1,ye=f.length,Ve=-1,Je=I.length,gt=-1,Qt=v.length,nn=Ps(ye-Je,0),ln=ht(nn+Qt),kn=!q;++te<nn;)ln[te]=f[te];for(var gr=te;++gt<Qt;)ln[gr+gt]=v[gt];for(;++Ve<Je;)(kn||te<ye)&&(ln[gr+I[Ve]]=f[te++]);return ln}function Qa(f,v){var I=-1,q=f.length;for(v||(v=ht(q));++I<q;)v[I]=f[I];return v}function ns(f,v,I,q){var te=!I;I||(I={});for(var ye=-1,Ve=v.length;++ye<Ve;){var Je=v[ye],gt=q?q(I[Je],f[Je],Je,I,f):M;gt===M&&(gt=f[Je]),te?au(I,Je,gt):_o(I,Je,gt)}return I}function ji(f,v){return function(I,q){var te=oi(I)?Bo:ul,ye=v?v():{};return te(I,f,Wr(q,2),ye)}}function Jd(f){return Mr(function(v,I){var q=-1,te=I.length,ye=te>1?I[te-1]:M,Ve=te>2?I[2]:M;for(ye=f.length>3&&"function"==typeof ye?(te--,ye):M,Ve&&Eo(I[0],I[1],Ve)&&(ye=te<3?M:ye,te=1),v=$r(v);++q<te;){var Je=I[q];Je&&f(v,Je,q,ye)}return v})}function Ro(f,v){return function(I,q){if(null==I)return I;if(!ml(I))return f(I,q);for(var te=I.length,ye=v?te:-1,Ve=$r(I);(v?ye--:++ye<te)&&!1!==q(Ve[ye],ye,Ve););return I}}function Rn(f){return function(v,I,q){for(var te=-1,ye=$r(v),Ve=q(v),Je=Ve.length;Je--;){var gt=Ve[f?Je:++te];if(!1===I(ye[gt],gt,ye))break}return v}}function Qc(f){return function(v){var I=ss(v=xs(v))?lo(v):M,q=I?I[0]:v.charAt(0),te=I?Ja(I,1).join(""):v.slice(1);return q[f]()+te}}function Rl(f){return function(v){return hs(r_(Lf(v).replace($l,"")),f,"")}}function ka(f){return function(){var v=arguments;switch(v.length){case 0:return new f;case 1:return new f(v[0]);case 2:return new f(v[0],v[1]);case 3:return new f(v[0],v[1],v[2]);case 4:return new f(v[0],v[1],v[2],v[3]);case 5:return new f(v[0],v[1],v[2],v[3],v[4]);case 6:return new f(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new f(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var I=Ys(f.prototype),q=f.apply(I,v);return ho(q)?q:I}}function Sm(f){return function(v,I,q){var te=$r(v);if(!ml(v)){var ye=Wr(I,3);v=fa(v),I=function(Je){return ye(te[Je],Je,te)}}var Ve=f(v,I,q);return Ve>-1?te[ye?v[Ve]:Ve]:M}}function Xc(f){return nd(function(v){var I=v.length,q=I,te=sa.prototype.thru;for(f&&v.reverse();q--;){var ye=v[q];if("function"!=typeof ye)throw new $o(Me);if(te&&!Ve&&"wrapper"==lp(ye))var Ve=new sa([],!0)}for(q=Ve?q:I;++q<I;){var Je=lp(ye=v[q]),gt="wrapper"==Je?Nu(ye):M;Ve=gt&&Mh(gt[0])&&424==gt[1]&&!gt[4].length&&1==gt[9]?Ve[lp(gt[0])].apply(Ve,gt[3]):1==ye.length&&Mh(ye)?Ve[Je]():Ve.thru(ye)}return function(){var Qt=arguments,nn=Qt[0];if(Ve&&1==Qt.length&&oi(nn))return Ve.plant(nn).value();for(var ln=0,kn=I?v[ln].apply(this,Qt):nn;++ln<I;)kn=v[ln].call(this,kn);return kn}})}function Ih(f,v,I,q,te,ye,Ve,Je,gt,Qt){var nn=128&v,ln=1&v,kn=2&v,gr=24&v,Hr=512&v,Ni=kn?M:ka(f);return function Lr(){for(var Ki=arguments.length,as=ht(Ki),gu=Ki;gu--;)as[gu]=arguments[gu];if(gr)var mu=Xl(Lr),Ia=Nn(as,mu);if(q&&(as=Zr(as,q,te,gr)),ye&&(as=wd(as,ye,Ve,gr)),Ki-=Ia,gr&&Ki<Qt){var Bs=go(as,mu);return Lt(f,v,Ih,Lr.placeholder,I,as,Bs,Je,gt,Qt-Ki)}var Ba=ln?I:this,Ul=kn?Ba[f]:f;return Ki=as.length,Je?as=yg(as,Je):Hr&&Ki>1&&as.reverse(),nn&&gt<Ki&&(as.length=gt),this&&this!==is&&this instanceof Lr&&(Ul=Ni||ka(Ul)),Ul.apply(Ba,as)}}function hg(f,v){return function(I,q){return function Au(f,v,I,q){return bi(f,function(te,ye,Ve){v(q,I(te),ye,Ve)}),q}(I,f,v(q),{})}}function cu(f,v){return function(I,q){var te;if(I===M&&q===M)return v;if(I!==M&&(te=I),q!==M){if(te===M)return q;"string"==typeof I||"string"==typeof q?(I=E(I),q=E(q)):(I=N(I),q=N(q)),te=f(I,q)}return te}}function Dc(f){return nd(function(v){return v=vr(v,U(Wr())),Mr(function(I){var q=this;return f(v,function(te){return io(te,q,I)})})})}function ed(f,v){var I=(v=v===M?" ":E(v)).length;if(I<2)return I?yd(v,f):v;var q=yd(v,ou(f/Vu(v)));return ss(v)?Ja(lo(q),0,f).join(""):q.slice(0,f)}function fl(f){return function(v,I,q){return q&&"number"!=typeof q&&Eo(v,I,q)&&(I=q=M),v=fo(v),I===M?(I=v,v=0):I=fo(I),function la(f,v,I,q){for(var te=-1,ye=Ps(ou((v-f)/(I||1)),0),Ve=ht(ye);ye--;)Ve[q?ye:++te]=f,f+=I;return Ve}(v,I,q=q===M?v<I?1:-1:fo(q),f)}}function Td(f){return function(v,I){return"string"==typeof v&&"string"==typeof I||(v=kl(v),I=kl(I)),f(v,I)}}function Lt(f,v,I,q,te,ye,Ve,Je,gt,Qt){var nn=8&v;v|=nn?32:64,4&(v&=~(nn?64:32))||(v&=-4);var Ni=[f,v,te,nn?ye:M,nn?Ve:M,nn?M:ye,nn?M:Ve,Je,gt,Qt],Lr=I.apply(M,Ni);return Mh(f)&&Ic(Lr,Ni),Lr.placeholder=q,P_(Lr,f,v)}function Qd(f){var v=Gs[f];return function(I,q){if(I=kl(I),(q=null==q?0:Is(di(q),292))&&ja(I)){var te=(xs(I)+"e").split("e");return+((te=(xs(v(te[0]+"e"+(+te[1]+q)))+"e").split("e"))[0]+"e"+(+te[1]-q))}return v(I)}}var Ql=za&&1/bs(new za([,-0]))[1]==Ft?function(f){return new za(f)}:_c;function pg(f){return function(v){var I=ko(v);return I==Br?qi(v):I==br?function ta(ze){var xt=-1,ht=Array(ze.size);return ze.forEach(function(Bn){ht[++xt]=[Bn,Bn]}),ht}(v):function ru(ze,xt){return vr(xt,function(ht){return[ht,ze[ht]]})}(v,f(v))}}function Mu(f,v,I,q,te,ye,Ve,Je){var gt=2&v;if(!gt&&"function"!=typeof f)throw new $o(Me);var Qt=q?q.length:0;if(Qt||(v&=-97,q=te=M),Ve=Ve===M?Ve:Ps(di(Ve),0),Je=Je===M?Je:di(Je),Qt-=te?te.length:0,64&v){var nn=q,ln=te;q=te=M}var kn=gt?M:Nu(f),gr=[f,v,I,q,te,nn,ln,ye,Ve,Je];if(kn&&function vg(f,v){var I=f[1],q=v[1],te=I|q;if(!(te<131)&&!(128==q&&8==I||128==q&&256==I&&f[7].length<=v[8]||384==q&&v[7].length<=v[8]&&8==I))return f;1&q&&(f[2]=v[2],te|=1&I?0:4);var Je=v[3];if(Je){var gt=f[3];f[3]=gt?Zr(gt,Je,v[4]):Je,f[4]=gt?go(f[3],ge):v[4]}(Je=v[5])&&(f[5]=(gt=f[5])?wd(gt,Je,v[6]):Je,f[6]=gt?go(f[5],ge):v[6]),(Je=v[7])&&(f[7]=Je),128&q&&(f[8]=null==f[8]?v[8]:Is(f[8],v[8])),null==f[9]&&(f[9]=v[9]),f[0]=v[0],f[1]=te}(gr,kn),f=gr[0],v=gr[1],I=gr[2],q=gr[3],te=gr[4],!(Je=gr[9]=gr[9]===M?gt?0:f.length:Ps(gr[9]-Qt,0))&&24&v&&(v&=-25),v&&1!=v)Hr=8==v||16==v?function dg(f,v,I){var q=ka(f);return function te(){for(var ye=arguments.length,Ve=ht(ye),Je=ye,gt=Xl(te);Je--;)Ve[Je]=arguments[Je];var Qt=ye<3&&Ve[0]!==gt&&Ve[ye-1]!==gt?[]:go(Ve,gt);return(ye-=Qt.length)<I?Lt(f,v,Ih,te.placeholder,M,Ve,Qt,M,M,I-ye):io(this&&this!==is&&this instanceof te?q:f,this,Ve)}}(f,v,Je):32!=v&&33!=v||te.length?Ih.apply(M,gr):function fg(f,v,I,q){var te=1&v,ye=ka(f);return function Ve(){for(var Je=-1,gt=arguments.length,Qt=-1,nn=q.length,ln=ht(nn+gt),kn=this&&this!==is&&this instanceof Ve?ye:f;++Qt<nn;)ln[Qt]=q[Qt];for(;gt--;)ln[Qt++]=arguments[++Je];return io(kn,te?I:this,ln)}}(f,v,I,q);else var Hr=function Fi(f,v,I){var q=1&v,te=ka(f);return function ye(){return(this&&this!==is&&this instanceof ye?te:f).apply(q?I:this,arguments)}}(f,v,I);return P_((kn?Ch:Ic)(Hr,gr),f,v)}function Cd(f,v,I,q){return f===M||rc(f,iu[I])&&!wr.call(q,I)?v:f}function gg(f,v,I,q,te,ye){return ho(f)&&ho(v)&&(ye.set(v,f),Yl(f,v,M,gg,ye),ye.delete(v)),f}function td(f){return Wh(f)?M:f}function ap(f,v,I,q,te,ye){var Ve=1&I,Je=f.length,gt=v.length;if(Je!=gt&&!(Ve&&gt>Je))return!1;var Qt=ye.get(f),nn=ye.get(v);if(Qt&&nn)return Qt==v&&nn==f;var ln=-1,kn=!0,gr=2&I?new Ls:M;for(ye.set(f,v),ye.set(v,f);++ln<Je;){var Hr=f[ln],Ni=v[ln];if(q)var Lr=Ve?q(Ni,Hr,ln,v,f,ye):q(Hr,Ni,ln,f,v,ye);if(Lr!==M){if(Lr)continue;kn=!1;break}if(gr){if(!Uo(v,function(Ki,as){if(!H(gr,as)&&(Hr===Ki||te(Hr,Ki,I,q,ye)))return gr.push(as)})){kn=!1;break}}else if(Hr!==Ni&&!te(Hr,Ni,I,q,ye)){kn=!1;break}}return ye.delete(f),ye.delete(v),kn}function nd(f){return xm(rd(f,M,zo),f+"")}function du(f){return Gd(f,fa,Po)}function Sc(f){return Gd(f,La,mg)}var Nu=ks?function(f){return ks.get(f)}:_c;function lp(f){for(var v=f.name+"",I=Ho[v],q=wr.call(Ho,v)?I.length:0;q--;){var te=I[q],ye=te.func;if(null==ye||ye==f)return te.name}return v}function Xl(f){return(wr.call(de,"placeholder")?de:f).placeholder}function Wr(){var f=de.iteratee||Uf;return f=f===Uf?ug:f,arguments.length?f(arguments[0],arguments[1]):f}function ec(f,v){var I=f.__data__;return function oy(f){var v=typeof f;return"string"==v||"number"==v||"symbol"==v||"boolean"==v?"__proto__"!==f:null===f}(v)?I["string"==typeof v?"string":"hash"]:I.map}function Dd(f){for(var v=fa(f),I=v.length;I--;){var q=v[I],te=f[q];v[I]=[q,te,th(te)]}return v}function Xd(f,v){var I=function Os(ze,xt){return null==ze?M:ze[xt]}(f,v);return Cm(I)?I:M}var Po=Oa?function(f){return null==f?[]:(f=$r(f),fn(Oa(f),function(v){return es.call(f,v)}))}:$p,mg=Oa?function(f){for(var v=[];f;)$i(v,Po(f)),f=Ai(f);return v}:$p,ko=Ka;function cp(f,v,I){for(var q=-1,te=(v=Sr(v,f)).length,ye=!1;++q<te;){var Ve=Ac(v[q]);if(!(ye=null!=f&&I(f,Ve)))break;f=f[Ve]}return ye||++q!=te?ye:!!(te=null==f?0:f.length)&&ah(te)&&yo(Ve,te)&&(oi(f)||Yu(f))}function Ah(f){return"function"!=typeof f.constructor||gf(f)?{}:Ys(Ai(f))}function xh(f){return oi(f)||Yu(f)||!!(zr&&f&&f[zr])}function yo(f,v){var I=typeof f;return!!(v=v??pn)&&("number"==I||"symbol"!=I&&Ms.test(f))&&f>-1&&f%1==0&&f<v}function Eo(f,v,I){if(!ho(I))return!1;var q=typeof v;return!!("number"==q?ml(I)&&yo(v,I.length):"string"==q&&v in I)&&rc(I[v],f)}function tc(f,v){if(oi(f))return!1;var I=typeof f;return!("number"!=I&&"symbol"!=I&&"boolean"!=I&&null!=f&&!Zo(f))||Ce.test(f)||!qe.test(f)||null!=v&&f in $r(v)}function Mh(f){var v=lp(f),I=de[v];if("function"!=typeof I||!(v in Qr.prototype))return!1;if(f===I)return!0;var q=Nu(I);return!!q&&f===q[0]}(Ws&&ko(new Ws(new ArrayBuffer(1)))!=un||Gi&&ko(new Gi)!=Br||Su&&ko(Su.resolve())!=jn||za&&ko(new za)!=br||Iu&&ko(new Iu)!=jr)&&(ko=function(f){var v=Ka(f),I=v==Qn?f.constructor:M,q=I?xc(I):"";if(q)switch(q){case ol:return un;case wa:return Br;case Ta:return jn;case ju:return br;case bc:return jr}return v});var pf=Wl?Pl:em;function gf(f){var v=f&&f.constructor;return f===("function"==typeof v&&v.prototype||iu)}function th(f){return f==f&&!ho(f)}function Am(f,v){return function(I){return null!=I&&I[f]===v&&(v!==M||f in $r(I))}}function rd(f,v,I){return v=Ps(v===M?f.length-1:v,0),function(){for(var q=arguments,te=-1,ye=Ps(q.length-v,0),Ve=ht(ye);++te<ye;)Ve[te]=q[v+te];te=-1;for(var Je=ht(v+1);++te<v;)Je[te]=q[te];return Je[v]=I(Ve),io(f,this,Je)}}function Id(f,v){return v.length<2?f:aa(f,Da(v,0,-1))}function yg(f,v){for(var I=f.length,q=Is(v.length,I),te=Qa(f);q--;){var ye=v[q];f[q]=yo(ye,I)?te[ye]:M}return f}function _f(f,v){if(("constructor"!==v||"function"!=typeof f[v])&&"__proto__"!=v)return f[v]}var Ic=Wi(Ch),hp=sl||function(f,v){return is.setTimeout(f,v)},xm=Wi(hl);function P_(f,v,I){var q=v+"";return xm(f,function _g(f,v){var I=v.length;if(!I)return f;var q=I-1;return v[q]=(I>1?"& ":"")+v[q],v=v.join(I>2?", ":" "),f.replace($e,"{\n/* [wrapped with "+v+"] */\n")}(q,function id(f,v){return Vr(mn,function(I){var q="_."+I[0];v&I[1]&&!Ds(f,q)&&f.push(q)}),f.sort()}(function eh(f){var v=f.match(Le);return v?v[1].split(ve):[]}(q),I)))}function Wi(f){var v=0,I=0;return function(){var q=ba(),te=16-(q-I);if(I=q,te>0){if(++v>=800)return arguments[0]}else v=0;return f.apply(M,arguments)}}function ps(f,v){var I=-1,q=f.length,te=q-1;for(v=v===M?q:v;++I<v;){var ye=Nl(I,te),Ve=f[ye];f[ye]=f[I],f[I]=Ve}return f.length=v,f}var hr=function R_(f){var v=Ip(f,function(q){return 500===I.size&&I.clear(),q}),I=v.cache;return v}(function(f){var v=[];return 46===f.charCodeAt(0)&&v.push(""),f.replace(ue,function(I,q,te,ye){v.push(te?ye.replace(Zt,"$1"):q||I)}),v});function Ac(f){if("string"==typeof f||Zo(f))return f;var v=f+"";return"0"==v&&1/f==-Ft?"-0":v}function xc(f){if(null!=f){try{return su.call(f)}catch{}try{return f+""}catch{}}return""}function fp(f){if(f instanceof Qr)return f.clone();var v=new sa(f.__wrapped__,f.__chain__);return v.__actions__=Qa(f.__actions__),v.__index__=f.__index__,v.__values__=f.__values__,v}var vf=Mr(function(f,v){return da(f)?It(f,ts(v,1,da,!0)):[]}),ay=Mr(function(f,v){var I=hu(v);return da(I)&&(I=M),da(f)?It(f,ts(v,1,da,!0),Wr(I,2)):[]}),Nm=Mr(function(f,v){var I=hu(v);return da(I)&&(I=M),da(f)?It(f,ts(v,1,da,!0),M,I):[]});function sd(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=null==I?0:di(I);return te<0&&(te=Ps(q+te,0)),bu(f,Wr(v,3),te)}function B_(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=q-1;return I!==M&&(te=di(I),te=I<0?Ps(q+te,0):Is(te,q-1)),bu(f,Wr(v,3),te,!0)}function zo(f){return null!=f&&f.length?ts(f,1):[]}function U_(f){return f&&f.length?f[0]:M}var qo=Mr(function(f){var v=vr(f,Qe);return v.length&&v[0]===f[0]?As(v):[]}),Pm=Mr(function(f){var v=hu(f),I=vr(f,Qe);return v===hu(I)?v=M:I.pop(),I.length&&I[0]===f[0]?As(I,Wr(v,2)):[]}),co=Mr(function(f){var v=hu(f),I=vr(f,Qe);return(v="function"==typeof v?v:M)&&I.pop(),I.length&&I[0]===f[0]?As(I,M,v):[]});function hu(f){var v=null==f?0:f.length;return v?f[v-1]:M}var nh=Mr(Mc);function Mc(f,v){return f&&f.length&&v&&v.length?ua(f,v):f}var rh=nd(function(f,v){var I=null==f?0:f.length,q=Cc(f,v);return vd(f,vr(v,function(te){return yo(te,I)?+te:te}).sort(ff)),q});function Xa(f){return null==f?f:Du.call(f)}var bf=Mr(function(f){return C(ts(f,1,da,!0))}),wi=Mr(function(f){var v=hu(f);return da(v)&&(v=M),C(ts(f,1,da,!0),Wr(v,2))}),Lm=Mr(function(f){var v=hu(f);return v="function"==typeof v?v:M,C(ts(f,1,da,!0),M,v)});function yp(f){if(!f||!f.length)return[];var v=0;return f=fn(f,function(I){if(da(I))return v=Ps(I.length,v),!0}),nl(v,function(I){return vr(f,Ga(I))})}function Ep(f,v){if(!f||!f.length)return[];var I=yp(f);return null==v?I:vr(I,function(q){return io(v,M,q)})}var Lh=Mr(function(f,v){return da(f)?It(f,v):[]}),wf=Mr(function(f){return sn(fn(f,da))}),$_=Mr(function(f){var v=hu(f);return da(v)&&(v=M),sn(fn(f,da),Wr(v,2))}),gl=Mr(function(f){var v=hu(f);return v="function"==typeof v?v:M,sn(fn(f,da),M,v)}),Fm=Mr(yp),Cg=Mr(function(f){var v=f.length,I=v>1?f[v-1]:M;return I="function"==typeof I?(f.pop(),I):M,Ep(f,I)});function Fh(f){var v=de(f);return v.__chain__=!0,v}function bp(f,v){return v(f)}var Lo=nd(function(f){var v=f.length,I=v?f[0]:0,q=this.__wrapped__,te=function(ye){return Cc(ye,f)};return!(v>1||this.__actions__.length)&&q instanceof Qr&&yo(I)?((q=q.slice(I,+I+(v?1:0))).__actions__.push({func:bp,args:[te],thisArg:M}),new sa(q,this.__chain__).thru(function(ye){return v&&!ye.length&&ye.push(M),ye})):this.thru(te)}),Ad=ji(function(f,v,I){wr.call(f,I)?++f[I]:au(f,I,1)}),Cf=Sm(sd),H_=Sm(B_);function Fs(f,v){return(oi(f)?Vr:tn)(f,Wr(v,3))}function os(f,v){return(oi(f)?nu:Un)(f,Wr(v,3))}var G_=ji(function(f,v,I){wr.call(f,I)?f[I].push(v):au(f,I,[v])}),Uh=Mr(function(f,v,I){var q=-1,te="function"==typeof v,ye=ml(f)?ht(f.length):[];return tn(f,function(Ve){ye[++q]=te?io(v,Ve,I):dl(Ve,v,I)}),ye}),W_=ji(function(f,v,I){au(f,I,v)});function Ku(f,v){return(oi(f)?vr:Wd)(f,Wr(v,3))}var Vh=ji(function(f,v,I){f[I?0:1].push(v)},function(){return[[],[]]}),Dp=Mr(function(f,v){if(null==f)return[];var I=v.length;return I>1&&Eo(f,v[0],v[1])?v=[]:I>2&&Eo(v[0],v[1],v[2])&&(v=[v[0]]),Th(f,ts(v,1),[])}),sh=na||function(){return is.Date.now()};function Df(f,v,I){return v=I?M:v,Mu(f,128,M,M,M,M,v=f&&null==v?f.length:v)}function Vm(f,v){var I;if("function"!=typeof v)throw new $o(Me);return f=di(f),function(){return--f>0&&(I=v.apply(this,arguments)),f<=1&&(v=M),I}}var Sf=Mr(function(f,v,I){var q=1;if(I.length){var te=go(I,Xl(Sf));q|=32}return Mu(f,q,v,I,te)}),$m=Mr(function(f,v,I){var q=3;if(I.length){var te=go(I,Xl($m));q|=32}return Mu(v,q,f,I,te)});function Af(f,v,I){var q,te,ye,Ve,Je,gt,Qt=0,nn=!1,ln=!1,kn=!0;if("function"!=typeof f)throw new $o(Me);function gr(Bs){var Ba=q,Ul=te;return q=te=M,Qt=Bs,Ve=f.apply(Ul,Ba)}function Hr(Bs){return Qt=Bs,Je=hp(Ki,v),nn?gr(Bs):Ve}function Lr(Bs){var Ba=Bs-gt;return gt===M||Ba>=v||Ba<0||ln&&Bs-Qt>=ye}function Ki(){var Bs=sh();if(Lr(Bs))return as(Bs);Je=hp(Ki,function Ni(Bs){var qf=v-(Bs-gt);return ln?Is(qf,ye-(Bs-Qt)):qf}(Bs))}function as(Bs){return Je=M,kn&&q?gr(Bs):(q=te=M,Ve)}function Ia(){var Bs=sh(),Ba=Lr(Bs);if(q=arguments,te=this,gt=Bs,Ba){if(Je===M)return Hr(gt);if(ln)return Kd(Je),Je=hp(Ki,v),gr(gt)}return Je===M&&(Je=hp(Ki,v)),Ve}return v=kl(v)||0,ho(I)&&(nn=!!I.leading,ye=(ln="maxWait"in I)?Ps(kl(I.maxWait)||0,v):ye,kn="trailing"in I?!!I.trailing:kn),Ia.cancel=function gu(){Je!==M&&Kd(Je),Qt=0,q=gt=te=Je=M},Ia.flush=function mu(){return Je===M?Ve:as(sh())},Ia}var xd=Mr(function(f,v){return ot(f,1,v)}),cy=Mr(function(f,v,I){return ot(f,kl(v)||0,I)});function Ip(f,v){if("function"!=typeof f||null!=v&&"function"!=typeof v)throw new $o(Me);var I=function(){var q=arguments,te=v?v.apply(this,q):q[0],ye=I.cache;if(ye.has(te))return ye.get(te);var Ve=f.apply(this,q);return I.cache=ye.set(te,Ve)||ye,Ve};return I.cache=new(Ip.Cache||jo),I}function Md(f){if("function"!=typeof f)throw new $o(Me);return function(){var v=arguments;switch(v.length){case 0:return!f.call(this);case 1:return!f.call(this,v[0]);case 2:return!f.call(this,v[0],v[1]);case 3:return!f.call(this,v[0],v[1],v[2])}return!f.apply(this,v)}}Ip.Cache=jo;var hy=xu(function(f,v){var I=(v=1==v.length&&oi(v[0])?vr(v[0],U(Wr())):vr(ts(v,1),U(Wr()))).length;return Mr(function(q){for(var te=-1,ye=Is(q.length,I);++te<ye;)q[te]=v[te].call(this,q[te]);return io(f,this,q)})}),Ko=Mr(function(f,v){var I=go(v,Xl(Ko));return Mu(f,32,M,v,I)}),Gm=Mr(function(f,v){var I=go(v,Xl(Gm));return Mu(f,64,M,v,I)}),jm=nd(function(f,v){return Mu(f,256,M,M,M,v)});function rc(f,v){return f===v||f!=f&&v!=v}var gy=Td(_h),kc=Td(function(f,v){return f>=v}),Yu=op(function(){return arguments}())?op:function(f){return ha(f)&&wr.call(f,"callee")&&!es.call(f,"callee")},oi=ht.isArray,Mg=Ma?U(Ma):function jd(f){return ha(f)&&Ka(f)==xn};function ml(f){return null!=f&&ah(f.length)&&!Pl(f)}function da(f){return ha(f)&&ml(f)}var Nd=ra||em,oh=ro?U(ro):function ag(f){return ha(f)&&Ka(f)==ai};function fu(f){if(!ha(f))return!1;var v=Ka(f);return v==Or||"[object DOMException]"==v||"string"==typeof f.message&&"string"==typeof f.name&&!Wh(f)}function Pl(f){if(!ho(f))return!1;var v=Ka(f);return v==rr||v==fi||"[object AsyncFunction]"==v||"[object Proxy]"==v}function Lc(f){return"number"==typeof f&&f==di(f)}function ah(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=pn}function ho(f){var v=typeof f;return null!=f&&("object"==v||"function"==v)}function ha(f){return null!=f&&"object"==typeof f}var Gh=Eu?U(Eu):function lf(f){return ha(f)&&ko(f)==Br};function jh(f){return"number"==typeof f||ha(f)&&Ka(f)==fr}function Wh(f){if(!ha(f)||Ka(f)!=Qn)return!1;var v=Ai(f);if(null===v)return!0;var I=wr.call(v,"constructor")&&v.constructor;return"function"==typeof I&&I instanceof I&&su.call(I)==ae}var zh=va?U(va):function cf(f){return ha(f)&&Ka(f)==dn},Ap=Gt?U(Gt):function yh(f){return ha(f)&&ko(f)==br};function xp(f){return"string"==typeof f||!oi(f)&&ha(f)&&Ka(f)==Ri}function Zo(f){return"symbol"==typeof f||ha(f)&&Ka(f)==Ti}var uh=Ks?U(Ks):function Dm(f){return ha(f)&&ah(f.length)&&!!_i[Ka(f)]},rv=Td(bh),vy=Td(function(f,v){return f<=v});function Np(f){if(!f)return[];if(ml(f))return xp(f)?lo(f):Qa(f);if(Ao&&f[Ao])return function uo(ze){for(var xt,ht=[];!(xt=ze.next()).done;)ht.push(xt.value);return ht}(f[Ao]());var v=ko(f);return(v==Br?qi:v==br?bs:_l)(f)}function fo(f){return f?(f=kl(f))===Ft||f===-Ft?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function di(f){var v=fo(f),I=v%1;return v==v?I?v-I:v:0}function Op(f){return f?z(di(f),0,Dn):0}function kl(f){if("number"==typeof f)return f;if(Zo(f))return NaN;if(ho(f)){var v="function"==typeof f.valueOf?f.valueOf():f;f=ho(v)?v+"":v}if("string"!=typeof f)return 0===f?f:+f;f=Na(f);var I=ys.test(f);return I||Ui.test(f)?Hl(f.slice(2),I?2:8):ri.test(f)?NaN:+f}function Od(f){return ns(f,La(f))}function xs(f){return null==f?"":E(f)}var iv=Jd(function(f,v){if(gf(v)||ml(v))ns(v,fa(v),f);else for(var I in v)wr.call(v,I)&&_o(f,I,v[I])}),Pg=Jd(function(f,v){ns(v,La(v),f)}),Fl=Jd(function(f,v,I,q){ns(v,La(v),f,q)}),lh=Jd(function(f,v,I,q){ns(v,fa(v),f,q)}),qh=nd(Cc),kg=Mr(function(f,v){f=$r(f);var I=-1,q=v.length,te=q>2?v[2]:M;for(te&&Eo(v[0],v[1],te)&&(q=1);++I<q;)for(var ye=v[I],Ve=La(ye),Je=-1,gt=Ve.length;++Je<gt;){var Qt=Ve[Je],nn=f[Qt];(nn===M||rc(nn,iu[Qt])&&!wr.call(f,Qt))&&(f[Qt]=ye[Qt])}return f}),Lg=Mr(function(f){return f.push(M,gg),io(Of,M,f)});function pu(f,v,I){var q=null==f?M:aa(f,v);return q===M?I:q}function kp(f,v){return null!=f&&cp(f,v,Al)}var ov=hg(function(f,v,I){null!=v&&"function"!=typeof v.toString&&(v=W.call(v)),f[v]=I},Yg(Yo)),Kh=hg(function(f,v,I){null!=v&&"function"!=typeof v.toString&&(v=W.call(v)),wr.call(f,v)?f[v].push(I):f[v]=[I]},Wr),Ug=Mr(dl);function fa(f){return ml(f)?Kt(f):df(f)}function La(f){return ml(f)?Kt(f,!0):function Eh(f){if(!ho(f))return function mf(f){var v=[];if(null!=f)for(var I in $r(f))v.push(I);return v}(f);var v=gf(f),I=[];for(var q in f)"constructor"==q&&(v||!wr.call(f,q))||I.push(q);return I}(f)}var yy=Jd(function(f,v,I){Yl(f,v,I)}),Of=Jd(function(f,v,I,q){Yl(f,v,I,q)}),Vg=nd(function(f,v){var I={};if(null==f)return I;var q=!1;v=vr(v,function(ye){return ye=Sr(ye,f),q||(q=ye.length>1),ye}),ns(f,Sc(f),I),q&&(I=Z(I,7,td));for(var te=v.length;te--;)k(I,v[te]);return I}),Ym=nd(function(f,v){return null==f?{}:function lg(f,v){return zd(f,v,function(I,q){return kp(f,q)})}(f,v)});function Lp(f,v){if(null==f)return{};var I=vr(Sc(f),function(q){return[q]});return v=Wr(v),zd(f,I,function(q,te){return v(q,te[0])})}var ch=pg(fa),Rf=pg(La);function _l(f){return null==f?[]:j(f,fa(f))}var Bl=Rl(function(f,v,I){return v=v.toLowerCase(),f+(I?Zh(v):v)});function Zh(f){return ld(xs(f).toLowerCase())}function Lf(f){return(f=xs(f))&&f.replace(wo,Ii).replace(Ji,"")}var Ff=Rl(function(f,v,I){return f+(I?"-":"")+v.toLowerCase()}),lv=Rl(function(f,v,I){return f+(I?" ":"")+v.toLowerCase()}),Yh=Qc("toLowerCase"),dv=Rl(function(f,v,I){return f+(I?"_":"")+v.toLowerCase()}),by=Rl(function(f,v,I){return f+(I?" ":"")+ld(v)}),Bp=Rl(function(f,v,I){return f+(I?" ":"")+v.toUpperCase()}),ld=Qc("toUpperCase");function r_(f,v,I){return f=xs(f),(v=I?M:v)===M?function Do(ze){return $a.test(ze)}(f)?function Cl(ze){return ze.match(yu)||[]}(f):function ao(ze){return ze.match(it)||[]}(f):f.match(v)||[]}var Bf=Mr(function(f,v){try{return io(f,M,v)}catch(I){return fu(I)?I:new Ar(I)}}),gv=nd(function(f,v){return Vr(v,function(I){I=Ac(I),au(f,I,Sf(f[I],f))}),f});function Yg(f){return function(){return f}}var Up=Xc(),Qu=Xc(!0);function Yo(f){return f}function Uf(f){return ug("function"==typeof f?f:Z(f,1))}var mc=Mr(function(f,v){return function(I){return dl(I,f,v)}}),Pd=Mr(function(f,v){return function(I){return dl(f,I,v)}});function Uc(f,v,I){var q=fa(v),te=No(v,q);null==I&&(!ho(v)||!te.length&&q.length)&&(I=v,v=f,f=this,te=No(v,fa(v)));var ye=!(ho(I)&&"chain"in I&&!I.chain),Ve=Pl(f);return Vr(te,function(Je){var gt=v[Je];f[Je]=gt,Ve&&(f.prototype[Je]=function(){var Qt=this.__chain__;if(ye||Qt){var nn=f(this.__wrapped__),ln=nn.__actions__=Qa(this.__actions__);return ln.push({func:gt,args:arguments,thisArg:f}),nn.__chain__=Qt,nn}return gt.apply(f,$i([this.value()],arguments))})}),f}function _c(){}var Ld=Dc(vr),Xh=Dc(ms),Vf=Dc(Uo);function Qg(f){return tc(f)?Ga(Ac(f)):function Za(f){return function(v){return aa(v,f)}}(f)}var Xg=fl(),Vp=fl(!0);function $p(){return[]}function em(){return!1}var mv=cu(function(f,v){return f+v},0),o_=Qd("ceil"),nm=cu(function(f,v){return f/v},1),rm=Qd("floor"),ef=cu(function(f,v){return f*v},1),Wf=Qd("round"),zf=cu(function(f,v){return f-v},0);return de.after=function Sp(f,v){if("function"!=typeof v)throw new $o(Me);return f=di(f),function(){if(--f<1)return v.apply(this,arguments)}},de.ary=Df,de.assign=iv,de.assignIn=Pg,de.assignInWith=Fl,de.assignWith=lh,de.at=qh,de.before=Vm,de.bind=Sf,de.bindAll=gv,de.bindKey=$m,de.castArray=function K_(){if(!arguments.length)return[];var f=arguments[0];return oi(f)?f:[f]},de.chain=Fh,de.chunk=function k_(f,v,I){v=(I?Eo(f,v,I):v===M)?1:Ps(di(v),0);var q=null==f?0:f.length;if(!q||v<1)return[];for(var te=0,ye=0,Ve=ht(ou(q/v));te<q;)Ve[ye++]=Da(f,te,te+=v);return Ve},de.compact=function L_(f){for(var v=-1,I=null==f?0:f.length,q=0,te=[];++v<I;){var ye=f[v];ye&&(te[q++]=ye)}return te},de.concat=function Mm(){var f=arguments.length;if(!f)return[];for(var v=ht(f-1),I=arguments[0],q=f;q--;)v[q-1]=arguments[q];return $i(oi(I)?Qa(I):[I],ts(v,1))},de.cond=function Zg(f){var v=null==f?0:f.length,I=Wr();return f=v?vr(f,function(q){if("function"!=typeof q[1])throw new $o(Me);return[I(q[0]),q[1]]}):[],Mr(function(q){for(var te=-1;++te<v;){var ye=f[te];if(io(ye[0],this,q))return io(ye[1],this,q)}})},de.conforms=function Fa(f){return function se(f){var v=fa(f);return function(I){return Fe(I,f,v)}}(Z(f,1))},de.constant=Yg,de.countBy=Ad,de.create=function Nf(f,v){var I=Ys(f);return null==v?I:Wo(I,v)},de.curry=function ci(f,v,I){var q=Mu(f,8,M,M,M,M,M,v=I?M:v);return q.placeholder=ci.placeholder,q},de.curryRight=function If(f,v,I){var q=Mu(f,16,M,M,M,M,M,v=I?M:v);return q.placeholder=If.placeholder,q},de.debounce=Af,de.defaults=kg,de.defaultsDeep=Lg,de.defer=xd,de.delay=cy,de.difference=vf,de.differenceBy=ay,de.differenceWith=Nm,de.drop=function F_(f,v,I){var q=null==f?0:f.length;return q?Da(f,(v=I||v===M?1:di(v))<0?0:v,q):[]},de.dropRight=function ca(f,v,I){var q=null==f?0:f.length;return q?Da(f,0,(v=q-(v=I||v===M?1:di(v)))<0?0:v):[]},de.dropRightWhile=function Om(f,v){return f&&f.length?re(f,Wr(v,3),!0,!0):[]},de.dropWhile=function Rm(f,v){return f&&f.length?re(f,Wr(v,3),!0):[]},de.fill=function uy(f,v,I,q){var te=null==f?0:f.length;return te?(I&&"number"!=typeof I&&Eo(f,v,I)&&(I=0,q=te),function xr(f,v,I,q){var te=f.length;for((I=di(I))<0&&(I=-I>te?0:te+I),(q=q===M||q>te?te:di(q))<0&&(q+=te),q=I>q?0:Op(q);I<q;)f[I++]=v;return f}(f,v,I,q)):[]},de.filter=function fc(f,v){return(oi(f)?fn:kr)(f,Wr(v,3))},de.flatMap=function ih(f,v){return ts(Ku(f,v),1)},de.flatMapDeep=function Sg(f,v){return ts(Ku(f,v),Ft)},de.flatMapDepth=function Bh(f,v,I){return I=I===M?1:di(I),ts(Ku(f,v),I)},de.flatten=zo,de.flattenDeep=function Eg(f){return null!=f&&f.length?ts(f,Ft):[]},de.flattenDepth=function Ou(f,v){return null!=f&&f.length?ts(f,v=v===M?1:di(v)):[]},de.flip=function dy(f){return Mu(f,512)},de.flow=Up,de.flowRight=Qu,de.fromPairs=function zs(f){for(var v=-1,I=null==f?0:f.length,q={};++v<I;){var te=f[v];q[te[0]]=te[1]}return q},de.functions=function Bg(f){return null==f?[]:No(f,fa(f))},de.functionsIn=function Rp(f){return null==f?[]:No(f,La(f))},de.groupBy=G_,de.initial=function Qs(f){return null!=f&&f.length?Da(f,0,-1):[]},de.intersection=qo,de.intersectionBy=Pm,de.intersectionWith=co,de.invert=ov,de.invertBy=Kh,de.invokeMap=Uh,de.iteratee=Uf,de.keyBy=W_,de.keys=fa,de.keysIn=La,de.map=Ku,de.mapKeys=function Fc(f,v){var I={};return v=Wr(v,3),bi(f,function(q,te,ye){au(I,v(q,te,ye),q)}),I},de.mapValues=function av(f,v){var I={};return v=Wr(v,3),bi(f,function(q,te,ye){au(I,te,v(q,te,ye))}),I},de.matches=function vl(f){return uu(Z(f,1))},de.matchesProperty=function Jg(f,v){return hf(f,Z(v,1))},de.memoize=Ip,de.merge=yy,de.mergeWith=Of,de.method=mc,de.methodOf=Pd,de.mixin=Uc,de.negate=Md,de.nthArg=function kd(f){return f=di(f),Mr(function(v){return Ml(v,f)})},de.omit=Vg,de.omitBy=function Rd(f,v){return Lp(f,Md(Wr(v)))},de.once=function Hm(f){return Vm(2,f)},de.orderBy=function Ig(f,v,I,q){return null==f?[]:(oi(v)||(v=null==v?[]:[v]),oi(I=q?M:I)||(I=null==I?[]:[I]),Th(f,v,I))},de.over=Ld,de.overArgs=hy,de.overEvery=Xh,de.overSome=Vf,de.partial=Ko,de.partialRight=Gm,de.partition=Vh,de.pick=Ym,de.pickBy=Lp,de.property=Qg,de.propertyOf=function i_(f){return function(v){return null==f?M:aa(f,v)}},de.pull=nh,de.pullAll=Mc,de.pullAllBy=function pp(f,v,I){return f&&f.length&&v&&v.length?ua(f,v,Wr(I,2)):f},de.pullAllWith=function Mi(f,v,I){return f&&f.length&&v&&v.length?ua(f,v,M,I):f},de.pullAt=rh,de.range=Xg,de.rangeRight=Vp,de.rearg=jm,de.reject=function ly(f,v){return(oi(f)?fn:kr)(f,Md(Wr(v,3)))},de.remove=function Sa(f,v){var I=[];if(!f||!f.length)return I;var q=-1,te=[],ye=f.length;for(v=Wr(v,3);++q<ye;){var Ve=f[q];v(Ve,q,f)&&(I.push(Ve),te.push(q))}return vd(f,te),I},de.rest=function xf(f,v){if("function"!=typeof f)throw new $o(Me);return Mr(f,v=v===M?v:di(v))},de.reverse=Xa,de.sampleSize=function ad(f,v,I){return v=(I?Eo(f,v,I):v===M)?1:di(v),(oi(f)?In:Ya)(f,v)},de.set=function $g(f,v,I){return null==f?f:Jl(f,v,I)},de.setWith=function Jm(f,v,I,q){return q="function"==typeof q?q:M,null==f?f:Jl(f,v,I,q)},de.shuffle=function Ag(f){return(oi(f)?ti:Pa)(f)},de.slice=function gp(f,v,I){var q=null==f?0:f.length;return q?(I&&"number"!=typeof I&&Eo(f,v,I)?(v=0,I=q):(v=null==v?0:di(v),I=I===M?q:di(I)),Da(f,v,I)):[]},de.sortBy=Dp,de.sortedUniq=function Rh(f){return f&&f.length?Ed(f):[]},de.sortedUniqBy=function Oc(f,v){return f&&f.length?Ed(f,Wr(v,2)):[]},de.split=function Ey(f,v,I){return I&&"number"!=typeof I&&Eo(f,v,I)&&(v=I=M),(I=I===M?Dn:I>>>0)?(f=xs(f))&&("string"==typeof v||null!=v&&!zh(v))&&!(v=E(v))&&ss(f)?Ja(lo(f),0,I):f.split(v,I):[]},de.spread=function Zu(f,v){if("function"!=typeof f)throw new $o(Me);return v=null==v?0:Ps(di(v),0),Mr(function(I){var q=I[v],te=Ja(I,0,v);return q&&$i(te,q),io(f,this,te)})},de.tail=function km(f){var v=null==f?0:f.length;return v?Da(f,1,v):[]},de.take=function _p(f,v,I){return f&&f.length?Da(f,0,(v=I||v===M?1:di(v))<0?0:v):[]},de.takeRight=function wg(f,v,I){var q=null==f?0:f.length;return q?Da(f,(v=q-(v=I||v===M?1:di(v)))<0?0:v,q):[]},de.takeRightWhile=function V_(f,v){return f&&f.length?re(f,Wr(v,3),!1,!0):[]},de.takeWhile=function vp(f,v){return f&&f.length?re(f,Wr(v,3)):[]},de.tap=function nc(f,v){return v(f),f},de.throttle=function xg(f,v,I){var q=!0,te=!0;if("function"!=typeof f)throw new $o(Me);return ho(I)&&(q="leading"in I?!!I.leading:q,te="trailing"in I?!!I.trailing:te),Af(f,v,{leading:q,maxWait:v,trailing:te})},de.thru=bp,de.toArray=Np,de.toPairs=ch,de.toPairsIn=Rf,de.toPath=function tm(f){return oi(f)?vr(f,Ac):Zo(f)?[f]:Qa(hr(xs(f)))},de.toPlainObject=Od,de.transform=function Pf(f,v,I){var q=oi(f),te=q||Nd(f)||uh(f);if(v=Wr(v,4),null==I){var ye=f&&f.constructor;I=te?q?new ye:[]:ho(f)&&Pl(ye)?Ys(Ai(f)):{}}return(te?Vr:bi)(f,function(Ve,Je,gt){return v(I,Ve,Je,gt)}),I},de.unary=function Xs(f){return Df(f,1)},de.union=bf,de.unionBy=wi,de.unionWith=Lm,de.uniq=function Ph(f){return f&&f.length?C(f):[]},de.uniqBy=function kh(f,v){return f&&f.length?C(f,Wr(v,2)):[]},de.uniqWith=function Tg(f,v){return v="function"==typeof v?v:M,f&&f.length?C(f,M,v):[]},de.unset=function gc(f,v){return null==f||k(f,v)},de.unzip=yp,de.unzipWith=Ep,de.update=function Hg(f,v,I){return null==f?f:ne(f,v,Mt(I))},de.updateWith=function Fp(f,v,I,q){return q="function"==typeof q?q:M,null==f?f:ne(f,v,Mt(I),q)},de.values=_l,de.valuesIn=function Gg(f){return null==f?[]:j(f,La(f))},de.without=Lh,de.words=r_,de.wrap=function $h(f,v){return Ko(Mt(v),f)},de.xor=wf,de.xorBy=$_,de.xorWith=gl,de.zip=Fm,de.zipObject=function Rc(f,v){return kt(f||[],v||[],_o)},de.zipObjectDeep=function hc(f,v){return kt(f||[],v||[],Jl)},de.zipWith=Cg,de.entries=ch,de.entriesIn=Rf,de.extend=Pg,de.extendWith=Fl,Uc(de,de),de.add=mv,de.attempt=Bf,de.camelCase=Bl,de.capitalize=Zh,de.ceil=o_,de.clamp=function kf(f,v,I){return I===M&&(I=v,v=M),I!==M&&(I=(I=kl(I))==I?I:0),v!==M&&(v=(v=kl(v))==v?v:0),z(kl(f),v,I)},de.clone=function fy(f){return Z(f,4)},de.cloneDeep=function py(f){return Z(f,5)},de.cloneDeepWith=function Y_(f,v){return Z(f,5,v="function"==typeof v?v:M)},de.cloneWith=function Z_(f,v){return Z(f,4,v="function"==typeof v?v:M)},de.conformsTo=function Hh(f,v){return null==v||Fe(f,v,fa(v))},de.deburr=Lf,de.defaultTo=function cd(f,v){return null==f||f!=f?v:f},de.divide=nm,de.endsWith=function Xm(f,v,I){f=xs(f),v=E(v);var q=f.length,te=I=I===M?q:z(di(I),0,q);return(I-=v.length)>=0&&f.slice(I,te)==v},de.eq=rc,de.escape=function e_(f){return(f=xs(f))&&Yt.test(f)?f.replace(gn,Es):f},de.escapeRegExp=function dh(f){return(f=xs(f))&&Et.test(f)?f.replace(Ae,"\\$&"):f},de.every=function Pc(f,v,I){var q=oi(f)?ms:Kn;return I&&Eo(f,v,I)&&(v=M),q(f,Wr(v,3))},de.find=Cf,de.findIndex=sd,de.findKey=function ud(f,v){return Qi(f,Wr(v,3),bi)},de.findLast=H_,de.findLastIndex=B_,de.findLastKey=function qm(f,v){return Qi(f,Wr(v,3),zu)},de.floor=rm,de.forEach=Fs,de.forEachRight=os,de.forIn=function Fg(f,v){return null==f?f:Js(f,Wr(v,3),La)},de.forInRight=function Km(f,v){return null==f?f:cl(f,Wr(v,3),La)},de.forOwn=function Zm(f,v){return f&&bi(f,Wr(v,3))},de.forOwnRight=function sv(f,v){return f&&zu(f,Wr(v,3))},de.get=pu,de.gt=gy,de.gte=kc,de.has=function Pp(f,v){return null!=f&&cp(f,v,vh)},de.hasIn=kp,de.head=U_,de.identity=Yo,de.includes=function j_(f,v,I,q){f=ml(f)?f:_l(f),I=I&&!q?di(I):0;var te=f.length;return I<0&&(I=Ps(te+I,0)),xp(f)?I<=te&&f.indexOf(v,I)>-1:!!te&&Si(f,v,I)>-1},de.indexOf=function yf(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=null==I?0:di(I);return te<0&&(te=Ps(q+te,0)),Si(f,v,te)},de.inRange=function jg(f,v,I){return v=fo(v),I===M?(I=v,v=0):I=fo(I),function _d(f,v,I){return f>=Is(v,I)&&f<Ps(v,I)}(f=kl(f),v,I)},de.invoke=Ug,de.isArguments=Yu,de.isArray=oi,de.isArrayBuffer=Mg,de.isArrayLike=ml,de.isArrayLikeObject=da,de.isBoolean=function my(f){return!0===f||!1===f||ha(f)&&Ka(f)==rs},de.isBuffer=Nd,de.isDate=oh,de.isElement=function Mf(f){return ha(f)&&1===f.nodeType&&!Wh(f)},de.isEmpty=function J_(f){if(null==f)return!0;if(ml(f)&&(oi(f)||"string"==typeof f||"function"==typeof f.splice||Nd(f)||uh(f)||Yu(f)))return!f.length;var v=ko(f);if(v==Br||v==br)return!f.size;if(gf(f))return!df(f).length;for(var I in f)if(wr.call(f,I))return!1;return!0},de.isEqual=function Q_(f,v){return xl(f,v)},de.isEqualWith=function Ju(f,v,I){var q=(I="function"==typeof I?I:M)?I(f,v):M;return q===M?xl(f,v,M,I):!!q},de.isError=fu,de.isFinite=function Ng(f){return"number"==typeof f&&ja(f)},de.isFunction=Pl,de.isInteger=Lc,de.isLength=ah,de.isMap=Gh,de.isMatch=function Wm(f,v){return f===v||Yc(f,v,Dd(v))},de.isMatchWith=function X_(f,v,I){return I="function"==typeof I?I:M,Yc(f,v,Dd(v),I)},de.isNaN=function ev(f){return jh(f)&&f!=+f},de.isNative=function _y(f){if(pf(f))throw new Ar("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cm(f)},de.isNil=function Og(f){return null==f},de.isNull=function tv(f){return null===f},de.isNumber=jh,de.isObject=ho,de.isObjectLike=ha,de.isPlainObject=Wh,de.isRegExp=zh,de.isSafeInteger=function zm(f){return Lc(f)&&f>=-pn&&f<=pn},de.isSet=Ap,de.isString=xp,de.isSymbol=Zo,de.isTypedArray=uh,de.isUndefined=function Mp(f){return f===M},de.isWeakMap=function nv(f){return ha(f)&&ko(f)==jr},de.isWeakSet=function Rg(f){return ha(f)&&"[object WeakSet]"==Ka(f)},de.join=function Ef(f,v){return null==f?"":Wa.call(f,v)},de.kebabCase=Ff,de.last=hu,de.lastIndexOf=function cc(f,v,I){var q=null==f?0:f.length;if(!q)return-1;var te=q;return I!==M&&(te=(te=di(I))<0?Ps(q+te,0):Is(te,q-1)),v==v?function wu(ze,xt,ht){for(var Bn=ht+1;Bn--;)if(ze[Bn]===xt)return Bn;return Bn}(f,v,te):bu(f,Vo,te,!0)},de.lowerCase=lv,de.lowerFirst=Yh,de.lt=rv,de.lte=vy,de.max=function a_(f){return f&&f.length?er(f,Yo,_h):M},de.maxBy=function im(f,v){return f&&f.length?er(f,Wr(v,2),_h):M},de.mean=function Gf(f){return Ir(f,Yo)},de.meanBy=function vc(f,v){return Ir(f,Wr(v,2))},de.min=function u_(f){return f&&f.length?er(f,Yo,bh):M},de.minBy=function jf(f,v){return f&&f.length?er(f,Wr(v,2),bh):M},de.stubArray=$p,de.stubFalse=em,de.stubObject=function s_(){return{}},de.stubString=function Ty(){return""},de.stubTrue=function $f(){return!0},de.multiply=ef,de.nth=function Nh(f,v){return f&&f.length?Ml(f,di(v)):M},de.noConflict=function dd(){return is._===this&&(is._=Be),this},de.noop=_c,de.now=sh,de.pad=function Wg(f,v,I){f=xs(f);var q=(v=di(v))?Vu(f):0;if(!v||q>=v)return f;var te=(v-q)/2;return ed(zl(te),I)+f+ed(ou(te),I)},de.padEnd=function hh(f,v,I){f=xs(f);var q=(v=di(v))?Vu(f):0;return v&&q<v?f+ed(v-q,I):f},de.padStart=function zg(f,v,I){f=xs(f);var q=(v=di(v))?Vu(f):0;return v&&q<v?ed(v-q,I)+f:f},de.parseInt=function Bc(f,v,I){return I||null==v?v=0:v&&(v=+v),qc(xs(f).replace(qt,""),v||0)},de.random=function Qm(f,v,I){if(I&&"boolean"!=typeof I&&Eo(f,v,I)&&(v=I=M),I===M&&("boolean"==typeof v?(I=v,v=M):"boolean"==typeof f&&(I=f,f=M)),f===M&&v===M?(f=0,v=1):(f=fo(f),v===M?(v=f,f=0):v=fo(v)),f>v){var q=f;f=v,v=q}if(I||f%1||v%1){var te=ia();return Is(f+te*(v-f+Ha("1e-"+((te+"").length-1))),v)}return Nl(f,v)},de.reduce=function z_(f,v,I){var q=oi(f)?hs:Ss,te=arguments.length<3;return q(f,Wr(v,4),I,te,tn)},de.reduceRight=function pc(f,v,I){var q=oi(f)?ea:Ss,te=arguments.length<3;return q(f,Wr(v,4),I,te,Un)},de.repeat=function cv(f,v,I){return v=(I?Eo(f,v,I):v===M)?1:di(v),yd(xs(f),v)},de.replace=function t_(){var f=arguments,v=xs(f[0]);return f.length<3?v:v.replace(f[1],f[2])},de.result=function uv(f,v,I){var q=-1,te=(v=Sr(v,f)).length;for(te||(te=1,f=M);++q<te;){var ye=null==f?M:f[Ac(v[q])];ye===M&&(q=te,ye=I),f=Pl(ye)?ye.call(f):ye}return f},de.round=Wf,de.runInContext=ze,de.sample=function Cp(f){return(oi(f)?$n:qd)(f)},de.size=function li(f){if(null==f)return 0;if(ml(f))return xp(f)?Vu(f):f.length;var v=ko(f);return v==Br||v==br?f.size:df(f).length},de.snakeCase=dv,de.some=function q_(f,v,I){var q=oi(f)?Uo:Oo;return I&&Eo(f,v,I)&&(v=M),q(f,Wr(v,3))},de.sortedIndex=function Nc(f,v){return qu(f,v)},de.sortedIndexBy=function bg(f,v,I){return Ol(f,v,Wr(I,2))},de.sortedIndexOf=function Oh(f,v){var I=null==f?0:f.length;if(I){var q=qu(f,v);if(q<I&&rc(f[q],v))return q}return-1},de.sortedLastIndex=function dc(f,v){return qu(f,v,!0)},de.sortedLastIndexBy=function pl(f,v,I){return Ol(f,v,Wr(I,2),!0)},de.sortedLastIndexOf=function mp(f,v){if(null!=f&&f.length){var q=qu(f,v,!0)-1;if(rc(f[q],v))return q}return-1},de.startCase=by,de.startsWith=function qg(f,v,I){return f=xs(f),I=null==I?0:z(di(I),0,f.length),v=E(v),f.slice(I,I+v.length)==v},de.subtract=zf,de.sum=function Hp(f){return f&&f.length?ya(f,Yo):0},de.sumBy=function sm(f,v){return f&&f.length?ya(f,Wr(v,2)):0},de.template=function hv(f,v,I){var q=de.templateSettings;I&&Eo(f,v,I)&&(v=M),f=xs(f),v=Fl({},v,q,Cd);var Je,gt,te=Fl({},v.imports,q.imports,Cd),ye=fa(te),Ve=j(te,ye),Qt=0,nn=v.interpolate||ws,ln="__p += '",kn=So((v.escape||ws).source+"|"+nn.source+"|"+(nn===Se?wn:ws).source+"|"+(v.evaluate||ws).source+"|$","g"),gr="//# sourceURL="+(wr.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ec+"]")+"\n";f.replace(kn,function(Lr,Ki,as,gu,mu,Ia){return as||(as=gu),ln+=f.slice(Qt,Ia).replace(ii,Ea),Ki&&(Je=!0,ln+="' +\n__e("+Ki+") +\n'"),mu&&(gt=!0,ln+="';\n"+mu+";\n__p += '"),as&&(ln+="' +\n((__t = ("+as+")) == null ? '' : __t) +\n'"),Qt=Ia+Lr.length,Lr}),ln+="';\n";var Hr=wr.call(v,"variable")&&v.variable;if(Hr){if(Wt.test(Hr))throw new Ar("Invalid `variable` option passed into `_.template`")}else ln="with (obj) {\n"+ln+"\n}\n";ln=(gt?ln.replace(ls,""):ln).replace(gi,"$1").replace(rn,"$1;"),ln="function("+(Hr||"obj")+") {\n"+(Hr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Je?", __e = _.escape":"")+(gt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ln+"return __p\n}";var Ni=Bf(function(){return Li(ye,gr+"return "+ln).apply(M,Ve)});if(Ni.source=ln,fu(Ni))throw Ni;return Ni},de.times=function Hf(f,v){if((f=di(f))<1||f>pn)return[];var I=Dn,q=Is(f,Dn);v=Wr(v),f-=Dn;for(var te=nl(q,v);++I<f;)v(I);return te},de.toFinite=fo,de.toInteger=di,de.toLength=Op,de.toLower=function wy(f){return xs(f).toLowerCase()},de.toNumber=kl,de.toSafeInteger=function Ll(f){return f?z(di(f),-pn,pn):0===f?f:0},de.toString=xs,de.toUpper=function fv(f){return xs(f).toUpperCase()},de.trim=function pv(f,v,I){if((f=xs(f))&&(I||v===M))return Na(f);if(!f||!(v=E(v)))return f;var q=lo(f),te=lo(v);return Ja(q,ce(q,te),_t(q,te)+1).join("")},de.trimEnd=function Kg(f,v,I){if((f=xs(f))&&(I||v===M))return f.slice(0,Tu(f)+1);if(!f||!(v=E(v)))return f;var q=lo(f);return Ja(q,0,_t(q,lo(v))+1).join("")},de.trimStart=function Jh(f,v,I){if((f=xs(f))&&(I||v===M))return f.replace(qt,"");if(!f||!(v=E(v)))return f;var q=lo(f);return Ja(q,ce(q,lo(v))).join("")},de.truncate=function Qh(f,v){var I=30,q="...";if(ho(v)){var te="separator"in v?v.separator:te;I="length"in v?di(v.length):I,q="omission"in v?E(v.omission):q}var ye=(f=xs(f)).length;if(ss(f)){var Ve=lo(f);ye=Ve.length}if(I>=ye)return f;var Je=I-Vu(q);if(Je<1)return q;var gt=Ve?Ja(Ve,0,Je).join(""):f.slice(0,Je);if(te===M)return gt+q;if(Ve&&(Je+=gt.length-Je),zh(te)){if(f.slice(Je).search(te)){var Qt,nn=gt;for(te.global||(te=So(te.source,xs(ni.exec(te))+"g")),te.lastIndex=0;Qt=te.exec(nn);)var ln=Qt.index;gt=gt.slice(0,ln===M?Je:ln)}}else if(f.indexOf(E(te),Je)!=Je){var kn=gt.lastIndexOf(te);kn>-1&&(gt=gt.slice(0,kn))}return gt+q},de.unescape=function n_(f){return(f=xs(f))&&Vn.test(f)?f.replace(jt,rl):f},de.uniqueId=function Fd(f){var v=++B;return xs(f)+v},de.upperCase=Bp,de.upperFirst=ld,de.each=Fs,de.eachRight=os,de.first=U_,Uc(de,function(){var f={};return bi(de,function(v,I){wr.call(de.prototype,I)||(f[I]=v)}),f}(),{chain:!1}),de.VERSION="4.17.21",Vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){de[f].placeholder=de}),Vr(["drop","take"],function(f,v){Qr.prototype[f]=function(I){I=I===M?1:Ps(di(I),0);var q=this.__filtered__&&!v?new Qr(this):this.clone();return q.__filtered__?q.__takeCount__=Is(I,q.__takeCount__):q.__views__.push({size:Is(I,Dn),type:f+(q.__dir__<0?"Right":"")}),q},Qr.prototype[f+"Right"]=function(I){return this.reverse()[f](I).reverse()}}),Vr(["filter","map","takeWhile"],function(f,v){var I=v+1,q=1==I||3==I;Qr.prototype[f]=function(te){var ye=this.clone();return ye.__iteratees__.push({iteratee:Wr(te,3),type:I}),ye.__filtered__=ye.__filtered__||q,ye}}),Vr(["head","last"],function(f,v){var I="take"+(v?"Right":"");Qr.prototype[f]=function(){return this[I](1).value()[0]}}),Vr(["initial","tail"],function(f,v){var I="drop"+(v?"":"Right");Qr.prototype[f]=function(){return this.__filtered__?new Qr(this):this[I](1)}}),Qr.prototype.compact=function(){return this.filter(Yo)},Qr.prototype.find=function(f){return this.filter(f).head()},Qr.prototype.findLast=function(f){return this.reverse().find(f)},Qr.prototype.invokeMap=Mr(function(f,v){return"function"==typeof f?new Qr(this):this.map(function(I){return dl(I,f,v)})}),Qr.prototype.reject=function(f){return this.filter(Md(Wr(f)))},Qr.prototype.slice=function(f,v){f=di(f);var I=this;return I.__filtered__&&(f>0||v<0)?new Qr(I):(f<0?I=I.takeRight(-f):f&&(I=I.drop(f)),v!==M&&(I=(v=di(v))<0?I.dropRight(-v):I.take(v-f)),I)},Qr.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Qr.prototype.toArray=function(){return this.take(Dn)},bi(Qr.prototype,function(f,v){var I=/^(?:filter|find|map|reject)|While$/.test(v),q=/^(?:head|last)$/.test(v),te=de[q?"take"+("last"==v?"Right":""):v],ye=q||/^find/.test(v);te&&(de.prototype[v]=function(){var Ve=this.__wrapped__,Je=q?[1]:arguments,gt=Ve instanceof Qr,Qt=Je[0],nn=gt||oi(Ve),ln=function(Ki){var as=te.apply(de,$i([Ki],Je));return q&&kn?as[0]:as};nn&&I&&"function"==typeof Qt&&1!=Qt.length&&(gt=nn=!1);var kn=this.__chain__,gr=!!this.__actions__.length,Hr=ye&&!kn,Ni=gt&&!gr;if(!ye&&nn){Ve=Ni?Ve:new Qr(this);var Lr=f.apply(Ve,Je);return Lr.__actions__.push({func:bp,args:[ln],thisArg:M}),new sa(Lr,kn)}return Hr&&Ni?f.apply(this,Je):(Lr=this.thru(ln),Hr?q?Lr.value()[0]:Lr.value():Lr)})}),Vr(["pop","push","shift","sort","splice","unshift"],function(f){var v=jl[f],I=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",q=/^(?:pop|shift)$/.test(f);de.prototype[f]=function(){var te=arguments;if(q&&!this.__chain__){var ye=this.value();return v.apply(oi(ye)?ye:[],te)}return this[I](function(Ve){return v.apply(oi(Ve)?Ve:[],te)})}}),bi(Qr.prototype,function(f,v){var I=de[v];if(I){var q=I.name+"";wr.call(Ho,q)||(Ho[q]=[]),Ho[q].push({name:v,func:I})}}),Ho[Ih(M,2).name]=[{name:"wrapper",func:M}],Qr.prototype.clone=function Go(){var f=new Qr(this.__wrapped__);return f.__actions__=Qa(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Qa(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Qa(this.__views__),f},Qr.prototype.reverse=function ql(){if(this.__filtered__){var f=new Qr(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Qr.prototype.value=function Kl(){var f=this.__wrapped__.value(),v=this.__dir__,I=oi(f),q=v<0,te=I?f.length:0,ye=function vo(f,v,I){for(var q=-1,te=I.length;++q<te;){var ye=I[q],Ve=ye.size;switch(ye.type){case"drop":f+=Ve;break;case"dropRight":v-=Ve;break;case"take":v=Is(v,f+Ve);break;case"takeRight":f=Ps(f,v-Ve)}}return{start:f,end:v}}(0,te,this.__views__),Ve=ye.start,Je=ye.end,gt=Je-Ve,Qt=q?Je:Ve-1,nn=this.__iteratees__,ln=nn.length,kn=0,gr=Is(gt,this.__takeCount__);if(!I||!q&&te==gt&&gr==gt)return He(f,this.__actions__);var Hr=[];e:for(;gt--&&kn<gr;){for(var Ni=-1,Lr=f[Qt+=v];++Ni<ln;){var Ki=nn[Ni],gu=Ki.type,mu=(0,Ki.iteratee)(Lr);if(2==gu)Lr=mu;else if(!mu){if(1==gu)continue e;break e}}Hr[kn++]=Lr}return Hr},de.prototype.at=Lo,de.prototype.chain=function wp(){return Fh(this)},de.prototype.commit=function Tp(){return new sa(this.value(),this.__chain__)},de.prototype.next=function Dg(){this.__values__===M&&(this.__values__=Np(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?M:this.__values__[this.__index__++]}},de.prototype.plant=function Tf(f){for(var v,I=this;I instanceof xo;){var q=fp(I);q.__index__=0,q.__values__=M,v?te.__wrapped__=q:v=q;var te=q;I=I.__wrapped__}return te.__wrapped__=f,v},de.prototype.reverse=function Um(){var f=this.__wrapped__;if(f instanceof Qr){var v=f;return this.__actions__.length&&(v=new Qr(this)),(v=v.reverse()).__actions__.push({func:bp,args:[Xa],thisArg:M}),new sa(v,this.__chain__)}return this.thru(Xa)},de.prototype.toJSON=de.prototype.valueOf=de.prototype.value=function od(){return He(this.__wrapped__,this.__actions__)},de.prototype.first=de.prototype.head,Ao&&(de.prototype[Ao]=function Bm(){return this}),de}();is._=Cu,(w=function(){return Cu}.call(be,F,be,je))!==M&&(je.exports=w)}.call(this)},1135:(je,be,F)=>{"use strict";F.d(be,{X:()=>M});var w=F(7579);class M extends w.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const me=super._subscribe(pe);return!me.closed&&pe.next(this._value),me}getValue(){const{hasError:pe,thrownError:me,_value:Me}=this;if(pe)throw me;return this._throwIfClosed(),Me}next(pe){super.next(this._value=pe)}}},9751:(je,be,F)=>{"use strict";F.d(be,{y:()=>_e});var w=F(930),M=F(727),l=F(8822),pe=F(9635),me=F(2416),Me=F(576),Ie=F(2806);let _e=(()=>{class Ne{constructor(tt){tt&&(this._subscribe=tt)}lift(tt){const bt=new Ne;return bt.source=this,bt.operator=tt,bt}subscribe(tt,bt,ft){const Ye=function we(Ne){return Ne&&Ne instanceof w.Lv||function ge(Ne){return Ne&&(0,Me.m)(Ne.next)&&(0,Me.m)(Ne.error)&&(0,Me.m)(Ne.complete)}(Ne)&&(0,M.Nn)(Ne)}(tt)?tt:new w.Hp(tt,bt,ft);return(0,Ie.x)(()=>{const{operator:lt,source:ut}=this;Ye.add(lt?lt.call(Ye,ut):ut?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(tt){try{return this._subscribe(tt)}catch(bt){tt.error(bt)}}forEach(tt,bt){return new(bt=Ee(bt))((ft,Ye)=>{const lt=new w.Hp({next:ut=>{try{tt(ut)}catch(Ct){Ye(Ct),lt.unsubscribe()}},error:Ye,complete:ft});this.subscribe(lt)})}_subscribe(tt){var bt;return null===(bt=this.source)||void 0===bt?void 0:bt.subscribe(tt)}[l.L](){return this}pipe(...tt){return(0,pe.U)(tt)(this)}toPromise(tt){return new(tt=Ee(tt))((bt,ft)=>{let Ye;this.subscribe(lt=>Ye=lt,lt=>ft(lt),()=>bt(Ye))})}}return Ne.create=dt=>new Ne(dt),Ne})();function Ee(Ne){var dt;return null!==(dt=Ne??me.v.Promise)&&void 0!==dt?dt:Promise}},4707:(je,be,F)=>{"use strict";F.d(be,{t:()=>l});var w=F(7579),M=F(6063);class l extends w.x{constructor(me=1/0,Me=1/0,Ie=M.l){super(),this._bufferSize=me,this._windowTime=Me,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Me===1/0,this._bufferSize=Math.max(1,me),this._windowTime=Math.max(1,Me)}next(me){const{isStopped:Me,_buffer:Ie,_infiniteTimeWindow:_e,_timestampProvider:Ee,_windowTime:ge}=this;Me||(Ie.push(me),!_e&&Ie.push(Ee.now()+ge)),this._trimBuffer(),super.next(me)}_subscribe(me){this._throwIfClosed(),this._trimBuffer();const Me=this._innerSubscribe(me),{_infiniteTimeWindow:Ie,_buffer:_e}=this,Ee=_e.slice();for(let ge=0;ge<Ee.length&&!me.closed;ge+=Ie?1:2)me.next(Ee[ge]);return this._checkFinalizedStatuses(me),Me}_trimBuffer(){const{_bufferSize:me,_timestampProvider:Me,_buffer:Ie,_infiniteTimeWindow:_e}=this,Ee=(_e?1:2)*me;if(me<1/0&&Ee<Ie.length&&Ie.splice(0,Ie.length-Ee),!_e){const ge=Me.now();let we=0;for(let Ne=1;Ne<Ie.length&&Ie[Ne]<=ge;Ne+=2)we=Ne;we&&Ie.splice(0,we+1)}}}},7579:(je,be,F)=>{"use strict";F.d(be,{x:()=>Ie});var w=F(9751),M=F(727);const pe=(0,F(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=F(8737),Me=F(2806);let Ie=(()=>{class Ee extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(we){const Ne=new _e(this,this);return Ne.operator=we,Ne}_throwIfClosed(){if(this.closed)throw new pe}next(we){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(we)}})}error(we){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=we;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(we)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:we}=this;for(;we.length;)we.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var we;return(null===(we=this.observers)||void 0===we?void 0:we.length)>0}_trySubscribe(we){return this._throwIfClosed(),super._trySubscribe(we)}_subscribe(we){return this._throwIfClosed(),this._checkFinalizedStatuses(we),this._innerSubscribe(we)}_innerSubscribe(we){const{hasError:Ne,isStopped:dt,observers:tt}=this;return Ne||dt?M.Lc:(this.currentObservers=null,tt.push(we),new M.w0(()=>{this.currentObservers=null,(0,me.P)(tt,we)}))}_checkFinalizedStatuses(we){const{hasError:Ne,thrownError:dt,isStopped:tt}=this;Ne?we.error(dt):tt&&we.complete()}asObservable(){const we=new w.y;return we.source=this,we}}return Ee.create=(ge,we)=>new _e(ge,we),Ee})();class _e extends Ie{constructor(ge,we){super(),this.destination=ge,this.source=we}next(ge){var we,Ne;null===(Ne=null===(we=this.destination)||void 0===we?void 0:we.next)||void 0===Ne||Ne.call(we,ge)}error(ge){var we,Ne;null===(Ne=null===(we=this.destination)||void 0===we?void 0:we.error)||void 0===Ne||Ne.call(we,ge)}complete(){var ge,we;null===(we=null===(ge=this.destination)||void 0===ge?void 0:ge.complete)||void 0===we||we.call(ge)}_subscribe(ge){var we,Ne;return null!==(Ne=null===(we=this.source)||void 0===we?void 0:we.subscribe(ge))&&void 0!==Ne?Ne:M.Lc}}},930:(je,be,F)=>{"use strict";F.d(be,{Hp:()=>ft,Lv:()=>Ne});var w=F(576),M=F(727),l=F(2416),pe=F(7849),me=F(5032);const Me=Ee("C",void 0,void 0);function Ee(vt,Nt,Dt){return{kind:vt,value:Nt,error:Dt}}var ge=F(3410),we=F(2806);class Ne extends M.w0{constructor(Nt){super(),this.isStopped=!1,Nt?(this.destination=Nt,(0,M.Nn)(Nt)&&Nt.add(this)):this.destination=Ct}static create(Nt,Dt,$t){return new ft(Nt,Dt,$t)}next(Nt){this.isStopped?ut(function _e(vt){return Ee("N",vt,void 0)}(Nt),this):this._next(Nt)}error(Nt){this.isStopped?ut(function Ie(vt){return Ee("E",void 0,vt)}(Nt),this):(this.isStopped=!0,this._error(Nt))}complete(){this.isStopped?ut(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Nt){this.destination.next(Nt)}_error(Nt){try{this.destination.error(Nt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function tt(vt,Nt){return dt.call(vt,Nt)}class bt{constructor(Nt){this.partialObserver=Nt}next(Nt){const{partialObserver:Dt}=this;if(Dt.next)try{Dt.next(Nt)}catch($t){Ye($t)}}error(Nt){const{partialObserver:Dt}=this;if(Dt.error)try{Dt.error(Nt)}catch($t){Ye($t)}else Ye(Nt)}complete(){const{partialObserver:Nt}=this;if(Nt.complete)try{Nt.complete()}catch(Dt){Ye(Dt)}}}class ft extends Ne{constructor(Nt,Dt,$t){let Ze;if(super(),(0,w.m)(Nt)||!Nt)Ze={next:Nt??void 0,error:Dt??void 0,complete:$t??void 0};else{let pt;this&&l.v.useDeprecatedNextContext?(pt=Object.create(Nt),pt.unsubscribe=()=>this.unsubscribe(),Ze={next:Nt.next&&tt(Nt.next,pt),error:Nt.error&&tt(Nt.error,pt),complete:Nt.complete&&tt(Nt.complete,pt)}):Ze=Nt}this.destination=new bt(Ze)}}function Ye(vt){l.v.useDeprecatedSynchronousErrorHandling?(0,we.O)(vt):(0,pe.h)(vt)}function ut(vt,Nt){const{onStoppedNotification:Dt}=l.v;Dt&&ge.z.setTimeout(()=>Dt(vt,Nt))}const Ct={closed:!0,next:me.Z,error:function lt(vt){throw vt},complete:me.Z}},727:(je,be,F)=>{"use strict";F.d(be,{Lc:()=>Me,w0:()=>me,Nn:()=>Ie});var w=F(576);const l=(0,F(3888).d)(Ee=>function(we){Ee(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((Ne,dt)=>`${dt+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we});var pe=F(8737);class me{constructor(ge){this.initialTeardown=ge,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ge;if(!this.closed){this.closed=!0;const{_parentage:we}=this;if(we)if(this._parentage=null,Array.isArray(we))for(const tt of we)tt.remove(this);else we.remove(this);const{initialTeardown:Ne}=this;if((0,w.m)(Ne))try{Ne()}catch(tt){ge=tt instanceof l?tt.errors:[tt]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const tt of dt)try{_e(tt)}catch(bt){ge=ge??[],bt instanceof l?ge=[...ge,...bt.errors]:ge.push(bt)}}if(ge)throw new l(ge)}}add(ge){var we;if(ge&&ge!==this)if(this.closed)_e(ge);else{if(ge instanceof me){if(ge.closed||ge._hasParent(this))return;ge._addParent(this)}(this._finalizers=null!==(we=this._finalizers)&&void 0!==we?we:[]).push(ge)}}_hasParent(ge){const{_parentage:we}=this;return we===ge||Array.isArray(we)&&we.includes(ge)}_addParent(ge){const{_parentage:we}=this;this._parentage=Array.isArray(we)?(we.push(ge),we):we?[we,ge]:ge}_removeParent(ge){const{_parentage:we}=this;we===ge?this._parentage=null:Array.isArray(we)&&(0,pe.P)(we,ge)}remove(ge){const{_finalizers:we}=this;we&&(0,pe.P)(we,ge),ge instanceof me&&ge._removeParent(this)}}me.EMPTY=(()=>{const Ee=new me;return Ee.closed=!0,Ee})();const Me=me.EMPTY;function Ie(Ee){return Ee instanceof me||Ee&&"closed"in Ee&&(0,w.m)(Ee.remove)&&(0,w.m)(Ee.add)&&(0,w.m)(Ee.unsubscribe)}function _e(Ee){(0,w.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(je,be,F)=>{"use strict";F.d(be,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(je,be,F)=>{"use strict";F.d(be,{c:()=>Me});var w=F(9751),M=F(727),l=F(8343),pe=F(5403),me=F(4482);class Me extends w.y{constructor(_e,Ee){super(),this.source=_e,this.subjectFactory=Ee,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(_e)&&(this.lift=_e.lift)}_subscribe(_e){return this.getSubject().subscribe(_e)}getSubject(){const _e=this._subject;return(!_e||_e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_e}=this;this._subject=this._connection=null,_e?.unsubscribe()}connect(){let _e=this._connection;if(!_e){_e=this._connection=new M.w0;const Ee=this.getSubject();_e.add(this.source.subscribe((0,pe.x)(Ee,void 0,()=>{this._teardown(),Ee.complete()},ge=>{this._teardown(),Ee.error(ge)},()=>this._teardown()))),_e.closed&&(this._connection=null,_e=M.w0.EMPTY)}return _e}refCount(){return(0,l.x)()(this)}}},9841:(je,be,F)=>{"use strict";F.d(be,{a:()=>ge});var w=F(9751),M=F(4742),l=F(8996),pe=F(4671),me=F(3268),Me=F(3269),Ie=F(1810),_e=F(5403),Ee=F(9672);function ge(...dt){const tt=(0,Me.yG)(dt),bt=(0,Me.jO)(dt),{args:ft,keys:Ye}=(0,M.D)(dt);if(0===ft.length)return(0,l.D)([],tt);const lt=new w.y(function we(dt,tt,bt=pe.y){return ft=>{Ne(tt,()=>{const{length:Ye}=dt,lt=new Array(Ye);let ut=Ye,Ct=Ye;for(let vt=0;vt<Ye;vt++)Ne(tt,()=>{const Nt=(0,l.D)(dt[vt],tt);let Dt=!1;Nt.subscribe((0,_e.x)(ft,$t=>{lt[vt]=$t,Dt||(Dt=!0,Ct--),Ct||ft.next(bt(lt.slice()))},()=>{--ut||ft.complete()}))},ft)},ft)}}(ft,tt,Ye?ut=>(0,Ie.n)(Ye,ut):pe.y));return bt?lt.pipe((0,me.Z)(bt)):lt}function Ne(dt,tt,bt){dt?(0,Ee.f)(bt,dt,tt):tt()}},7272:(je,be,F)=>{"use strict";F.d(be,{z:()=>me});var w=F(8189),l=F(3269),pe=F(8996);function me(...Me){return function M(){return(0,w.J)(1)}()((0,pe.D)(Me,(0,l.yG)(Me)))}},9770:(je,be,F)=>{"use strict";F.d(be,{P:()=>l});var w=F(9751),M=F(8421);function l(pe){return new w.y(me=>{(0,M.Xf)(pe()).subscribe(me)})}},515:(je,be,F)=>{"use strict";F.d(be,{E:()=>M});const M=new(F(9751).y)(me=>me.complete())},8996:(je,be,F)=>{"use strict";F.d(be,{D:()=>Nt});var w=F(8421),M=F(5363),l=F(9468),Me=F(9751),_e=F(2202),Ee=F(576),ge=F(9672);function Ne(Dt,$t){if(!Dt)throw new Error("Iterable cannot be null");return new Me.y(Ze=>{(0,ge.f)(Ze,$t,()=>{const pt=Dt[Symbol.asyncIterator]();(0,ge.f)(Ze,$t,()=>{pt.next().then(Vt=>{Vt.done?Ze.complete():Ze.next(Vt.value)})},0,!0)})})}var dt=F(3670),tt=F(8239),bt=F(1144),ft=F(6495),Ye=F(2206),lt=F(4532),ut=F(3260);function Nt(Dt,$t){return $t?function vt(Dt,$t){if(null!=Dt){if((0,dt.c)(Dt))return function pe(Dt,$t){return(0,w.Xf)(Dt).pipe((0,l.R)($t),(0,M.Q)($t))}(Dt,$t);if((0,bt.z)(Dt))return function Ie(Dt,$t){return new Me.y(Ze=>{let pt=0;return $t.schedule(function(){pt===Dt.length?Ze.complete():(Ze.next(Dt[pt++]),Ze.closed||this.schedule())})})}(Dt,$t);if((0,tt.t)(Dt))return function me(Dt,$t){return(0,w.Xf)(Dt).pipe((0,l.R)($t),(0,M.Q)($t))}(Dt,$t);if((0,Ye.D)(Dt))return Ne(Dt,$t);if((0,ft.T)(Dt))return function we(Dt,$t){return new Me.y(Ze=>{let pt;return(0,ge.f)(Ze,$t,()=>{pt=Dt[_e.h](),(0,ge.f)(Ze,$t,()=>{let Vt,We;try{({value:Vt,done:We}=pt.next())}catch(Ge){return void Ze.error(Ge)}We?Ze.complete():Ze.next(Vt)},0,!0)}),()=>(0,Ee.m)(pt?.return)&&pt.return()})}(Dt,$t);if((0,ut.L)(Dt))return function Ct(Dt,$t){return Ne((0,ut.Q)(Dt),$t)}(Dt,$t)}throw(0,lt.z)(Dt)}(Dt,$t):(0,w.Xf)(Dt)}},8421:(je,be,F)=>{"use strict";F.d(be,{Xf:()=>dt});var w=F(655),M=F(1144),l=F(8239),pe=F(9751),me=F(3670),Me=F(2206),Ie=F(4532),_e=F(6495),Ee=F(3260),ge=F(576),we=F(7849),Ne=F(8822);function dt(vt){if(vt instanceof pe.y)return vt;if(null!=vt){if((0,me.c)(vt))return function tt(vt){return new pe.y(Nt=>{const Dt=vt[Ne.L]();if((0,ge.m)(Dt.subscribe))return Dt.subscribe(Nt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(vt);if((0,M.z)(vt))return function bt(vt){return new pe.y(Nt=>{for(let Dt=0;Dt<vt.length&&!Nt.closed;Dt++)Nt.next(vt[Dt]);Nt.complete()})}(vt);if((0,l.t)(vt))return function ft(vt){return new pe.y(Nt=>{vt.then(Dt=>{Nt.closed||(Nt.next(Dt),Nt.complete())},Dt=>Nt.error(Dt)).then(null,we.h)})}(vt);if((0,Me.D)(vt))return lt(vt);if((0,_e.T)(vt))return function Ye(vt){return new pe.y(Nt=>{for(const Dt of vt)if(Nt.next(Dt),Nt.closed)return;Nt.complete()})}(vt);if((0,Ee.L)(vt))return function ut(vt){return lt((0,Ee.Q)(vt))}(vt)}throw(0,Ie.z)(vt)}function lt(vt){return new pe.y(Nt=>{(function Ct(vt,Nt){var Dt,$t,Ze,pt;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Dt=(0,w.KL)(vt);!($t=yield Dt.next()).done;)if(Nt.next($t.value),Nt.closed)return}catch(Vt){Ze={error:Vt}}finally{try{$t&&!$t.done&&(pt=Dt.return)&&(yield pt.call(Dt))}finally{if(Ze)throw Ze.error}}Nt.complete()})})(vt,Nt).catch(Dt=>Nt.error(Dt))})}},6451:(je,be,F)=>{"use strict";F.d(be,{T:()=>Me});var w=F(8189),M=F(8421),l=F(515),pe=F(3269),me=F(8996);function Me(...Ie){const _e=(0,pe.yG)(Ie),Ee=(0,pe._6)(Ie,1/0),ge=Ie;return ge.length?1===ge.length?(0,M.Xf)(ge[0]):(0,w.J)(Ee)((0,me.D)(ge,_e)):l.E}},9646:(je,be,F)=>{"use strict";F.d(be,{of:()=>l});var w=F(3269),M=F(8996);function l(...pe){const me=(0,w.yG)(pe);return(0,M.D)(pe,me)}},2843:(je,be,F)=>{"use strict";F.d(be,{_:()=>l});var w=F(9751),M=F(576);function l(pe,me){const Me=(0,M.m)(pe)?pe:()=>pe,Ie=_e=>_e.error(Me());return new w.y(me?_e=>me.schedule(Ie,0,_e):Ie)}},5403:(je,be,F)=>{"use strict";F.d(be,{Q:()=>l,x:()=>M});var w=F(930);function M(pe,me,Me,Ie,_e){return new l(pe,me,Me,Ie,_e)}class l extends w.Lv{constructor(me,Me,Ie,_e,Ee,ge){super(me),this.onFinalize=Ee,this.shouldUnsubscribe=ge,this._next=Me?function(we){try{Me(we)}catch(Ne){me.error(Ne)}}:super._next,this._error=_e?function(we){try{_e(we)}catch(Ne){me.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(we){me.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},262:(je,be,F)=>{"use strict";F.d(be,{K:()=>pe});var w=F(8421),M=F(5403),l=F(4482);function pe(me){return(0,l.e)((Me,Ie)=>{let ge,_e=null,Ee=!1;_e=Me.subscribe((0,M.x)(Ie,void 0,void 0,we=>{ge=(0,w.Xf)(me(we,pe(me)(Me))),_e?(_e.unsubscribe(),_e=null,ge.subscribe(Ie)):Ee=!0})),Ee&&(_e.unsubscribe(),_e=null,ge.subscribe(Ie))})}},4351:(je,be,F)=>{"use strict";F.d(be,{b:()=>l});var w=F(5577),M=F(576);function l(pe,me){return(0,M.m)(me)?(0,w.z)(pe,me,1):(0,w.z)(pe,1)}},8372:(je,be,F)=>{"use strict";F.d(be,{b:()=>pe});var w=F(4986),M=F(4482),l=F(5403);function pe(me,Me=w.z){return(0,M.e)((Ie,_e)=>{let Ee=null,ge=null,we=null;const Ne=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const tt=ge;ge=null,_e.next(tt)}};function dt(){const tt=we+me,bt=Me.now();if(bt<tt)return Ee=this.schedule(void 0,tt-bt),void _e.add(Ee);Ne()}Ie.subscribe((0,l.x)(_e,tt=>{ge=tt,we=Me.now(),Ee||(Ee=Me.schedule(dt,me),_e.add(Ee))},()=>{Ne(),_e.complete()},void 0,()=>{ge=Ee=null}))})}},6590:(je,be,F)=>{"use strict";F.d(be,{d:()=>l});var w=F(4482),M=F(5403);function l(pe){return(0,w.e)((me,Me)=>{let Ie=!1;me.subscribe((0,M.x)(Me,_e=>{Ie=!0,Me.next(_e)},()=>{Ie||Me.next(pe),Me.complete()}))})}},1884:(je,be,F)=>{"use strict";F.d(be,{x:()=>pe});var w=F(4671),M=F(4482),l=F(5403);function pe(Me,Ie=w.y){return Me=Me??me,(0,M.e)((_e,Ee)=>{let ge,we=!0;_e.subscribe((0,l.x)(Ee,Ne=>{const dt=Ie(Ne);(we||!Me(ge,dt))&&(we=!1,ge=dt,Ee.next(Ne))}))})}function me(Me,Ie){return Me===Ie}},9300:(je,be,F)=>{"use strict";F.d(be,{h:()=>l});var w=F(4482),M=F(5403);function l(pe,me){return(0,w.e)((Me,Ie)=>{let _e=0;Me.subscribe((0,M.x)(Ie,Ee=>pe.call(me,Ee,_e++)&&Ie.next(Ee)))})}},8746:(je,be,F)=>{"use strict";F.d(be,{x:()=>M});var w=F(4482);function M(l){return(0,w.e)((pe,me)=>{try{pe.subscribe(me)}finally{me.add(l)}})}},590:(je,be,F)=>{"use strict";F.d(be,{P:()=>Ie});var w=F(6805),M=F(9300),l=F(5698),pe=F(6590),me=F(8068),Me=F(4671);function Ie(_e,Ee){const ge=arguments.length>=2;return we=>we.pipe(_e?(0,M.h)((Ne,dt)=>_e(Ne,dt,we)):Me.y,(0,l.q)(1),ge?(0,pe.d)(Ee):(0,me.T)(()=>new w.K))}},4004:(je,be,F)=>{"use strict";F.d(be,{U:()=>l});var w=F(4482),M=F(5403);function l(pe,me){return(0,w.e)((Me,Ie)=>{let _e=0;Me.subscribe((0,M.x)(Ie,Ee=>{Ie.next(pe.call(me,Ee,_e++))}))})}},9718:(je,be,F)=>{"use strict";F.d(be,{h:()=>M});var w=F(4004);function M(l){return(0,w.U)(()=>l)}},8189:(je,be,F)=>{"use strict";F.d(be,{J:()=>l});var w=F(5577),M=F(4671);function l(pe=1/0){return(0,w.z)(M.y,pe)}},5577:(je,be,F)=>{"use strict";F.d(be,{z:()=>_e});var w=F(4004),M=F(8421),l=F(4482),pe=F(9672),me=F(5403),Ie=F(576);function _e(Ee,ge,we=1/0){return(0,Ie.m)(ge)?_e((Ne,dt)=>(0,w.U)((tt,bt)=>ge(Ne,tt,dt,bt))((0,M.Xf)(Ee(Ne,dt))),we):("number"==typeof ge&&(we=ge),(0,l.e)((Ne,dt)=>function Me(Ee,ge,we,Ne,dt,tt,bt,ft){const Ye=[];let lt=0,ut=0,Ct=!1;const vt=()=>{Ct&&!Ye.length&&!lt&&ge.complete()},Nt=$t=>lt<Ne?Dt($t):Ye.push($t),Dt=$t=>{tt&&ge.next($t),lt++;let Ze=!1;(0,M.Xf)(we($t,ut++)).subscribe((0,me.x)(ge,pt=>{dt?.(pt),tt?Nt(pt):ge.next(pt)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(lt--;Ye.length&&lt<Ne;){const pt=Ye.shift();bt?(0,pe.f)(ge,bt,()=>Dt(pt)):Dt(pt)}vt()}catch(pt){ge.error(pt)}}))};return Ee.subscribe((0,me.x)(ge,Nt,()=>{Ct=!0,vt()})),()=>{ft?.()}}(Ne,dt,Ee,we)))}},5363:(je,be,F)=>{"use strict";F.d(be,{Q:()=>pe});var w=F(9672),M=F(4482),l=F(5403);function pe(me,Me=0){return(0,M.e)((Ie,_e)=>{Ie.subscribe((0,l.x)(_e,Ee=>(0,w.f)(_e,me,()=>_e.next(Ee),Me),()=>(0,w.f)(_e,me,()=>_e.complete(),Me),Ee=>(0,w.f)(_e,me,()=>_e.error(Ee),Me)))})}},8343:(je,be,F)=>{"use strict";F.d(be,{x:()=>l});var w=F(4482),M=F(5403);function l(){return(0,w.e)((pe,me)=>{let Me=null;pe._refCount++;const Ie=(0,M.x)(me,void 0,void 0,void 0,()=>{if(!pe||pe._refCount<=0||0<--pe._refCount)return void(Me=null);const _e=pe._connection,Ee=Me;Me=null,_e&&(!Ee||_e===Ee)&&_e.unsubscribe(),me.unsubscribe()});pe.subscribe(Ie),Ie.closed||(Me=pe.connect())})}},5026:(je,be,F)=>{"use strict";F.d(be,{R:()=>pe});var w=F(4482),M=F(5403);function l(me,Me,Ie,_e,Ee){return(ge,we)=>{let Ne=Ie,dt=Me,tt=0;ge.subscribe((0,M.x)(we,bt=>{const ft=tt++;dt=Ne?me(dt,bt,ft):(Ne=!0,bt),_e&&we.next(dt)},Ee&&(()=>{Ne&&we.next(dt),we.complete()})))}}function pe(me,Me){return(0,w.e)(l(me,Me,arguments.length>=2,!0))}},3099:(je,be,F)=>{"use strict";F.d(be,{B:()=>me});var w=F(8421),M=F(7579),l=F(930),pe=F(4482);function me(Ie={}){const{connector:_e=(()=>new M.x),resetOnError:Ee=!0,resetOnComplete:ge=!0,resetOnRefCountZero:we=!0}=Ie;return Ne=>{let dt,tt,bt,ft=0,Ye=!1,lt=!1;const ut=()=>{tt?.unsubscribe(),tt=void 0},Ct=()=>{ut(),dt=bt=void 0,Ye=lt=!1},vt=()=>{const Nt=dt;Ct(),Nt?.unsubscribe()};return(0,pe.e)((Nt,Dt)=>{ft++,!lt&&!Ye&&ut();const $t=bt=bt??_e();Dt.add(()=>{ft--,0===ft&&!lt&&!Ye&&(tt=Me(vt,we))}),$t.subscribe(Dt),!dt&&ft>0&&(dt=new l.Hp({next:Ze=>$t.next(Ze),error:Ze=>{lt=!0,ut(),tt=Me(Ct,Ee,Ze),$t.error(Ze)},complete:()=>{Ye=!0,ut(),tt=Me(Ct,ge),$t.complete()}}),(0,w.Xf)(Nt).subscribe(dt))})(Ne)}}function Me(Ie,_e,...Ee){if(!0===_e)return void Ie();if(!1===_e)return;const ge=new l.Hp({next:()=>{ge.unsubscribe(),Ie()}});return _e(...Ee).subscribe(ge)}},5684:(je,be,F)=>{"use strict";F.d(be,{T:()=>M});var w=F(9300);function M(l){return(0,w.h)((pe,me)=>l<=me)}},8675:(je,be,F)=>{"use strict";F.d(be,{O:()=>pe});var w=F(7272),M=F(3269),l=F(4482);function pe(...me){const Me=(0,M.yG)(me);return(0,l.e)((Ie,_e)=>{(Me?(0,w.z)(me,Ie,Me):(0,w.z)(me,Ie)).subscribe(_e)})}},9468:(je,be,F)=>{"use strict";F.d(be,{R:()=>M});var w=F(4482);function M(l,pe=0){return(0,w.e)((me,Me)=>{Me.add(l.schedule(()=>me.subscribe(Me),pe))})}},3900:(je,be,F)=>{"use strict";F.d(be,{w:()=>pe});var w=F(8421),M=F(4482),l=F(5403);function pe(me,Me){return(0,M.e)((Ie,_e)=>{let Ee=null,ge=0,we=!1;const Ne=()=>we&&!Ee&&_e.complete();Ie.subscribe((0,l.x)(_e,dt=>{Ee?.unsubscribe();let tt=0;const bt=ge++;(0,w.Xf)(me(dt,bt)).subscribe(Ee=(0,l.x)(_e,ft=>_e.next(Me?Me(dt,ft,bt,tt++):ft),()=>{Ee=null,Ne()}))},()=>{we=!0,Ne()}))})}},5698:(je,be,F)=>{"use strict";F.d(be,{q:()=>pe});var w=F(515),M=F(4482),l=F(5403);function pe(me){return me<=0?()=>w.E:(0,M.e)((Me,Ie)=>{let _e=0;Me.subscribe((0,l.x)(Ie,Ee=>{++_e<=me&&(Ie.next(Ee),me<=_e&&Ie.complete())}))})}},2722:(je,be,F)=>{"use strict";F.d(be,{R:()=>me});var w=F(4482),M=F(5403),l=F(8421),pe=F(5032);function me(Me){return(0,w.e)((Ie,_e)=>{(0,l.Xf)(Me).subscribe((0,M.x)(_e,()=>_e.complete(),pe.Z)),!_e.closed&&Ie.subscribe(_e)})}},8505:(je,be,F)=>{"use strict";F.d(be,{b:()=>me});var w=F(576),M=F(4482),l=F(5403),pe=F(4671);function me(Me,Ie,_e){const Ee=(0,w.m)(Me)||Ie||_e?{next:Me,error:Ie,complete:_e}:Me;return Ee?(0,M.e)((ge,we)=>{var Ne;null===(Ne=Ee.subscribe)||void 0===Ne||Ne.call(Ee);let dt=!0;ge.subscribe((0,l.x)(we,tt=>{var bt;null===(bt=Ee.next)||void 0===bt||bt.call(Ee,tt),we.next(tt)},()=>{var tt;dt=!1,null===(tt=Ee.complete)||void 0===tt||tt.call(Ee),we.complete()},tt=>{var bt;dt=!1,null===(bt=Ee.error)||void 0===bt||bt.call(Ee,tt),we.error(tt)},()=>{var tt,bt;dt&&(null===(tt=Ee.unsubscribe)||void 0===tt||tt.call(Ee)),null===(bt=Ee.finalize)||void 0===bt||bt.call(Ee)}))}):pe.y}},8068:(je,be,F)=>{"use strict";F.d(be,{T:()=>pe});var w=F(6805),M=F(4482),l=F(5403);function pe(Me=me){return(0,M.e)((Ie,_e)=>{let Ee=!1;Ie.subscribe((0,l.x)(_e,ge=>{Ee=!0,_e.next(ge)},()=>Ee?_e.complete():_e.error(Me())))})}function me(){return new w.K}},7414:(je,be,F)=>{"use strict";F.d(be,{V:()=>Ee});var w=F(4986),M=F(1165),l=F(4482),pe=F(8421),me=F(3888),Me=F(5403),Ie=F(9672);const _e=(0,me.d)(we=>function(dt=null){we(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=dt});function Ee(we,Ne){const{first:dt,each:tt,with:bt=ge,scheduler:ft=Ne??w.z,meta:Ye=null}=(0,M.q)(we)?{first:we}:"number"==typeof we?{each:we}:we;if(null==dt&&null==tt)throw new TypeError("No timeout provided.");return(0,l.e)((lt,ut)=>{let Ct,vt,Nt=null,Dt=0;const $t=Ze=>{vt=(0,Ie.f)(ut,ft,()=>{try{Ct.unsubscribe(),(0,pe.Xf)(bt({meta:Ye,lastValue:Nt,seen:Dt})).subscribe(ut)}catch(pt){ut.error(pt)}},Ze)};Ct=lt.subscribe((0,Me.x)(ut,Ze=>{vt?.unsubscribe(),Dt++,ut.next(Nt=Ze),tt>0&&$t(tt)},void 0,void 0,()=>{vt?.closed||vt?.unsubscribe(),Nt=null})),!Dt&&$t(null!=dt?"number"==typeof dt?dt:+dt-ft.now():tt)})}function ge(we){throw new _e(we)}},1365:(je,be,F)=>{"use strict";F.d(be,{M:()=>Ie});var w=F(4482),M=F(5403),l=F(8421),pe=F(4671),me=F(5032),Me=F(3269);function Ie(..._e){const Ee=(0,Me.jO)(_e);return(0,w.e)((ge,we)=>{const Ne=_e.length,dt=new Array(Ne);let tt=_e.map(()=>!1),bt=!1;for(let ft=0;ft<Ne;ft++)(0,l.Xf)(_e[ft]).subscribe((0,M.x)(we,Ye=>{dt[ft]=Ye,!bt&&!tt[ft]&&(tt[ft]=!0,(bt=tt.every(pe.y))&&(tt=null))},me.Z));ge.subscribe((0,M.x)(we,ft=>{if(bt){const Ye=[ft,...dt];we.next(Ee?Ee(...Ye):Ye)}}))})}},4408:(je,be,F)=>{"use strict";F.d(be,{o:()=>me});var w=F(727);class M extends w.w0{constructor(Ie,_e){super()}schedule(Ie,_e=0){return this}}const l={setInterval(Me,Ie,..._e){const{delegate:Ee}=l;return Ee?.setInterval?Ee.setInterval(Me,Ie,..._e):setInterval(Me,Ie,..._e)},clearInterval(Me){const{delegate:Ie}=l;return(Ie?.clearInterval||clearInterval)(Me)},delegate:void 0};var pe=F(8737);class me extends M{constructor(Ie,_e){super(Ie,_e),this.scheduler=Ie,this.work=_e,this.pending=!1}schedule(Ie,_e=0){var Ee;if(this.closed)return this;this.state=Ie;const ge=this.id,we=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(we,ge,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(we,this.id,_e),this}requestAsyncId(Ie,_e,Ee=0){return l.setInterval(Ie.flush.bind(Ie,this),Ee)}recycleAsyncId(Ie,_e,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return _e;null!=_e&&l.clearInterval(_e)}execute(Ie,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Ie,_e);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,_e){let ge,Ee=!1;try{this.work(Ie)}catch(we){Ee=!0,ge=we||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),ge}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:_e}=this,{actions:Ee}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Ee,this),null!=Ie&&(this.id=this.recycleAsyncId(_e,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(je,be,F)=>{"use strict";F.d(be,{v:()=>l});var w=F(6063);class M{constructor(me,Me=M.now){this.schedulerActionCtor=me,this.now=Me}schedule(me,Me=0,Ie){return new this.schedulerActionCtor(this,me).schedule(Ie,Me)}}M.now=w.l.now;class l extends M{constructor(me,Me=M.now){super(me,Me),this.actions=[],this._active=!1}flush(me){const{actions:Me}=this;if(this._active)return void Me.push(me);let Ie;this._active=!0;do{if(Ie=me.execute(me.state,me.delay))break}while(me=Me.shift());if(this._active=!1,Ie){for(;me=Me.shift();)me.unsubscribe();throw Ie}}}},4986:(je,be,F)=>{"use strict";F.d(be,{P:()=>pe,z:()=>l});var w=F(4408);const l=new(F(7565).v)(w.o),pe=l},6063:(je,be,F)=>{"use strict";F.d(be,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},233:(je,be,F)=>{"use strict";F.d(be,{N:()=>me});var w=F(4408),l=F(7565);const me=new class pe extends l.v{}(class M extends w.o{constructor(_e,Ee){super(_e,Ee),this.scheduler=_e,this.work=Ee}schedule(_e,Ee=0){return Ee>0?super.schedule(_e,Ee):(this.delay=Ee,this.state=_e,this.scheduler.flush(this),this)}execute(_e,Ee){return Ee>0||this.closed?super.execute(_e,Ee):this._execute(_e,Ee)}requestAsyncId(_e,Ee,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(_e,Ee,ge):(_e.flush(this),0)}})},3410:(je,be,F)=>{"use strict";F.d(be,{z:()=>w});const w={setTimeout(M,l,...pe){const{delegate:me}=w;return me?.setTimeout?me.setTimeout(M,l,...pe):setTimeout(M,l,...pe)},clearTimeout(M){const{delegate:l}=w;return(l?.clearTimeout||clearTimeout)(M)},delegate:void 0}},2202:(je,be,F)=>{"use strict";F.d(be,{h:()=>M});const M=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(je,be,F)=>{"use strict";F.d(be,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(je,be,F)=>{"use strict";F.d(be,{K:()=>M});const M=(0,F(3888).d)(l=>function(){l(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(je,be,F)=>{"use strict";F.d(be,{_6:()=>Me,jO:()=>pe,yG:()=>me});var w=F(576),M=F(3532);function l(Ie){return Ie[Ie.length-1]}function pe(Ie){return(0,w.m)(l(Ie))?Ie.pop():void 0}function me(Ie){return(0,M.K)(l(Ie))?Ie.pop():void 0}function Me(Ie,_e){return"number"==typeof l(Ie)?Ie.pop():_e}},4742:(je,be,F)=>{"use strict";F.d(be,{D:()=>me});const{isArray:w}=Array,{getPrototypeOf:M,prototype:l,keys:pe}=Object;function me(Ie){if(1===Ie.length){const _e=Ie[0];if(w(_e))return{args:_e,keys:null};if(function Me(Ie){return Ie&&"object"==typeof Ie&&M(Ie)===l}(_e)){const Ee=pe(_e);return{args:Ee.map(ge=>_e[ge]),keys:Ee}}}return{args:Ie,keys:null}}},8737:(je,be,F)=>{"use strict";function w(M,l){if(M){const pe=M.indexOf(l);0<=pe&&M.splice(pe,1)}}F.d(be,{P:()=>w})},3888:(je,be,F)=>{"use strict";function w(M){const pe=M(me=>{Error.call(me),me.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}F.d(be,{d:()=>w})},1810:(je,be,F)=>{"use strict";function w(M,l){return M.reduce((pe,me,Me)=>(pe[me]=l[Me],pe),{})}F.d(be,{n:()=>w})},2806:(je,be,F)=>{"use strict";F.d(be,{O:()=>pe,x:()=>l});var w=F(2416);let M=null;function l(me){if(w.v.useDeprecatedSynchronousErrorHandling){const Me=!M;if(Me&&(M={errorThrown:!1,error:null}),me(),Me){const{errorThrown:Ie,error:_e}=M;if(M=null,Ie)throw _e}}else me()}function pe(me){w.v.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=me)}},9672:(je,be,F)=>{"use strict";function w(M,l,pe,me=0,Me=!1){const Ie=l.schedule(function(){pe(),Me?M.add(this.schedule(null,me)):this.unsubscribe()},me);if(M.add(Ie),!Me)return Ie}F.d(be,{f:()=>w})},4671:(je,be,F)=>{"use strict";function w(M){return M}F.d(be,{y:()=>w})},1144:(je,be,F)=>{"use strict";F.d(be,{z:()=>w});const w=M=>M&&"number"==typeof M.length&&"function"!=typeof M},2206:(je,be,F)=>{"use strict";F.d(be,{D:()=>M});var w=F(576);function M(l){return Symbol.asyncIterator&&(0,w.m)(l?.[Symbol.asyncIterator])}},1165:(je,be,F)=>{"use strict";function w(M){return M instanceof Date&&!isNaN(M)}F.d(be,{q:()=>w})},576:(je,be,F)=>{"use strict";function w(M){return"function"==typeof M}F.d(be,{m:()=>w})},3670:(je,be,F)=>{"use strict";F.d(be,{c:()=>l});var w=F(8822),M=F(576);function l(pe){return(0,M.m)(pe[w.L])}},6495:(je,be,F)=>{"use strict";F.d(be,{T:()=>l});var w=F(2202),M=F(576);function l(pe){return(0,M.m)(pe?.[w.h])}},8239:(je,be,F)=>{"use strict";F.d(be,{t:()=>M});var w=F(576);function M(l){return(0,w.m)(l?.then)}},3260:(je,be,F)=>{"use strict";F.d(be,{L:()=>pe,Q:()=>l});var w=F(655),M=F(576);function l(me){return(0,w.FC)(this,arguments,function*(){const Ie=me.getReader();try{for(;;){const{value:_e,done:Ee}=yield(0,w.qq)(Ie.read());if(Ee)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(_e)}}finally{Ie.releaseLock()}})}function pe(me){return(0,M.m)(me?.getReader)}},3532:(je,be,F)=>{"use strict";F.d(be,{K:()=>M});var w=F(576);function M(l){return l&&(0,w.m)(l.schedule)}},4482:(je,be,F)=>{"use strict";F.d(be,{A:()=>M,e:()=>l});var w=F(576);function M(pe){return(0,w.m)(pe?.lift)}function l(pe){return me=>{if(M(me))return me.lift(function(Me){try{return pe(Me,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(je,be,F)=>{"use strict";F.d(be,{Z:()=>pe});var w=F(4004);const{isArray:M}=Array;function pe(me){return(0,w.U)(Me=>function l(me,Me){return M(Me)?me(...Me):me(Me)}(me,Me))}},5032:(je,be,F)=>{"use strict";function w(){}F.d(be,{Z:()=>w})},9635:(je,be,F)=>{"use strict";F.d(be,{U:()=>l,z:()=>M});var w=F(4671);function M(...pe){return l(pe)}function l(pe){return 0===pe.length?w.y:1===pe.length?pe[0]:function(Me){return pe.reduce((Ie,_e)=>_e(Ie),Me)}}},7849:(je,be,F)=>{"use strict";F.d(be,{h:()=>l});var w=F(2416),M=F(3410);function l(pe){M.z.setTimeout(()=>{const{onUnhandledError:me}=w.v;if(!me)throw pe;me(pe)})}},4532:(je,be,F)=>{"use strict";function w(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(be,{z:()=>w})},655:(je,be,F)=>{"use strict";function pe(We,Ge){var Tt={};for(var ct in We)Object.prototype.hasOwnProperty.call(We,ct)&&Ge.indexOf(ct)<0&&(Tt[ct]=We[ct]);if(null!=We&&"function"==typeof Object.getOwnPropertySymbols){var Xt=0;for(ct=Object.getOwnPropertySymbols(We);Xt<ct.length;Xt++)Ge.indexOf(ct[Xt])<0&&Object.prototype.propertyIsEnumerable.call(We,ct[Xt])&&(Tt[ct[Xt]]=We[ct[Xt]])}return Tt}function _e(We,Ge,Tt,ct){return new(Tt||(Tt=Promise))(function(Ft,pn){function Gn(zn){try{Dn(ct.next(zn))}catch(bn){pn(bn)}}function Jn(zn){try{Dn(ct.throw(zn))}catch(bn){pn(bn)}}function Dn(zn){zn.done?Ft(zn.value):function Xt(Ft){return Ft instanceof Tt?Ft:new Tt(function(pn){pn(Ft)})}(zn.value).then(Gn,Jn)}Dn((ct=ct.apply(We,Ge||[])).next())})}function Ye(We){return this instanceof Ye?(this.v=We,this):new Ye(We)}function lt(We,Ge,Tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xt,ct=Tt.apply(We,Ge||[]),Ft=[];return Xt={},pn("next"),pn("throw"),pn("return"),Xt[Symbol.asyncIterator]=function(){return this},Xt;function pn(mn){ct[mn]&&(Xt[mn]=function(Zn){return new Promise(function(nr,On){Ft.push([mn,Zn,nr,On])>1||Gn(mn,Zn)})})}function Gn(mn,Zn){try{!function Jn(mn){mn.value instanceof Ye?Promise.resolve(mn.value.v).then(Dn,zn):bn(Ft[0][2],mn)}(ct[mn](Zn))}catch(nr){bn(Ft[0][3],nr)}}function Dn(mn){Gn("next",mn)}function zn(mn){Gn("throw",mn)}function bn(mn,Zn){mn(Zn),Ft.shift(),Ft.length&&Gn(Ft[0][0],Ft[0][1])}}function Ct(We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,Ge=We[Symbol.asyncIterator];return Ge?Ge.call(We):(We=function Ne(We){var Ge="function"==typeof Symbol&&Symbol.iterator,Tt=Ge&&We[Ge],ct=0;if(Tt)return Tt.call(We);if(We&&"number"==typeof We.length)return{next:function(){return We&&ct>=We.length&&(We=void 0),{value:We&&We[ct++],done:!We}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(We),Tt={},ct("next"),ct("throw"),ct("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt);function ct(Ft){Tt[Ft]=We[Ft]&&function(pn){return new Promise(function(Gn,Jn){!function Xt(Ft,pn,Gn,Jn){Promise.resolve(Jn).then(function(Dn){Ft({value:Dn,done:Gn})},pn)}(Gn,Jn,(pn=We[Ft](pn)).done,pn.value)})}}}F.d(be,{FC:()=>lt,KL:()=>Ct,_T:()=>pe,mG:()=>_e,qq:()=>Ye})},6895:(je,be,F)=>{"use strict";F.d(be,{Do:()=>ut,EM:()=>Eu,HT:()=>pe,JF:()=>Bo,K0:()=>Me,Mn:()=>Gn,Mx:()=>Di,NF:()=>Xo,O5:()=>ur,Ov:()=>Tn,PM:()=>tu,S$:()=>ft,Tn:()=>Ge,UT:()=>Jn,V_:()=>Ee,Ye:()=>Ct,Zx:()=>Tl,ax:()=>Ns,b0:()=>lt,bD:()=>Co,ez:()=>Uu,mk:()=>ar,ol:()=>pn,p6:()=>Mn,q:()=>l,sg:()=>Ns,tP:()=>Bt,uU:()=>Ji,w_:()=>me,x:()=>We});var w=F(4650);let M=null;function l(){return M}function pe(B){M||(M=B)}class me{}const Me=new w.OlP("DocumentToken");let Ie=(()=>{class B{historyGo(W){throw new Error("Not implemented")}}return B.\u0275fac=function(W){return new(W||B)},B.\u0275prov=w.Yz7({token:B,factory:function(){return function _e(){return(0,w.LFG)(ge)}()},providedIn:"platform"}),B})();const Ee=new w.OlP("Location Initialized");let ge=(()=>{class B extends Ie{constructor(W){super(),this._doc=W,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return l().getBaseHref(this._doc)}onPopState(W){const ae=l().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",W,!1),()=>ae.removeEventListener("popstate",W)}onHashChange(W){const ae=l().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",W,!1),()=>ae.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,ae,Be){we()?this._history.pushState(W,ae,Be):this._location.hash=Be}replaceState(W,ae,Be){we()?this._history.replaceState(W,ae,Be):this._location.hash=Be}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}}return B.\u0275fac=function(W){return new(W||B)(w.LFG(Me))},B.\u0275prov=w.Yz7({token:B,factory:function(){return function Ne(){return new ge((0,w.LFG)(Me))}()},providedIn:"platform"}),B})();function we(){return!!window.history.pushState}function dt(B,X){if(0==B.length)return X;if(0==X.length)return B;let W=0;return B.endsWith("/")&&W++,X.startsWith("/")&&W++,2==W?B+X.substring(1):1==W?B+X:B+"/"+X}function tt(B){const X=B.match(/#|\?|$/),W=X&&X.index||B.length;return B.slice(0,W-("/"===B[W-1]?1:0))+B.slice(W)}function bt(B){return B&&"?"!==B[0]?"?"+B:B}let ft=(()=>{class B{historyGo(W){throw new Error("Not implemented")}}return B.\u0275fac=function(W){return new(W||B)},B.\u0275prov=w.Yz7({token:B,factory:function(){return(0,w.f3M)(lt)},providedIn:"root"}),B})();const Ye=new w.OlP("appBaseHref");let lt=(()=>{class B extends ft{constructor(W,ae){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=ae??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return dt(this._baseHref,W)}path(W=!1){const ae=this._platformLocation.pathname+bt(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&W?`${ae}${Be}`:ae}pushState(W,ae,Be,Ot){const zt=this.prepareExternalUrl(Be+bt(Ot));this._platformLocation.pushState(W,ae,zt)}replaceState(W,ae,Be,Ot){const zt=this.prepareExternalUrl(Be+bt(Ot));this._platformLocation.replaceState(W,ae,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return B.\u0275fac=function(W){return new(W||B)(w.LFG(Ie),w.LFG(Ye,8))},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),ut=(()=>{class B extends ft{constructor(W,ae){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl(W){const ae=dt(this._baseHref,W);return ae.length>0?"#"+ae:ae}pushState(W,ae,Be,Ot){let zt=this.prepareExternalUrl(Be+bt(Ot));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(W,ae,zt)}replaceState(W,ae,Be,Ot){let zt=this.prepareExternalUrl(Be+bt(Ot));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(W,ae,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}}return B.\u0275fac=function(W){return new(W||B)(w.LFG(Ie),w.LFG(Ye,8))},B.\u0275prov=w.Yz7({token:B,factory:B.\u0275fac}),B})(),Ct=(()=>{class B{constructor(W){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const ae=this._locationStrategy.getBaseHref();this._basePath=function $t(B){if(new RegExp("^(https?:)?//").test(B)){const[,W]=B.split(/\/\/[^\/]+/);return W}return B}(tt(Dt(ae))),this._locationStrategy.onPopState(Be=>{this._subject.emit({url:this.path(!0),pop:!0,state:Be.state,type:Be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,ae=""){return this.path()==this.normalize(W+bt(ae))}normalize(W){return B.stripTrailingSlash(function Nt(B,X){return B&&new RegExp(`^${B}([/;?#]|$)`).test(X)?X.substring(B.length):X}(this._basePath,Dt(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,ae="",Be=null){this._locationStrategy.pushState(Be,"",W,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+bt(ae)),Be)}replaceState(W,ae="",Be=null){this._locationStrategy.replaceState(Be,"",W,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+bt(ae)),Be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)})),()=>{const ae=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(ae,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",ae){this._urlChangeListeners.forEach(Be=>Be(W,ae))}subscribe(W,ae,Be){return this._subject.subscribe({next:W,error:ae,complete:Be})}}return B.normalizeQueryParams=bt,B.joinWithSlash=dt,B.stripTrailingSlash=tt,B.\u0275fac=function(W){return new(W||B)(w.LFG(ft))},B.\u0275prov=w.Yz7({token:B,factory:function(){return function vt(){return new Ct((0,w.LFG)(ft))}()},providedIn:"root"}),B})();function Dt(B){return B.replace(/\/index.html$/,"")}var pt=(()=>((pt=pt||{})[pt.Decimal=0]="Decimal",pt[pt.Percent=1]="Percent",pt[pt.Currency=2]="Currency",pt[pt.Scientific=3]="Scientific",pt))(),We=(()=>((We=We||{})[We.Format=0]="Format",We[We.Standalone=1]="Standalone",We))(),Ge=(()=>((Ge=Ge||{})[Ge.Narrow=0]="Narrow",Ge[Ge.Abbreviated=1]="Abbreviated",Ge[Ge.Wide=2]="Wide",Ge[Ge.Short=3]="Short",Ge))(),Tt=(()=>((Tt=Tt||{})[Tt.Short=0]="Short",Tt[Tt.Medium=1]="Medium",Tt[Tt.Long=2]="Long",Tt[Tt.Full=3]="Full",Tt))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function pn(B,X,W){const ae=(0,w.cg1)(B),Ot=jn([ae[w.wAp.DayPeriodsFormat],ae[w.wAp.DayPeriodsStandalone]],X);return jn(Ot,W)}function Gn(B,X,W){const ae=(0,w.cg1)(B),Ot=jn([ae[w.wAp.DaysFormat],ae[w.wAp.DaysStandalone]],X);return jn(Ot,W)}function Jn(B,X,W){const ae=(0,w.cg1)(B),Ot=jn([ae[w.wAp.MonthsFormat],ae[w.wAp.MonthsStandalone]],X);return jn(Ot,W)}function mn(B,X){return jn((0,w.cg1)(B)[w.wAp.DateFormat],X)}function Zn(B,X){return jn((0,w.cg1)(B)[w.wAp.TimeFormat],X)}function nr(B,X){return jn((0,w.cg1)(B)[w.wAp.DateTimeFormat],X)}function On(B,X){const W=(0,w.cg1)(B),ae=W[w.wAp.NumberSymbols][X];if(typeof ae>"u"){if(X===ct.CurrencyDecimal)return W[w.wAp.NumberSymbols][ct.Decimal];if(X===ct.CurrencyGroup)return W[w.wAp.NumberSymbols][ct.Group]}return ae}function Br(B){if(!B[w.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[w.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jn(B,X){for(let W=X;W>-1;W--)if(typeof B[W]<"u")return B[W];throw new Error("Locale data API: locale data undefined")}function qr(B){const[X,W]=B.split(":");return{hours:+X,minutes:+W}}const Ti=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xr={},jr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var At=(()=>((At=At||{})[At.Short=0]="Short",At[At.ShortGMT=1]="ShortGMT",At[At.Long=2]="Long",At[At.Extended=3]="Extended",At))(),xn=(()=>((xn=xn||{})[xn.FullYear=0]="FullYear",xn[xn.Month=1]="Month",xn[xn.Date=2]="Date",xn[xn.Hours=3]="Hours",xn[xn.Minutes=4]="Minutes",xn[xn.Seconds=5]="Seconds",xn[xn.FractionalSeconds=6]="FractionalSeconds",xn[xn.Day=7]="Day",xn))(),un=(()=>((un=un||{})[un.DayPeriods=0]="DayPeriods",un[un.Days=1]="Days",un[un.Months=2]="Months",un[un.Eras=3]="Eras",un))();function Mn(B,X,W,ae){let Be=function Ae(B){if(qt(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[Be,Ot=1,zt=1]=B.split("-").map(_n=>+_n);return Fn(Be,Ot-1,zt)}const W=parseFloat(B);if(!isNaN(B-W))return new Date(W);let ae;if(ae=B.match(Ti))return function Et(B){const X=new Date(0);let W=0,ae=0;const Be=B[8]?X.setUTCFullYear:X.setFullYear,Ot=B[8]?X.setUTCHours:X.setHours;B[9]&&(W=Number(B[9]+B[10]),ae=Number(B[9]+B[11])),Be.call(X,Number(B[1]),Number(B[2])-1,Number(B[3]));const zt=Number(B[4]||0)-W,_n=Number(B[5]||0)-ae,vi=Number(B[6]||0),si=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return Ot.call(X,zt,_n,vi,si),X}(ae)}const X=new Date(B);if(!qt(X))throw new Error(`Unable to convert "${B}" into a date`);return X}(B);X=Ur(W,X)||X;let _n,zt=[];for(;X;){if(_n=jr.exec(X),!_n){zt.push(X);break}{zt=zt.concat(_n.slice(1));const Ai=zt.pop();if(!Ai)break;X=Ai}}let vi=Be.getTimezoneOffset();ae&&(vi=qe(ae,vi),Be=function ue(B,X,W){const ae=W?-1:1,Be=B.getTimezoneOffset();return function Ce(B,X){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+X),B}(B,ae*(qe(X,Be)-Be))}(Be,ae,!0));let si="";return zt.forEach(Ai=>{const Jr=function Se(B){if(Ue[B])return Ue[B];let X;switch(B){case"G":case"GG":case"GGG":X=or(un.Eras,Ge.Abbreviated);break;case"GGGG":X=or(un.Eras,Ge.Wide);break;case"GGGGG":X=or(un.Eras,Ge.Narrow);break;case"y":X=lr(xn.FullYear,1,0,!1,!0);break;case"yy":X=lr(xn.FullYear,2,0,!0,!0);break;case"yyy":X=lr(xn.FullYear,3,0,!1,!0);break;case"yyyy":X=lr(xn.FullYear,4,0,!1,!0);break;case"Y":X=Cr(1);break;case"YY":X=Cr(2,!0);break;case"YYY":X=Cr(3);break;case"YYYY":X=Cr(4);break;case"M":case"L":X=lr(xn.Month,1,1);break;case"MM":case"LL":X=lr(xn.Month,2,1);break;case"MMM":X=or(un.Months,Ge.Abbreviated);break;case"MMMM":X=or(un.Months,Ge.Wide);break;case"MMMMM":X=or(un.Months,Ge.Narrow);break;case"LLL":X=or(un.Months,Ge.Abbreviated,We.Standalone);break;case"LLLL":X=or(un.Months,Ge.Wide,We.Standalone);break;case"LLLLL":X=or(un.Months,Ge.Narrow,We.Standalone);break;case"w":X=Yt(1);break;case"ww":X=Yt(2);break;case"W":X=Yt(1,!0);break;case"d":X=lr(xn.Date,1);break;case"dd":X=lr(xn.Date,2);break;case"c":case"cc":X=lr(xn.Day,1);break;case"ccc":X=or(un.Days,Ge.Abbreviated,We.Standalone);break;case"cccc":X=or(un.Days,Ge.Wide,We.Standalone);break;case"ccccc":X=or(un.Days,Ge.Narrow,We.Standalone);break;case"cccccc":X=or(un.Days,Ge.Short,We.Standalone);break;case"E":case"EE":case"EEE":X=or(un.Days,Ge.Abbreviated);break;case"EEEE":X=or(un.Days,Ge.Wide);break;case"EEEEE":X=or(un.Days,Ge.Narrow);break;case"EEEEEE":X=or(un.Days,Ge.Short);break;case"a":case"aa":case"aaa":X=or(un.DayPeriods,Ge.Abbreviated);break;case"aaaa":X=or(un.DayPeriods,Ge.Wide);break;case"aaaaa":X=or(un.DayPeriods,Ge.Narrow);break;case"b":case"bb":case"bbb":X=or(un.DayPeriods,Ge.Abbreviated,We.Standalone,!0);break;case"bbbb":X=or(un.DayPeriods,Ge.Wide,We.Standalone,!0);break;case"bbbbb":X=or(un.DayPeriods,Ge.Narrow,We.Standalone,!0);break;case"B":case"BB":case"BBB":X=or(un.DayPeriods,Ge.Abbreviated,We.Format,!0);break;case"BBBB":X=or(un.DayPeriods,Ge.Wide,We.Format,!0);break;case"BBBBB":X=or(un.DayPeriods,Ge.Narrow,We.Format,!0);break;case"h":X=lr(xn.Hours,1,-12);break;case"hh":X=lr(xn.Hours,2,-12);break;case"H":X=lr(xn.Hours,1);break;case"HH":X=lr(xn.Hours,2);break;case"m":X=lr(xn.Minutes,1);break;case"mm":X=lr(xn.Minutes,2);break;case"s":X=lr(xn.Seconds,1);break;case"ss":X=lr(xn.Seconds,2);break;case"S":X=lr(xn.FractionalSeconds,1);break;case"SS":X=lr(xn.FractionalSeconds,2);break;case"SSS":X=lr(xn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=gi(At.Short);break;case"ZZZZZ":X=gi(At.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=gi(At.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=gi(At.Long);break;default:return null}return Ue[B]=X,X}(Ai);si+=Jr?Jr(Be,W,vi):"''"===Ai?"'":Ai.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),si}function Fn(B,X,W){const ae=new Date(0);return ae.setFullYear(B,X,W),ae.setHours(0,0,0),ae}function Ur(B,X){const W=function Ft(B){return(0,w.cg1)(B)[w.wAp.LocaleId]}(B);if(Xr[W]=Xr[W]||{},Xr[W][X])return Xr[W][X];let ae="";switch(X){case"shortDate":ae=mn(B,Tt.Short);break;case"mediumDate":ae=mn(B,Tt.Medium);break;case"longDate":ae=mn(B,Tt.Long);break;case"fullDate":ae=mn(B,Tt.Full);break;case"shortTime":ae=Zn(B,Tt.Short);break;case"mediumTime":ae=Zn(B,Tt.Medium);break;case"longTime":ae=Zn(B,Tt.Long);break;case"fullTime":ae=Zn(B,Tt.Full);break;case"short":const Be=Ur(B,"shortTime"),Ot=Ur(B,"shortDate");ae=Zi(nr(B,Tt.Short),[Be,Ot]);break;case"medium":const zt=Ur(B,"mediumTime"),_n=Ur(B,"mediumDate");ae=Zi(nr(B,Tt.Medium),[zt,_n]);break;case"long":const vi=Ur(B,"longTime"),si=Ur(B,"longDate");ae=Zi(nr(B,Tt.Long),[vi,si]);break;case"full":const Ai=Ur(B,"fullTime"),Jr=Ur(B,"fullDate");ae=Zi(nr(B,Tt.Full),[Ai,Jr])}return ae&&(Xr[W][X]=ae),ae}function Zi(B,X){return X&&(B=B.replace(/\{([^}]+)}/g,function(W,ae){return null!=X&&ae in X?X[ae]:W})),B}function En(B,X,W="-",ae,Be){let Ot="";(B<0||Be&&B<=0)&&(Be?B=1-B:(B=-B,Ot=W));let zt=String(B);for(;zt.length<X;)zt="0"+zt;return ae&&(zt=zt.slice(zt.length-X)),Ot+zt}function lr(B,X,W=0,ae=!1,Be=!1){return function(Ot,zt){let _n=function vs(B,X){switch(B){case xn.FullYear:return X.getFullYear();case xn.Month:return X.getMonth();case xn.Date:return X.getDate();case xn.Hours:return X.getHours();case xn.Minutes:return X.getMinutes();case xn.Seconds:return X.getSeconds();case xn.FractionalSeconds:return X.getMilliseconds();case xn.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,Ot);if((W>0||_n>-W)&&(_n+=W),B===xn.Hours)0===_n&&-12===W&&(_n=12);else if(B===xn.FractionalSeconds)return function us(B,X){return En(B,3).substring(0,X)}(_n,X);const vi=On(zt,ct.MinusSign);return En(_n,X,vi,ae,Be)}}function or(B,X,W=We.Format,ae=!1){return function(Be,Ot){return function ls(B,X,W,ae,Be,Ot){switch(W){case un.Months:return Jn(X,Be,ae)[B.getMonth()];case un.Days:return Gn(X,Be,ae)[B.getDay()];case un.DayPeriods:const zt=B.getHours(),_n=B.getMinutes();if(Ot){const si=function fr(B){const X=(0,w.cg1)(B);return Br(X),(X[w.wAp.ExtraData][2]||[]).map(ae=>"string"==typeof ae?qr(ae):[qr(ae[0]),qr(ae[1])])}(X),Ai=function pi(B,X,W){const ae=(0,w.cg1)(B);Br(ae);const Ot=jn([ae[w.wAp.ExtraData][0],ae[w.wAp.ExtraData][1]],X)||[];return jn(Ot,W)||[]}(X,Be,ae),Jr=si.findIndex(es=>{if(Array.isArray(es)){const[xi,zr]=es,Ao=zt>=xi.hours&&_n>=xi.minutes,fs=zt<zr.hours||zt===zr.hours&&_n<zr.minutes;if(xi.hours<zr.hours){if(Ao&&fs)return!0}else if(Ao||fs)return!0}else if(es.hours===zt&&es.minutes===_n)return!0;return!1});if(-1!==Jr)return Ai[Jr]}return pn(X,Be,ae)[zt<12?0:1];case un.Eras:return function Dn(B,X){return jn((0,w.cg1)(B)[w.wAp.Eras],X)}(X,ae)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${W}`)}}(Be,Ot,B,X,W,ae)}}function gi(B){return function(X,W,ae){const Be=-1*ae,Ot=On(W,ct.MinusSign),zt=Be>0?Math.floor(Be/60):Math.ceil(Be/60);switch(B){case At.Short:return(Be>=0?"+":"")+En(zt,2,Ot)+En(Math.abs(Be%60),2,Ot);case At.ShortGMT:return"GMT"+(Be>=0?"+":"")+En(zt,1,Ot);case At.Long:return"GMT"+(Be>=0?"+":"")+En(zt,2,Ot)+":"+En(Math.abs(Be%60),2,Ot);case At.Extended:return 0===ae?"Z":(Be>=0?"+":"")+En(zt,2,Ot)+":"+En(Math.abs(Be%60),2,Ot);default:throw new Error(`Unknown zone width "${B}"`)}}}function Vn(B){return Fn(B.getFullYear(),B.getMonth(),B.getDate()+(4-B.getDay()))}function Yt(B,X=!1){return function(W,ae){let Be;if(X){const Ot=new Date(W.getFullYear(),W.getMonth(),1).getDay()-1,zt=W.getDate();Be=1+Math.floor((zt+Ot)/7)}else{const Ot=Vn(W),zt=function gn(B){const X=Fn(B,0,1).getDay();return Fn(B,0,1+(X<=4?4:11)-X)}(Ot.getFullYear()),_n=Ot.getTime()-zt.getTime();Be=1+Math.round(_n/6048e5)}return En(Be,B,On(ae,ct.MinusSign))}}function Cr(B,X=!1){return function(W,ae){return En(Vn(W).getFullYear(),B,On(ae,ct.MinusSign),X)}}const Ue={};function qe(B,X){B=B.replace(/:/g,"");const W=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(W)?X:W}function qt(B){return B instanceof Date&&!isNaN(B.valueOf())}const vn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qs(B){const X=parseInt(B);if(isNaN(X))throw new Error("Invalid integer literal when parsing "+B);return X}function Di(B,X){X=encodeURIComponent(X);for(const W of B.split(";")){const ae=W.indexOf("="),[Be,Ot]=-1==ae?[W,""]:[W.slice(0,ae),W.slice(ae+1)];if(Be.trim()===X)return decodeURIComponent(Ot)}return null}const ei=/\s+/,An=[];let ar=(()=>{class B{constructor(W,ae,Be,Ot){this._iterableDiffers=W,this._keyValueDiffers=ae,this._ngEl=Be,this._renderer=Ot,this.initialClasses=An,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(ei):An}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(ei):W}ngDoCheck(){for(const ae of this.initialClasses)this._updateState(ae,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const ae of W)this._updateState(ae,!0);else if(null!=W)for(const ae of Object.keys(W))this._updateState(ae,Boolean(W[ae]));this._applyStateDiff()}_updateState(W,ae){const Be=this.stateMap.get(W);void 0!==Be?(Be.enabled!==ae&&(Be.changed=!0,Be.enabled=ae),Be.touched=!0):this.stateMap.set(W,{enabled:ae,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const ae=W[0],Be=W[1];Be.changed?(this._toggleClass(ae,Be.enabled),Be.changed=!1):Be.touched||(Be.enabled&&this._toggleClass(ae,!1),this.stateMap.delete(ae)),Be.touched=!1}}_toggleClass(W,ae){(W=W.trim()).length>0&&W.split(ei).forEach(Be=>{ae?this._renderer.addClass(this._ngEl.nativeElement,Be):this._renderer.removeClass(this._ngEl.nativeElement,Be)})}}return B.\u0275fac=function(W){return new(W||B)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},B.\u0275dir=w.lG2({type:B,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),B})();class on{constructor(X,W,ae,Be){this.$implicit=X,this.ngForOf=W,this.index=ae,this.count=Be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ns=(()=>{class B{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,ae,Be){this._viewContainer=W,this._template=ae,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const ae=this._viewContainer;W.forEachOperation((Be,Ot,zt)=>{if(null==Be.previousIndex)ae.createEmbeddedView(this._template,new on(Be.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)ae.remove(null===Ot?void 0:Ot);else if(null!==Ot){const _n=ae.get(Ot);ae.move(_n,zt),dr(_n,Be)}});for(let Be=0,Ot=ae.length;Be<Ot;Be++){const _n=ae.get(Be).context;_n.index=Be,_n.count=Ot,_n.ngForOf=this._ngForOf}W.forEachIdentityChange(Be=>{dr(ae.get(Be.currentIndex),Be)})}static ngTemplateContextGuard(W,ae){return!0}}return B.\u0275fac=function(W){return new(W||B)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},B.\u0275dir=w.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),B})();function dr(B,X){B.context.$implicit=X.item}let ur=(()=>{class B{constructor(W,ae){this._viewContainer=W,this._context=new Yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){To("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){To("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,ae){return!0}}return B.\u0275fac=function(W){return new(W||B)(w.Y36(w.s_b),w.Y36(w.Rgc))},B.\u0275dir=w.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),B})();class Yn{constructor(){this.$implicit=null,this.ngIf=null}}function To(B,X){if(X&&!X.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,w.AaK)(X)}'.`)}let Bt=(()=>{class B{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(W.ngTemplateOutlet||W.ngTemplateOutletInjector){const ae=this._viewContainerRef;if(this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Be,ngTemplateOutletContext:Ot,ngTemplateOutletInjector:zt}=this;this._viewRef=ae.createEmbeddedView(Be,Ot,zt?{injector:zt}:void 0)}else this._viewRef=null}else this._viewRef&&W.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return B.\u0275fac=function(W){return new(W||B)(w.Y36(w.s_b))},B.\u0275dir=w.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[w.TTD]}),B})();function Te(B,X){return new w.vHH(2100,!1)}class Xe{createSubscription(X,W){return X.subscribe({next:W,error:ae=>{throw ae}})}dispose(X){X.unsubscribe()}}class Pt{createSubscription(X,W){return X.then(W,ae=>{throw ae})}dispose(X){}}const en=new Pt,Sn=new Xe;let Tn=(()=>{class B{constructor(W){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){return this._obj?W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue:(W&&this._subscribe(W),this._latestValue)}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,ae=>this._updateLatestValue(W,ae))}_selectStrategy(W){if((0,w.QGY)(W))return en;if((0,w.F4k)(W))return Sn;throw Te()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,ae){W===this._obj&&(this._latestValue=ae,this._ref.markForCheck())}}return B.\u0275fac=function(W){return new(W||B)(w.Y36(w.sBO,16))},B.\u0275pipe=w.Yjl({name:"async",type:B,pure:!1,standalone:!0}),B})();const Pe=new w.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),$l=new w.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Ji=(()=>{class B{constructor(W,ae,Be){this.locale=W,this.defaultTimezone=ae,this.defaultOptions=Be}transform(W,ae,Be,Ot){if(null==W||""===W||W!=W)return null;try{return Mn(W,ae??this.defaultOptions?.dateFormat??"mediumDate",Ot||this.locale,Be??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(zt){throw Te()}}}return B.\u0275fac=function(W){return new(W||B)(w.Y36(w.soG,16),w.Y36(Pe,24),w.Y36($l,24))},B.\u0275pipe=w.Yjl({name:"date",type:B,pure:!0,standalone:!0}),B})(),Tl=(()=>{class B{constructor(W){this._locale=W}transform(W,ae,Be){if(!function oc(B){return!(null==B||""===B||B!=B)}(W))return null;Be=Be||this._locale;try{return function Rr(B,X,W){return function ri(B,X,W,ae,Be,Ot,zt=!1){let _n="",vi=!1;if(isFinite(B)){let si=function ws(B){let ae,Be,Ot,zt,_n,X=Math.abs(B)+"",W=0;for((Be=X.indexOf("."))>-1&&(X=X.replace(".","")),(Ot=X.search(/e/i))>0?(Be<0&&(Be=Ot),Be+=+X.slice(Ot+1),X=X.substring(0,Ot)):Be<0&&(Be=X.length),Ot=0;"0"===X.charAt(Ot);Ot++);if(Ot===(_n=X.length))ae=[0],Be=1;else{for(_n--;"0"===X.charAt(_n);)_n--;for(Be-=Ot,ae=[],zt=0;Ot<=_n;Ot++,zt++)ae[zt]=Number(X.charAt(Ot))}return Be>22&&(ae=ae.splice(0,21),W=Be-1,Be=1),{digits:ae,exponent:W,integerLen:Be}}(B);zt&&(si=function wo(B){if(0===B.digits[0])return B;const X=B.digits.length-B.integerLen;return B.exponent?B.exponent+=2:(0===X?B.digits.push(0,0):1===X&&B.digits.push(0),B.integerLen+=2),B}(si));let Ai=X.minInt,Jr=X.minFrac,es=X.maxFrac;if(Ot){const js=Ot.match(vn);if(null===js)throw new Error(`${Ot} is not a valid digit info`);const na=js[1],sl=js[3],ou=js[5];null!=na&&(Ai=qs(na)),null!=sl&&(Jr=qs(sl)),null!=ou?es=qs(ou):null!=sl&&Jr>es&&(es=Jr)}!function ii(B,X,W){if(X>W)throw new Error(`The minimum number of digits after fraction (${X}) is higher than the maximum (${W}).`);let ae=B.digits,Be=ae.length-B.integerLen;const Ot=Math.min(Math.max(X,Be),W);let zt=Ot+B.integerLen,_n=ae[zt];if(zt>0){ae.splice(Math.max(B.integerLen,zt));for(let Jr=zt;Jr<ae.length;Jr++)ae[Jr]=0}else{Be=Math.max(0,Be),B.integerLen=1,ae.length=Math.max(1,zt=Ot+1),ae[0]=0;for(let Jr=1;Jr<zt;Jr++)ae[Jr]=0}if(_n>=5)if(zt-1<0){for(let Jr=0;Jr>zt;Jr--)ae.unshift(0),B.integerLen++;ae.unshift(1),B.integerLen++}else ae[zt-1]++;for(;Be<Math.max(0,Ot);Be++)ae.push(0);let vi=0!==Ot;const si=X+B.integerLen,Ai=ae.reduceRight(function(Jr,es,xi,zr){return zr[xi]=(es+=Jr)<10?es:es-10,vi&&(0===zr[xi]&&xi>=si?zr.pop():vi=!1),es>=10?1:0},0);Ai&&(ae.unshift(Ai),B.integerLen++)}(si,Jr,es);let xi=si.digits,zr=si.integerLen;const Ao=si.exponent;let fs=[];for(vi=xi.every(js=>!js);zr<Ai;zr++)xi.unshift(0);for(;zr<0;zr++)xi.unshift(0);zr>0?fs=xi.splice(zr,xi.length):(fs=xi,xi=[0]);const mo=[];for(xi.length>=X.lgSize&&mo.unshift(xi.splice(-X.lgSize,xi.length).join(""));xi.length>X.gSize;)mo.unshift(xi.splice(-X.gSize,xi.length).join(""));xi.length&&mo.unshift(xi.join("")),_n=mo.join(On(W,ae)),fs.length&&(_n+=On(W,Be)+fs.join("")),Ao&&(_n+=On(W,ct.Exponential)+"+"+Ao)}else _n=On(W,ct.Infinity);return _n=B<0&&!vi?X.negPre+_n+X.negSuf:X.posPre+_n+X.posSuf,_n}(B,function Ms(B,X="-"){const W={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ae=B.split(";"),Be=ae[0],Ot=ae[1],zt=-1!==Be.indexOf(".")?Be.split("."):[Be.substring(0,Be.lastIndexOf("0")+1),Be.substring(Be.lastIndexOf("0")+1)],_n=zt[0],vi=zt[1]||"";W.posPre=_n.substring(0,_n.indexOf("#"));for(let Ai=0;Ai<vi.length;Ai++){const Jr=vi.charAt(Ai);"0"===Jr?W.minFrac=W.maxFrac=Ai+1:"#"===Jr?W.maxFrac=Ai+1:W.posSuf+=Jr}const si=_n.split(",");if(W.gSize=si[1]?si[1].length:0,W.lgSize=si[2]||si[1]?(si[2]||si[1]).length:0,Ot){const Ai=Be.length-W.posPre.length-W.posSuf.length,Jr=Ot.indexOf("#");W.negPre=Ot.substring(0,Jr).replace(/'/g,""),W.negSuf=Ot.slice(Jr+Ai).replace(/'/g,"")}else W.negPre=X+W.posPre,W.negSuf=W.posSuf;return W}(function rs(B,X){return(0,w.cg1)(B)[w.wAp.NumberFormats][X]}(X,pt.Percent),On(X,ct.MinusSign)),X,ct.Group,ct.Decimal,W,!0).replace(new RegExp("%","g"),On(X,ct.PercentSign))}(function Qo(B){if("string"==typeof B&&!isNaN(Number(B)-parseFloat(B)))return Number(B);if("number"!=typeof B)throw new Error(`${B} is not a number`);return B}(W),Be,ae)}catch(Ot){throw Te()}}}return B.\u0275fac=function(W){return new(W||B)(w.Y36(w.soG,16))},B.\u0275pipe=w.Yjl({name:"percent",type:B,pure:!0,standalone:!0}),B})();let Uu=(()=>{class B{}return B.\u0275fac=function(W){return new(W||B)},B.\u0275mod=w.oAB({type:B}),B.\u0275inj=w.cJS({}),B})();const Co="browser";function Xo(B){return B===Co}function tu(B){return"server"===B}let Eu=(()=>{class B{}return B.\u0275prov=(0,w.Yz7)({token:B,providedIn:"root",factory:()=>new va((0,w.LFG)(Me),window)}),B})();class va{constructor(X,W){this.document=X,this.window=W,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const W=function Ks(B,X){const W=B.getElementById(X)||B.getElementsByName(X)[0];if(W)return W;if("function"==typeof B.createTreeWalker&&B.body&&(B.body.createShadowRoot||B.body.attachShadow)){const ae=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let Be=ae.currentNode;for(;Be;){const Ot=Be.shadowRoot;if(Ot){const zt=Ot.getElementById(X)||Ot.querySelector(`[name="${X}"]`);if(zt)return zt}Be=ae.nextNode()}}return null}(this.document,X);W&&(this.scrollToElement(W),W.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const W=this.window.history;W&&W.scrollRestoration&&(W.scrollRestoration=X)}}scrollToElement(X){const W=X.getBoundingClientRect(),ae=W.left+this.window.pageXOffset,Be=W.top+this.window.pageYOffset,Ot=this.offset();this.window.scrollTo(ae-Ot[0],Be-Ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=Gt(this.window.history)||Gt(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gt(B){return Object.getOwnPropertyDescriptor(B,"scrollRestoration")}class Bo{}},4650:(je,be,F)=>{"use strict";F.d(be,{$8M:()=>Qr,$WT:()=>yi,$Z:()=>Wm,AFp:()=>ep,ALo:()=>rE,AaK:()=>_e,AsE:()=>Dv,BQk:()=>ef,CHM:()=>H,CRH:()=>CT,CZH:()=>Gv,CqO:()=>f,D6c:()=>lD,EJc:()=>G1,EpF:()=>zf,F$t:()=>Qt,F4k:()=>sm,FYo:()=>Fh,FiY:()=>ot,G48:()=>mh,Gf:()=>Nb,GfV:()=>wp,Gpc:()=>we,Hsn:()=>nn,Ikx:()=>u,JOm:()=>Ml,KtG:()=>ce,LFG:()=>rn,LMc:()=>rC,Lbi:()=>BT,Lck:()=>gb,MAs:()=>o_,MGl:()=>kn,MMx:()=>Q0,MR2:()=>hu,MT6:()=>dm,NdJ:()=>v,OlP:()=>Ei,Oqu:()=>ky,P3R:()=>zs,PXZ:()=>y_,Q6J:()=>nm,QGY:()=>Hp,Qsj:()=>nc,QtT:()=>aT,R0b:()=>Vd,RDi:()=>Xd,RIp:()=>cc,Rgc:()=>r0,SBq:()=>hc,SDv:()=>l1,Sil:()=>_E,Suo:()=>TT,TTD:()=>ro,TgZ:()=>im,Tol:()=>xy,Udp:()=>jp,VKq:()=>t0,W1O:()=>DT,WLB:()=>gT,X6Q:()=>E_,XFs:()=>dn,Xpm:()=>ri,Xts:()=>qo,Y36:()=>Gh,YKP:()=>dT,YNc:()=>Fd,Yjl:()=>qs,Yz7:()=>On,Z0I:()=>Or,ZZ4:()=>aw,_Bn:()=>cT,_UZ:()=>vc,_Vd:()=>gl,_uU:()=>P0,aQg:()=>d0,c2e:()=>H1,cJS:()=>ai,cg1:()=>oe,dDg:()=>eD,dqk:()=>At,ekj:()=>lm,eoX:()=>a0,f3M:()=>gn,g9A:()=>FT,h0i:()=>Rv,hij:()=>Cv,iGM:()=>A1,iPO:()=>zv,ifc:()=>qt,ip1:()=>LT,jDz:()=>X0,kEZ:()=>mT,kL8:()=>at,lG2:()=>ii,lcZ:()=>gm,lqb:()=>Oc,lri:()=>zT,n5z:()=>de,oAB:()=>Ms,oxw:()=>Je,pQV:()=>Nv,q4F:()=>Tp,qLn:()=>od,qOj:()=>Bc,qZA:()=>Gf,rWj:()=>Gr,s9C:()=>ln,sBO:()=>bE,s_b:()=>oE,soG:()=>gE,tBr:()=>Fe,tb:()=>UT,tp0:()=>tn,uIk:()=>Jg,vHH:()=>Ye,vpe:()=>Qf,wAp:()=>Rt,xi3:()=>Yf,xp6:()=>If,ynx:()=>jf,z2F:()=>u0,zSh:()=>Oh,zs3:()=>Zu});var w=F(7579),M=F(727),l=F(9751),pe=F(6451),me=F(3099);function Me(s){for(let o in s)if(s[o]===Me)return o;throw Error("Could not find renamed property on target object.")}function Ie(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function Ee(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const ge=Me({__forward_ref__:Me});function we(s){return s.__forward_ref__=we,s.toString=function(){return _e(this())},s}function Ne(s){return dt(s)?s():s}function dt(s){return"function"==typeof s&&s.hasOwnProperty(ge)&&s.__forward_ref__===we}function tt(s){return s&&!!s.\u0275providers}const ft="https://g.co/ng/security#xss";class Ye extends Error{constructor(o,c){super(function lt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function ut(s){return"string"==typeof s?s:null==s?"":String(s)}function $t(s,o){throw new Ye(-201,!1)}function bn(s,o,c,g){throw new Error(`ASSERTION ERROR: ${s}`+(null==g?"":` [Expected=> ${c} ${g} ${o} <=Actual]`))}function On(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ai(s){return{providers:s.providers||[],imports:s.imports||[]}}function Pr(s){return rr(s,pi)||rr(s,jn)}function Or(s){return null!==Pr(s)}function rr(s,o){return s.hasOwnProperty(o)?s[o]:null}function fr(s){return s&&(s.hasOwnProperty(Qn)||s.hasOwnProperty(qr))?s[Qn]:null}const pi=Me({\u0275prov:Me}),Qn=Me({\u0275inj:Me}),jn=Me({ngInjectableDef:Me}),qr=Me({ngInjectorDef:Me});var dn=(()=>((dn=dn||{})[dn.Default=0]="Default",dn[dn.Host=1]="Host",dn[dn.Self=2]="Self",dn[dn.SkipSelf=4]="SkipSelf",dn[dn.Optional=8]="Optional",dn))();let br;function Ti(s){const o=br;return br=s,o}function Xr(s,o,c){const g=Pr(s);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:c&dn.Optional?null:void 0!==o?o:void $t(_e(s))}const At=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fn={},Ur="__NG_DI_FLAG__",Zi="ngTempTokenPath",us=/\n/gm,vs="__source";let or;function ls(s){const o=or;return or=s,o}function gi(s,o=dn.Default){if(void 0===or)throw new Ye(-203,!1);return null===or?Xr(s,void 0,o):or.get(s,o&dn.Optional?null:void 0,o)}function rn(s,o=dn.Default){return(function Ri(){return br}()||gi)(Ne(s),o)}function gn(s,o=dn.Default){return rn(s,Vn(o))}function Vn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Yt(s){const o=[];for(let c=0;c<s.length;c++){const g=Ne(s[c]);if(Array.isArray(g)){if(0===g.length)throw new Ye(900,!1);let m,b=dn.Default;for(let A=0;A<g.length;A++){const L=g[A],G=Ue(L);"number"==typeof G?-1===G?m=L.token:b|=G:m=L}o.push(rn(m,b))}else o.push(rn(g))}return o}function Cr(s,o){return s[Ur]=o,s.prototype[Ur]=o,s}function Ue(s){return s[Ur]}function Ce(s){return{toString:s}.toString()}var ue=(()=>((ue=ue||{})[ue.OnPush=0]="OnPush",ue[ue.Default=1]="Default",ue))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const vn={},$e=[],Le=Me({\u0275cmp:Me}),ve=Me({\u0275dir:Me}),it=Me({\u0275pipe:Me}),Wt=Me({\u0275mod:Me}),Zt=Me({\u0275fac:Me}),wn=Me({__NG_ELEMENT_ID__:Me});let ni=0;function ri(s){return Ce(()=>{const c=!0===s.standalone,g={},m={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:g,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ue.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||$e,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c"+ni++,styles:s.styles||$e,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},b=s.dependencies,A=s.features;return m.inputs=ws(s.inputs,g),m.outputs=ws(s.outputs),A&&A.forEach(L=>L(m)),m.directiveDefs=b?()=>("function"==typeof b?b():b).map(Rr).filter(Ui):null,m.pipeDefs=b?()=>("function"==typeof b?b():b).map(Ci).filter(Ui):null,m})}function Rr(s){return Kr(s)||mi(s)}function Ui(s){return null!==s}function Ms(s){return Ce(()=>({type:s.type,bootstrap:s.bootstrap||$e,declarations:s.declarations||$e,imports:s.imports||$e,exports:s.exports||$e,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ws(s,o){if(null==s)return vn;const c={};for(const g in s)if(s.hasOwnProperty(g)){let m=s[g],b=m;Array.isArray(m)&&(b=m[1],m=m[0]),c[m]=g,o&&(o[m]=b)}return c}const ii=ri;function qs(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kr(s){return s[Le]||null}function mi(s){return s[ve]||null}function Ci(s){return s[it]||null}function yi(s){const o=Kr(s)||mi(s)||Ci(s);return null!==o&&o.standalone}function Di(s,o){const c=s[Wt]||null;if(!c&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return c}function ki(s){return Array.isArray(s)&&"object"==typeof s[1]}function ds(s){return Array.isArray(s)&&!0===s[1]}function nt(s){return 0!=(4&s.flags)}function Pe(s){return s.componentOffset>-1}function $l(s){return 1==(1&s.flags)}function Ji(s){return null!==s.template}function xa(s){return 0!=(256&s[2])}function Ts(s,o){return s.hasOwnProperty(Zt)?s[Zt]:null}class Ma{constructor(o,c,g){this.previousValue=o,this.currentValue=c,this.firstChange=g}isFirstChange(){return this.firstChange}}function ro(){return Eu}function Eu(s){return s.type.prototype.ngOnChanges&&(s.setInput=Gt),va}function va(){const s=io(this),o=s?.current;if(o){const c=s.previous;if(c===vn)s.previous=o;else for(let g in o)c[g]=o[g];s.current=null,this.ngOnChanges(o)}}function Gt(s,o,c,g){const m=this.declaredInputs[c],b=io(s)||function Bo(s,o){return s[Ks]=o}(s,{previous:vn,current:null}),A=b.current||(b.current={}),L=b.previous,G=L[m];A[m]=new Ma(G&&G.currentValue,o,L===vn),s[g]=o}ro.ngInherit=!0;const Ks="__ngSimpleChanges__";function io(s){return s[Ks]||null}function Pn(s){for(;Array.isArray(s);)s=s[0];return s}function $i(s,o){return Pn(o[s])}function hs(s,o){return Pn(o[s.index])}function Uo(s,o){return s.data[o]}function Hs(s,o){return s[o]}function Hi(s,o){const c=o[s];return ki(c)?c:c[0]}function Qi(s){return 64==(64&s[2])}function Si(s,o){return null==o?null:s[o]}function po(s){s[18]=0}function Vo(s,o){s[5]+=o;let c=s,g=s[3];for(;null!==g&&(1===o&&1===c[5]||-1===o&&0===c[5]);)g[5]+=o,c=g,g=g[3]}const Ir={lFrame:xt(null),bindingsEnabled:!0};function nl(){return Ir.bindingsEnabled}function U(){return Ir.lFrame.lView}function j(){return Ir.lFrame.tView}function H(s){return Ir.lFrame.contextLView=s,s[8]}function ce(s){return Ir.lFrame.contextLView=null,s}function _t(){let s=Nn();for(;null!==s&&64===s.type;)s=s.parent;return s}function Nn(){return Ir.lFrame.currentTNode}function Ii(){const s=Ir.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Es(s,o){const c=Ir.lFrame;c.currentTNode=s,c.isParent=o}function Ea(){return Ir.lFrame.isParent}function Os(){Ir.lFrame.isParent=!1}function qi(){const s=Ir.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Rs(){return Ir.lFrame.bindingIndex}function bs(){return Ir.lFrame.bindingIndex++}function ta(s){const o=Ir.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function wu(s){Ir.lFrame.inI18n=s}function Vu(s,o){const c=Ir.lFrame;c.bindingIndex=c.bindingRootIndex=s,Tu(o)}function Tu(s){Ir.lFrame.currentDirectiveIndex=s}function il(){return Ir.lFrame.currentQueryIndex}function $u(s){Ir.lFrame.currentQueryIndex=s}function Cl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Hu(s,o,c){if(c&dn.SkipSelf){let m=o,b=s;for(;!(m=m.parent,null!==m||c&dn.Host||(m=Cl(b),null===m||(b=b[15],10&m.type))););if(null===m)return!1;o=m,s=b}const g=Ir.lFrame=ze();return g.currentTNode=o,g.lView=s,!0}function Cu(s){const o=ze(),c=s[1];Ir.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function ze(){const s=Ir.lFrame,o=null===s?null:s.child;return null===o?xt(s):o}function xt(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ht(){const s=Ir.lFrame;return Ir.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Bn=ht;function Ar(){const s=ht();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function $r(){return Ir.lFrame.selectedIndex}function So(s){Ir.lFrame.selectedIndex=s}function Xi(){const s=Ir.lFrame;return Uo(s.tView,s.selectedIndex)}function wr(s,o){for(let c=o.directiveStart,g=o.directiveEnd;c<g;c++){const b=s.data[c].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:L,ngAfterViewInit:G,ngAfterViewChecked:Q,ngOnDestroy:le}=b;A&&(s.contentHooks||(s.contentHooks=[])).push(-c,A),L&&((s.contentHooks||(s.contentHooks=[])).push(c,L),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,L)),G&&(s.viewHooks||(s.viewHooks=[])).push(-c,G),Q&&((s.viewHooks||(s.viewHooks=[])).push(c,Q),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,Q)),null!=le&&(s.destroyHooks||(s.destroyHooks=[])).push(c,le)}}function B(s,o,c){ae(s,o,3,c)}function X(s,o,c,g){(3&s[2])===c&&ae(s,o,c,g)}function W(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function ae(s,o,c,g){const b=g??-1,A=o.length-1;let L=0;for(let G=void 0!==g?65535&s[18]:0;G<A;G++)if("number"==typeof o[G+1]){if(L=o[G],null!=g&&L>=g)break}else o[G]<0&&(s[18]+=65536),(L<b||-1==b)&&(Be(s,c,o,G),s[18]=(4294901760&s[18])+G+2),G++}function Be(s,o,c,g){const m=c[g]<0,b=c[g+1],L=s[m?-c[g]:c[g]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{b.call(L)}finally{}}}else try{b.call(L)}finally{}}class zt{constructor(o,c,g){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=g}}function Ao(s,o,c){let g=0;for(;g<c.length;){const m=c[g];if("number"==typeof m){if(0!==m)break;g++;const b=c[g++],A=c[g++],L=c[g++];s.setAttribute(o,A,L,b)}else{const b=m,A=c[++g];mo(b)?s.setProperty(o,b,A):s.setAttribute(o,b,A),g++}}return g}function fs(s){return 3===s||4===s||6===s}function mo(s){return 64===s.charCodeAt(0)}function js(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let g=0;g<o.length;g++){const m=o[g];"number"==typeof m?c=m:0===c||na(s,c,m,null,-1===c||2===c?o[++g]:null)}}return s}function na(s,o,c,g,m){let b=0,A=s.length;if(-1===o)A=-1;else for(;b<s.length;){const L=s[b++];if("number"==typeof L){if(L===o){A=-1;break}if(L>o){A=b-1;break}}}for(;b<s.length;){const L=s[b];if("number"==typeof L)break;if(L===c){if(null===g)return void(null!==m&&(s[b+1]=m));if(g===s[b+1])return void(s[b+2]=m)}b++,null!==g&&b++,null!==m&&b++}-1!==A&&(s.splice(A,0,o),b=A+1),s.splice(b++,0,c),null!==g&&s.splice(b++,0,g),null!==m&&s.splice(b++,0,m)}function sl(s){return-1!==s}function ou(s){return 32767&s}function Oa(s,o){let c=function zl(s){return s>>16}(s),g=o;for(;c>0;)g=g[15],c--;return g}let ra=!0;function ja(s){const o=ra;return ra=s,o}let Is=0;const ba={};function ia(s,o){const c=Ws(s,o);if(-1!==c)return c;const g=o[1];g.firstCreatePass&&(s.injectorIndex=o.length,Du(g.data,s),Du(o,null),Du(g.blueprint,null));const m=Gi(s,o),b=s.injectorIndex;if(sl(m)){const A=ou(m),L=Oa(m,o),G=L[1].data;for(let Q=0;Q<8;Q++)o[b+Q]=L[A+Q]|G[A+Q]}return o[b+8]=m,b}function Du(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ws(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Gi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,g=null,m=o;for(;null!==m;){if(g=sa(m),null===g)return-1;if(c++,m=m[15],-1!==g.injectorIndex)return g.injectorIndex|c<<16}return-1}function Su(s,o,c){!function qc(s,o,c){let g;"string"==typeof c?g=c.charCodeAt(0)||0:c.hasOwnProperty(wn)&&(g=c[wn]),null==g&&(g=c[wn]=Is++);const m=255&g;o.data[s+(m>>5)]|=1<<m}(s,o,c)}function Iu(s,o,c){if(c&dn.Optional||void 0!==s)return s;$t()}function Gu(s,o,c,g){if(c&dn.Optional&&void 0===g&&(g=null),!(c&(dn.Self|dn.Host))){const m=s[9],b=Ti(void 0);try{return m?m.get(o,g,c&dn.Optional):Xr(o,g,c&dn.Optional)}finally{Ti(b)}}return Iu(g,0,c)}function ks(s,o,c,g=dn.Default,m){if(null!==s){if(1024&o[2]){const A=function xo(s,o,c,g,m){let b=s,A=o;for(;null!==b&&null!==A&&1024&A[2]&&!(256&A[2]);){const L=Ho(b,A,c,g|dn.Self,ba);if(L!==ba)return L;let G=b.parent;if(!G){const Q=A[21];if(Q){const le=Q.get(c,ba,g);if(le!==ba)return le}G=sa(A),A=A[15]}b=G}return m}(s,o,c,g,ba);if(A!==ba)return A}const b=Ho(s,o,c,g,ba);if(b!==ba)return b}return Gu(o,c,g,m)}function Ho(s,o,c,g,m){const b=function ju(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(wn)?s[wn]:void 0;return"number"==typeof o?o>=0?255&o:Kc:o}(c);if("function"==typeof b){if(!Hu(o,s,g))return g&dn.Host?Iu(m,0,g):Gu(o,c,g,m);try{const A=b(g);if(null!=A||g&dn.Optional)return A;$t()}finally{Bn()}}else if("number"==typeof b){let A=null,L=Ws(s,o),G=-1,Q=g&dn.Host?o[16][6]:null;for((-1===L||g&dn.SkipSelf)&&(G=-1===L?Gi(s,o):o[L+8],-1!==G&&so(g,!1)?(A=o[1],L=ou(G),o=Oa(G,o)):L=-1);-1!==L;){const le=o[1];if(bc(b,L,le.data)){const Re=ol(L,o,c,A,g,Q);if(Re!==ba)return Re}G=o[L+8],-1!==G&&so(g,o[1].data[L+8]===Q)&&bc(b,L,o)?(A=le,L=ou(G),o=Oa(G,o)):L=-1}}return m}function ol(s,o,c,g,m,b){const A=o[1],L=A.data[s+8],le=wa(L,A,c,null==g?Pe(L)&&ra:g!=A&&0!=(3&L.type),m&dn.Host&&b===L);return null!==le?Ta(o,A,le,L):ba}function wa(s,o,c,g,m){const b=s.providerIndexes,A=o.data,L=1048575&b,G=s.directiveStart,le=b>>20,rt=m?L+le:s.directiveEnd;for(let St=g?L:L+le;St<rt;St++){const Jt=A[St];if(St<G&&c===Jt||St>=G&&Jt.type===c)return St}if(m){const St=A[G];if(St&&Ji(St)&&St.type===c)return G}return null}function Ta(s,o,c,g){let m=s[c];const b=o.data;if(function _n(s){return s instanceof zt}(m)){const A=m;A.resolving&&function vt(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Ct(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ut(s)}(b[c]));const L=ja(A.canSeeViewProviders);A.resolving=!0;const G=A.injectImpl?Ti(A.injectImpl):null;Hu(s,g,dn.Default);try{m=s[c]=A.factory(void 0,b,s,g),o.firstCreatePass&&c>=g.directiveStart&&function su(s,o,c){const{ngOnChanges:g,ngOnInit:m,ngDoCheck:b}=o.type.prototype;if(g){const A=Eu(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,A),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,A)}m&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,m),b&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,b))}(c,b[c],o)}finally{null!==G&&Ti(G),ja(L),A.resolving=!1,Bn()}}return m}function bc(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function so(s,o){return!(s&dn.Self||s&dn.Host&&o)}class Zs{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,g){return ks(this._tNode,this._lView,o,Vn(g),c)}}function Kc(){return new Zs(_t(),U())}function de(s){return Ce(()=>{const o=s.prototype.constructor,c=o[Zt]||Ys(o),g=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==g;){const b=m[Zt]||Ys(m);if(b&&b!==c)return b;m=Object.getPrototypeOf(m)}return b=>new b})}function Ys(s){return dt(s)?()=>{const o=Ys(Ne(s));return o&&o()}:Ts(s)}function sa(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Qr(s){return function za(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const g=c.length;let m=0;for(;m<g;){const b=c[m];if(fs(b))break;if(0===b)m+=2;else if("number"==typeof b)for(m++;m<g&&"string"==typeof c[m];)m++;else{if(b===o)return c[m+1];m+=2}}}return null}(_t(),s)}const ql="__parameters__";function Wu(s,o,c){return Ce(()=>{const g=function wc(s){return function(...c){if(s){const g=s(...c);for(const m in g)this[m]=g[m]}}}(o);function m(...b){if(this instanceof m)return g.apply(this,b),this;const A=new m(...b);return L.annotation=A,L;function L(G,Q,le){const Re=G.hasOwnProperty(ql)?G[ql]:Object.defineProperty(G,ql,{value:[]})[ql];for(;Re.length<=le;)Re.push(null);return(Re[le]=Re[le]||[]).push(A),G}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class Ei{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=On({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function S(s,o){s.forEach(c=>Array.isArray(c)?S(c,o):o(c))}function V(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Y(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ie(s,o){const c=[];for(let g=0;g<s;g++)c.push(o);return c}function In(s,o,c){let g=ui(s,o);return g>=0?s[1|g]=c:(g=~g,function Kt(s,o,c,g){let m=s.length;if(m==o)s.push(c,g);else if(1===m)s.push(g,s[0]),s[0]=c;else{for(m--,s.push(s[m-1],s[m]);m>o;)s[m]=s[m-2],m--;s[o]=c,s[o+1]=g}}(s,g,o,c)),g}function ti(s,o){const c=ui(s,o);if(c>=0)return s[1|c]}function ui(s,o){return function oa(s,o,c){let g=0,m=s.length>>c;for(;m!==g;){const b=g+(m-g>>1),A=s[b<<c];if(o===A)return b<<c;A>o?m=b:g=b+1}return~(m<<c)}(s,o,1)}const Fe=Cr(Wu("Inject",s=>({token:s})),-1),ot=Cr(Wu("Optional"),8),tn=Cr(Wu("SkipSelf"),4);var Ml=(()=>((Ml=Ml||{})[Ml.Important=1]="Important",Ml[Ml.DashCase=2]="DashCase",Ml))();const Th=/^>|^->|<!--|-->|--!>|<!-$/g,lg=/(<|>)/;const ua=new Map;let vd=0;const hl="__ngContext__";function Pa(s,o){ki(o)?(s[hl]=o[20],function la(s){ua.set(s[20],s)}(o)):s[hl]=o}let He;function sn(s,o){return He(s,o)}function Qe(s){const o=s[3];return ds(o)?o[3]:o}function xu(s){return Kd(s[13])}function Ja(s){return Kd(s[4])}function Kd(s){for(;null!==s&&!ds(s);)s=s[4];return s}function Jc(s,o,c,g,m){if(null!=g){let b,A=!1;ds(g)?b=g:ki(g)&&(A=!0,g=g[0]);const L=Pn(g);0===s&&null!==c?null==m?Rl(o,c,L):Qc(o,c,L,m||null,!0):1===s&&null!==c?Qc(o,c,L,m||null,!0):2===s?Ql(o,L,A):3===s&&o.destroyNode(L),null!=b&&function td(s,o,c,g,m){const b=c[7];b!==Pn(c)&&Jc(o,s,g,b,m);for(let L=10;L<c.length;L++){const G=c[L];Mu(G[1],G,s,o,g,b)}}(o,s,b,c,m)}}function bd(s,o){return s.createText(o)}function Dh(s,o,c){s.setValue(o,c)}function lu(s,o){return s.createComment(function Za(s){return s.replace(Th,o=>o.replace(lg,"\u200b$1\u200b"))}(o))}function Zd(s,o,c){return s.createElement(o,c)}function ns(s,o){const c=s[9],g=c.indexOf(o),m=o[3];512&o[2]&&(o[2]&=-513,Vo(m,-1)),c.splice(g,1)}function Tr(s,o){if(s.length<=10)return;const c=10+o,g=s[c];if(g){const m=g[17];null!==m&&m!==s&&ns(m,g),o>0&&(s[c-1][4]=g[4]);const b=Y(s,10+o);!function cg(s,o){Mu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(g[1],g);const A=b[19];null!==A&&A.detachView(b[1]),g[3]=null,g[4]=null,g[2]&=-65}return g}function Sh(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&Mu(s,o,c,3,null,null),function Zr(s){let o=s[13];if(!o)return ji(s[1],s);for(;o;){let c=null;if(ki(o))c=o[13];else{const g=o[10];g&&(c=g)}if(!c){for(;o&&!o[4]&&o!==s;)ki(o)&&ji(o[1],o),o=o[3];null===o&&(o=s),ki(o)&&ji(o[1],o),c=o&&o[4]}o=c}}(o)}}function ji(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Ro(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let g=0;g<c.length;g+=2){const m=o[c[g]];if(!(m instanceof zt)){const b=c[g+1];if(Array.isArray(b))for(let A=0;A<b.length;A+=2){const L=m[b[A]],G=b[A+1];try{G.call(L)}finally{}}else try{b.call(m)}finally{}}}}(s,o),function Jd(s,o){const c=s.cleanup,g=o[7];let m=-1;if(null!==c)for(let b=0;b<c.length-1;b+=2)if("string"==typeof c[b]){const A=c[b+3];A>=0?g[m=A]():g[m=-A].unsubscribe(),b+=2}else{const A=g[m=c[b+1]];c[b].call(A)}if(null!==g){for(let b=m+1;b<g.length;b++)(0,g[b])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&ds(o[3])){c!==o[3]&&ns(c,o);const g=o[19];null!==g&&g.detachView(s)}!function Mr(s){ua.delete(s[20])}(o)}}function Rn(s,o,c){return Fi(s,o.parent,c)}function Fi(s,o,c){let g=o;for(;null!==g&&40&g.type;)g=(o=g).parent;if(null===g)return c[0];{const{componentOffset:m}=g;if(m>-1){const{encapsulation:b}=s.data[g.directiveStart+m];if(b===qt.None||b===qt.Emulated)return null}return hs(g,c)}}function Qc(s,o,c,g,m){s.insertBefore(o,c,g,m)}function Rl(s,o,c){s.appendChild(o,c)}function ka(s,o,c,g,m){null!==g?Qc(s,o,c,g,m):Rl(s,o,c)}function Xc(s,o){return s.parentNode(o)}function hg(s,o,c){return Dc(s,o,c)}function cu(s,o,c){return 40&s.type?hs(s,c):null}let ed,du,Dd,Po,Dc=cu;function fg(s,o){Dc=s,ed=o}function fl(s,o,c,g){const m=Rn(s,g,o),b=o[11],L=hg(g.parent||o[6],g,o);if(null!=m)if(Array.isArray(c))for(let G=0;G<c.length;G++)ka(b,m,c[G],L,!1);else ka(b,m,c,L,!1);void 0!==ed&&ed(b,g,o,c,m)}function Td(s,o){if(null!==o){const c=o.type;if(3&c)return hs(o,s);if(4&c)return Qd(-1,s[o.index]);if(8&c){const g=o.child;if(null!==g)return Td(s,g);{const m=s[o.index];return ds(m)?Qd(-1,m):Pn(m)}}if(32&c)return sn(o,s)()||Pn(s[o.index]);{const g=Lt(s,o);return null!==g?Array.isArray(g)?g[0]:Td(Qe(s[16]),g):Td(s,o.next)}}return null}function Lt(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Qd(s,o){const c=10+s+1;if(c<o.length){const g=o[c],m=g[1].firstChild;if(null!==m)return Td(g,m)}return o[7]}function Ql(s,o,c){const g=Xc(s,o);g&&function dg(s,o,c,g){s.removeChild(o,c,g)}(s,g,o,c)}function pg(s,o,c,g,m,b,A){for(;null!=c;){const L=g[c.index],G=c.type;if(A&&0===o&&(L&&Pa(Pn(L),g),c.flags|=2),32!=(32&c.flags))if(8&G)pg(s,o,c.child,g,m,b,!1),Jc(o,s,m,L,b);else if(32&G){const Q=sn(c,g);let le;for(;le=Q();)Jc(o,s,m,le,b);Jc(o,s,m,L,b)}else 16&G?gg(s,o,g,c,m,b):Jc(o,s,m,L,b);c=A?c.projectionNext:c.next}}function Mu(s,o,c,g,m,b){pg(c,g,s.firstChild,o,m,b,!1)}function gg(s,o,c,g,m,b){const A=c[16],G=A[6].projection[g.projection];if(Array.isArray(G))for(let Q=0;Q<G.length;Q++)Jc(o,s,m,G[Q],b);else pg(s,o,G,A[3],m,b,!0)}function M_(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function nd(s,o,c){const{mergedAttrs:g,classes:m,styles:b}=c;null!==g&&Ao(s,o,g),null!==m&&M_(s,o,m),null!==b&&function up(s,o,c){s.setAttribute(o,"style",c)}(s,o,b)}function Nu(s){return function Sc(){if(void 0===du&&(du=null,At.trustedTypes))try{du=At.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return du}()?.createHTML(s)||s}function Xd(s){Dd=s}function eh(s){return function mg(){if(void 0===Po&&(Po=null,At.trustedTypes))try{Po=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Po}()?.createScriptURL(s)||s}class cp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function yo(s){return s instanceof cp?s.changingThisBreaksApplicationSecurity:s}function Eo(s,o){const c=function tc(s){return s instanceof cp&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see ${ft})`)}return c===o}class Am{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Nu(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class R_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const g=this.inertDocument.createElement("body");c.appendChild(g)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Nu(o),c;const g=this.inertDocument.createElement("body");return g.innerHTML=Nu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(o){const c=o.attributes;for(let m=c.length-1;0<m;m--){const A=c.item(m).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&o.removeAttribute(A)}let g=o.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const mf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function dp(s){return(s=String(s)).match(mf)?s:"unsafe:"+s}function rd(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Id(...s){const o={};for(const c of s)for(const g in c)c.hasOwnProperty(g)&&(o[g]=!0);return o}const yg=rd("area,br,col,hr,img,wbr"),_f=rd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ic=rd("rp,rt"),Wi=Id(yg,Id(_f,rd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Id(Ic,rd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Id(Ic,_f)),ps=rd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xc=Id(ps,rd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ca=(()=>((ca=ca||{})[ca.NONE=0]="NONE",ca[ca.HTML=1]="HTML",ca[ca.STYLE=2]="STYLE",ca[ca.SCRIPT=3]="SCRIPT",ca[ca.URL=4]="URL",ca[ca.RESOURCE_URL=5]="RESOURCE_URL",ca))();function uy(s){const o=Qs();return o?o.sanitize(ca.URL,s)||"":Eo(s,"URL")?yo(s):dp(ut(s))}function sd(s){const o=Qs();if(o)return eh(o.sanitize(ca.RESOURCE_URL,s)||"");if(Eo(s,"ResourceURL"))return eh(yo(s));throw new Ye(904,!1)}function zs(s,o,c){return function Ou(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?sd:uy}(o,c)(s)}function Qs(){const s=U();return s&&s[12]}const qo=new Ei("ENVIRONMENT_INITIALIZER"),Pm=new Ei("INJECTOR",-1),co=new Ei("INJECTOR_DEF_TYPES");class Ef{get(o,c=Fn){if(c===Fn){const g=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw g.name="NullInjectorError",g}return c}}function hu(s){return{\u0275providers:s}}function cc(...s){return{\u0275providers:Nh(0,s),\u0275fromNgModule:!0}}function Nh(s,...o){const c=[],g=new Set;let m;return S(o,b=>{const A=b;Mc(A,c,[],g)&&(m||(m=[]),m.push(A))}),void 0!==m&&nh(m,c),c}function nh(s,o){for(let c=0;c<s.length;c++){const{providers:m}=s[c];Mi(m,b=>{o.push(b)})}}function Mc(s,o,c,g){if(!(s=Ne(s)))return!1;let m=null,b=fr(s);const A=!b&&Kr(s);if(b||A){if(A&&!A.standalone)return!1;m=s}else{const G=s.ngModule;if(b=fr(G),!b)return!1;m=G}const L=g.has(m);if(A){if(L)return!1;if(g.add(m),A.dependencies){const G="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const Q of G)Mc(Q,o,c,g)}}else{if(!b)return!1;{if(null!=b.imports&&!L){let Q;g.add(m);try{S(b.imports,le=>{Mc(le,o,c,g)&&(Q||(Q=[]),Q.push(le))})}finally{}void 0!==Q&&nh(Q,o)}if(!L){const Q=Ts(m)||(()=>new m);o.push({provide:m,useFactory:Q,deps:$e},{provide:co,useValue:m,multi:!0},{provide:qo,useValue:()=>rn(m),multi:!0})}const G=b.providers;null==G||L||Mi(G,le=>{o.push(le)})}}return m!==s&&void 0!==s.providers}function Mi(s,o){for(let c of s)tt(c)&&(c=c.\u0275providers),Array.isArray(c)?Mi(c,o):o(c)}const rh=Me({provide:String,useValue:Me});function Sa(s){return null!==s&&"object"==typeof s&&rh in s}function Nc(s){return"function"==typeof s}const Oh=new Ei("Set Injector scope."),dc={},pl={};let mp;function Rh(){return void 0===mp&&(mp=new Ef),mp}class Oc{}class km extends Oc{get destroyed(){return this._destroyed}constructor(o,c,g,m){super(),this.parent=c,this.source=g,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kh(o,A=>this.processProvider(A)),this.records.set(Pm,bf(void 0,this)),m.has("environment")&&this.records.set(Oc,bf(void 0,this));const b=this.records.get(Oh);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(co.multi,$e,dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=ls(this),g=Ti(void 0);try{return o()}finally{ls(c),Ti(g)}}get(o,c=Fn,g=dn.Default){this.assertNotDestroyed(),g=Vn(g);const m=ls(this),b=Ti(void 0);try{if(!(g&dn.SkipSelf)){let L=this.records.get(o);if(void 0===L){const G=function Ph(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ei}(o)&&Pr(o);L=G&&this.injectableDefInScope(G)?bf(_p(o),dc):null,this.records.set(o,L)}if(null!=L)return this.hydrate(o,L)}return(g&dn.Self?Rh():this.parent).get(o,c=g&dn.Optional&&c===Fn?null:c)}catch(A){if("NullInjectorError"===A.name){if((A[Zi]=A[Zi]||[]).unshift(_e(o)),m)throw A;return function Se(s,o,c,g){const m=s[Zi];throw o[vs]&&m.unshift(o[vs]),s.message=function qe(s,o,c,g=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let m=_e(o);if(Array.isArray(o))m=o.map(_e).join(" -> ");else if("object"==typeof o){let b=[];for(let A in o)if(o.hasOwnProperty(A)){let L=o[A];b.push(A+":"+("string"==typeof L?JSON.stringify(L):_e(L)))}m=`{${b.join(", ")}}`}return`${c}${g?"("+g+")":""}[${m}]: ${s.replace(us,"\n  ")}`}("\n"+s.message,m,c,g),s.ngTokenPath=m,s[Zi]=null,s}(A,o,"R3InjectorError",this.source)}throw A}finally{Ti(b),ls(m)}}resolveInjectorInitializers(){const o=ls(this),c=Ti(void 0);try{const g=this.get(qo.multi,$e,dn.Self);for(const m of g)m()}finally{ls(o),Ti(c)}}toString(){const o=[],c=this.records;for(const g of c.keys())o.push(_e(g));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(o){let c=Nc(o=Ne(o))?o:Ne(o&&o.provide);const g=function V_(s){return Sa(s)?bf(void 0,s.useValue):bf(vp(s),dc)}(o);if(Nc(o)||!0!==o.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=bf(void 0,dc,!0),m.factory=()=>Yt(m.multi),this.records.set(c,m)),c=o,m.multi.push(o)}this.records.set(c,g)}hydrate(o,c){return c.value===dc&&(c.value=pl,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Lm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=Ne(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function _p(s){const o=Pr(s),c=null!==o?o.factory:Ts(s);if(null!==c)return c;if(s instanceof Ei)throw new Ye(204,!1);if(s instanceof Function)return function wg(s){const o=s.length;if(o>0)throw ie(o,"?"),new Ye(204,!1);const c=function fi(s){const o=s&&(s[pi]||s[jn]);if(o){const c=function Br(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ye(204,!1)}function vp(s,o,c){let g;if(Nc(s)){const m=Ne(s);return Ts(m)||_p(m)}if(Sa(s))g=()=>Ne(s.useValue);else if(function gp(s){return!(!s||!s.useFactory)}(s))g=()=>s.useFactory(...Yt(s.deps||[]));else if(function Xa(s){return!(!s||!s.useExisting)}(s))g=()=>rn(Ne(s.useExisting));else{const m=Ne(s&&(s.useClass||s.provide));if(!function wi(s){return!!s.deps}(s))return Ts(m)||_p(m);g=()=>new m(...Yt(s.deps))}return g}function bf(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function kh(s,o){for(const c of s)Array.isArray(c)?kh(c,o):c&&tt(c)?kh(c.\u0275providers,o):o(c)}class Tg{}class yp{}class $_{resolveComponentFactory(o){throw function Ep(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let gl=(()=>{class s{}return s.NULL=new $_,s})();function Fm(){return Rc(_t(),U())}function Rc(s,o){return new hc(hs(s,o))}let hc=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Fm,s})();function Cg(s){return s instanceof hc?s.nativeElement:s}class Fh{}let nc=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function bp(){const s=U(),c=Hi(_t().index,s);return(ki(c)?c:s)[11]}(),s})(),Lo=(()=>{class s{}return s.\u0275prov=On({token:s,providedIn:"root",factory:()=>null}),s})();class wp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Tp=new wp("15.1.1"),Dg={};function Um(s){return s.ngOriginalError}class od{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Um(o);for(;c&&Um(c);)c=Um(c);return c||null}}function Fs(s){return s instanceof Function?s():s}function Ig(s,o,c){let g=s.length;for(;;){const m=s.indexOf(o,c);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const b=o.length;if(m+b===g||s.charCodeAt(m+b)<=32)return m}c=m+1}}const Vh="ng-template";function z_(s,o,c){let g=0;for(;g<s.length;){let m=s[g++];if(c&&"class"===m){if(m=s[g],-1!==Ig(m.toLowerCase(),o,0))return!0}else if(1===m){for(;g<s.length&&"string"==typeof(m=s[g++]);)if(m.toLowerCase()===o)return!0;return!1}}return!1}function pc(s){return 4===s.type&&s.value!==Vh}function ly(s,o,c){return o===(4!==s.type||c?s.value:Vh)}function Cp(s,o,c){let g=4;const m=s.attrs||[],b=function Dp(s){for(let o=0;o<s.length;o++)if(fs(s[o]))return o;return s.length}(m);let A=!1;for(let L=0;L<o.length;L++){const G=o[L];if("number"!=typeof G){if(!A)if(4&g){if(g=2|1&g,""!==G&&!ly(s,G,c)||""===G&&1===o.length){if(ad(g))return!1;A=!0}}else{const Q=8&g?G:o[++L];if(8&g&&null!==s.attrs){if(!z_(s.attrs,Q,c)){if(ad(g))return!1;A=!0}continue}const Re=Ag(8&g?"class":G,m,pc(s),c);if(-1===Re){if(ad(g))return!1;A=!0;continue}if(""!==Q){let rt;rt=Re>b?"":m[Re+1].toLowerCase();const St=8&g?rt:null;if(St&&-1!==Ig(St,Q,0)||2&g&&Q!==rt){if(ad(g))return!1;A=!0}}}}else{if(!A&&!ad(g)&&!ad(G))return!1;if(A&&ad(G))continue;A=!1,g=G|1&g}}return ad(g)||A}function ad(s){return 0==(1&s)}function Ag(s,o,c,g){if(null===o)return-1;let m=0;if(g||!c){let b=!1;for(;m<o.length;){const A=o[m];if(A===s)return m;if(3===A||6===A)b=!0;else{if(1===A||2===A){let L=o[++m];for(;"string"==typeof L;)L=o[++m];continue}if(4===A)break;if(0===A){m+=4;continue}}m+=b?1:2}return-1}return function sh(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const g=s[c];if("number"==typeof g)return-1;if(g===o)return c;c++}return-1}(o,s)}function li(s,o,c=!1){for(let g=0;g<o.length;g++)if(Cp(s,o[g],c))return!0;return!1}function Sp(s,o){e:for(let c=0;c<o.length;c++){const g=o[c];if(s.length===g.length){for(let m=0;m<s.length;m++)if(s[m]!==g[m])continue e;return!0}}return!1}function Df(s,o){return s?":not("+o.trim()+")":o}function Vm(s){let o=s[0],c=1,g=2,m="",b=!1;for(;c<s.length;){let A=s[c];if("string"==typeof A)if(2&g){const L=s[++c];m+="["+A+(L.length>0?'="'+L+'"':"")+"]"}else 8&g?m+="."+A:4&g&&(m+=" "+A);else""!==m&&!ad(A)&&(o+=Df(b,m),m=""),g=A,b=b||!ad(g);c++}return""!==m&&(o+=Df(b,m)),o}const ci={};function If(s){Af(j(),U(),$r()+s,!1)}function Af(s,o,c,g){if(!g)if(3==(3&o[2])){const b=s.preOrderCheckHooks;null!==b&&B(o,b,c)}else{const b=s.preOrderHooks;null!==b&&X(o,b,0,c)}So(c)}function jm(s,o=null,c=null,g){const m=xf(s,o,c,g);return m.resolveInjectorInitializers(),m}function xf(s,o=null,c=null,g,m=new Set){const b=[c||$e,cc(s)];return g=g||("object"==typeof s?void 0:_e(s)),new km(b,o||Rh(),g||null,m)}let Zu=(()=>{class s{static create(c,g){if(Array.isArray(c))return jm({name:""},g,c,"");{const m=c.name??"";return jm({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=Fn,s.NULL=new Ef,s.\u0275prov=On({token:s,providedIn:"any",factory:()=>rn(Pm)}),s.__NG_ELEMENT_ID__=-1,s})();function Gh(s,o=dn.Default){const c=U();return null===c?rn(s,o):ks(_t(),c,Ne(s),o)}function Wm(){throw new Error("invalid")}function ev(s,o){const c=s.contentQueries;if(null!==c)for(let g=0;g<c.length;g+=2){const b=c[g+1];if(-1!==b){const A=s.data[b];$u(c[g]),A.contentQueries(2,o[b],b)}}}function Og(s,o,c,g,m,b,A,L,G,Q,le){const Re=o.blueprint.slice();return Re[0]=m,Re[2]=76|g,(null!==le||s&&1024&s[2])&&(Re[2]|=1024),po(Re),Re[3]=Re[15]=s,Re[8]=c,Re[10]=A||s&&s[10],Re[11]=L||s&&s[11],Re[12]=G||s&&s[12]||null,Re[9]=Q||s&&s[9]||null,Re[6]=b,Re[20]=function Nl(){return vd++}(),Re[21]=le,Re[16]=2==o.type?s[16]:Re,Re}function jh(s,o,c,g,m){let b=s.data[o];if(null===b)b=Wh(s,o,c,g,m),function md(){return Ir.lFrame.inI18n}()&&(b.flags|=32);else if(64&b.type){b.type=c,b.value=g,b.attrs=m;const A=Ii();b.injectorIndex=null===A?-1:A.injectorIndex}return Es(b,!0),b}function Wh(s,o,c,g,m){const b=Nn(),A=Ea(),G=s.data[o]=function fo(s,o,c,g,m,b){return{type:c,index:g,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?b:b&&b.parent,c,o,g,m);return null===s.firstChild&&(s.firstChild=G),null!==b&&(A?null==b.child&&null!==G.parent&&(b.child=G):null===b.next&&(b.next=G)),G}function zh(s,o,c,g){if(0===c)return-1;const m=o.length;for(let b=0;b<c;b++)o.push(g),s.blueprint.push(g),s.data.push(null);return m}function zm(s,o,c){Cu(o);try{const g=s.viewQuery;null!==g&&Lp(1,g,c);const m=s.template;null!==m&&xp(s,o,m,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ev(s,o),s.staticViewQueries&&Lp(2,s.viewQuery,c);const b=s.components;null!==b&&function tv(s,o){for(let c=0;c<o.length;c++)av(s,o[c])}(o,b)}catch(g){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),g}finally{o[2]&=-5,Ar()}}function Ap(s,o,c,g){const m=o[2];if(128!=(128&m)){Cu(o);try{po(o),function go(s){return Ir.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&xp(s,o,c,2,g);const A=3==(3&m);if(A){const Q=s.preOrderCheckHooks;null!==Q&&B(o,Q,null)}else{const Q=s.preOrderHooks;null!==Q&&X(o,Q,0,null),W(o,0)}if(function fa(s){for(let o=xu(s);null!==o;o=Ja(o)){if(!o[2])continue;const c=o[9];for(let g=0;g<c.length;g++){const m=c[g];512&m[2]||Vo(m[3],1),m[2]|=512}}}(o),function Ug(s){for(let o=xu(s);null!==o;o=Ja(o))for(let c=10;c<o.length;c++){const g=o[c],m=g[1];Qi(g)&&Ap(m,g,m.template,g[8])}}(o),null!==s.contentQueries&&ev(s,o),A){const Q=s.contentCheckHooks;null!==Q&&B(o,Q)}else{const Q=s.contentHooks;null!==Q&&X(o,Q,1),W(o,1)}!function X_(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let g=0;g<c.length;g++){const m=c[g];if(m<0)So(~m);else{const b=m,A=c[++g],L=c[++g];Vu(A,b),L(2,o[b])}}}finally{So(-1)}}(s,o);const L=s.components;null!==L&&function _y(s,o){for(let c=0;c<o.length;c++)La(s,o[c])}(o,L);const G=s.viewQuery;if(null!==G&&Lp(2,G,g),A){const Q=s.viewCheckHooks;null!==Q&&B(o,Q)}else{const Q=s.viewHooks;null!==Q&&X(o,Q,2),W(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Vo(o[3],-1))}finally{Ar()}}}function xp(s,o,c,g,m){const b=$r(),A=2&g;try{So(-1),A&&o.length>22&&Af(s,o,22,!1),c(g,m)}finally{So(b)}}function Zo(s,o,c){if(nt(o)){const m=o.directiveEnd;for(let b=o.directiveStart;b<m;b++){const A=s.data[b];A.contentQueries&&A.contentQueries(1,c[b],b)}}}function uh(s,o,c){nl()&&(function kg(s,o,c,g){const m=c.directiveStart,b=c.directiveEnd;Pe(c)&&function Rp(s,o,c){const g=hs(o,s),m=nv(c),b=s[10],A=Of(s,Og(s,m,null,c.onPush?32:16,g,o,b,b.createRenderer(g,c),null,null,null));s[o.index]=A}(o,c,s.data[m+c.componentOffset]),s.firstCreatePass||ia(c,o),Pa(g,o);const A=c.initialInputs;for(let L=m;L<b;L++){const G=s.data[L],Q=Ta(o,s,L,c);Pa(Q,o),null!==A&&kp(0,L-m,Q,G,0,A),Ji(G)&&(Hi(c.index,o)[8]=Ta(o,s,L,c))}}(s,o,c,hs(c,o)),64==(64&c.flags)&&Lg(s,o,c))}function Mp(s,o,c=hs){const g=o.localNames;if(null!==g){let m=o.index+1;for(let b=0;b<g.length;b+=2){const A=g[b+1],L=-1===A?c(o,s):s[A];s[m++]=L}}}function nv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Rg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Rg(s,o,c,g,m,b,A,L,G,Q){const le=22+g,Re=le+m,rt=function rv(s,o){const c=[];for(let g=0;g<o;g++)c.push(g<s?null:ci);return c}(le,Re),St="function"==typeof Q?Q():Q;return rt[1]={type:s,blueprint:rt,template:c,queries:null,viewQuery:L,declTNode:o,data:rt.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:G,consts:St,incompleteFirstPass:!1}}function Np(s,o,c,g){const m=$g(o);null===c?m.push(g):(m.push(c),s.firstCreatePass&&Jm(s).push(g,m.length-1))}function di(s,o,c,g){for(let m in s)if(s.hasOwnProperty(m)){c=null===c?{}:c;const b=s[m];null===g?Op(c,o,m,b):g.hasOwnProperty(m)&&Op(c,o,g[m],b)}return c}function Op(s,o,c,g){s.hasOwnProperty(c)?s[c].push(o,g):s[c]=[o,g]}function Ll(s,o,c,g,m,b,A,L){const G=hs(o,c);let le,Q=o.inputs;!L&&null!=Q&&(le=Q[g])?(Pf(s,c,le,g,m),Pe(o)&&xs(c,o.index)):3&o.type&&(g=function Od(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(g),m=null!=A?A(m,o.value||"",g):m,b.setProperty(G,g,m))}function xs(s,o){const c=Hi(o,s);16&c[2]||(c[2]|=32)}function Fl(s,o,c,g){let m=!1;if(nl()){const b=null===g?null:{"":-1},A=function qm(s,o){const c=s.directiveRegistry;let g=null,m=null;if(c)for(let b=0;b<c.length;b++){const A=c[b];if(li(o,A.selectors,!1))if(g||(g=[]),Ji(A))if(null!==A.findHostDirectiveDefs){const L=[];m=m||new Map,A.findHostDirectiveDefs(A,L,m),g.unshift(...L,A),Fg(s,o,L.length)}else g.unshift(A),Fg(s,o,0);else m=m||new Map,A.findHostDirectiveDefs?.(A,g,m),g.push(A)}return null===g?null:[g,m]}(s,c);let L,G;null===A?L=G=null:[L,G]=A,null!==L&&(m=!0,lh(s,o,c,L,b,G)),b&&function Km(s,o,c){if(o){const g=s.localNames=[];for(let m=0;m<o.length;m+=2){const b=c[o[m+1]];if(null==b)throw new Ye(-301,!1);g.push(o[m],b)}}}(c,g,b)}return c.mergedAttrs=js(c.mergedAttrs,c.attrs),m}function lh(s,o,c,g,m,b){for(let Q=0;Q<g.length;Q++)Su(ia(c,o),s,g[Q].type);!function sv(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}(c,s.data.length,g.length);for(let Q=0;Q<g.length;Q++){const le=g[Q];le.providersResolver&&le.providersResolver(le)}let A=!1,L=!1,G=zh(s,o,g.length,null);for(let Q=0;Q<g.length;Q++){const le=g[Q];c.mergedAttrs=js(c.mergedAttrs,le.hostAttrs),Bg(s,c,o,G,le),Zm(G,le,m),null!==le.contentQueries&&(c.flags|=4),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(c.flags|=64);const Re=le.type.prototype;!A&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),A=!0),!L&&(Re.ngOnChanges||Re.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),L=!0),G++}!function kl(s,o,c){const m=o.directiveEnd,b=s.data,A=o.attrs,L=[];let G=null,Q=null;for(let le=o.directiveStart;le<m;le++){const Re=b[le],rt=c?c.get(Re):null,Jt=rt?rt.outputs:null;G=di(Re.inputs,le,G,rt?rt.inputs:null),Q=di(Re.outputs,le,Q,Jt);const Cn=null===G||null===A||pc(o)?null:ov(G,le,A);L.push(Cn)}null!==G&&(G.hasOwnProperty("class")&&(o.flags|=8),G.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=L,o.inputs=G,o.outputs=Q}(s,c,b)}function Lg(s,o,c){const g=c.directiveStart,m=c.directiveEnd,b=c.index,A=function lo(){return Ir.lFrame.currentDirectiveIndex}();try{So(b);for(let L=g;L<m;L++){const G=s.data[L],Q=o[L];Tu(L),(null!==G.hostBindings||0!==G.hostVars||null!==G.hostAttrs)&&ud(G,Q)}}finally{So(-1),Tu(A)}}function ud(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Fg(s,o,c){o.componentOffset=c,(s.components||(s.components=[])).push(o.index)}function Zm(s,o,c){if(c){if(o.exportAs)for(let g=0;g<o.exportAs.length;g++)c[o.exportAs[g]]=s;Ji(o)&&(c[""]=s)}}function Bg(s,o,c,g,m){s.data[g]=m;const b=m.factory||(m.factory=Ts(m.type)),A=new zt(b,Ji(m),Gh);s.blueprint[g]=A,c[g]=A,function qh(s,o,c,g,m){const b=m.hostBindings;if(b){let A=s.hostBindingOpCodes;null===A&&(A=s.hostBindingOpCodes=[]);const L=~o.index;(function Nf(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(A)!=L&&A.push(L),A.push(c,g,b)}}(s,o,g,zh(s,c,m.hostVars,ci),m)}function Pp(s,o,c,g,m,b,A){if(null==b)s.removeAttribute(o,m,c);else{const L=null==A?ut(b):A(b,g||"",m);s.setAttribute(o,m,L,c)}}function kp(s,o,c,g,m,b){const A=b[o];if(null!==A){const L=g.setInput;for(let G=0;G<A.length;){const Q=A[G++],le=A[G++],Re=A[G++];null!==L?g.setInput(c,Re,Q,le):c[le]=Re}}}function ov(s,o,c){let g=null,m=0;for(;m<c.length;){const b=c[m];if(0!==b)if(5!==b){if("number"==typeof b)break;if(s.hasOwnProperty(b)){null===g&&(g=[]);const A=s[b];for(let L=0;L<A.length;L+=2)if(A[L]===o){g.push(b,A[L+1],c[m+1]);break}}m+=2}else m+=2;else m+=4}return g}function Kh(s,o,c,g){return[s,!0,!1,o,null,0,g,c,null,null]}function La(s,o){const c=Hi(o,s);if(Qi(c)){const g=c[1];48&c[2]?Ap(g,c,g.template,c[8]):c[5]>0&&Fc(c)}}function Fc(s){for(let g=xu(s);null!==g;g=Ja(g))for(let m=10;m<g.length;m++){const b=g[m];if(Qi(b))if(512&b[2]){const A=b[1];Ap(A,b,A.template,b[8])}else b[5]>0&&Fc(b)}const c=s[1].components;if(null!==c)for(let g=0;g<c.length;g++){const m=Hi(c[g],s);Qi(m)&&m[5]>0&&Fc(m)}}function av(s,o){const c=Hi(o,s),g=c[1];(function yy(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(g,c),zm(g,c,c[8])}function Of(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Vg(s){for(;s;){s[2]|=32;const o=Qe(s);if(xa(s)&&!o)return s;s=o}return null}function Rd(s,o,c,g=!0){const m=o[10];m.begin&&m.begin();try{Ap(s,o,s.template,c)}catch(A){throw g&&Rf(o,A),A}finally{m.end&&m.end()}}function Lp(s,o,c){$u(0),o(s,c)}function $g(s){return s[7]||(s[7]=[])}function Jm(s){return s.cleanup||(s.cleanup=[])}function Rf(s,o){const c=s[9],g=c?c.get(od,null):null;g&&g.handleError(o)}function Pf(s,o,c,g,m){for(let b=0;b<c.length;){const A=c[b++],L=c[b++],G=o[A],Q=s.data[A];null!==Q.setInput?Q.setInput(G,m,g,L):G[L]=m}}function gc(s,o,c){const g=$i(o,s);Dh(s[11],g,c)}function Hg(s,o,c){let g=c?s.styles:null,m=c?s.classes:null,b=0;if(null!==o)for(let A=0;A<o.length;A++){const L=o[A];"number"==typeof L?b=L:1==b?m=Ee(m,L):2==b&&(g=Ee(g,L+": "+o[++A]+";"))}c?s.styles=g:s.stylesWithoutHost=g,c?s.classes=m:s.classesWithoutHost=m}function Fp(s,o,c,g,m=!1){for(;null!==c;){const b=o[c.index];if(null!==b&&g.push(Pn(b)),ds(b))for(let L=10;L<b.length;L++){const G=b[L],Q=G[1].firstChild;null!==Q&&Fp(G[1],G,Q,g)}const A=c.type;if(8&A)Fp(s,o,c.child,g);else if(32&A){const L=sn(c,o);let G;for(;G=L();)g.push(G)}else if(16&A){const L=Lt(o,c);if(Array.isArray(L))g.push(...L);else{const G=Qe(o[16]);Fp(G[1],G,L,g,!0)}}c=m?c.projectionNext:c.next}return g}class _l{get rootNodes(){const o=this._lView,c=o[1];return Fp(c,o,c.firstChild,[])}constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ds(o)){const c=o[8],g=c?c.indexOf(this):-1;g>-1&&(Tr(o,g),Y(c,g))}this._attachedToViewContainer=!1}Sh(this._lView[1],this._lView)}onDestroy(o){Np(this._lView[1],this._lView,null,o)}markForCheck(){Vg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Rd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yd(s,o){Mu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=o}}class Gg extends _l{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Rd(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class kf extends gl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Kr(o);return new Zh(c,this.ngModule)}}function jg(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class Bl{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,g){g=Vn(g);const m=this.injector.get(o,Dg,g);return m!==Dg||c===Dg?m:this.parentInjector.get(o,c,g)}}class Zh extends yp{get inputs(){return jg(this.componentDef.inputs)}get outputs(){return jg(this.componentDef.outputs)}constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function Sf(s){return s.map(Vm).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}create(o,c,g,m){let b=(m=m||this.ngModule)instanceof Oc?m:m?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const A=b?new Bl(o,b):o,L=A.get(Fh,null);if(null===L)throw new Ye(407,!1);const G=A.get(Lo,null),Q=L.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",Re=g?function vy(s,o,c){return s.selectRootElement(o,c===qt.ShadowDom)}(Q,g,this.componentDef.encapsulation):Zd(Q,le,function Qm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(le)),rt=this.componentDef.onPush?288:272,St=Rg(0,null,null,1,0,null,null,null,null,null),Jt=Og(null,St,null,rt,null,null,L,Q,G,A,null);let Cn,Wn;Cu(Jt);try{const mr=this.componentDef;let Yr,hn=null;mr.findHostDirectiveDefs?(Yr=[],hn=new Map,mr.findHostDirectiveDefs(mr,Yr,hn),Yr.push(mr)):Yr=[mr];const Oi=function e_(s,o){const c=s[1];return s[22]=o,jh(c,22,2,"#host",null)}(Jt,Re),Va=function dh(s,o,c,g,m,b,A,L){const G=m[1];!function Ff(s,o,c,g){for(const m of s)o.mergedAttrs=js(o.mergedAttrs,m.hostAttrs);null!==o.mergedAttrs&&(Hg(o,o.mergedAttrs,!0),null!==c&&nd(g,c,o))}(g,s,o,A);const Q=b.createRenderer(o,c),le=Og(m,nv(c),null,c.onPush?32:16,m[s.index],s,b,Q,L||null,null,null);return G.firstCreatePass&&Fg(G,s,g.length-1),Of(m,le),m[s.index]=le}(Oi,Re,mr,Yr,Jt,L,Q);Wn=Uo(St,22),Re&&function Yh(s,o,c,g){if(g)Ao(s,c,["ng-version",Tp.full]);else{const{attrs:m,classes:b}=function $m(s){const o=[],c=[];let g=1,m=2;for(;g<s.length;){let b=s[g];if("string"==typeof b)2===m?""!==b&&o.push(b,s[++g]):8===m&&c.push(b);else{if(!ad(m))break;m=b}g++}return{attrs:o,classes:c}}(o.selectors[0]);m&&Ao(s,c,m),b&&b.length>0&&M_(s,c,b.join(" "))}}(Q,mr,Re,g),void 0!==c&&function Wg(s,o,c){const g=s.projection=[];for(let m=0;m<o.length;m++){const b=c[m];g.push(null!=b?Array.from(b):null)}}(Wn,this.ngContentSelectors,c),Cn=function lv(s,o,c,g,m,b){const A=_t(),L=m[1],G=hs(A,m);lh(L,m,A,c,null,g);for(let le=0;le<c.length;le++)Pa(Ta(m,L,A.directiveStart+le,A),m);Lg(L,m,A),G&&Pa(G,m);const Q=Ta(m,L,A.directiveStart+A.componentOffset,A);if(s[8]=m[8]=Q,null!==b)for(const le of b)le(Q,o);return Zo(L,A,s),Q}(Va,mr,Yr,hn,Jt,[hh]),zm(St,Jt,null)}finally{Ar()}return new Lf(this.componentType,Cn,Rc(Wn,Jt),Jt,Wn)}}class Lf extends Tg{constructor(o,c,g,m,b){super(),this.location=g,this._rootLView=m,this._tNode=b,this.instance=c,this.hostView=this.changeDetectorRef=new Gg(m),this.componentType=o}setInput(o,c){const g=this._tNode.inputs;let m;if(null!==g&&(m=g[o])){const b=this._rootLView;Pf(b[1],b,m,o,c),xs(b,this._tNode.index)}}get injector(){return new Zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function hh(){const s=_t();wr(U()[1],s)}function Bc(s){let o=function zg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const g=[s];for(;o;){let m;if(Ji(s))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ye(903,!1);m=o.\u0275dir}if(m){if(c){g.push(m);const A=s;A.inputs=t_(s.inputs),A.declaredInputs=t_(s.declaredInputs),A.outputs=t_(s.outputs);const L=m.hostBindings;L&&by(s,L);const G=m.viewQuery,Q=m.contentQueries;if(G&&dv(s,G),Q&&Ey(s,Q),Ie(s.inputs,m.inputs),Ie(s.declaredInputs,m.declaredInputs),Ie(s.outputs,m.outputs),Ji(m)&&m.data.animation){const le=s.data;le.animation=(le.animation||[]).concat(m.data.animation)}}const b=m.features;if(b)for(let A=0;A<b.length;A++){const L=b[A];L&&L.ngInherit&&L(s),L===Bc&&(c=!1)}}o=Object.getPrototypeOf(o)}!function cv(s){let o=0,c=null;for(let g=s.length-1;g>=0;g--){const m=s[g];m.hostVars=o+=m.hostVars,m.hostAttrs=js(m.hostAttrs,c=js(c,m.hostAttrs))}}(g)}function t_(s){return s===vn?{}:s===$e?[]:s}function dv(s,o){const c=s.viewQuery;s.viewQuery=c?(g,m)=>{o(g,m),c(g,m)}:o}function Ey(s,o){const c=s.contentQueries;s.contentQueries=c?(g,m,b)=>{o(g,m,b),c(g,m,b)}:o}function by(s,o){const c=s.hostBindings;s.hostBindings=c?(g,m)=>{o(g,m),c(g,m)}:o}let Bp=null;function ld(){if(!Bp){const s=At.Symbol;if(s&&s.iterator)Bp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const g=o[c];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(Bp=g)}}}return Bp}function Bf(s){return!!Fa(s)&&(Array.isArray(s)||!(s instanceof Map)&&ld()in s)}function Fa(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function cd(s,o,c){return s[o]=c}function Qu(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Yo(s,o,c,g){const m=Qu(s,o,c);return Qu(s,o+1,g)||m}function Jg(s,o,c,g){const m=U();return Qu(m,bs(),o)&&(j(),function pu(s,o,c,g,m,b){const A=hs(s,o);Pp(o[11],A,b,s.value,c,g,m)}(Xi(),m,s,o,c,g)),Jg}function Pd(s,o,c,g){return Qu(s,bs(),c)?o+ut(c)+g:ci}function Uc(s,o,c,g,m,b){const L=Yo(s,Rs(),c,m);return ta(2),L?o+ut(c)+g+ut(m)+b:ci}function Fd(s,o,c,g,m,b,A,L){const G=U(),Q=j(),le=s+22,Re=Q.firstCreatePass?function tm(s,o,c,g,m,b,A,L,G){const Q=o.consts,le=jh(o,s,4,A||null,Si(Q,L));Fl(o,c,le,Si(Q,G)),wr(o,le);const Re=le.tViews=Rg(2,le,g,m,b,o.directiveRegistry,o.pipeRegistry,null,o.schemas,Q);return null!==o.queries&&(o.queries.template(o,le),Re.queries=o.queries.embeddedTView(le)),le}(le,Q,G,o,c,g,m,b,A):Q.data[le];Es(Re,!1);const rt=G[11].createComment("");fl(Q,G,rt,Re),Pa(rt,G),Of(G,G[le]=Kh(rt,G,rt,Re)),$l(Re)&&uh(Q,G,Re),null!=A&&Mp(G,Re,L)}function o_(s){return Hs(function ss(){return Ir.lFrame.contextLView}(),22+s)}function nm(s,o,c){const g=U();return Qu(g,bs(),o)&&Ll(j(),Xi(),g,s,o,g[11],c,!1),nm}function rm(s,o,c,g,m){const A=m?"class":"style";Pf(s,c,o.inputs[A],A,g)}function im(s,o,c,g){const m=U(),b=j(),A=22+s,L=m[11],G=m[A]=Zd(L,o,function Wl(){return Ir.lFrame.currentNamespace}()),Q=b.firstCreatePass?function a_(s,o,c,g,m,b,A){const L=o.consts,Q=jh(o,s,2,m,Si(L,b));return Fl(o,c,Q,Si(L,A)),null!==Q.attrs&&Hg(Q,Q.attrs,!1),null!==Q.mergedAttrs&&Hg(Q,Q.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,Q),Q}(A,b,m,0,o,c,g):b.data[A];return Es(Q,!0),nd(L,G,Q),32!=(32&Q.flags)&&fl(b,m,G,Q),0===function Ss(){return Ir.lFrame.elementDepthCount}()&&Pa(G,m),function Gl(){Ir.lFrame.elementDepthCount++}(),$l(Q)&&(uh(b,m,Q),Zo(b,Q,m)),null!==g&&Mp(m,Q),im}function Gf(){let s=_t();Ea()?Os():(s=s.parent,Es(s,!1));const o=s;!function ya(){Ir.lFrame.elementDepthCount--}();const c=j();return c.firstCreatePass&&(wr(c,s),nt(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Jr(s){return 0!=(8&s.flags)}(o)&&rm(c,o,U(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function es(s){return 0!=(16&s.flags)}(o)&&rm(c,o,U(),o.stylesWithoutHost,!1),Gf}function vc(s,o,c,g){return im(s,o,c,g),Gf(),vc}function jf(s,o,c){const g=U(),m=j(),b=s+22,A=m.firstCreatePass?function u_(s,o,c,g,m){const b=o.consts,A=Si(b,g),L=jh(o,s,8,"ng-container",A);return null!==A&&Hg(L,A,!0),Fl(o,c,L,Si(b,m)),null!==o.queries&&o.queries.elementStart(o,L),L}(b,m,g,o,c):m.data[b];Es(A,!0);const L=g[b]=g[11].createComment("");return fl(m,g,L,A),Pa(L,g),$l(A)&&(uh(m,g,A),Zo(m,A,g)),null!=c&&Mp(g,A),jf}function ef(){let s=_t();const o=j();return Ea()?Os():(s=s.parent,Es(s,!1)),o.firstCreatePass&&(wr(o,s),nt(s)&&o.queries.elementEnd(s)),ef}function zf(){return U()}function Hp(s){return!!s&&"function"==typeof s.then}function sm(s){return!!s&&"function"==typeof s.subscribe}const f=sm;function v(s,o,c,g){const m=U(),b=j(),A=_t();return function te(s,o,c,g,m,b,A){const L=$l(g),Q=s.firstCreatePass&&Jm(s),le=o[8],Re=$g(o);let rt=!0;if(3&g.type||A){const Cn=hs(g,o),Wn=A?A(Cn):Cn,mr=Re.length,Yr=A?Oi=>A(Pn(Oi[g.index])):g.index;let hn=null;if(!A&&L&&(hn=function q(s,o,c,g){const m=s.cleanup;if(null!=m)for(let b=0;b<m.length-1;b+=2){const A=m[b];if(A===c&&m[b+1]===g){const L=o[7],G=m[b+2];return L.length>G?L[G]:null}"string"==typeof A&&(b+=2)}return null}(s,o,m,g.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=b,hn.__ngLastListenerFn__=b,rt=!1;else{b=Ve(g,o,le,b,!1);const Oi=c.listen(Wn,m,b);Re.push(b,Oi),Q&&Q.push(m,Yr,mr,mr+1)}}else b=Ve(g,o,le,b,!1);const St=g.outputs;let Jt;if(rt&&null!==St&&(Jt=St[m])){const Cn=Jt.length;if(Cn)for(let Wn=0;Wn<Cn;Wn+=2){const Va=o[Jt[Wn]][Jt[Wn+1]].subscribe(b),Lu=Re.length;Re.push(b,Va),Q&&Q.push(m,g.index,Lu,-(Lu+1))}}}(b,m,m[11],A,s,o,g),v}function ye(s,o,c,g){try{return!1!==c(g)}catch(m){return Rf(s,m),!1}}function Ve(s,o,c,g,m){return function b(A){if(A===Function)return g;Vg(s.componentOffset>-1?Hi(s.index,o):o);let G=ye(o,0,g,A),Q=b.__ngNextListenerFn__;for(;Q;)G=ye(o,0,Q,A)&&G,Q=Q.__ngNextListenerFn__;return m&&!1===G&&(A.preventDefault(),A.returnValue=!1),G}}function Je(s=1){return function Li(s){return(Ir.lFrame.contextLView=function Gs(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ir.lFrame.contextLView))[8]}(s)}function gt(s,o){let c=null;const g=function q_(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(!(1&c))return o[c+1]}return null}(s);for(let m=0;m<o.length;m++){const b=o[m];if("*"!==b){if(null===g?li(s,b,!0):Sp(g,b))return m}else c=m}return c}function Qt(s){const o=U()[16][6];if(!o.projection){const g=o.projection=ie(s?s.length:1,null),m=g.slice();let b=o.child;for(;null!==b;){const A=s?gt(b,s):0;null!==A&&(m[A]?m[A].projectionNext=b:g[A]=b,m[A]=b),b=b.next}}}function nn(s,o=0,c){const g=U(),m=j(),b=jh(m,22+s,16,null,c||null);null===b.projection&&(b.projection=o),Os(),32!=(32&b.flags)&&function Cd(s,o,c){gg(o[11],0,o,c,Rn(s,c,o),hg(c.parent||o[6],c,o))}(m,g,b)}function ln(s,o,c){return kn(s,"",o,"",c),ln}function kn(s,o,c,g,m){const b=U(),A=Pd(b,o,c,g);return A!==ci&&Ll(j(),Xi(),b,s,A,b[11],m,!1),kn}function Ia(s,o){return s<<17|o<<2}function Bs(s){return s>>17&32767}function qf(s){return 2|s}function tf(s){return(131068&s)>>2}function om(s,o){return-131069&s|o<<2}function Vc(s){return 1|s}function _v(s,o,c,g,m){const b=s[c+1],A=null===o;let L=g?Bs(b):tf(b),G=!1;for(;0!==L&&(!1===G||A);){const le=s[L+1];A0(s[L],o)&&(G=!0,s[L+1]=g?Vc(le):qf(le)),L=g?Bs(le):tf(le)}G&&(s[c+1]=g?qf(b):Vc(b))}function A0(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ui(s,o)>=0}const Ua={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function am(s){return s.substring(Ua.key,Ua.keyEnd)}function Gp(s,o){const c=Ua.textEnd;return c===o?-1:(o=Ua.keyEnd=function N0(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Ua.key=o,c),um(s,o,c))}function um(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function jp(s,o,c){return pd(s,o,c,!1),jp}function lm(s,o){return pd(s,o,null,!0),lm}function xy(s){_u(In,fd,s,!0)}function fd(s,o){for(let c=function x0(s){return function M0(s){Ua.key=0,Ua.keyEnd=0,Ua.value=0,Ua.valueEnd=0,Ua.textEnd=s.length}(s),Gp(s,um(s,0,Ua.textEnd))}(o);c>=0;c=Gp(o,c))In(s,am(o),!0)}function pd(s,o,c,g){const m=U(),b=j(),A=ta(2);b.firstUpdatePass&&Ev(b,s,A,g),o!==ci&&Qu(m,A,o)&&wv(b,b.data[$r()],m,m[11],s,m[A+1]=function Ry(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(yo(s)))),s}(o,c),g,A)}function _u(s,o,c,g){const m=j(),b=ta(2);m.firstUpdatePass&&Ev(m,null,b,g);const A=U();if(c!==ci&&Qu(A,b,c)){const L=m.data[$r()];if(Py(L,g)&&!Bd(m,b)){let G=g?L.classesWithoutHost:L.stylesWithoutHost;null!==G&&(c=Ee(G,c||"")),rm(m,L,A,c,g)}else!function Oy(s,o,c,g,m,b,A,L){m===ci&&(m=$e);let G=0,Q=0,le=0<m.length?m[0]:null,Re=0<b.length?b[0]:null;for(;null!==le||null!==Re;){const rt=G<m.length?m[G+1]:void 0,St=Q<b.length?b[Q+1]:void 0;let Cn,Jt=null;le===Re?(G+=2,Q+=2,rt!==St&&(Jt=Re,Cn=St)):null===Re||null!==le&&le<Re?(G+=2,Jt=le):(Q+=2,Jt=Re,Cn=St),null!==Jt&&wv(s,o,c,g,Jt,Cn,A,L),le=G<m.length?m[G]:null,Re=Q<b.length?b[Q]:null}}(m,L,A,A[11],A[b+1],A[b+1]=function My(s,o,c){if(null==c||""===c)return $e;const g=[],m=yo(c);if(Array.isArray(m))for(let b=0;b<m.length;b++)s(g,m[b],!0);else if("object"==typeof m)for(const b in m)m.hasOwnProperty(b)&&s(g,b,m[b]);else"string"==typeof m&&o(g,m);return g}(s,o,c),g,b)}}function Bd(s,o){return o>=s.expandoStartIndex}function Ev(s,o,c,g){const m=s.data;if(null===m[c+1]){const b=m[$r()],A=Bd(s,c);Py(b,g)&&null===o&&!A&&(o=!1),o=function Wp(s,o,c,g){const m=function rl(s){const o=Ir.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let b=g?o.residualClasses:o.residualStyles;if(null===m)0===(g?o.classBindings:o.styleBindings)&&(c=c_(c=bv(null,s,o,c,g),o.attrs,g),b=null);else{const A=o.directiveStylingLast;if(-1===A||s[A]!==m)if(c=bv(m,s,o,c,g),null===b){let G=function cm(s,o,c){const g=c?o.classBindings:o.styleBindings;if(0!==tf(g))return s[Bs(g)]}(s,o,g);void 0!==G&&Array.isArray(G)&&(G=bv(null,s,o,G[1],g),G=c_(G,o.attrs,g),function XE(s,o,c,g){s[Bs(c?o.classBindings:o.styleBindings)]=g}(s,o,g,G))}else b=function zp(s,o,c){let g;const m=o.directiveEnd;for(let b=1+o.directiveStylingLast;b<m;b++)g=c_(g,s[b].hostAttrs,c);return c_(g,o.attrs,c)}(s,o,g)}return void 0!==b&&(g?o.residualClasses=b:o.residualStyles=b),c}(m,b,o,g),function Dy(s,o,c,g,m,b){let A=b?o.classBindings:o.styleBindings,L=Bs(A),G=tf(A);s[g]=c;let le,Q=!1;if(Array.isArray(c)?(le=c[1],(null===le||ui(c,le)>0)&&(Q=!0)):le=c,m)if(0!==G){const rt=Bs(s[L+1]);s[g+1]=Ia(rt,L),0!==rt&&(s[rt+1]=om(s[rt+1],g)),s[L+1]=function Ul(s,o){return 131071&s|o<<17}(s[L+1],g)}else s[g+1]=Ia(L,0),0!==L&&(s[L+1]=om(s[L+1],g)),L=g;else s[g+1]=Ia(G,0),0===L?L=g:s[G+1]=om(s[G+1],g),G=g;Q&&(s[g+1]=qf(s[g+1])),_v(s,le,g,!0),_v(s,le,g,!1),function QE(s,o,c,g,m){const b=m?s.residualClasses:s.residualStyles;null!=b&&"string"==typeof o&&ui(b,o)>=0&&(c[g+1]=Vc(c[g+1]))}(o,le,s,g,b),A=Ia(L,G),b?o.classBindings=A:o.styleBindings=A}(m,b,o,c,A,g)}}function bv(s,o,c,g,m){let b=null;const A=c.directiveEnd;let L=c.directiveStylingLast;for(-1===L?L=c.directiveStart:L++;L<A&&(b=o[L],g=c_(g,b.hostAttrs,m),b!==s);)L++;return null!==s&&(c.directiveStylingLast=L),g}function c_(s,o,c){const g=c?1:2;let m=-1;if(null!==o)for(let b=0;b<o.length;b++){const A=o[b];"number"==typeof A?m=A:m===g&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),In(s,A,!!c||o[++b]))}return void 0===s?null:s}function wv(s,o,c,g,m,b,A,L){if(!(3&o.type))return;const G=s.data,Q=G[L+1],le=function Cy(s){return 1==(1&s)}(Q)?R0(G,o,c,m,tf(Q),A):void 0;Tv(le)||(Tv(b)||function Ba(s){return 2==(2&s)}(Q)&&(b=R0(G,null,c,m,L,A)),function ap(s,o,c,g,m){if(o)m?s.addClass(c,g):s.removeClass(c,g);else{let b=-1===g.indexOf("-")?void 0:Ml.DashCase;null==m?s.removeStyle(c,g,b):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),b|=Ml.Important),s.setStyle(c,g,m,b))}}(g,A,$i($r(),c),m,b))}function R0(s,o,c,g,m,b){const A=null===o;let L;for(;m>0;){const G=s[m],Q=Array.isArray(G),le=Q?G[1]:G,Re=null===le;let rt=c[m+1];rt===ci&&(rt=Re?$e:void 0);let St=Re?ti(rt,g):le===g?rt:void 0;if(Q&&!Tv(St)&&(St=ti(G,g)),Tv(St)&&(L=St,A))return L;const Jt=s[m+1];m=A?Bs(Jt):tf(Jt)}if(null!==o){let G=b?o.residualClasses:o.residualStyles;null!=G&&(L=ti(G,g))}return L}function Tv(s){return void 0!==s}function Py(s,o){return 0!=(s.flags&(o?8:16))}function P0(s,o=""){const c=U(),g=j(),m=s+22,b=g.firstCreatePass?jh(g,m,1,o,null):g.data[m],A=c[m]=bd(c[11],o);fl(g,c,A,b),Es(b,!1)}function ky(s){return Cv("",s,""),ky}function Cv(s,o,c){const g=U(),m=Pd(g,s,o,c);return m!==ci&&gc(g,$r(),m),Cv}function Dv(s,o,c,g,m){const b=U(),A=Uc(b,s,o,c,g,m);return A!==ci&&gc(b,$r(),A),Dv}function dm(s,o,c,g,m){_u(In,fd,Uc(U(),s,o,c,g,m),!0)}function u(s,o,c){const g=U();return Qu(g,bs(),o)&&Ll(j(),Xi(),g,s,o,g[11],c,!0),u}const y=void 0;var P=["en",[["a","p"],["AM","PM"],y],[["AM","PM"],y,y],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],y,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],y,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",y,"{1} 'at' {0}",y],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function T(s){const c=Math.floor(Math.abs(s)),g=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===g?1:5}];let K={};function oe(s){const o=function ir(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Ht(o);if(c)return c;const g=o.split("-")[0];if(c=Ht(g),c)return c;if("en"===g)return P;throw new Ye(701,!1)}function at(s){return oe(s)[Rt.PluralCase]}function Ht(s){return s in K||(K[s]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[s]),K[s]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Hn=["zero","one","two","few","many"],Xn="en-US",bo={marker:"element"},Ru={marker:"ICU"};var Us=(()=>((Us=Us||{})[Us.SHIFT=2]="SHIFT",Us[Us.APPEND_EAGERLY=1]="APPEND_EAGERLY",Us[Us.COMMENT=2]="COMMENT",Us))();let gd=Xn;function yr(s){(function zn(s,o){null==s&&bn(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(gd=s.toLowerCase().replace(/_/g,"-"))}function eo(s,o,c){const g=o.insertBeforeIndex,m=Array.isArray(g)?g[0]:g;return null===m?cu(s,0,c):Pn(c[m])}function yl(s,o,c,g,m){const b=o.insertBeforeIndex;if(Array.isArray(b)){let A=g,L=null;if(3&o.type||(L=A,A=m),null!==A&&-1===o.componentOffset)for(let G=1;G<b.length;G++)Qc(s,A,c[b[G]],L,!1)}}function nf(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const g=s[c];fh(g)||Kf(g,o)&&null===$c(g)&&hi(g,o.index)}}function fh(s){return!(64&s.type)}function Kf(s,o){return fh(o)||s.index>o.index}function $c(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function hi(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(fg(eo,yl),s.insertBeforeIndex=o)}function fm(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function qy(s,o,c){const g=Wh(s,c,64,null,null);return nf(o,g),g}function Ky(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function pa(s){return s>>>17}function Vl(s){return(131070&s)>>>1}let Zy=0,pm=0;function Yy(s,o,c,g){const m=c[11];let A,b=null;for(let L=0;L<o.length;L++){const G=o[L];if("string"==typeof G){const Q=o[++L];null===c[Q]&&(c[Q]=bd(m,G))}else if("number"==typeof G)switch(1&G){case 0:const Q=pa(G);let le,Re;if(null===b&&(b=Q,A=Xc(m,g)),Q===b?(le=g,Re=A):(le=null,Re=Pn(c[Q])),null!==Re){const Cn=Vl(G);Qc(m,Re,c[Cn],le,!1);const mr=fm(s,Cn);if(null!==mr&&"object"==typeof mr){const Yr=Ky(mr,c);null!==Yr&&Yy(s,mr.create[Yr],c,c[mr.anchorIdx])}}break;case 1:const St=o[++L],Jt=o[++L];Pp(m,$i(G>>>1,c),null,null,St,Jt,null)}else switch(G){case Ru:const Q=o[++L],le=o[++L];null===c[le]&&Pa(c[le]=lu(m,Q),c);break;case bo:const Re=o[++L],rt=o[++L];null===c[rt]&&Pa(c[rt]=Zd(m,Re,null),c)}}}function Qw(s,o,c,g,m){for(let b=0;b<c.length;b++){const A=c[b],L=c[++b];if(A&m){let G="";for(let Q=b+1;Q<=b+L;Q++){const le=c[Q];if("string"==typeof le)G+=le;else if("number"==typeof le)if(le<0)G+=ut(o[g-le]);else{const Re=le>>>2;switch(3&le){case 1:const rt=c[++Q],St=c[++Q],Jt=s.data[Re];"string"==typeof Jt?Pp(o[11],o[Re],null,Jt,rt,G,St):Ll(s,Jt,o,rt,G,o[11],St,!1);break;case 0:const Cn=o[Re];null!==Cn&&Dh(o[11],Cn,G);break;case 2:jC(s,fm(s,Re),o,G);break;case 3:GC(s,fm(s,Re),g,o)}}}}else{const G=c[b+1];if(G>0&&3==(3&G)){const le=fm(s,G>>>2);o[le.currentCaseLViewIndex]<0&&GC(s,le,g,o)}}b+=L}}function GC(s,o,c,g){let m=g[o.currentCaseLViewIndex];if(null!==m){let b=Zy;m<0&&(m=g[o.currentCaseLViewIndex]=~m,b=-1),Qw(s,g,o.update[m],c,b)}}function jC(s,o,c,g){const m=function WC(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const g=function sr(s,o){const c=at(o)(parseInt(s,10)),g=Hn[c];return void 0!==g?g:"other"}(o,function Aa(){return gd}());c=s.cases.indexOf(g),-1===c&&"other"!==g&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,g);if(Ky(o,c)!==m&&(Xw(s,o,c),c[o.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const A=c[o.anchorIdx];A&&Yy(s,o.create[m],c,A)}}function Xw(s,o,c){let g=Ky(o,c);if(null!==g){const m=o.remove[g];for(let b=0;b<m.length;b++){const A=m[b];if(A>0){const L=$i(A,c);null!==L&&Ql(c[11],L)}else Xw(s,fm(s,~A),c)}}}function zC(){const s=[];let c,g,o=-1;function b(L,G){o=0;const Q=Ky(L,G);g=null!==Q?L.remove[Q]:$e}function A(){if(o<g.length){const L=g[o++];return L>0?c[L]:(s.push(o,g),b(c[1].data[~L],c),A())}return 0===s.length?null:(g=s.pop(),o=s.pop(),A())}return function m(L,G){for(c=G;s.length;)s.pop();return b(L.value,G),A}}const Av=/\ufffd(\d+):?\d*\ufffd/gi,z0=/\ufffd(\d+)\ufffd/,q0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,K0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ob=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ab=/\uE500/g;function nT(s,o,c,g,m,b,A){const L=zh(s,g,1,null);let G=L<<Us.SHIFT,Q=Ii();o===Q&&(Q=null),null===Q&&(G|=Us.APPEND_EAGERLY),A&&(G|=Us.COMMENT,function kt(s){void 0===He&&(He=s())}(zC)),m.push(G,null===b?"":b);const le=Wh(s,L,A?32:1,null===b?"":b,null);nf(c,le);const Re=le.index;return Es(le,!1),null!==Q&&o!==Q&&function Kw(s,o){let c=s.insertBeforeIndex;null===c?(fg(eo,yl),c=s.insertBeforeIndex=[null,o]):(function Ge(s,o,c){s!=o&&bn(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(Q,Re),le}function ZC(s,o,c,g,m,b,A){const L=A.match(Av),G=nT(s,o,c,b,g,L?null:A,!1);L&&Mv(m,A,G.index,null,0,null)}function Mv(s,o,c,g,m,b){const A=s.length,L=A+1;s.push(null,null);const G=A+2,Q=o.split(Av);let le=0;for(let Re=0;Re<Q.length;Re++){const rt=Q[Re];if(1&Re){const St=m+parseInt(rt,10);s.push(-1-St),le|=lb(St)}else""!==rt&&s.push(rt)}return s.push(c<<2|(g?1:0)),g&&s.push(g,b),s[A]=le,s[L]=s.length-G,le}function lb(s){return 1<<Math.min(s,31)}function rT(s){let o,b,c="",g=0,m=!1;for(;null!==(o=K0.exec(s));)m?o[0]===`\ufffd/*${b}\ufffd`&&(g=o.index,m=!1):(c+=s.substring(g,o.index+o[0].length),b=o[1],m=!0);return c+=s.slice(g),c}function iT(s,o,c,g,m,b){let A=0;const L={type:m.type,currentCaseLViewIndex:zh(s,o,1,null),anchorIdx:b,cases:[],create:[],remove:[],update:[]};(function Pu(s,o,c){s.push(lb(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,m,b),function qw(s,o,c){const g=s.data[o];null===g?s.data[o]=c:g.value=c}(s,b,L);const G=m.values;for(let Q=0;Q<G.length;Q++){const le=G[Q],Re=[];for(let rt=0;rt<le.length;rt++){const St=le[rt];if("string"!=typeof St){const Jt=Re.push(St)-1;le[rt]=`\x3c!--\ufffd${Jt}\ufffd--\x3e`}}A=e1(s,L,o,c,g,m.cases[Q],le.join(""),Re)|A}A&&function sT(s,o,c){s.push(o,1,c<<2|3)}(c,A,b)}function cb(s){const o=[],c=[];let g=1,m=0;const b=db(s=s.replace(q0,function(A,L,G){return g="select"===G?0:1,m=parseInt(L.slice(1),10),""}));for(let A=0;A<b.length;){let L=b[A++].trim();1===g&&(L=L.replace(/\s*(?:=)?(\w+)\s*/,"$1")),L.length&&o.push(L);const G=db(b[A++]);o.length>c.length&&c.push(G)}return{type:g,mainBinding:m,cases:o,values:c}}function db(s){if(!s)return[];let o=0;const c=[],g=[],m=/[{}]/g;let b;for(m.lastIndex=0;b=m.exec(s);){const L=b.index;if("}"==b[0]){if(c.pop(),0==c.length){const G=s.substring(o,L);q0.test(G)?g.push(cb(G)):g.push(G),o=L+1}}else{if(0==c.length){const G=s.substring(o,L);g.push(G),o=L+1}c.push("{")}}const A=s.substring(o);return g.push(A),g}function e1(s,o,c,g,m,b,A,L){const G=[],Q=[],le=[];o.cases.push(b),o.create.push(G),o.remove.push(Q),o.update.push(le);const rt=function th(s){const o=new R_(s);return function vg(){try{return!!(new window.DOMParser).parseFromString(Nu(""),"text/html")}catch{return!1}}()?new Am(o):o}(function N_(){return void 0!==Dd?Dd:typeof document<"u"?document:void 0}()).getInertBodyElement(A),St=function Nm(s){return"content"in s&&function F_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(rt)||rt;return St?ga(s,o,c,g,G,Q,le,St,m,L,0):0}function ga(s,o,c,g,m,b,A,L,G,Q,le){let Re=0,rt=L.firstChild;for(;rt;){const St=zh(s,c,1,null);switch(rt.nodeType){case Node.ELEMENT_NODE:const Jt=rt,Cn=Jt.tagName.toLowerCase();if(Wi.hasOwnProperty(Cn)){hb(m,bo,Cn,G,St),s.data[St]=Cn;const hn=Jt.attributes;for(let Oi=0;Oi<hn.length;Oi++){const Va=hn.item(Oi),Lu=Va.name.toLowerCase();Va.value.match(Av)?xc.hasOwnProperty(Lu)&&Mv(A,Va.value,St,Va.name,0,ps[Lu]?dp:null):n1(m,St,Va)}Re=ga(s,o,c,g,m,b,A,rt,St,Q,le+1)|Re,t1(b,St,le)}break;case Node.TEXT_NODE:const Wn=rt.textContent||"",mr=Wn.match(Av);hb(m,null,mr?"":Wn,G,St),t1(b,St,le),mr&&(Re=Mv(A,Wn,St,null,0,null)|Re);break;case Node.COMMENT_NODE:const Yr=z0.exec(rt.textContent||"");if(Yr){const Oi=Q[parseInt(Yr[1],10)];hb(m,Ru,"",G,St),iT(s,c,g,G,Oi,St),lS(b,St,le)}}rt=rt.nextSibling}return Re}function t1(s,o,c){0===c&&s.push(o)}function lS(s,o,c){0===c&&(s.push(~o),s.push(o))}function hb(s,o,c,g,m){null!==o&&s.push(o),s.push(c,m,function Zw(s,o,c){return s|o<<17|c<<1}(0,g,m))}function n1(s,o,c){s.push(o<<1|1,c.name,c.value)}function sf(s,o,c=-1){const g=j(),m=U(),b=22+s,A=Si(g.consts,o),L=Ii();g.firstCreatePass&&function ub(s,o,c,g,m,b){const A=Ii(),L=[],G=[],Q=[[]];m=function XC(s,o){if(function QC(s){return-1===s}(o))return rT(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,g=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return rT(s.substring(c,g))}}(m,b);const le=function tT(s){return s.replace(ab," ")}(m).split(ob);for(let Re=0;Re<le.length;Re++){let rt=le[Re];if(1&Re){const St=47===rt.charCodeAt(0),Cn=(rt.charCodeAt(St?1:0),22+Number.parseInt(rt.substring(St?2:1)));if(St)Q.shift(),Es(Ii(),!1);else{const Wn=qy(s,Q[0],Cn);Q.unshift([]),Es(Wn,!0)}}else{const St=db(rt);for(let Jt=0;Jt<St.length;Jt++){let Cn=St[Jt];if(1&Jt){const Wn=Cn;if("object"!=typeof Wn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);iT(s,c,G,o,Wn,nT(s,A,Q[0],c,L,"",!0).index)}else""!==Cn&&ZC(s,A,Q[0],L,G,c,Cn)}}}s.data[g]={create:L,update:G}}(g,null===L?0:L.index,m,b,A,c);const G=g.data[b],le=Fi(g,L===m[6]?null:L,m);(function Jw(s,o,c,g){const m=s[11];for(let b=0;b<o.length;b++){const A=o[b++],L=o[b],Q=(A&Us.APPEND_EAGERLY)===Us.APPEND_EAGERLY,le=A>>>Us.SHIFT;let Re=s[le];null===Re&&(Re=s[le]=(A&Us.COMMENT)===Us.COMMENT?m.createComment(L):bd(m,L)),Q&&null!==c&&Qc(m,c,Re,g,!1)}})(m,G.create,le,L&&8&L.type?m[L.index]:null),wu(!0)}function l1(s,o,c){sf(s,o,c),function Zf(){wu(!1)}()}function Nv(s){return function Yw(s){s&&(Zy|=1<<Math.min(pm,31)),pm++}(Qu(U(),bs(),s)),Nv}function aT(s){!function ib(s,o,c){if(pm>0){const g=s.data[c];Qw(s,o,Array.isArray(g)?g:g.update,Rs()-pm-1,Zy)}Zy=0,pm=0}(j(),U(),s+22)}function Z0(s,o,c,g,m){if(s=Ne(s),Array.isArray(s))for(let b=0;b<s.length;b++)Z0(s[b],o,c,g,m);else{const b=j(),A=U();let L=Nc(s)?s:Ne(s.provide),G=vp(s);const Q=_t(),le=1048575&Q.providerIndexes,Re=Q.directiveStart,rt=Q.providerIndexes>>20;if(Nc(s)||!s.multi){const St=new zt(G,m,Gh),Jt=Zp(L,o,m?le:le+rt,Re);-1===Jt?(Su(ia(Q,A),b,L),Ov(b,s,o.length),o.push(L),Q.directiveStart++,Q.directiveEnd++,m&&(Q.providerIndexes+=1048576),c.push(St),A.push(St)):(c[Jt]=St,A[Jt]=St)}else{const St=Zp(L,o,le+rt,Re),Jt=Zp(L,o,le,le+rt),Wn=Jt>=0&&c[Jt];if(m&&!Wn||!m&&!(St>=0&&c[St])){Su(ia(Q,A),b,L);const mr=function pb(s,o,c,g,m){const b=new zt(s,c,Gh);return b.multi=[],b.index=o,b.componentProviders=0,lT(b,m,g&&!c),b}(m?Qy:Y0,c.length,m,g,G);!m&&Wn&&(c[Jt].providerFactory=mr),Ov(b,s,o.length,0),o.push(L),Q.directiveStart++,Q.directiveEnd++,m&&(Q.providerIndexes+=1048576),c.push(mr),A.push(mr)}else Ov(b,s,St>-1?St:Jt,lT(c[m?Jt:St],G,!m&&g));!m&&g&&Wn&&c[Jt].componentProviders++}}}function Ov(s,o,c,g){const m=Nc(o),b=function bg(s){return!!s.useClass}(o);if(m||b){const G=(b?Ne(o.useClass):o).prototype.ngOnDestroy;if(G){const Q=s.destroyHooks||(s.destroyHooks=[]);if(!m&&o.multi){const le=Q.indexOf(c);-1===le?Q.push(c,[g,G]):Q[le+1].push(g,G)}else Q.push(c,G)}}}function lT(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Zp(s,o,c,g){for(let m=c;m<g;m++)if(o[m]===s)return m;return-1}function Y0(s,o,c,g){return J0(this.multi,[])}function Qy(s,o,c,g){const m=this.multi;let b;if(this.providerFactory){const A=this.providerFactory.componentProviders,L=Ta(c,c[1],this.providerFactory.index,g);b=L.slice(0,A),J0(m,b);for(let G=A;G<L.length;G++)b.push(L[G])}else b=[],J0(m,b);return b}function J0(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function cT(s,o=[]){return c=>{c.providersResolver=(g,m)=>function uT(s,o,c){const g=j();if(g.firstCreatePass){const m=Ji(s);Z0(c,g.data,g.blueprint,m,!0),Z0(o,g.data,g.blueprint,m,!1)}}(g,m?m(s):s,o)}}class Rv{}class dT{}function gb(s,o){return new mb(s,o??null)}class mb extends Rv{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kf(this);const g=Di(o);this._bootstrapComponents=Fs(g.bootstrap),this._r3Injector=xf(o,c,[{provide:Rv,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Yp extends dT{constructor(o){super(),this.moduleType=o}create(o){return new mb(this.moduleType,o)}}class fT extends Rv{constructor(o,c,g){super(),this.componentFactoryResolver=new kf(this),this.instance=null;const m=new km([...o,{provide:Rv,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],c||Rh(),g,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Q0(s,o,c=null){return new fT(s,o,c).injector}let _b=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const g=Nh(0,c.type),m=g.length>0?Q0([g],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,m)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=On({token:s,providedIn:"environment",factory:()=>new s(rn(Oc))}),s})();function X0(s){s.getStandaloneInjector=o=>o.get(_b).getOrCreateStandaloneInjector(s)}function t0(s,o,c,g){return wb(U(),qi(),s,o,c,g)}function gT(s,o,c,g,m){return Tb(U(),qi(),s,o,c,g,m)}function mT(s,o,c,g,m,b){return function Cb(s,o,c,g,m,b,A,L){const G=o+c;return function Uf(s,o,c,g,m){const b=Yo(s,o,c,g);return Qu(s,o+2,m)||b}(s,G,m,b,A)?cd(s,G+3,L?g.call(L,m,b,A):g(m,b,A)):Bv(s,G+3)}(U(),qi(),s,o,c,g,m,b)}function Bv(s,o){const c=s[o];return c===ci?void 0:c}function wb(s,o,c,g,m,b){const A=o+c;return Qu(s,A,m)?cd(s,A+1,b?g.call(b,m):g(m)):Bv(s,A+1)}function Tb(s,o,c,g,m,b,A){const L=o+c;return Yo(s,L,m,b)?cd(s,L+2,A?g.call(A,m,b):g(m,b)):Bv(s,L+2)}function rE(s,o){const c=j();let g;const m=s+22;c.firstCreatePass?(g=function iE(s,o){if(o)for(let c=o.length-1;c>=0;c--){const g=o[c];if(s===g.name)return g}}(o,c.pipeRegistry),c.data[m]=g,g.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(m,g.onDestroy)):g=c.data[m];const b=g.factory||(g.factory=Ts(g.type)),A=Ti(Gh);try{const L=ja(!1),G=b();return ja(L),function mv(s,o,c,g){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=g}(c,U(),m,G),G}finally{Ti(A)}}function gm(s,o,c){const g=s+22,m=U(),b=Hs(m,g);return Uv(m,g)?wb(m,qi(),o,b.transform,c,b):b.transform(c)}function Yf(s,o,c,g){const m=s+22,b=U(),A=Hs(b,m);return Uv(b,m)?Tb(b,qi(),o,A.transform,c,g,A):A.transform(c,g)}function Uv(s,o){return s[1].data[o].pure}function Jf(s){return o=>{setTimeout(s,void 0,o)}}const Qf=class y1 extends w.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,g){let m=o,b=c||(()=>null),A=g;if(o&&"object"==typeof o){const G=o;m=G.next?.bind(G),b=G.error?.bind(G),A=G.complete?.bind(G)}this.__isAsync&&(b=Jf(b),m&&(m=Jf(m)),A&&(A=Jf(A)));const L=super.subscribe({next:m,error:b,complete:A});return o instanceof M.w0&&o.add(L),L}};function E1(){return this._results[ld()]()}class Ib{get changes(){return this._changes||(this._changes=new Qf)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ld(),g=Ib.prototype;g[c]||(g[c]=E1)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const g=this;g.dirty=!1;const m=function R(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function x(s,o,c){if(s.length!==o.length)return!1;for(let g=0;g<s.length;g++){let m=s[g],b=o[g];if(c&&(m=c(m),b=c(b)),b!==m)return!1}return!0}(g._results,m,c))&&(g._results=m,g.length=m.length,g.last=m[this.length-1],g.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let r0=(()=>{class s{}return s.__NG_ELEMENT_ID__=vT,s})();const b1=r0,_T=class extends b1{constructor(o,c,g){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=g}createEmbeddedView(o,c){const g=this._declarationTContainer.tViews,m=Og(this._declarationLView,g,o,16,null,g.declTNode,null,null,null,null,c||null);m[17]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[19];return null!==A&&(m[19]=A.createEmbeddedView(g)),zm(g,m,o),new _l(m)}};function vT(){return sE(_t(),U())}function sE(s,o){return 4&s.type?new _T(o,s,Rc(s,o)):null}let oE=(()=>{class s{}return s.__NG_ELEMENT_ID__=yT,s})();function yT(){return T1(_t(),U())}const w1=oE,p_=class extends w1{constructor(o,c,g){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=g}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new Zs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Gi(this._hostTNode,this._hostLView);if(sl(o)){const c=Oa(o,this._hostLView),g=ou(o);return new Zs(c[1].data[g+8],c)}return new Zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=aE(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,g){let m,b;"number"==typeof g?m=g:null!=g&&(m=g.index,b=g.injector);const A=o.createEmbeddedView(c||{},b);return this.insert(A,m),A}createComponent(o,c,g,m,b){const A=o&&!function Ls(s){return"function"==typeof s}(o);let L;if(A)L=c;else{const Re=c||{};L=Re.index,g=Re.injector,m=Re.projectableNodes,b=Re.environmentInjector||Re.ngModuleRef}const G=A?o:new Zh(Kr(o)),Q=g||this.parentInjector;if(!b&&null==G.ngModule){const rt=(A?Q:this.parentInjector).get(Oc,null);rt&&(b=rt)}const le=G.create(Q,m,void 0,b);return this.insert(le.hostView,L),le}insert(o,c){const g=o._lView,m=g[1];if(function bu(s){return ds(s[3])}(g)){const le=this.indexOf(o);if(-1!==le)this.detach(le);else{const Re=g[3],rt=new p_(Re,Re[6],Re[3]);rt.detach(rt.indexOf(o))}}const b=this._adjustIndex(c),A=this._lContainer;!function wd(s,o,c,g){const m=10+g,b=c.length;g>0&&(c[m-1][4]=o),g<b-10?(o[4]=c[m],V(c,10+g,o)):(c.push(o),o[4]=null),o[3]=c;const A=o[17];null!==A&&c!==A&&function Qa(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(A,o);const L=o[19];null!==L&&L.insertView(s),o[2]|=64}(m,g,A,b);const L=Qd(b,A),G=g[11],Q=Xc(G,A[7]);return null!==Q&&function ff(s,o,c,g,m,b){g[0]=m,g[6]=o,Mu(s,g,c,1,m,b)}(m,A[6],G,g,Q,L),o.attachToViewContainerRef(),V(ET(A),b,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=aE(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),g=Tr(this._lContainer,c);g&&(Y(ET(this._lContainer),c),Sh(g[1],g))}detach(o){const c=this._adjustIndex(o,-1),g=Tr(this._lContainer,c);return g&&null!=Y(ET(this._lContainer),c)?new _l(g):null}_adjustIndex(o,c=0){return o??this.length+c}};function aE(s){return s[8]}function ET(s){return s[8]||(s[8]=[])}function T1(s,o){let c;const g=o[s.index];if(ds(g))c=g;else{let m;if(8&s.type)m=Pn(g);else{const b=o[11];m=b.createComment("");const A=hs(s,o);Qc(b,Xc(b,A),m,function Ih(s,o){return s.nextSibling(o)}(b,A),!1)}o[s.index]=c=Kh(g,o,m,s),Of(o,c)}return new p_(c,s,o)}class Ab{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ab(this.queryList)}setDirty(){this.queryList.setDirty()}}class uE{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const g=null!==o.contentQueries?o.contentQueries[0]:c.length,m=[];for(let b=0;b<g;b++){const A=c.getByIndex(b);m.push(this.queries[A.indexInDeclarationView].clone())}return new uE(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==lE(o,c).matches&&this.queries[c].setDirty()}}class Jp{constructor(o,c,g=null){this.predicate=o,this.flags=c,this.read=g}}class xb{constructor(o=[]){this.queries=o}elementStart(o,c){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let g=0;g<this.length;g++){const m=null!==c?c.length:0,b=this.getByIndex(g).embeddedTView(o,m);b&&(b.indexInDeclarationView=g,null!==c?c.push(b):c=[b])}return null!==c?new xb(c):null}template(o,c){for(let g=0;g<this.queries.length;g++)this.queries[g].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Mb{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Mb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let g=o.parent;for(;null!==g&&8&g.type&&g.index!==c;)g=g.parent;return c===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const g=this.metadata.predicate;if(Array.isArray(g))for(let m=0;m<g.length;m++){const b=g[m];this.matchTNodeWithReadOption(o,c,C1(c,b)),this.matchTNodeWithReadOption(o,c,wa(c,o,b,!1,!1))}else g===r0?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,wa(c,o,g,!1,!1))}matchTNodeWithReadOption(o,c,g){if(null!==g){const m=this.metadata.read;if(null!==m)if(m===hc||m===oE||m===r0&&4&c.type)this.addMatch(c.index,-2);else{const b=wa(c,o,m,!1,!1);null!==b&&this.addMatch(c.index,b)}else this.addMatch(c.index,g)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function C1(s,o){const c=s.localNames;if(null!==c)for(let g=0;g<c.length;g+=2)if(c[g]===o)return c[g+1];return null}function S1(s,o,c,g){return-1===c?function D1(s,o){return 11&s.type?Rc(s,o):4&s.type?sE(s,o):null}(o,s):-2===c?function I1(s,o,c){return c===hc?Rc(o,s):c===r0?sE(o,s):c===oE?T1(o,s):void 0}(s,o,g):Ta(s,s[1],c,o)}function bT(s,o,c,g){const m=o[19].queries[g];if(null===m.matches){const b=s.data,A=c.matches,L=[];for(let G=0;G<A.length;G+=2){const Q=A[G];L.push(Q<0?null:S1(o,b[Q],A[G+1],c.metadata.read))}m.matches=L}return m.matches}function wT(s,o,c,g){const m=s.queries.getByIndex(c),b=m.matches;if(null!==b){const A=bT(s,o,m,c);for(let L=0;L<b.length;L+=2){const G=b[L];if(G>0)g.push(A[L/2]);else{const Q=b[L+1],le=o[-G];for(let Re=10;Re<le.length;Re++){const rt=le[Re];rt[17]===rt[3]&&wT(rt[1],rt,Q,g)}if(null!==le[9]){const Re=le[9];for(let rt=0;rt<Re.length;rt++){const St=Re[rt];wT(St[1],St,Q,g)}}}}}return g}function A1(s){const o=U(),c=j(),g=il();$u(g+1);const m=lE(c,g);if(s.dirty&&function ao(s){return 4==(4&s[2])}(o)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const b=m.crossesNgTemplate?wT(c,o,g,[]):bT(c,o,m,g);s.reset(b,Cg),s.notifyOnChanges()}return!0}return!1}function Nb(s,o,c){const g=j();g.firstCreatePass&&(Pb(g,new Jp(s,o,c),-1),2==(2&o)&&(g.staticViewQueries=!0)),Rb(g,U(),o)}function TT(s,o,c,g){const m=j();if(m.firstCreatePass){const b=_t();Pb(m,new Jp(o,c,g),b.index),function s0(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(m,s),2==(2&c)&&(m.staticContentQueries=!0)}Rb(m,U(),c)}function CT(){return function Ob(s,o){return s[19].queries[o].queryList}(U(),il())}function Rb(s,o,c){const g=new Ib(4==(4&c));Np(s,o,g,g.destroy),null===o[19]&&(o[19]=new uE),o[19].queries.push(new Ab(g))}function Pb(s,o,c){null===s.queries&&(s.queries=new xb),s.queries.track(new Mb(o,c))}function lE(s,o){return s.queries.getByIndex(o)}function DT(s,o){return sE(s,o)}function pE(...s){}const LT=new Ei("Application Initializer");let Gv=(()=>{class s{constructor(c){this.appInits=c,this.resolve=pE,this.reject=pE,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,m)=>{this.resolve=g,this.reject=m})}runInitializers(){if(this.initialized)return;const c=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const b=this.appInits[m]();if(Hp(b))c.push(b);else if(f(b)){const A=new Promise((L,G)=>{b.subscribe({complete:L,error:G})});c.push(A)}}Promise.all(c).then(()=>{g()}).catch(m=>{this.reject(m)}),0===c.length&&g(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(rn(LT,8))},s.\u0275prov=On({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ep=new Ei("AppId",{providedIn:"root",factory:function $1(){return`${jb()}${jb()}${jb()}`}});function jb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const FT=new Ei("Platform Initializer"),BT=new Ei("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),UT=new Ei("appBootstrapListener");let H1=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=On({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const gE=new Ei("LocaleId",{providedIn:"root",factory:()=>gn(gE,dn.Optional|dn.SkipSelf)||function $T(){return typeof $localize<"u"&&$localize.locale||Xn}()}),G1=new Ei("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class W1{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let _E=(()=>{class s{compileModuleSync(c){return new Yp(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const g=this.compileModuleSync(c),b=Fs(Di(c).declarations).reduce((A,L)=>{const G=Kr(L);return G&&A.push(new Zh(G)),A},[]);return new W1(g,b)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=On({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const K1=(()=>Promise.resolve(0))();function qb(s){typeof Zone>"u"?K1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Vd{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qf(!1),this.onMicrotaskEmpty=new Qf(!1),this.onStable=new Qf(!1),this.onError=new Qf(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!g&&c,m.shouldCoalesceRunChangeDetection=g,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function Z1(){let s=At.requestAnimationFrame,o=At.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const g=o[Zone.__symbol__("OriginalDelegate")];g&&(o=g)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Q1(s){const o=()=>{!function jT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(At,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,v_(s),s.isCheckStableRunning=!0,tp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),v_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,g,m,b,A,L)=>{try{return WT(s),c.invokeTask(m,b,A,L)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||s.shouldCoalesceRunChangeDetection)&&o(),ma(s)}},onInvoke:(c,g,m,b,A,L,G)=>{try{return WT(s),c.invoke(m,b,A,L,G)}finally{s.shouldCoalesceRunChangeDetection&&o(),ma(s)}},onHasTask:(c,g,m,b)=>{c.hasTask(m,b),g===m&&("microTask"==b.change?(s._hasPendingMicrotasks=b.microTask,v_(s),tp(s)):"macroTask"==b.change&&(s.hasPendingMacrotasks=b.macroTask))},onHandleError:(c,g,m,b)=>(c.handleError(m,b),s.runOutsideAngular(()=>s.onError.emit(b)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vd.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(Vd.isInAngularZone())throw new Ye(909,!1)}run(o,c,g){return this._inner.run(o,c,g)}runTask(o,c,g,m){const b=this._inner,A=b.scheduleEventTask("NgZoneEvent: "+m,o,J1,pE,pE);try{return b.runTask(A,c,g)}finally{b.cancelTask(A)}}runGuarded(o,c,g){return this._inner.runGuarded(o,c,g)}runOutsideAngular(o){return this._outer.run(o)}}const J1={};function tp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function v_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function WT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ma(s){s._nesting--,tp(s)}class X1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qf,this.onMicrotaskEmpty=new Qf,this.onStable=new Qf,this.onError=new Qf}run(o,c,g){return o.apply(c,g)}runGuarded(o,c,g){return o.apply(c,g)}runOutsideAngular(o){return o()}runTask(o,c,g,m){return o.apply(c,g)}}const zT=new Ei(""),Gr=new Ei("");let Kb,eD=(()=>{class s{constructor(c,g,m){this._ngZone=c,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Kb||(function np(s){Kb=s}(m),m.addToWindow(g)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vd.assertNotInAngularZone(),qb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qb(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(c)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,g,m){let b=-1;g&&g>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==b),c(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:c,timeoutId:b,updateCb:m})}whenStable(c,g,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,g,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,g,m){return[]}}return s.\u0275fac=function(c){return new(c||s)(rn(Vd),rn(a0),rn(Gr))},s.\u0275prov=On({token:s,factory:s.\u0275fac}),s})(),a0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,g){this._applications.set(c,g)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,g=!0){return Kb?.findTestabilityInTree(this,c,g)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=On({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Xp=null;const jc=new Ei("PlatformDestroyListeners");class y_{constructor(o,c){this.name=o,this.token=c}}function zv(s){const{rootComponent:o,appProviders:c,platformProviders:g}=s,m=function qT(s=[]){if(Xp)return Xp;const o=function yE(s=[],o){return Zu.create({name:o,providers:[{provide:Oh,useValue:"platform"},{provide:jc,useValue:new Set([()=>Xp=null])},...s]})}(s);return Xp=o,function vE(s){const o=s.get(FT,null);o&&o.forEach(c=>c())}(o),o}(g),b=function Xb(s,o){let c;return c="noop"===s?new X1:("zone.js"===s?void 0:s)||new Vd(o),c}("zone.js",function Qb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}());return b.run(()=>{const L=Q0([{provide:Vd,useValue:b},...c||[]],m,"Environment Injector"),G=L.get(od,null);let Q;b.runOutsideAngular(()=>{Q=b.onError.subscribe({next:rt=>{G.handleError(rt)}})});const le=()=>L.destroy(),Re=m.get(jc);return Re.add(le),L.onDestroy(()=>{Q.unsubscribe(),Re.delete(le)}),function ew(s,o,c){try{const g=c();return Hp(g)?g.catch(m=>{throw o.runOutsideAngular(()=>s.handleError(m)),m}):g}catch(g){throw o.runOutsideAngular(()=>s.handleError(g)),g}}(G,b,()=>{const rt=L.get(Gv);return rt.runInitializers(),rt.donePromise.then(()=>{yr(L.get(gE,Xn)||Xn);const Jt=L.get(u0);return void 0!==o&&Jt.bootstrap(o),Jt})})})}let u0=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,g,m){this._zone=c,this._injector=g,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new l.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),A=new l.y(L=>{let G;this._zone.runOutsideAngular(()=>{G=this._zone.onStable.subscribe(()=>{Vd.assertNotInAngularZone(),qb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{Vd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{G.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,pe.T)(b,A.pipe((0,me.B)()))}bootstrap(c,g){const m=c instanceof yp;if(!this._injector.get(Gv).done)throw!m&&yi(c),new Ye(405,false);let A;A=m?c:this._injector.get(gl).resolveComponentFactory(c),this.componentTypes.push(A.componentType);const L=function jv(s){return s.isBoundToModule}(A)?void 0:this._injector.get(Rv),Q=A.create(Zu.NULL,[],g||A.selector,L),le=Q.location.nativeElement,Re=Q.injector.get(zT,null);return Re?.registerApplication(le),Q.onDestroy(()=>{this.detachView(Q.hostView),l0(this.components,Q),Re?.unregisterApplication(le)}),this._loadComponent(Q),Q}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const g=c;this._views.push(g),g.attachToAppRef(this)}detachView(c){const g=c;l0(this._views,g),g.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const g=this._injector.get(UT,[]);g.push(...this._bootstrapListeners),g.forEach(m=>m(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>l0(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ye(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(rn(Vd),rn(Oc),rn(od))},s.\u0275prov=On({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function l0(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}function E_(){return!1}function mh(){}let bE=(()=>{class s{}return s.__NG_ELEMENT_ID__=qv,s})();function qv(s){return function rw(s,o,c){if(Pe(s)&&!c){const g=Hi(s.index,o);return new _l(g,g)}return 47&s.type?new _l(o[16],o):null}(_t(),U(),16==(16&s))}class T_{constructor(){}supports(o){return Bf(o)}create(o){return new JT(o)}}const sw=(s,o)=>o;class JT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||sw}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,g=this._removalsHead,m=0,b=null;for(;c||g;){const A=!g||c&&c.currentIndex<C_(g,m,b)?c:g,L=C_(A,m,b),G=A.currentIndex;if(A===g)m--,g=g._nextRemoved;else if(c=c._next,null==A.previousIndex)m++;else{b||(b=[]);const Q=L-m,le=G-m;if(Q!=le){for(let rt=0;rt<Q;rt++){const St=rt<b.length?b[rt]:b[rt]=0,Jt=St+rt;le<=Jt&&Jt<Q&&(b[rt]=St+1)}b[A.previousIndex]=le-Q}}L!==G&&o(A,L,G)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Bf(o))throw new Ye(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,b,A,c=this._itHead,g=!1;if(Array.isArray(o)){this.length=o.length;for(let L=0;L<this.length;L++)b=o[L],A=this._trackByFn(L,b),null!==c&&Object.is(c.trackById,A)?(g&&(c=this._verifyReinsertion(c,b,A,L)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,A,L),g=!0),c=c._next}else m=0,function Zg(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[ld()]();let g;for(;!(g=c.next()).done;)o(g.value)}}(o,L=>{A=this._trackByFn(m,L),null!==c&&Object.is(c.trackById,A)?(g&&(c=this._verifyReinsertion(c,L,A,m)),Object.is(c.item,L)||this._addIdentityChange(c,L)):(c=this._mismatch(c,L,A,m),g=!0),c=c._next,m++}),this.length=m;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,g,m){let b;return null===o?b=this._itTail:(b=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,b,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(g,m))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,b,m)):o=this._addAfter(new QT(c,g),b,m),o}_verifyReinsertion(o,c,g,m){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==b?o=this._reinsertAfter(b,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,b=o._nextRemoved;return null===m?this._removalsHead=b:m._nextRemoved=b,null===b?this._removalsTail=m:b._prevRemoved=m,this._insertAfter(o,c,g),this._addToMoves(o,g),o}_moveAfter(o,c,g){return this._unlink(o),this._insertAfter(o,c,g),this._addToMoves(o,g),o}_addAfter(o,c,g){return this._insertAfter(o,c,g),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,g){const m=null===c?this._itHead:c._next;return o._next=m,o._prev=c,null===m?this._itTail=o:m._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new ow),this._linkedRecords.put(o),o.currentIndex=g,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,g=o._next;return null===c?this._itHead=g:c._next=g,null===g?this._itTail=c:g._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ow),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class QT{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===c||c<=g.currentIndex)&&Object.is(g.trackById,o))return g;return null}remove(o){const c=o._prevDup,g=o._nextDup;return null===c?this._head=g:c._nextDup=g,null===g?this._tail=c:g._prevDup=c,null===this._head}}class ow{constructor(){this.map=new Map}put(o){const c=o.trackById;let g=this.map.get(c);g||(g=new XT,this.map.set(c,g)),g.add(o)}get(o,c){const m=this.map.get(o);return m?m.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function C_(s,o,c){const g=s.previousIndex;if(null===g)return g;let m=0;return c&&g<c.length&&(m=c[g]),g+o+m}class eC{constructor(){}supports(o){return o instanceof Map||Fa(o)}create(){return new oD}}class oD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Fa(o)))throw new Ye(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(g,m)=>{if(c&&c.key===m)this._maybeAddToChanges(c,g),this._appendAfter=c,c=c._next;else{const b=this._getOrCreateRecordForKey(m,g);c=this._insertBeforeOrAppend(c,b)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let g=c;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const g=o._prev;return c._next=o,c._prev=g,o._prev=c,g&&(g._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,c);const b=m._prev,A=m._next;return b&&(b._next=A),A&&(A._prev=b),m._next=null,m._prev=null,m}const g=new aD(o);return this._records.set(o,g),g.currentValue=c,this._addToAdditions(g),g}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(g=>c(o[g],g))}}class aD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IE(){return new aw([new T_])}let aw=(()=>{class s{constructor(c){this.factories=c}static create(c,g){if(null!=g){const m=g.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:g=>s.create(c,g||IE()),deps:[[s,new tn,new ot]]}}find(c){const g=this.factories.find(m=>m.supports(c));if(null!=g)return g;throw new Ye(901,!1)}}return s.\u0275prov=On({token:s,providedIn:"root",factory:IE}),s})();function tC(){return new d0([new eC])}let d0=(()=>{class s{constructor(c){this.factories=c}static create(c,g){if(g){const m=g.factories.slice();c=c.concat(m)}return new s(c)}static extend(c){return{provide:s,useFactory:g=>s.create(c,g||tC()),deps:[[s,new tn,new ot]]}}find(c){const g=this.factories.find(m=>m.supports(c));if(g)return g;throw new Ye(901,!1)}}return s.\u0275prov=On({token:s,providedIn:"root",factory:tC}),s})();function lD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function rC(s,o){const c=Kr(s),g=o.elementInjector||Rh();return new Zh(c).create(g,o.projectableNodes,o.hostElement,o.environmentInjector)}},433:(je,be,F)=>{"use strict";F.d(be,{Fj:()=>vt,qu:()=>Ss,NI:()=>Pi,u:()=>Hl,cw:()=>ve,sg:()=>_i,u5:()=>ru,Cf:()=>Ze,JU:()=>bt,JJ:()=>jr,JL:()=>At,F:()=>Fo,On:()=>Tn,UX:()=>Na,kI:()=>We,_Y:()=>_r});var w=F(4650),M=F(6895),l=F(8996),pe=F(9751),me=F(4742),Me=F(8421),Ie=F(3269),_e=F(5403),Ee=F(3268),ge=F(1810),Ne=F(4004);let dt=(()=>{class U{constructor(H,ce){this._renderer=H,this._elementRef=ce,this.onChange=_t=>{},this.onTouched=()=>{}}setProperty(H,ce){this._renderer.setProperty(this._elementRef.nativeElement,H,ce)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.Qsj),w.Y36(w.SBq))},U.\u0275dir=w.lG2({type:U}),U})(),tt=(()=>{class U extends dt{}return U.\u0275fac=function(){let j;return function(ce){return(j||(j=w.n5z(U)))(ce||U)}}(),U.\u0275dir=w.lG2({type:U,features:[w.qOj]}),U})();const bt=new w.OlP("NgValueAccessor"),lt={provide:bt,useExisting:(0,w.Gpc)(()=>vt),multi:!0},Ct=new w.OlP("CompositionEventMode");let vt=(()=>{class U extends dt{constructor(H,ce,_t){super(H,ce),this._compositionMode=_t,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ut(){const U=(0,M.q)()?(0,M.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(H){this.setProperty("value",H??"")}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Ct,8))},U.\u0275dir=w.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,ce){1&H&&w.NdJ("input",function(Nn){return ce._handleInput(Nn.target.value)})("blur",function(){return ce.onTouched()})("compositionstart",function(){return ce._compositionStart()})("compositionend",function(Nn){return ce._compositionEnd(Nn.target.value)})},features:[w._Bn([lt]),w.qOj]}),U})();function Dt(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function $t(U){return null!=U&&"number"==typeof U.length}const Ze=new w.OlP("NgValidators"),pt=new w.OlP("NgAsyncValidators"),Vt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class We{static min(j){return function Ge(U){return j=>{if(Dt(j.value)||Dt(U))return null;const H=parseFloat(j.value);return!isNaN(H)&&H<U?{min:{min:U,actual:j.value}}:null}}(j)}static max(j){return function Tt(U){return j=>{if(Dt(j.value)||Dt(U))return null;const H=parseFloat(j.value);return!isNaN(H)&&H>U?{max:{max:U,actual:j.value}}:null}}(j)}static required(j){return function ct(U){return Dt(U.value)?{required:!0}:null}(j)}static requiredTrue(j){return function Xt(U){return!0===U.value?null:{required:!0}}(j)}static email(j){return function Ft(U){return Dt(U.value)||Vt.test(U.value)?null:{email:!0}}(j)}static minLength(j){return function pn(U){return j=>Dt(j.value)||!$t(j.value)?null:j.value.length<U?{minlength:{requiredLength:U,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function Gn(U){return j=>$t(j.value)&&j.value.length>U?{maxlength:{requiredLength:U,actualLength:j.value.length}}:null}(j)}static pattern(j){return function Jn(U){if(!U)return Dn;let j,H;return"string"==typeof U?(H="","^"!==U.charAt(0)&&(H+="^"),H+=U,"$"!==U.charAt(U.length-1)&&(H+="$"),j=new RegExp(H)):(H=U.toString(),j=U),ce=>{if(Dt(ce.value))return null;const _t=ce.value;return j.test(_t)?null:{pattern:{requiredPattern:H,actualValue:_t}}}}(j)}static nullValidator(j){return null}static compose(j){return rs(j)}static composeAsync(j){return Pr(j)}}function Dn(U){return null}function zn(U){return null!=U}function bn(U){return(0,w.QGY)(U)?(0,l.D)(U):U}function mn(U){let j={};return U.forEach(H=>{j=null!=H?{...j,...H}:j}),0===Object.keys(j).length?null:j}function Zn(U,j){return j.map(H=>H(U))}function On(U){return U.map(j=>function nr(U){return!U.validate}(j)?j:H=>j.validate(H))}function rs(U){if(!U)return null;const j=U.filter(zn);return 0==j.length?null:function(H){return mn(Zn(H,j))}}function ai(U){return null!=U?rs(On(U)):null}function Pr(U){if(!U)return null;const j=U.filter(zn);return 0==j.length?null:function(H){return function we(...U){const j=(0,Ie.jO)(U),{args:H,keys:ce}=(0,me.D)(U),_t=new pe.y(Nn=>{const{length:Ii}=H;if(!Ii)return void Nn.complete();const Es=new Array(Ii);let Ea=Ii,Os=Ii;for(let ss=0;ss<Ii;ss++){let Do=!1;(0,Me.Xf)(H[ss]).subscribe((0,_e.x)(Nn,uo=>{Do||(Do=!0,Os--),Es[ss]=uo},()=>Ea--,void 0,()=>{(!Ea||!Do)&&(Os||Nn.next(ce?(0,ge.n)(ce,Es):Es),Nn.complete())}))}});return j?_t.pipe((0,Ee.Z)(j)):_t}(Zn(H,j).map(bn)).pipe((0,Ne.U)(mn))}}function Or(U){return null!=U?Pr(On(U)):null}function rr(U,j){return null===U?[j]:Array.isArray(U)?[...U,j]:[U,j]}function fi(U){return U._rawValidators}function Br(U){return U._rawAsyncValidators}function fr(U){return U?Array.isArray(U)?U:[U]:[]}function pi(U,j){return Array.isArray(U)?U.includes(j):U===j}function Qn(U,j){const H=fr(j);return fr(U).forEach(_t=>{pi(H,_t)||H.push(_t)}),H}function jn(U,j){return fr(j).filter(H=>!pi(U,H))}class qr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=ai(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,H){return!!this.control&&this.control.hasError(j,H)}getError(j,H){return this.control?this.control.getError(j,H):null}}class dn extends qr{get formDirective(){return null}get path(){return null}}class br extends qr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ri{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jr=(()=>{class U extends Ri{constructor(H){super(H)}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(br,2))},U.\u0275dir=w.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,ce){2&H&&w.ekj("ng-untouched",ce.isUntouched)("ng-touched",ce.isTouched)("ng-pristine",ce.isPristine)("ng-dirty",ce.isDirty)("ng-valid",ce.isValid)("ng-invalid",ce.isInvalid)("ng-pending",ce.isPending)},features:[w.qOj]}),U})(),At=(()=>{class U extends Ri{constructor(H){super(H)}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(dn,10))},U.\u0275dir=w.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,ce){2&H&&w.ekj("ng-untouched",ce.isUntouched)("ng-touched",ce.isTouched)("ng-pristine",ce.isPristine)("ng-dirty",ce.isDirty)("ng-valid",ce.isValid)("ng-invalid",ce.isInvalid)("ng-pending",ce.isPending)("ng-submitted",ce.isSubmitted)},features:[w.qOj]}),U})();const Cr="VALID",Ue="INVALID",Se="PENDING",qe="DISABLED";function Ce(U){return(qt(U)?U.validators:U)||null}function Ae(U,j){return(qt(j)?j.asyncValidators:U)||null}function qt(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function vn(U,j,H){const ce=U.controls;if(!(j?Object.keys(ce):ce).length)throw new w.vHH(1e3,"");if(!ce[H])throw new w.vHH(1001,"")}function $e(U,j,H){U._forEachChild((ce,_t)=>{if(void 0===H[_t])throw new w.vHH(1002,"")})}class Le{constructor(j,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(H)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Cr}get invalid(){return this.status===Ue}get pending(){return this.status==Se}get disabled(){return this.status===qe}get enabled(){return this.status!==qe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(Qn(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Qn(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(jn(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(jn(j,this._rawAsyncValidators))}hasValidator(j){return pi(this._rawValidators,j)}hasAsyncValidator(j){return pi(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(H=>{H.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(H=>{H.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=Se,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const H=this._parentMarkedDirty(j.onlySelf);this.status=qe,this.errors=null,this._forEachChild(ce=>{ce.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:H}),this._onDisabledChange.forEach(ce=>ce(!0))}enable(j={}){const H=this._parentMarkedDirty(j.onlySelf);this.status=Cr,this._forEachChild(ce=>{ce.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:H}),this._onDisabledChange.forEach(ce=>ce(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cr||this.status===Se)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qe:Cr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=Se,this._hasOwnPendingAsyncValidator=!0;const H=bn(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(ce=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ce,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,H={}){this.errors=j,this._updateControlsErrors(!1!==H.emitEvent)}get(j){let H=j;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((ce,_t)=>ce&&ce._find(_t),this)}getError(j,H){const ce=H?this.get(H):this;return ce&&ce.errors?ce.errors[j]:null}hasError(j,H){return!!this.getError(j,H)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?qe:this.errors?Ue:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Se)?Se:this._anyControlsHaveStatus(Ue)?Ue:Cr}_anyControlsHaveStatus(j){return this._anyControls(H=>H.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){qt(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function ue(U){return Array.isArray(U)?ai(U):U||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function Et(U){return Array.isArray(U)?Or(U):U||null}(this._rawAsyncValidators)}}class ve extends Le{constructor(j,H,ce){super(Ce(H),Ae(ce,H)),this.controls=j,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,H){return this.controls[j]?this.controls[j]:(this.controls[j]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(j,H,ce={}){this.registerControl(j,H),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}removeControl(j,H={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(j,H,ce={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],H&&this.registerControl(j,H),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,H={}){$e(this,0,j),Object.keys(j).forEach(ce=>{vn(this,!0,ce),this.controls[ce].setValue(j[ce],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(j,H={}){null!=j&&(Object.keys(j).forEach(ce=>{const _t=this.controls[ce];_t&&_t.patchValue(j[ce],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(j={},H={}){this._forEachChild((ce,_t)=>{ce.reset(j[_t],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(j,H,ce)=>(j[ce]=H.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(H,ce)=>!!ce._syncPendingControls()||H);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(H=>{const ce=this.controls[H];ce&&j(ce,H)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[H,ce]of Object.entries(this.controls))if(this.contains(H)&&j(ce))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,ce,_t)=>((ce.enabled||this.disabled)&&(H[_t]=ce.value),H))}_reduceChildren(j,H){let ce=j;return this._forEachChild((_t,Nn)=>{ce=H(ce,_t,Nn)}),ce}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class Zt extends ve{}const ni=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ri}),ri="always";function ys(U,j){return[...j.path,U]}function Rr(U,j,H=ri){ws(U,j),j.valueAccessor.writeValue(U.value),(U.disabled||"always"===H)&&j.valueAccessor.setDisabledState?.(U.disabled),function qs(U,j){j.valueAccessor.registerOnChange(H=>{U._pendingValue=H,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&mi(U,j)})}(U,j),function Ci(U,j){const H=(ce,_t)=>{j.valueAccessor.writeValue(ce),_t&&j.viewToModelUpdate(ce)};U.registerOnChange(H),j._registerOnDestroy(()=>{U._unregisterOnChange(H)})}(U,j),function Kr(U,j){j.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&mi(U,j),"submit"!==U.updateOn&&U.markAsTouched()})}(U,j),function wo(U,j){if(j.valueAccessor.setDisabledState){const H=ce=>{j.valueAccessor.setDisabledState(ce)};U.registerOnDisabledChange(H),j._registerOnDestroy(()=>{U._unregisterOnDisabledChange(H)})}}(U,j)}function Ui(U,j,H=!0){const ce=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(ce),j.valueAccessor.registerOnTouched(ce)),ii(U,j),U&&(j._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Ms(U,j){U.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(j)})}function ws(U,j){const H=fi(U);null!==j.validator?U.setValidators(rr(H,j.validator)):"function"==typeof H&&U.setValidators([H]);const ce=Br(U);null!==j.asyncValidator?U.setAsyncValidators(rr(ce,j.asyncValidator)):"function"==typeof ce&&U.setAsyncValidators([ce]);const _t=()=>U.updateValueAndValidity();Ms(j._rawValidators,_t),Ms(j._rawAsyncValidators,_t)}function ii(U,j){let H=!1;if(null!==U){if(null!==j.validator){const _t=fi(U);if(Array.isArray(_t)&&_t.length>0){const Nn=_t.filter(Ii=>Ii!==j.validator);Nn.length!==_t.length&&(H=!0,U.setValidators(Nn))}}if(null!==j.asyncValidator){const _t=Br(U);if(Array.isArray(_t)&&_t.length>0){const Nn=_t.filter(Ii=>Ii!==j.asyncValidator);Nn.length!==_t.length&&(H=!0,U.setAsyncValidators(Nn))}}}const ce=()=>{};return Ms(j._rawValidators,ce),Ms(j._rawAsyncValidators,ce),H}function mi(U,j){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function yi(U,j){ws(U,j)}function qn(U,j){if(!U.hasOwnProperty("model"))return!1;const H=U.model;return!!H.isFirstChange()||!Object.is(j,H.currentValue)}function Ns(U,j){U._syncPendingControls(),j.forEach(H=>{const ce=H.control;"submit"===ce.updateOn&&ce._pendingChange&&(H.viewToModelUpdate(ce._pendingValue),ce._pendingChange=!1)})}function dr(U,j){if(!j)return null;let H,ce,_t;return Array.isArray(j),j.forEach(Nn=>{Nn.constructor===vt?H=Nn:function on(U){return Object.getPrototypeOf(U.constructor)===tt}(Nn)?ce=Nn:_t=Nn}),_t||ce||H||null}const Yn={provide:dn,useExisting:(0,w.Gpc)(()=>Fo)},To=(()=>Promise.resolve())();let Fo=(()=>{class U extends dn{constructor(H,ce,_t){super(),this.callSetDisabledState=_t,this.submitted=!1,this._directives=new Set,this.ngSubmit=new w.vpe,this.form=new ve({},ai(H),Or(ce))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){To.then(()=>{const ce=this._findContainer(H.path);H.control=ce.registerControl(H.name,H.control),Rr(H.control,H,this.callSetDisabledState),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){To.then(()=>{const ce=this._findContainer(H.path);ce&&ce.removeControl(H.name),this._directives.delete(H)})}addFormGroup(H){To.then(()=>{const ce=this._findContainer(H.path),_t=new ve({});yi(_t,H),ce.registerControl(H.name,_t),_t.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){To.then(()=>{const ce=this._findContainer(H.path);ce&&ce.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,ce){To.then(()=>{this.form.get(H.path).setValue(ce)})}setValue(H){this.control.setValue(H)}onSubmit(H){return this.submitted=!0,Ns(this.form,this._directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H){this.form.reset(H),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(Ze,10),w.Y36(pt,10),w.Y36(ni,8))},U.\u0275dir=w.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(H,ce){1&H&&w.NdJ("submit",function(Nn){return ce.onSubmit(Nn)})("reset",function(){return ce.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Yn]),w.qOj]}),U})();function cs(U,j){const H=U.indexOf(j);H>-1&&U.splice(H,1)}function oo(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const Pi=class extends Le{constructor(j=null,H,ce){super(Ce(H),Ae(ce,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qt(H)&&(H.nonNullable||H.initialValueIsDefault)&&(this.defaultValue=oo(j)?j.value:j)}setValue(j,H={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(ce=>ce(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(j,H={}){this.setValue(j,H)}reset(j=this.defaultValue,H={}){this._applyFormState(j),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){cs(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){cs(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){oo(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},en={provide:br,useExisting:(0,w.Gpc)(()=>Tn)},Sn=(()=>Promise.resolve())();let Tn=(()=>{class U extends br{constructor(H,ce,_t,Nn,Ii,Es){super(),this._changeDetectorRef=Ii,this.callSetDisabledState=Es,this.control=new Pi,this._registered=!1,this.update=new w.vpe,this._parent=H,this._setValidators(ce),this._setAsyncValidators(_t),this.valueAccessor=dr(0,Nn)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const ce=H.name.previousValue;this.formDirective.removeControl({name:ce,path:this._getPath(ce)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),qn(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){Sn.then(()=>{this.control.setValue(H,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(H){const ce=H.isDisabled.currentValue,_t=0!==ce&&(0,w.D6c)(ce);Sn.then(()=>{_t&&!this.control.disabled?this.control.disable():!_t&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(H){return this._parent?ys(H,this._parent):[H]}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(dn,9),w.Y36(Ze,10),w.Y36(pt,10),w.Y36(bt,10),w.Y36(w.sBO,8),w.Y36(ni,8))},U.\u0275dir=w.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w._Bn([en]),w.qOj,w.TTD]}),U})(),_r=(()=>{class U{}return U.\u0275fac=function(H){return new(H||U)},U.\u0275dir=w.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})(),Pe=(()=>{class U{}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({}),U})();const no=new w.OlP("NgModelWithFormControlWarning"),Ec={provide:dn,useExisting:(0,w.Gpc)(()=>_i)};let _i=(()=>{class U extends dn{constructor(H,ce,_t){super(),this.callSetDisabledState=_t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(H),this._setAsyncValidators(ce)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ii(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const ce=this.form.get(H.path);return Rr(ce,H,this.callSetDisabledState),ce.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),ce}getControl(H){return this.form.get(H.path)}removeControl(H){Ui(H.control||null,H,!1),function _a(U,j){const H=U.indexOf(j);H>-1&&U.splice(H,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,ce){this.form.get(H.path).setValue(ce)}onSubmit(H){return this.submitted=!0,Ns(this.form,this.directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const ce=H.control,_t=this.form.get(H.path);ce!==_t&&(Ui(ce||null,H),(U=>U instanceof Pi)(_t)&&(Rr(_t,H,this.callSetDisabledState),H.control=_t))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const ce=this.form.get(H.path);yi(ce,H),ce.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const ce=this.form.get(H.path);ce&&function Di(U,j){return ii(U,j)}(ce,H)&&ce.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ws(this.form,this),this._oldForm&&ii(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(H){return new(H||U)(w.Y36(Ze,10),w.Y36(pt,10),w.Y36(ni,8))},U.\u0275dir=w.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(H,ce){1&H&&w.NdJ("submit",function(Nn){return ce.onSubmit(Nn)})("reset",function(){return ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Ec]),w.qOj,w.TTD]}),U})();const Ha={provide:br,useExisting:(0,w.Gpc)(()=>Hl)};let Hl=(()=>{class U extends br{set isDisabled(H){}constructor(H,ce,_t,Nn,Ii){super(),this._ngModelWarningConfig=Ii,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(ce),this._setAsyncValidators(_t),this.valueAccessor=dr(0,Nn)}ngOnChanges(H){this._added||this._setUpControl(),qn(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return ys(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(H){return new(H||U)(w.Y36(dn,13),w.Y36(Ze,10),w.Y36(pt,10),w.Y36(bt,10),w.Y36(no,8))},U.\u0275dir=w.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([Ha]),w.qOj,w.TTD]}),U})(),po=(()=>{class U{}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({imports:[Pe]}),U})();class Vo extends Le{constructor(j,H,ce){super(Ce(H),Ae(ce,H)),this.controls=j,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,H={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}insert(j,H,ce={}){this.controls.splice(j,0,H),this._registerControl(H),this.updateValueAndValidity({emitEvent:ce.emitEvent})}removeAt(j,H={}){let ce=this._adjustIndex(j);ce<0&&(ce=0),this.controls[ce]&&this.controls[ce]._registerOnCollectionChange(()=>{}),this.controls.splice(ce,1),this.updateValueAndValidity({emitEvent:H.emitEvent})}setControl(j,H,ce={}){let _t=this._adjustIndex(j);_t<0&&(_t=0),this.controls[_t]&&this.controls[_t]._registerOnCollectionChange(()=>{}),this.controls.splice(_t,1),H&&(this.controls.splice(_t,0,H),this._registerControl(H)),this.updateValueAndValidity({emitEvent:ce.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,H={}){$e(this,0,j),j.forEach((ce,_t)=>{vn(this,!1,_t),this.at(_t).setValue(ce,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(j,H={}){null!=j&&(j.forEach((ce,_t)=>{this.at(_t)&&this.at(_t).patchValue(ce,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(j=[],H={}){this._forEachChild((ce,_t)=>{ce.reset(j[_t],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(H=>H._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((H,ce)=>!!ce._syncPendingControls()||H,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((H,ce)=>{j(H,ce)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(H=>H.enabled&&j(H))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){return this.at(j)??null}}function tl(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let Ss=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new U;return H.useNonNullable=!0,H}group(H,ce=null){const _t=this._reduceControls(H);let Nn={};return tl(ce)?Nn=ce:null!==ce&&(Nn.validators=ce.validator,Nn.asyncValidators=ce.asyncValidator),new ve(_t,Nn)}record(H,ce=null){const _t=this._reduceControls(H);return new Zt(_t,ce)}control(H,ce,_t){let Nn={};return this.useNonNullable?(tl(ce)?Nn=ce:(Nn.validators=ce,Nn.asyncValidators=_t),new Pi(H,{...Nn,nonNullable:!0})):new Pi(H,ce,_t)}array(H,ce,_t){const Nn=H.map(Ii=>this._createControl(Ii));return new Vo(Nn,ce,_t)}_reduceControls(H){const ce={};return Object.keys(H).forEach(_t=>{ce[_t]=this._createControl(H[_t])}),ce}_createControl(H){return H instanceof Pi||H instanceof Le?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275prov=w.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),ru=(()=>{class U{static withConfig(H){return{ngModule:U,providers:[{provide:ni,useValue:H.callSetDisabledState??ri}]}}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({imports:[po]}),U})(),Na=(()=>{class U{static withConfig(H){return{ngModule:U,providers:[{provide:no,useValue:H.warnOnNgModelWithFormControl??"always"},{provide:ni,useValue:H.callSetDisabledState??ri}]}}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=w.oAB({type:U}),U.\u0275inj=w.cJS({imports:[po]}),U})()},310:()=>{"use strict";class Hy extends Error{constructor(r){super(`No translation found for ${Iv(r)}.`),this.parsedMessage=r,this.type="MissingTranslationError"}}const hm=function(p,...r){if(hm.translate){const h=hm.translate(p,r);p=h[0],r=h[1]}let u=d_(p[0],p.raw[0]);for(let h=1;h<p.length;h++)u+=r[h-1]+d_(p[h],p.raw[h]);return u};function d_(p,r){return":"===r.charAt(0)?p.substring(function $0(p,r){for(let u=1,h=1;u<p.length;u++,h++)if("\\"===r[h])h++;else if(":"===p[u])return u;throw new Error(`Unterminated $localize metadata block in "${r}".`)}(p,r)+1):p}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=hm},1481:(je,be,F)=>{"use strict";F.d(be,{Cg:()=>On,Dx:()=>Xr});var w=F(6895),M=F(4650);class l extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends l{static makeCurrent(){(0,w.HT)(new pe)}onAndCancel(Le,ve,it){return Le.addEventListener(ve,it,!1),()=>{Le.removeEventListener(ve,it,!1)}}dispatchEvent(Le,ve){Le.dispatchEvent(ve)}remove(Le){Le.parentNode&&Le.parentNode.removeChild(Le)}createElement(Le,ve){return(ve=ve||this.getDefaultDocument()).createElement(Le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Le){return Le.nodeType===Node.ELEMENT_NODE}isShadowRoot(Le){return Le instanceof DocumentFragment}getGlobalEventTarget(Le,ve){return"window"===ve?window:"document"===ve?Le:"body"===ve?Le.body:null}getBaseHref(Le){const ve=function Me(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==ve?null:function _e($e){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",$e);const Le=Ie.pathname;return"/"===Le.charAt(0)?Le:`/${Le}`}(ve)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(Le){return(0,w.Mx)(document.cookie,Le)}}let Ie,me=null,dt=(()=>{class $e{build(){return new XMLHttpRequest}}return $e.\u0275fac=function(ve){return new(ve||$e)},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const tt=new M.OlP("EventManagerPlugins");let bt=(()=>{class $e{constructor(ve,it){this._zone=it,this._eventNameToPlugin=new Map,ve.forEach(Wt=>Wt.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,it,Wt){return this._findPluginFor(it).addEventListener(ve,it,Wt)}addGlobalEventListener(ve,it,Wt){return this._findPluginFor(it).addGlobalEventListener(ve,it,Wt)}getZone(){return this._zone}_findPluginFor(ve){const it=this._eventNameToPlugin.get(ve);if(it)return it;const Wt=this._plugins;for(let Zt=0;Zt<Wt.length;Zt++){const wn=Wt[Zt];if(wn.supports(ve))return this._eventNameToPlugin.set(ve,wn),wn}throw new Error(`No event manager plugin found for event ${ve}`)}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(tt),M.LFG(M.R0b))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ft{constructor(Le){this._doc=Le}addGlobalEventListener(Le,ve,it){const Wt=(0,w.q)().getGlobalEventTarget(this._doc,Le);if(!Wt)throw new Error(`Unsupported event target ${Wt} for event ${ve}`);return this.addEventListener(Wt,ve,it)}}let Ye=(()=>{class $e{constructor(){this._stylesSet=new Set}addStyles(ve){const it=new Set;ve.forEach(Wt=>{this._stylesSet.has(Wt)||(this._stylesSet.add(Wt),it.add(Wt))}),this.onStylesAdded(it)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return $e.\u0275fac=function(ve){return new(ve||$e)},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),lt=(()=>{class $e extends Ye{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,it,Wt){ve.forEach(Zt=>{const wn=this._doc.createElement("style");wn.textContent=Zt,Wt.push(it.appendChild(wn))})}addHost(ve){const it=[];this._addStylesToHost(this._stylesSet,ve,it),this._hostNodes.set(ve,it)}removeHost(ve){const it=this._hostNodes.get(ve);it&&it.forEach(ut),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((it,Wt)=>{this._addStylesToHost(ve,Wt,it)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(ut))}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function ut($e){(0,w.q)().remove($e)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vt=/%COMP%/g;function We($e,Le){return Le.flat(100).map(ve=>ve.replace(vt,$e))}function Ge($e){return Le=>{if("__ngUnwrap__"===Le)return $e;!1===$e(Le)&&(Le.preventDefault(),Le.returnValue=!1)}}let Tt=(()=>{class $e{constructor(ve,it,Wt){this.eventManager=ve,this.sharedStylesHost=it,this.appId=Wt,this.rendererByCompId=new Map,this.defaultRenderer=new ct(ve)}createRenderer(ve,it){if(!ve||!it)return this.defaultRenderer;switch(it.encapsulation){case M.ifc.Emulated:{let Wt=this.rendererByCompId.get(it.id);return Wt||(Wt=new Gn(this.eventManager,this.sharedStylesHost,it,this.appId),this.rendererByCompId.set(it.id,Wt)),Wt.applyToHost(ve),Wt}case M.ifc.ShadowDom:return new Jn(this.eventManager,this.sharedStylesHost,ve,it);default:if(!this.rendererByCompId.has(it.id)){const Wt=We(it.id,it.styles);this.sharedStylesHost.addStyles(Wt),this.rendererByCompId.set(it.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(bt),M.LFG(lt),M.LFG(M.AFp))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class ct{constructor(Le){this.eventManager=Le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Le,ve){return ve?document.createElementNS(Ct[ve]||ve,Le):document.createElement(Le)}createComment(Le){return document.createComment(Le)}createText(Le){return document.createTextNode(Le)}appendChild(Le,ve){(pn(Le)?Le.content:Le).appendChild(ve)}insertBefore(Le,ve,it){Le&&(pn(Le)?Le.content:Le).insertBefore(ve,it)}removeChild(Le,ve){Le&&Le.removeChild(ve)}selectRootElement(Le,ve){let it="string"==typeof Le?document.querySelector(Le):Le;if(!it)throw new Error(`The selector "${Le}" did not match any elements`);return ve||(it.textContent=""),it}parentNode(Le){return Le.parentNode}nextSibling(Le){return Le.nextSibling}setAttribute(Le,ve,it,Wt){if(Wt){ve=Wt+":"+ve;const Zt=Ct[Wt];Zt?Le.setAttributeNS(Zt,ve,it):Le.setAttribute(ve,it)}else Le.setAttribute(ve,it)}removeAttribute(Le,ve,it){if(it){const Wt=Ct[it];Wt?Le.removeAttributeNS(Wt,ve):Le.removeAttribute(`${it}:${ve}`)}else Le.removeAttribute(ve)}addClass(Le,ve){Le.classList.add(ve)}removeClass(Le,ve){Le.classList.remove(ve)}setStyle(Le,ve,it,Wt){Wt&(M.JOm.DashCase|M.JOm.Important)?Le.style.setProperty(ve,it,Wt&M.JOm.Important?"important":""):Le.style[ve]=it}removeStyle(Le,ve,it){it&M.JOm.DashCase?Le.style.removeProperty(ve):Le.style[ve]=""}setProperty(Le,ve,it){Le[ve]=it}setValue(Le,ve){Le.nodeValue=ve}listen(Le,ve,it){return"string"==typeof Le?this.eventManager.addGlobalEventListener(Le,ve,Ge(it)):this.eventManager.addEventListener(Le,ve,Ge(it))}}function pn($e){return"TEMPLATE"===$e.tagName&&void 0!==$e.content}class Gn extends ct{constructor(Le,ve,it,Wt){super(Le),this.component=it;const Zt=We(Wt+"-"+it.id,it.styles);ve.addStyles(Zt),this.contentAttr=function pt($e){return"_ngcontent-%COMP%".replace(vt,$e)}(Wt+"-"+it.id),this.hostAttr=function Vt($e){return"_nghost-%COMP%".replace(vt,$e)}(Wt+"-"+it.id)}applyToHost(Le){super.setAttribute(Le,this.hostAttr,"")}createElement(Le,ve){const it=super.createElement(Le,ve);return super.setAttribute(it,this.contentAttr,""),it}}class Jn extends ct{constructor(Le,ve,it,Wt){super(Le),this.sharedStylesHost=ve,this.hostEl=it,this.shadowRoot=it.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=We(Wt.id,Wt.styles);for(let wn=0;wn<Zt.length;wn++){const ni=document.createElement("style");ni.textContent=Zt[wn],this.shadowRoot.appendChild(ni)}}nodeOrShadowRoot(Le){return Le===this.hostEl?this.shadowRoot:Le}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Le,ve){return super.appendChild(this.nodeOrShadowRoot(Le),ve)}insertBefore(Le,ve,it){return super.insertBefore(this.nodeOrShadowRoot(Le),ve,it)}removeChild(Le,ve){return super.removeChild(this.nodeOrShadowRoot(Le),ve)}parentNode(Le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Le)))}}let Dn=(()=>{class $e extends ft{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,it,Wt){return ve.addEventListener(it,Wt,!1),()=>this.removeEventListener(ve,it,Wt)}removeEventListener(ve,it,Wt){return ve.removeEventListener(it,Wt)}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const zn=["alt","control","meta","shift"],bn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mn={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let Zn=(()=>{class $e extends ft{constructor(ve){super(ve)}supports(ve){return null!=$e.parseEventName(ve)}addEventListener(ve,it,Wt){const Zt=$e.parseEventName(it),wn=$e.eventCallback(Zt.fullKey,Wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(ve,Zt.domEventName,wn))}static parseEventName(ve){const it=ve.toLowerCase().split("."),Wt=it.shift();if(0===it.length||"keydown"!==Wt&&"keyup"!==Wt)return null;const Zt=$e._normalizeKey(it.pop());let wn="",ni=it.indexOf("code");if(ni>-1&&(it.splice(ni,1),wn="code."),zn.forEach(ys=>{const Rr=it.indexOf(ys);Rr>-1&&(it.splice(Rr,1),wn+=ys+".")}),wn+=Zt,0!=it.length||0===Zt.length)return null;const ri={};return ri.domEventName=Wt,ri.fullKey=wn,ri}static matchEventFullKeyCode(ve,it){let Wt=bn[ve.key]||ve.key,Zt="";return it.indexOf("code.")>-1&&(Wt=ve.code,Zt="code."),!(null==Wt||!Wt)&&(Wt=Wt.toLowerCase()," "===Wt?Wt="space":"."===Wt&&(Wt="dot"),zn.forEach(wn=>{wn!==Wt&&(0,mn[wn])(ve)&&(Zt+=wn+".")}),Zt+=Wt,Zt===it)}static eventCallback(ve,it,Wt){return Zt=>{$e.matchEventFullKeyCode(Zt,ve)&&Wt.runGuarded(()=>it(Zt))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function On($e,Le){return(0,M.iPO)({rootComponent:$e,...ai(Le)})}function ai($e){return{appProviders:[...jn,...$e?.providers??[]],platformProviders:Br}}const Br=[{provide:M.Lbi,useValue:w.bD},{provide:M.g9A,useValue:function Or(){pe.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function fi(){return(0,M.RDi)(document),document},deps:[]}],jn=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function rr(){return new M.qLn},deps:[]},{provide:tt,useClass:Dn,multi:!0,deps:[w.K0,M.R0b,M.Lbi]},{provide:tt,useClass:Zn,multi:!0,deps:[w.K0]},{provide:Tt,useClass:Tt,deps:[bt,lt,M.AFp]},{provide:M.FYo,useExisting:Tt},{provide:Ye,useExisting:lt},{provide:lt,useClass:lt,deps:[w.K0]},{provide:bt,useClass:bt,deps:[tt,M.R0b]},{provide:w.JF,useClass:dt,deps:[]},[]];let Xr=(()=>{class $e{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return $e.\u0275fac=function(ve){return new(ve||$e)(M.LFG(w.K0))},$e.\u0275prov=M.Yz7({token:$e,factory:function(ve){let it=null;return it=ve?new ve:function Ti(){return new Xr((0,M.LFG)(w.K0))}(),it},providedIn:"root"}),$e})();typeof window<"u"&&window},6159:(je,be,F)=>{"use strict";F.d(be,{F0:()=>Ws,rH:()=>Su,Bz:()=>Zl,lC:()=>tu});var w=F(4650),M=F(8996),l=F(9646),pe=F(1135),me=F(6805),Me=F(9841),Ie=F(7272),_e=F(9770),Ee=F(9635),ge=F(2843),we=F(9751),Ne=F(515),dt=F(4033),tt=F(7579),bt=F(6895),ft=F(4004),Ye=F(3900),lt=F(5698),ut=F(8675),Ct=F(9300),vt=F(5577),Nt=F(590),Dt=F(4351),$t=F(8505),Ze=F(262),pt=F(5026),Vt=F(4482),We=F(5403);function Ge(x){return x<=0?()=>Ne.E:(0,Vt.e)((R,S)=>{let V=[];R.subscribe((0,We.x)(S,Y=>{V.push(Y),x<V.length&&V.shift()},()=>{for(const Y of V)S.next(Y);S.complete()},void 0,()=>{V=null}))})}var Tt=F(8068),ct=F(6590),Xt=F(4671);function Ft(x,R){const S=arguments.length>=2;return V=>V.pipe(x?(0,Ct.h)((Y,ie)=>x(Y,ie,V)):Xt.y,Ge(1),S?(0,ct.d)(R):(0,Tt.T)(()=>new me.K))}var Gn=F(9718),Jn=F(8746),Dn=F(8343),zn=F(8189),bn=F(1481);const mn="primary",Zn=Symbol("RouteTitle");class nr{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S[0]:S}return null}getAll(R){if(this.has(R)){const S=this.params[R];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function On(x){return new nr(x)}function rs(x,R,S){const V=S.path.split("/");if(V.length>x.length||"full"===S.pathMatch&&(R.hasChildren()||V.length<x.length))return null;const Y={};for(let ie=0;ie<V.length;ie++){const he=V[ie],et=x[ie];if(he.startsWith(":"))Y[he.substring(1)]=et;else if(he!==et.path)return null}return{consumed:x.slice(0,V.length),posParams:Y}}function Pr(x,R){const S=x?Object.keys(x):void 0,V=R?Object.keys(R):void 0;if(!S||!V||S.length!=V.length)return!1;let Y;for(let ie=0;ie<S.length;ie++)if(Y=S[ie],!Or(x[Y],R[Y]))return!1;return!0}function Or(x,R){if(Array.isArray(x)&&Array.isArray(R)){if(x.length!==R.length)return!1;const S=[...x].sort(),V=[...R].sort();return S.every((Y,ie)=>V[ie]===Y)}return x===R}function rr(x){return Array.prototype.concat.apply([],x)}function fi(x){return x.length>0?x[x.length-1]:null}function fr(x,R){for(const S in x)x.hasOwnProperty(S)&&R(x[S],S)}function pi(x){return(0,w.CqO)(x)?x:(0,w.QGY)(x)?(0,M.D)(Promise.resolve(x)):(0,l.of)(x)}const Qn=!1,jn={exact:function Ri(x,R,S){if(!Ur(x.segments,R.segments)||!At(x.segments,R.segments,S)||x.numberOfChildren!==R.numberOfChildren)return!1;for(const V in R.children)if(!x.children[V]||!Ri(x.children[V],R.children[V],S))return!1;return!0},subset:Xr},qr={exact:function br(x,R){return Pr(x,R)},subset:function Ti(x,R){return Object.keys(R).length<=Object.keys(x).length&&Object.keys(R).every(S=>Or(x[S],R[S]))},ignored:()=>!0};function dn(x,R,S){return jn[S.paths](x.root,R.root,S.matrixParams)&&qr[S.queryParams](x.queryParams,R.queryParams)&&!("exact"===S.fragment&&x.fragment!==R.fragment)}function Xr(x,R,S){return jr(x,R,R.segments,S)}function jr(x,R,S,V){if(x.segments.length>S.length){const Y=x.segments.slice(0,S.length);return!(!Ur(Y,S)||R.hasChildren()||!At(Y,S,V))}if(x.segments.length===S.length){if(!Ur(x.segments,S)||!At(x.segments,S,V))return!1;for(const Y in R.children)if(!x.children[Y]||!Xr(x.children[Y],R.children[Y],V))return!1;return!0}{const Y=S.slice(0,x.segments.length),ie=S.slice(x.segments.length);return!!(Ur(x.segments,Y)&&At(x.segments,Y,V)&&x.children[mn])&&jr(x.children[mn],R,ie,V)}}function At(x,R,S){return R.every((V,Y)=>qr[S](x[Y].parameters,V.parameters))}class xn{constructor(R=new un([],{}),S={},V=null){this.root=R,this.queryParams=S,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return lr.serialize(this)}}class un{constructor(R,S){this.segments=R,this.children=S,this.parent=null,fr(S,(V,Y)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vs(this)}}class Mn{constructor(R,S){this.path=R,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=On(this.parameters)),this._parameterMap}toString(){return Yt(this)}}function Ur(x,R){return x.length===R.length&&x.every((S,V)=>S.path===R[V].path)}let En=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return new us},providedIn:"root"}),x})();class us{parse(R){const S=new qt(R);return new xn(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(R){const S=`/${or(R.root,!0)}`,V=function Ue(x){const R=Object.keys(x).map(S=>{const V=x[S];return Array.isArray(V)?V.map(Y=>`${gi(S)}=${gi(Y)}`).join("&"):`${gi(S)}=${gi(V)}`}).filter(S=>!!S);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${S}${V}${"string"==typeof R.fragment?`#${function rn(x){return encodeURI(x)}(R.fragment)}`:""}`}}const lr=new us;function vs(x){return x.segments.map(R=>Yt(R)).join("/")}function or(x,R){if(!x.hasChildren())return vs(x);if(R){const S=x.children[mn]?or(x.children[mn],!1):"",V=[];return fr(x.children,(Y,ie)=>{ie!==mn&&V.push(`${ie}:${or(Y,!1)}`)}),V.length>0?`${S}(${V.join("//")})`:S}{const S=function Zi(x,R){let S=[];return fr(x.children,(V,Y)=>{Y===mn&&(S=S.concat(R(V,Y)))}),fr(x.children,(V,Y)=>{Y!==mn&&(S=S.concat(R(V,Y)))}),S}(x,(V,Y)=>Y===mn?[or(x.children[mn],!1)]:[`${Y}:${or(V,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[mn]?`${vs(x)}/${S[0]}`:`${vs(x)}/(${S.join("//")})`}}function ls(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gi(x){return ls(x).replace(/%3B/gi,";")}function jt(x){return ls(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gn(x){return decodeURIComponent(x)}function Vn(x){return gn(x.replace(/\+/g,"%20"))}function Yt(x){return`${jt(x.path)}${function Cr(x){return Object.keys(x).map(R=>`;${jt(R)}=${jt(x[R])}`).join("")}(x.parameters)}`}const Se=/^[^\/()?;=#]+/;function qe(x){const R=x.match(Se);return R?R[0]:""}const Ce=/^[^=?&#]+/,Ae=/^[^&#]+/;class qt{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(R.length>0||Object.keys(S).length>0)&&(V[mn]=new un(R,S)),V}parseSegment(){const R=qe(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new w.vHH(4009,Qn);return this.capture(R),new Mn(gn(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const S=qe(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const Y=qe(this.remaining);Y&&(V=Y,this.capture(V))}R[gn(S)]=gn(V)}parseQueryParam(R){const S=function ue(x){const R=x.match(Ce);return R?R[0]:""}(this.remaining);if(!S)return;this.capture(S);let V="";if(this.consumeOptional("=")){const he=function Et(x){const R=x.match(Ae);return R?R[0]:""}(this.remaining);he&&(V=he,this.capture(V))}const Y=Vn(S),ie=Vn(V);if(R.hasOwnProperty(Y)){let he=R[Y];Array.isArray(he)||(he=[he],R[Y]=he),he.push(ie)}else R[Y]=ie}parseParens(R){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=qe(this.remaining),Y=this.remaining[V.length];if("/"!==Y&&")"!==Y&&";"!==Y)throw new w.vHH(4010,Qn);let ie;V.indexOf(":")>-1?(ie=V.slice(0,V.indexOf(":")),this.capture(ie),this.capture(":")):R&&(ie=mn);const he=this.parseChildren();S[ie]=1===Object.keys(he).length?he[mn]:new un([],he),this.consumeOptional("//")}return S}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new w.vHH(4011,Qn)}}function vn(x){return x.segments.length>0?new un([],{[mn]:x}):x}function $e(x){const R={};for(const V of Object.keys(x.children)){const ie=$e(x.children[V]);(ie.segments.length>0||ie.hasChildren())&&(R[V]=ie)}return function Le(x){if(1===x.numberOfChildren&&x.children[mn]){const R=x.children[mn];return new un(x.segments.concat(R.segments),R.children)}return x}(new un(x.segments,R))}function ve(x){return x instanceof xn}function ni(x,R,S,V,Y){if(0===S.length)return Rr(R.root,R.root,R.root,V,Y);const ie=function wo(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new Ms(!0,0,x);let R=0,S=!1;const V=x.reduce((Y,ie,he)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const et={};return fr(ie.outlets,(Kt,$n)=>{et[$n]="string"==typeof Kt?Kt.split("/"):Kt}),[...Y,{outlets:et}]}if(ie.segmentPath)return[...Y,ie.segmentPath]}return"string"!=typeof ie?[...Y,ie]:0===he?(ie.split("/").forEach((et,Kt)=>{0==Kt&&"."===et||(0==Kt&&""===et?S=!0:".."===et?R++:""!=et&&Y.push(et))}),Y):[...Y,ie]},[]);return new Ms(S,R,V)}(S);return ie.toRoot()?Rr(R.root,R.root,new un([],{}),V,Y):function he(Kt){const $n=function qs(x,R,S,V){if(x.isAbsolute)return new ws(R.root,!0,0);if(-1===V)return new ws(S,S===R.root,0);return function Kr(x,R,S){let V=x,Y=R,ie=S;for(;ie>Y;){if(ie-=Y,V=V.parent,!V)throw new w.vHH(4005,!1);Y=V.segments.length}return new ws(V,!1,Y-ie)}(S,V+(ri(x.commands[0])?0:1),x.numberOfDoubleDots)}(ie,R,x.snapshot?._urlSegment,Kt),In=$n.processChildren?yi($n.segmentGroup,$n.index,ie.commands):Ci($n.segmentGroup,$n.index,ie.commands);return Rr(R.root,$n.segmentGroup,In,V,Y)}(x.snapshot?._lastPathIndex)}function ri(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function ys(x){return"object"==typeof x&&null!=x&&x.outlets}function Rr(x,R,S,V,Y){let he,ie={};V&&fr(V,(Kt,$n)=>{ie[$n]=Array.isArray(Kt)?Kt.map(In=>`${In}`):`${Kt}`}),he=x===R?S:Ui(x,R,S);const et=vn($e(he));return new xn(et,ie,Y)}function Ui(x,R,S){const V={};return fr(x.children,(Y,ie)=>{V[ie]=Y===R?S:Ui(Y,R,S)}),new un(x.segments,V)}class Ms{constructor(R,S,V){if(this.isAbsolute=R,this.numberOfDoubleDots=S,this.commands=V,R&&V.length>0&&ri(V[0]))throw new w.vHH(4003,!1);const Y=V.find(ys);if(Y&&Y!==fi(V))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ws{constructor(R,S,V){this.segmentGroup=R,this.processChildren=S,this.index=V}}function Ci(x,R,S){if(x||(x=new un([],{})),0===x.segments.length&&x.hasChildren())return yi(x,R,S);const V=function Di(x,R,S){let V=0,Y=R;const ie={match:!1,pathIndex:0,commandIndex:0};for(;Y<x.segments.length;){if(V>=S.length)return ie;const he=x.segments[Y],et=S[V];if(ys(et))break;const Kt=`${et}`,$n=V<S.length-1?S[V+1]:null;if(Y>0&&void 0===Kt)break;if(Kt&&$n&&"object"==typeof $n&&void 0===$n.outlets){if(!Yi(Kt,$n,he))return ie;V+=2}else{if(!Yi(Kt,{},he))return ie;V++}Y++}return{match:!0,pathIndex:Y,commandIndex:V}}(x,R,S),Y=S.slice(V.commandIndex);if(V.match&&V.pathIndex<x.segments.length){const ie=new un(x.segments.slice(0,V.pathIndex),{});return ie.children[mn]=new un(x.segments.slice(V.pathIndex),x.children),yi(ie,0,Y)}return V.match&&0===Y.length?new un(x.segments,{}):V.match&&!x.hasChildren()?ei(x,R,S):V.match?yi(x,0,Y):ei(x,R,S)}function yi(x,R,S){if(0===S.length)return new un(x.segments,{});{const V=function mi(x){return ys(x[0])?x[0].outlets:{[mn]:x}}(S),Y={};return fr(V,(ie,he)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(Y[he]=Ci(x.children[he],R,ie))}),fr(x.children,(ie,he)=>{void 0===V[he]&&(Y[he]=ie)}),new un(x.segments,Y)}}function ei(x,R,S){const V=x.segments.slice(0,R);let Y=0;for(;Y<S.length;){const ie=S[Y];if(ys(ie)){const Kt=An(ie.outlets);return new un(V,Kt)}if(0===Y&&ri(S[0])){V.push(new Mn(x.segments[R].path,ar(S[0]))),Y++;continue}const he=ys(ie)?ie.outlets[mn]:`${ie}`,et=Y<S.length-1?S[Y+1]:null;he&&et&&ri(et)?(V.push(new Mn(he,ar(et))),Y+=2):(V.push(new Mn(he,{})),Y++)}return new un(V,{})}function An(x){const R={};return fr(x,(S,V)=>{"string"==typeof S&&(S=[S]),null!==S&&(R[V]=ei(new un([],{}),0,S))}),R}function ar(x){const R={};return fr(x,(S,V)=>R[V]=`${S}`),R}function Yi(x,R,S){return x==S.path&&Pr(R,S.parameters)}const gs="imperative";class qn{constructor(R,S){this.id=R,this.url=S}}class on extends qn{constructor(R,S,V="imperative",Y=null){super(R,S),this.type=0,this.navigationTrigger=V,this.restoredState=Y}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ns extends qn{constructor(R,S,V){super(R,S),this.urlAfterRedirects=V,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dr extends qn{constructor(R,S,V,Y){super(R,S),this.reason=V,this.code=Y,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _a extends qn{constructor(R,S,V,Y){super(R,S),this.reason=V,this.code=Y,this.type=16}}class ur extends qn{constructor(R,S,V,Y){super(R,S),this.error=V,this.target=Y,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yn extends qn{constructor(R,S,V,Y){super(R,S),this.urlAfterRedirects=V,this.state=Y,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class To extends qn{constructor(R,S,V,Y){super(R,S),this.urlAfterRedirects=V,this.state=Y,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends qn{constructor(R,S,V,Y,ie){super(R,S),this.urlAfterRedirects=V,this.state=Y,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cs extends qn{constructor(R,S,V,Y){super(R,S),this.urlAfterRedirects=V,this.state=Y,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends qn{constructor(R,S,V,Y){super(R,S),this.urlAfterRedirects=V,this.state=Y,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wt{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ke{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yt{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bt{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(R,S,V){this.routerEvent=R,this.position=S,this.anchor=V,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Pt=(()=>{class x{createUrlTree(S,V,Y,ie,he,et){return ni(S||V.root,Y,ie,he,et)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})(),Sn=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(R){return Pt.\u0275fac(R)},providedIn:"root"}),x})();class Tn{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const S=this.pathFromRoot(R);return S.length>1?S[S.length-2]:null}children(R){const S=_r(R,this._root);return S?S.children.map(V=>V.value):[]}firstChild(R){const S=_r(R,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(R){const S=Dr(R,this._root);return S.length<2?[]:S[S.length-2].children.map(Y=>Y.value).filter(Y=>Y!==R)}pathFromRoot(R){return Dr(R,this._root).map(S=>S.value)}}function _r(x,R){if(x===R.value)return R;for(const S of R.children){const V=_r(x,S);if(V)return V}return null}function Dr(x,R){if(x===R.value)return[R];for(const S of R.children){const V=Dr(x,S);if(V.length)return V.unshift(R),V}return[]}class ki{constructor(R,S){this.value=R,this.children=S}toString(){return`TreeNode(${this.value})`}}function ds(x){const R={};return x&&x.children.forEach(S=>R[S.value.outlet]=S),R}class nt extends Tn{constructor(R,S){super(R),this.snapshot=S,Jo(this,R)}toString(){return this.snapshot.toString()}}function Pe(x,R){const S=function $l(x,R){const he=new no([],{},{},"",{},mn,R,null,x.root,-1,{});return new $a("",new ki(he,[]))}(x,R),V=new pe.X([new Mn("",{})]),Y=new pe.X({}),ie=new pe.X({}),he=new pe.X({}),et=new pe.X(""),Kt=new Ji(V,Y,he,et,ie,mn,R,S.root);return Kt.snapshot=S.root,new nt(new ki(Kt,[]),S)}class Ji{constructor(R,S,V,Y,ie,he,et,Kt){this.url=R,this.params=S,this.queryParams=V,this.fragment=Y,this.data=ie,this.outlet=he,this.component=et,this.title=this.data?.pipe((0,ft.U)($n=>$n[Zn]))??(0,l.of)(void 0),this._futureSnapshot=Kt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(R=>On(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(R=>On(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xa(x,R="emptyOnly"){const S=x.pathFromRoot;let V=0;if("always"!==R)for(V=S.length-1;V>=1;){const Y=S[V],ie=S[V-1];if(Y.routeConfig&&""===Y.routeConfig.path)V--;else{if(ie.component)break;V--}}return function yu(x){return x.reduce((R,S)=>({params:{...R.params,...S.params},data:{...R.data,...S.data},resolve:{...S.data,...R.resolve,...S.routeConfig?.data,...S._resolvedData}}),{params:{},data:{},resolve:{}})}(S.slice(V))}class no{get title(){return this.data?.[Zn]}constructor(R,S,V,Y,ie,he,et,Kt,$n,In,ti){this.url=R,this.params=S,this.queryParams=V,this.fragment=Y,this.data=ie,this.outlet=he,this.component=et,this.routeConfig=Kt,this._urlSegment=$n,this._lastPathIndex=In,this._resolve=ti}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=On(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $a extends Tn{constructor(R,S){super(S),this.url=R,Jo(this,S)}toString(){return Ec(this._root)}}function Jo(x,R){R.value._routerState=x,R.children.forEach(S=>Jo(x,S))}function Ec(x){const R=x.children.length>0?` { ${x.children.map(Ec).join(", ")} } `:"";return`${x.value}${R}`}function _i(x){if(x.snapshot){const R=x.snapshot,S=x._futureSnapshot;x.snapshot=S,Pr(R.queryParams,S.queryParams)||x.queryParams.next(S.queryParams),R.fragment!==S.fragment&&x.fragment.next(S.fragment),Pr(R.params,S.params)||x.params.next(S.params),function ai(x,R){if(x.length!==R.length)return!1;for(let S=0;S<x.length;++S)if(!Pr(x[S],R[S]))return!1;return!0}(R.url,S.url)||x.url.next(S.url),Pr(R.data,S.data)||x.data.next(S.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function Vi(x,R){const S=Pr(x.params,R.params)&&function Fn(x,R){return Ur(x,R)&&x.every((S,V)=>Pr(S.parameters,R[V].parameters))}(x.url,R.url);return S&&!(!x.parent!=!R.parent)&&(!x.parent||Vi(x.parent,R.parent))}function $s(x,R,S){if(S&&x.shouldReuseRoute(R.value,S.value.snapshot)){const V=S.value;V._futureSnapshot=R.value;const Y=function oc(x,R,S){return R.children.map(V=>{for(const Y of S.children)if(x.shouldReuseRoute(V.value,Y.value.snapshot))return $s(x,V,Y);return $s(x,V)})}(x,R,S);return new ki(V,Y)}{if(x.shouldAttach(R.value)){const ie=x.retrieve(R.value);if(null!==ie){const he=ie.route;return he.value._futureSnapshot=R.value,he.children=R.children.map(et=>$s(x,et)),he}}const V=function Qo(x){return new Ji(new pe.X(x.url),new pe.X(x.params),new pe.X(x.queryParams),new pe.X(x.fragment),new pe.X(x.data),x.outlet,x.component,x)}(R.value),Y=R.children.map(ie=>$s(x,ie));return new ki(V,Y)}}const Ha="ngNavigationCancelingError";function Hl(x,R){const{redirectTo:S,navigationBehaviorOptions:V}=ve(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,Y=Uu(!1,0,R);return Y.url=S,Y.navigationBehaviorOptions=V,Y}function Uu(x,R,S){const V=new Error("NavigationCancelingError: "+(x||""));return V[Ha]=!0,V.cancellationCode=R,S&&(V.url=S),V}function Co(x){return is(x)&&ve(x.url)}function is(x){return x&&x[Ha]}class eu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zi,this.attachRef=null}}let zi=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(S,V){const Y=this.getOrCreateContext(S);Y.outlet=V,this.contexts.set(S,Y)}onChildOutletDestroyed(S){const V=this.getContext(S);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let V=this.getContext(S);return V||(V=new eu,this.contexts.set(S,V)),V}getContext(S){return this.contexts.get(S)||null}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Xo=!1;let tu=(()=>{class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=mn,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(zi),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(S){if(S.name){const{firstChange:V,previousValue:Y}=S.name;if(V)return;this.isTrackedInParentContexts(Y)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Y)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Xo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Xo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Xo);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,V){this.activated=S,this._activatedRoute=V,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,V){if(this.isActivated)throw new w.vHH(4013,Xo);this._activatedRoute=S;const Y=this.location,he=S.snapshot.component,et=this.parentContexts.getOrCreateContext(this.name).children,Kt=new Ts(S,et,Y.injector);if(V&&function Ma(x){return!!x.resolveComponentFactory}(V)){const $n=V.resolveComponentFactory(he);this.activated=Y.createComponent($n,Y.length,Kt)}else this.activated=Y.createComponent(he,{index:Y.length,injector:Kt,environmentInjector:V??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275dir=w.lG2({type:x,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),x})();class Ts{constructor(R,S,V){this.route=R,this.childContexts=S,this.parent=V}get(R,S){return R===Ji?this.route:R===zi?this.childContexts:this.parent.get(R,S)}}let ro=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275cmp=w.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(S,V){1&S&&w._UZ(0,"router-outlet")},dependencies:[tu],encapsulation:2}),x})();function Eu(x,R){return x.providers&&!x._injector&&(x._injector=(0,w.MMx)(x.providers,R,`Route: ${x.path}`)),x._injector??R}function fn(x){const R=x.children&&x.children.map(fn),S=R?{...x,children:R}:{...x};return!S.component&&!S.loadComponent&&(R||S.loadChildren)&&S.outlet&&S.outlet!==mn&&(S.component=ro),S}function Ds(x){return x.outlet||mn}function Pn(x,R){const S=x.filter(V=>Ds(V)===R);return S.push(...x.filter(V=>Ds(V)!==R)),S}function vr(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let R=x.parent;R;R=R.parent){const S=R.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class hs{constructor(R,S,V,Y){this.routeReuseStrategy=R,this.futureState=S,this.currState=V,this.forwardEvent=Y}activate(R){const S=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,V,R),_i(this.futureState.root),this.activateChildRoutes(S,V,R)}deactivateChildRoutes(R,S,V){const Y=ds(S);R.children.forEach(ie=>{const he=ie.value.outlet;this.deactivateRoutes(ie,Y[he],V),delete Y[he]}),fr(Y,(ie,he)=>{this.deactivateRouteAndItsChildren(ie,V)})}deactivateRoutes(R,S,V){const Y=R.value,ie=S?S.value:null;if(Y===ie)if(Y.component){const he=V.getContext(Y.outlet);he&&this.deactivateChildRoutes(R,S,he.children)}else this.deactivateChildRoutes(R,S,V);else ie&&this.deactivateRouteAndItsChildren(S,V)}deactivateRouteAndItsChildren(R,S){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,S):this.deactivateRouteAndOutlet(R,S)}detachAndStoreRouteSubtree(R,S){const V=S.getContext(R.value.outlet),Y=V&&R.value.component?V.children:S,ie=ds(R);for(const he of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[he],Y);if(V&&V.outlet){const he=V.outlet.detach(),et=V.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:he,route:R,contexts:et})}}deactivateRouteAndOutlet(R,S){const V=S.getContext(R.value.outlet),Y=V&&R.value.component?V.children:S,ie=ds(R);for(const he of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[he],Y);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(R,S,V){const Y=ds(S);R.children.forEach(ie=>{this.activateRoutes(ie,Y[ie.value.outlet],V),this.forwardEvent(new Bt(ie.value.snapshot))}),R.children.length&&this.forwardEvent(new yt(R.value.snapshot))}activateRoutes(R,S,V){const Y=R.value,ie=S?S.value:null;if(_i(Y),Y===ie)if(Y.component){const he=V.getOrCreateContext(Y.outlet);this.activateChildRoutes(R,S,he.children)}else this.activateChildRoutes(R,S,V);else if(Y.component){const he=V.getOrCreateContext(Y.outlet);if(this.routeReuseStrategy.shouldAttach(Y.snapshot)){const et=this.routeReuseStrategy.retrieve(Y.snapshot);this.routeReuseStrategy.store(Y.snapshot,null),he.children.onOutletReAttached(et.contexts),he.attachRef=et.componentRef,he.route=et.route.value,he.outlet&&he.outlet.attach(et.componentRef,et.route.value),_i(et.route.value),this.activateChildRoutes(R,null,he.children)}else{const et=vr(Y.snapshot),Kt=et?.get(w._Vd)??null;he.attachRef=null,he.route=Y,he.resolver=Kt,he.injector=et,he.outlet&&he.outlet.activateWith(Y,he.injector),this.activateChildRoutes(R,null,he.children)}}else this.activateChildRoutes(R,null,V)}}class ea{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Uo{constructor(R,S){this.component=R,this.route=S}}function Hs(x,R,S){const V=x._root;return Qi(V,R?R._root:null,S,[V.value])}function ao(x,R){const S=Symbol(),V=R.get(x,S);return V===S?"function"!=typeof x||(0,w.Z0I)(x)?R.get(x):x:V}function Qi(x,R,S,V,Y={canDeactivateChecks:[],canActivateChecks:[]}){const ie=ds(R);return x.children.forEach(he=>{(function bu(x,R,S,V,Y={canDeactivateChecks:[],canActivateChecks:[]}){const ie=x.value,he=R?R.value:null,et=S?S.getContext(x.value.outlet):null;if(he&&ie.routeConfig===he.routeConfig){const Kt=function Si(x,R,S){if("function"==typeof S)return S(x,R);switch(S){case"pathParamsChange":return!Ur(x.url,R.url);case"pathParamsOrQueryParamsChange":return!Ur(x.url,R.url)||!Pr(x.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vi(x,R)||!Pr(x.queryParams,R.queryParams);default:return!Vi(x,R)}}(he,ie,ie.routeConfig.runGuardsAndResolvers);Kt?Y.canActivateChecks.push(new ea(V)):(ie.data=he.data,ie._resolvedData=he._resolvedData),Qi(x,R,ie.component?et?et.children:null:S,V,Y),Kt&&et&&et.outlet&&et.outlet.isActivated&&Y.canDeactivateChecks.push(new Uo(et.outlet.component,he))}else he&&po(R,et,Y),Y.canActivateChecks.push(new ea(V)),Qi(x,null,ie.component?et?et.children:null:S,V,Y)})(he,ie[he.value.outlet],S,V.concat([he.value]),Y),delete ie[he.value.outlet]}),fr(ie,(he,et)=>po(he,S.getContext(et),Y)),Y}function po(x,R,S){const V=ds(x),Y=x.value;fr(V,(ie,he)=>{po(ie,Y.component?R?R.children.getContext(he):null:R,S)}),S.canDeactivateChecks.push(new Uo(Y.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,Y))}function Vo(x){return"function"==typeof x}function Na(x){return x instanceof me.K||"EmptyError"===x?.name}const U=Symbol("INITIAL_VALUE");function j(){return(0,Ye.w)(x=>(0,Me.a)(x.map(R=>R.pipe((0,lt.q)(1),(0,ut.O)(U)))).pipe((0,ft.U)(R=>{for(const S of R)if(!0!==S){if(S===U)return U;if(!1===S||S instanceof xn)return S}return!0}),(0,Ct.h)(R=>R!==U),(0,lt.q)(1)))}function Do(x){return(0,Ee.z)((0,$t.b)(R=>{if(ve(R))throw Hl(0,R)}),(0,ft.U)(R=>!0===R))}const qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rs(x,R,S,V,Y){const ie=go(x,R,S);return ie.matched?function uo(x,R,S,V){const Y=R.canMatch;if(!Y||0===Y.length)return(0,l.of)(!0);const ie=Y.map(he=>{const et=ao(he,x);return pi(function ya(x){return x&&Vo(x.canMatch)}(et)?et.canMatch(R,S):x.runInContext(()=>et(R,S)))});return(0,l.of)(ie).pipe(j(),Do())}(V=Eu(R,V),R,S).pipe((0,ft.U)(he=>!0===he?ie:{...qi})):(0,l.of)(ie)}function go(x,R,S){if(""===R.path)return"full"===R.pathMatch&&(x.hasChildren()||S.length>0)?{...qi}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const Y=(R.matcher||rs)(S,x,R);if(!Y)return{...qi};const ie={};fr(Y.posParams,(et,Kt)=>{ie[Kt]=et.path});const he=Y.consumed.length>0?{...ie,...Y.consumed[Y.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:Y.consumed,remainingSegments:S.slice(Y.consumed.length),parameters:he,positionalParamSegments:Y.posParams??{}}}function bs(x,R,S,V){if(S.length>0&&function wu(x,R,S){return S.some(V=>lo(x,R,V)&&Ds(V)!==mn)}(x,S,V)){const ie=new un(R,function md(x,R,S,V){const Y={};Y[mn]=V,V._sourceSegment=x,V._segmentIndexShift=R.length;for(const ie of S)if(""===ie.path&&Ds(ie)!==mn){const he=new un([],{});he._sourceSegment=x,he._segmentIndexShift=R.length,Y[Ds(ie)]=he}return Y}(x,R,V,new un(S,x.children)));return ie._sourceSegment=x,ie._segmentIndexShift=R.length,{segmentGroup:ie,slicedSegments:[]}}if(0===S.length&&function Vu(x,R,S){return S.some(V=>lo(x,R,V))}(x,S,V)){const ie=new un(x.segments,function ta(x,R,S,V,Y){const ie={};for(const he of V)if(lo(x,S,he)&&!Y[Ds(he)]){const et=new un([],{});et._sourceSegment=x,et._segmentIndexShift=R.length,ie[Ds(he)]=et}return{...Y,...ie}}(x,R,S,V,x.children));return ie._sourceSegment=x,ie._segmentIndexShift=R.length,{segmentGroup:ie,slicedSegments:S}}const Y=new un(x.segments,x.children);return Y._sourceSegment=x,Y._segmentIndexShift=R.length,{segmentGroup:Y,slicedSegments:S}}function lo(x,R,S){return(!(x.hasChildren()||R.length>0)||"full"!==S.pathMatch)&&""===S.path}function Tu(x,R,S,V){return!!(Ds(x)===V||V!==mn&&lo(R,S,x))&&("**"===x.path||go(R,x,S).matched)}function rl(x,R,S){return 0===R.length&&!x.children[S]}const il=!1;class $u{constructor(R){this.segmentGroup=R||null}}class Cl{constructor(R){this.urlTree=R}}function Hu(x){return(0,ge._)(new $u(x))}function Cu(x){return(0,ge._)(new Cl(x))}class Bn{constructor(R,S,V,Y,ie){this.injector=R,this.configLoader=S,this.urlSerializer=V,this.urlTree=Y,this.config=ie,this.allowRedirects=!0}apply(){const R=bs(this.urlTree.root,[],[],this.config).segmentGroup,S=new un(R.segments,R.children);return this.expandSegmentGroup(this.injector,this.config,S,mn).pipe((0,ft.U)(ie=>this.createUrlTree($e(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ze.K)(ie=>{if(ie instanceof Cl)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof $u?this.noMatchError(ie):ie}))}match(R){return this.expandSegmentGroup(this.injector,this.config,R.root,mn).pipe((0,ft.U)(Y=>this.createUrlTree($e(Y),R.queryParams,R.fragment))).pipe((0,Ze.K)(Y=>{throw Y instanceof $u?this.noMatchError(Y):Y}))}noMatchError(R){return new w.vHH(4002,il)}createUrlTree(R,S,V){const Y=vn(R);return new xn(Y,S,V)}expandSegmentGroup(R,S,V,Y){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(R,S,V).pipe((0,ft.U)(ie=>new un([],ie))):this.expandSegment(R,V,S,V.segments,Y,!0)}expandChildren(R,S,V){const Y=[];for(const ie of Object.keys(V.children))"primary"===ie?Y.unshift(ie):Y.push(ie);return(0,M.D)(Y).pipe((0,Dt.b)(ie=>{const he=V.children[ie],et=Pn(S,ie);return this.expandSegmentGroup(R,et,he,ie).pipe((0,ft.U)(Kt=>({segment:Kt,outlet:ie})))}),(0,pt.R)((ie,he)=>(ie[he.outlet]=he.segment,ie),{}),Ft())}expandSegment(R,S,V,Y,ie,he){return(0,M.D)(V).pipe((0,Dt.b)(et=>this.expandSegmentAgainstRoute(R,S,V,et,Y,ie,he).pipe((0,Ze.K)($n=>{if($n instanceof $u)return(0,l.of)(null);throw $n}))),(0,Nt.P)(et=>!!et),(0,Ze.K)((et,Kt)=>{if(Na(et))return rl(S,Y,ie)?(0,l.of)(new un([],{})):Hu(S);throw et}))}expandSegmentAgainstRoute(R,S,V,Y,ie,he,et){return Tu(Y,S,ie,he)?void 0===Y.redirectTo?this.matchSegmentAgainstRoute(R,S,Y,ie,he):et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,S,V,Y,ie,he):Hu(S):Hu(S)}expandSegmentAgainstRouteUsingRedirect(R,S,V,Y,ie,he){return"**"===Y.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,V,Y,he):this.expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,Y,ie,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,S,V,Y){const ie=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?Cu(ie):this.lineralizeSegments(V,ie).pipe((0,vt.z)(he=>{const et=new un(he,{});return this.expandSegment(R,et,S,he,Y,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,S,V,Y,ie,he){const{matched:et,consumedSegments:Kt,remainingSegments:$n,positionalParamSegments:In}=go(S,Y,ie);if(!et)return Hu(S);const ti=this.applyRedirectCommands(Kt,Y.redirectTo,In);return Y.redirectTo.startsWith("/")?Cu(ti):this.lineralizeSegments(Y,ti).pipe((0,vt.z)(ui=>this.expandSegment(R,S,V,ui.concat($n),he,!1)))}matchSegmentAgainstRoute(R,S,V,Y,ie){return"**"===V.path?(R=Eu(V,R),V.loadChildren?(V._loadedRoutes?(0,l.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):this.configLoader.loadChildren(R,V)).pipe((0,ft.U)(et=>(V._loadedRoutes=et.routes,V._loadedInjector=et.injector,new un(Y,{})))):(0,l.of)(new un(Y,{}))):Rs(S,V,Y,R).pipe((0,Ye.w)(({matched:he,consumedSegments:et,remainingSegments:Kt})=>he?this.getChildConfig(R=V._injector??R,V,Y).pipe((0,vt.z)(In=>{const ti=In.injector??R,ui=In.routes,{segmentGroup:_o,slicedSegments:oa}=bs(S,et,Kt,ui),ul=new un(_o.segments,_o.children);if(0===oa.length&&ul.hasChildren())return this.expandChildren(ti,ui,ul).pipe((0,ft.U)(Cc=>new un(et,Cc)));if(0===ui.length&&0===oa.length)return(0,l.of)(new un(et,{}));const Wo=Ds(V)===ie;return this.expandSegment(ti,ul,ui,oa,Wo?mn:ie,!0).pipe((0,ft.U)(au=>new un(et.concat(au.segments),au.children)))})):Hu(S)))}getChildConfig(R,S,V){return S.children?(0,l.of)({routes:S.children,injector:R}):S.loadChildren?void 0!==S._loadedRoutes?(0,l.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function ss(x,R,S,V){const Y=R.canLoad;if(void 0===Y||0===Y.length)return(0,l.of)(!0);const ie=Y.map(he=>{const et=ao(he,x);return pi(function Ga(x){return x&&Vo(x.canLoad)}(et)?et.canLoad(R,S):x.runInContext(()=>et(R,S)))});return(0,l.of)(ie).pipe(j(),Do())}(R,S,V).pipe((0,vt.z)(Y=>Y?this.configLoader.loadChildren(R,S).pipe((0,$t.b)(ie=>{S._loadedRoutes=ie.routes,S._loadedInjector=ie.injector})):function xt(x){return(0,ge._)(Uu(il,3))}())):(0,l.of)({routes:[],injector:R})}lineralizeSegments(R,S){let V=[],Y=S.root;for(;;){if(V=V.concat(Y.segments),0===Y.numberOfChildren)return(0,l.of)(V);if(Y.numberOfChildren>1||!Y.children[mn])return(0,ge._)(new w.vHH(4e3,il));Y=Y.children[mn]}}applyRedirectCommands(R,S,V){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),R,V)}applyRedirectCreateUrlTree(R,S,V,Y){const ie=this.createSegmentGroup(R,S.root,V,Y);return new xn(ie,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(R,S){const V={};return fr(R,(Y,ie)=>{if("string"==typeof Y&&Y.startsWith(":")){const et=Y.substring(1);V[ie]=S[et]}else V[ie]=Y}),V}createSegmentGroup(R,S,V,Y){const ie=this.createSegments(R,S.segments,V,Y);let he={};return fr(S.children,(et,Kt)=>{he[Kt]=this.createSegmentGroup(R,et,V,Y)}),new un(ie,he)}createSegments(R,S,V,Y){return S.map(ie=>ie.path.startsWith(":")?this.findPosParam(R,ie,Y):this.findOrReturn(ie,V))}findPosParam(R,S,V){const Y=V[S.path.substring(1)];if(!Y)throw new w.vHH(4001,il);return Y}findOrReturn(R,S){let V=0;for(const Y of S){if(Y.path===R.path)return S.splice(V),Y;V++}return R}}class Gs{}class Xi{constructor(R,S,V,Y,ie,he,et){this.injector=R,this.rootComponentType=S,this.config=V,this.urlTree=Y,this.url=ie,this.paramsInheritanceStrategy=he,this.urlSerializer=et}recognize(){const R=bs(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,mn).pipe((0,ft.U)(S=>{if(null===S)return null;const V=new no([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mn,this.rootComponentType,null,this.urlTree.root,-1,{}),Y=new ki(V,S),ie=new $a(this.url,Y);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(R){const S=R.value,V=xa(S,this.paramsInheritanceStrategy);S.params=Object.freeze(V.params),S.data=Object.freeze(V.data),R.children.forEach(Y=>this.inheritParamsAndData(Y))}processSegmentGroup(R,S,V,Y){return 0===V.segments.length&&V.hasChildren()?this.processChildren(R,S,V):this.processSegment(R,S,V,V.segments,Y)}processChildren(R,S,V){return(0,M.D)(Object.keys(V.children)).pipe((0,Dt.b)(Y=>{const ie=V.children[Y],he=Pn(S,Y);return this.processSegmentGroup(R,he,ie,Y)}),(0,pt.R)((Y,ie)=>Y&&ie?(Y.push(...ie),Y):null),function pn(x,R=!1){return(0,Vt.e)((S,V)=>{let Y=0;S.subscribe((0,We.x)(V,ie=>{const he=x(ie,Y++);(he||R)&&V.next(ie),!he&&V.complete()}))})}(Y=>null!==Y),(0,ct.d)(null),Ft(),(0,ft.U)(Y=>{if(null===Y)return null;const ie=iu(Y);return function $o(x){x.sort((R,S)=>R.value.outlet===mn?-1:S.value.outlet===mn?1:R.value.outlet.localeCompare(S.value.outlet))}(ie),ie}))}processSegment(R,S,V,Y,ie){return(0,M.D)(S).pipe((0,Dt.b)(he=>this.processSegmentAgainstRoute(he._injector??R,he,V,Y,ie)),(0,Nt.P)(he=>!!he),(0,Ze.K)(he=>{if(Na(he))return rl(V,Y,ie)?(0,l.of)([]):(0,l.of)(null);throw he}))}processSegmentAgainstRoute(R,S,V,Y,ie){if(S.redirectTo||!Tu(S,V,Y,ie))return(0,l.of)(null);let he;if("**"===S.path){const et=Y.length>0?fi(Y).parameters:{},Kt=wr(V)+Y.length,$n=new no(Y,et,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(S),Ds(S),S.component??S._loadedComponent??null,S,su(V),Kt,W(S));he=(0,l.of)({snapshot:$n,consumedSegments:[],remainingSegments:[]})}else he=Rs(V,S,Y,R).pipe((0,ft.U)(({matched:et,consumedSegments:Kt,remainingSegments:$n,parameters:In})=>{if(!et)return null;const ti=wr(V)+Kt.length;return{snapshot:new no(Kt,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X(S),Ds(S),S.component??S._loadedComponent??null,S,su(V),ti,W(S)),consumedSegments:Kt,remainingSegments:$n}}));return he.pipe((0,Ye.w)(et=>{if(null===et)return(0,l.of)(null);const{snapshot:Kt,consumedSegments:$n,remainingSegments:In}=et;R=S._injector??R;const ti=S._loadedInjector??R,ui=function jl(x){return x.children?x.children:x.loadChildren?x._loadedRoutes:[]}(S),{segmentGroup:_o,slicedSegments:oa}=bs(V,$n,In,ui.filter(Wo=>void 0===Wo.redirectTo));if(0===oa.length&&_o.hasChildren())return this.processChildren(ti,ui,_o).pipe((0,ft.U)(Wo=>null===Wo?null:[new ki(Kt,Wo)]));if(0===ui.length&&0===oa.length)return(0,l.of)([new ki(Kt,[])]);const ul=Ds(S)===ie;return this.processSegment(ti,ui,_o,oa,ul?mn:ie).pipe((0,ft.U)(Wo=>null===Wo?null:[new ki(Kt,Wo)]))}))}}function Io(x){const R=x.value.routeConfig;return R&&""===R.path&&void 0===R.redirectTo}function iu(x){const R=[],S=new Set;for(const V of x){if(!Io(V)){R.push(V);continue}const Y=R.find(ie=>V.value.routeConfig===ie.value.routeConfig);void 0!==Y?(Y.children.push(...V.children),S.add(Y)):R.push(V)}for(const V of S){const Y=iu(V.children);R.push(new ki(V.value,Y))}return R.filter(V=>!S.has(V))}function su(x){let R=x;for(;R._sourceSegment;)R=R._sourceSegment;return R}function wr(x){let R=x,S=R._segmentIndexShift??0;for(;R._sourceSegment;)R=R._sourceSegment,S+=R._segmentIndexShift??0;return S-1}function X(x){return x.data||{}}function W(x){return x.resolve||{}}function si(x){return"string"==typeof x.title||null===x.title}function Ai(x){return(0,Ye.w)(R=>{const S=x(R);return S?(0,M.D)(S).pipe((0,ft.U)(()=>R)):(0,l.of)(R)})}const xi=new w.OlP("ROUTES");let zr=(()=>{class x{constructor(S,V){this.injector=S,this.compiler=V,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,l.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const V=pi(S.loadComponent()).pipe((0,ft.U)(fs),(0,$t.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=ie}),(0,Jn.x)(()=>{this.componentLoaders.delete(S)})),Y=new dt.c(V,()=>new tt.x).pipe((0,Dn.x)());return this.componentLoaders.set(S,Y),Y}loadChildren(S,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,l.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const ie=this.loadModuleFactoryOrRoutes(V.loadChildren).pipe((0,ft.U)(et=>{this.onLoadEndListener&&this.onLoadEndListener(V);let Kt,$n,In=!1;Array.isArray(et)?$n=et:(Kt=et.create(S).injector,$n=rr(Kt.get(xi,[],w.XFs.Self|w.XFs.Optional)));return{routes:$n.map(fn),injector:Kt}}),(0,Jn.x)(()=>{this.childrenLoaders.delete(V)})),he=new dt.c(ie,()=>new tt.x).pipe((0,Dn.x)());return this.childrenLoaders.set(V,he),he}loadModuleFactoryOrRoutes(S){return pi(S()).pipe((0,ft.U)(fs),(0,vt.z)(Y=>Y instanceof w.YKP||Array.isArray(Y)?(0,l.of)(Y):(0,M.D)(this.compiler.compileModuleAsync(Y))))}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(w.zs3),w.LFG(w.Sil))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function fs(x){return function Ao(x){return x&&"object"==typeof x&&"default"in x}(x)?x.default:x}let js=(()=>{class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tt.x,this.configLoader=(0,w.f3M)(zr),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(En),this.rootContexts=(0,w.f3M)(zi),this.navigationId=0,this.afterPreactivation=()=>(0,l.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Y=>this.events.next(new wt(Y)),this.configLoader.onLoadStartListener=Y=>this.events.next(new Pi(Y))}complete(){this.transitions?.complete()}handleNavigationRequest(S){const V=++this.navigationId;this.transitions?.next({...this.transitions.value,...S,id:V})}setupNavigations(S){return this.transitions=new pe.X({id:0,targetPageId:0,currentUrlTree:S.currentUrlTree,currentRawUrl:S.currentUrlTree,extractedUrl:S.urlHandlingStrategy.extract(S.currentUrlTree),urlAfterRedirects:S.urlHandlingStrategy.extract(S.currentUrlTree),rawUrl:S.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gs,restoredState:null,currentSnapshot:S.routerState.snapshot,targetSnapshot:null,currentRouterState:S.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ct.h)(V=>0!==V.id),(0,ft.U)(V=>({...V,extractedUrl:S.urlHandlingStrategy.extract(V.rawUrl)})),(0,Ye.w)(V=>{let Y=!1,ie=!1;return(0,l.of)(V).pipe((0,$t.b)(he=>{this.currentNavigation={id:he.id,initialUrl:he.rawUrl,extractedUrl:he.extractedUrl,trigger:he.source,extras:he.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(he=>{const et=S.browserUrlTree.toString(),Kt=!S.navigated||he.extractedUrl.toString()!==et||et!==S.currentUrlTree.toString();if(!Kt&&"reload"!==(he.extras.onSameUrlNavigation??S.onSameUrlNavigation)){const In="";return this.events.next(new _a(he.id,S.serializeUrl(V.rawUrl),In,0)),S.rawUrlTree=he.rawUrl,he.resolve(null),Ne.E}if(S.urlHandlingStrategy.shouldProcessUrl(he.rawUrl))return na(he.source)&&(S.browserUrlTree=he.extractedUrl),(0,l.of)(he).pipe((0,Ye.w)(In=>{const ti=this.transitions?.getValue();return this.events.next(new on(In.id,this.urlSerializer.serialize(In.extractedUrl),In.source,In.restoredState)),ti!==this.transitions?.getValue()?Ne.E:Promise.resolve(In)}),function Ar(x,R,S,V){return(0,Ye.w)(Y=>function ht(x,R,S,V,Y){return new Bn(x,R,S,V,Y).apply()}(x,R,S,Y.extractedUrl,V).pipe((0,ft.U)(ie=>({...Y,urlAfterRedirects:ie}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,S.config),(0,$t.b)(In=>{this.currentNavigation={...this.currentNavigation,finalUrl:In.urlAfterRedirects},V.urlAfterRedirects=In.urlAfterRedirects}),function ae(x,R,S,V,Y){return(0,vt.z)(ie=>function So(x,R,S,V,Y,ie,he="emptyOnly"){return new Xi(x,R,S,V,Y,he,ie).recognize().pipe((0,Ye.w)(et=>null===et?function $r(x){return new we.y(R=>R.error(x))}(new Gs):(0,l.of)(et)))}(x,R,S,ie.urlAfterRedirects,V.serialize(ie.urlAfterRedirects),V,Y).pipe((0,ft.U)(he=>({...ie,targetSnapshot:he}))))}(this.environmentInjector,this.rootComponentType,S.config,this.urlSerializer,S.paramsInheritanceStrategy),(0,$t.b)(In=>{if(V.targetSnapshot=In.targetSnapshot,"eager"===S.urlUpdateStrategy){if(!In.extras.skipLocationChange){const ui=S.urlHandlingStrategy.merge(In.urlAfterRedirects,In.rawUrl);S.setBrowserUrl(ui,In)}S.browserUrlTree=In.urlAfterRedirects}const ti=new Yn(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(ti)}));if(Kt&&S.urlHandlingStrategy.shouldProcessUrl(S.rawUrlTree)){const{id:In,extractedUrl:ti,source:ui,restoredState:_o,extras:oa}=he,ul=new on(In,this.urlSerializer.serialize(ti),ui,_o);this.events.next(ul);const Wo=Pe(ti,this.rootComponentType).snapshot;return V={...he,targetSnapshot:Wo,urlAfterRedirects:ti,extras:{...oa,skipLocationChange:!1,replaceUrl:!1}},(0,l.of)(V)}{const In="";return this.events.next(new _a(he.id,S.serializeUrl(V.extractedUrl),In,1)),S.rawUrlTree=he.rawUrl,he.resolve(null),Ne.E}}),(0,$t.b)(he=>{const et=new To(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(he.urlAfterRedirects),he.targetSnapshot);this.events.next(et)}),(0,ft.U)(he=>V={...he,guards:Hs(he.targetSnapshot,he.currentSnapshot,this.rootContexts)}),function H(x,R){return(0,vt.z)(S=>{const{targetSnapshot:V,currentSnapshot:Y,guards:{canActivateChecks:ie,canDeactivateChecks:he}}=S;return 0===he.length&&0===ie.length?(0,l.of)({...S,guardsResult:!0}):function ce(x,R,S,V){return(0,M.D)(x).pipe((0,vt.z)(Y=>function Os(x,R,S,V,Y){const ie=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,l.of)(!0);const he=ie.map(et=>{const Kt=vr(R)??Y,$n=ao(et,Kt);return pi(function Gl(x){return x&&Vo(x.canDeactivate)}($n)?$n.canDeactivate(x,R,S,V):Kt.runInContext(()=>$n(x,R,S,V))).pipe((0,Nt.P)())});return(0,l.of)(he).pipe(j())}(Y.component,Y.route,S,R,V)),(0,Nt.P)(Y=>!0!==Y,!0))}(he,V,Y,x).pipe((0,vt.z)(et=>et&&function Ir(x){return"boolean"==typeof x}(et)?function _t(x,R,S,V){return(0,M.D)(R).pipe((0,Dt.b)(Y=>(0,Ie.z)(function Ii(x,R){return null!==x&&R&&R(new ke(x)),(0,l.of)(!0)}(Y.route.parent,V),function Nn(x,R){return null!==x&&R&&R(new st(x)),(0,l.of)(!0)}(Y.route,V),function Ea(x,R,S){const V=R[R.length-1],ie=R.slice(0,R.length-1).reverse().map(he=>function Hi(x){const R=x.routeConfig?x.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:x,guards:R}:null}(he)).filter(he=>null!==he).map(he=>(0,_e.P)(()=>{const et=he.guards.map(Kt=>{const $n=vr(he.node)??S,In=ao(Kt,$n);return pi(function Ss(x){return x&&Vo(x.canActivateChild)}(In)?In.canActivateChild(V,x):$n.runInContext(()=>In(V,x))).pipe((0,Nt.P)())});return(0,l.of)(et).pipe(j())}));return(0,l.of)(ie).pipe(j())}(x,Y.path,S),function Es(x,R,S){const V=R.routeConfig?R.routeConfig.canActivate:null;if(!V||0===V.length)return(0,l.of)(!0);const Y=V.map(ie=>(0,_e.P)(()=>{const he=vr(R)??S,et=ao(ie,he);return pi(function tl(x){return x&&Vo(x.canActivate)}(et)?et.canActivate(R,x):he.runInContext(()=>et(R,x))).pipe((0,Nt.P)())}));return(0,l.of)(Y).pipe(j())}(x,Y.route,S))),(0,Nt.P)(Y=>!0!==Y,!0))}(V,ie,x,R):(0,l.of)(et)),(0,ft.U)(et=>({...S,guardsResult:et})))})}(this.environmentInjector,he=>this.events.next(he)),(0,$t.b)(he=>{if(V.guardsResult=he.guardsResult,ve(he.guardsResult))throw Hl(0,he.guardsResult);const et=new Fo(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(he.urlAfterRedirects),he.targetSnapshot,!!he.guardsResult);this.events.next(et)}),(0,Ct.h)(he=>!!he.guardsResult||(S.restoreHistory(he),this.cancelNavigationTransition(he,"",3),!1)),Ai(he=>{if(he.guards.canActivateChecks.length)return(0,l.of)(he).pipe((0,$t.b)(et=>{const Kt=new cs(et.id,this.urlSerializer.serialize(et.extractedUrl),this.urlSerializer.serialize(et.urlAfterRedirects),et.targetSnapshot);this.events.next(Kt)}),(0,Ye.w)(et=>{let Kt=!1;return(0,l.of)(et).pipe(function Be(x,R){return(0,vt.z)(S=>{const{targetSnapshot:V,guards:{canActivateChecks:Y}}=S;if(!Y.length)return(0,l.of)(S);let ie=0;return(0,M.D)(Y).pipe((0,Dt.b)(he=>function Ot(x,R,S,V){const Y=x.routeConfig,ie=x._resolve;return void 0!==Y?.title&&!si(Y)&&(ie[Zn]=Y.title),function zt(x,R,S,V){const Y=function _n(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===Y.length)return(0,l.of)({});const ie={};return(0,M.D)(Y).pipe((0,vt.z)(he=>function vi(x,R,S,V){const Y=vr(R)??V,ie=ao(x,Y);return pi(ie.resolve?ie.resolve(R,S):Y.runInContext(()=>ie(R,S)))}(x[he],R,S,V).pipe((0,Nt.P)(),(0,$t.b)(et=>{ie[he]=et}))),Ge(1),(0,Gn.h)(ie),(0,Ze.K)(he=>Na(he)?Ne.E:(0,ge._)(he)))}(ie,x,R,V).pipe((0,ft.U)(he=>(x._resolvedData=he,x.data=xa(x,S).resolve,Y&&si(Y)&&(x.data[Zn]=Y.title),null)))}(he.route,V,x,R)),(0,$t.b)(()=>ie++),Ge(1),(0,vt.z)(he=>ie===Y.length?(0,l.of)(S):Ne.E))})}(S.paramsInheritanceStrategy,this.environmentInjector),(0,$t.b)({next:()=>Kt=!0,complete:()=>{Kt||(S.restoreHistory(et),this.cancelNavigationTransition(et,"",2))}}))}),(0,$t.b)(et=>{const Kt=new oo(et.id,this.urlSerializer.serialize(et.extractedUrl),this.urlSerializer.serialize(et.urlAfterRedirects),et.targetSnapshot);this.events.next(Kt)}))}),Ai(he=>{const et=Kt=>{const $n=[];Kt.routeConfig?.loadComponent&&!Kt.routeConfig._loadedComponent&&$n.push(this.configLoader.loadComponent(Kt.routeConfig).pipe((0,$t.b)(In=>{Kt.component=In}),(0,ft.U)(()=>{})));for(const In of Kt.children)$n.push(...et(In));return $n};return(0,Me.a)(et(he.targetSnapshot.root)).pipe((0,ct.d)(),(0,lt.q)(1))}),Ai(()=>this.afterPreactivation()),(0,ft.U)(he=>{const et=function Tl(x,R,S){const V=$s(x,R._root,S?S._root:void 0);return new nt(V,R)}(S.routeReuseStrategy,he.targetSnapshot,he.currentRouterState);return V={...he,targetRouterState:et}}),(0,$t.b)(he=>{S.currentUrlTree=he.urlAfterRedirects,S.rawUrlTree=S.urlHandlingStrategy.merge(he.urlAfterRedirects,he.rawUrl),S.routerState=he.targetRouterState,"deferred"===S.urlUpdateStrategy&&(he.extras.skipLocationChange||S.setBrowserUrl(S.rawUrlTree,he),S.browserUrlTree=he.urlAfterRedirects)}),((x,R,S)=>(0,ft.U)(V=>(new hs(R,V.targetRouterState,V.currentRouterState,S).activate(x),V)))(this.rootContexts,S.routeReuseStrategy,he=>this.events.next(he)),(0,$t.b)({next:he=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,S.navigated=!0,this.events.next(new Ns(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(S.currentUrlTree))),S.titleStrategy?.updateTitle(he.targetRouterState.snapshot),he.resolve(!0)},complete:()=>{Y=!0}}),(0,Jn.x)(()=>{Y||ie||this.cancelNavigationTransition(V,"",1),this.currentNavigation?.id===V.id&&(this.currentNavigation=null)}),(0,Ze.K)(he=>{if(ie=!0,is(he)){Co(he)||(S.navigated=!0,S.restoreHistory(V,!0));const et=new dr(V.id,this.urlSerializer.serialize(V.extractedUrl),he.message,he.cancellationCode);if(this.events.next(et),Co(he)){const Kt=S.urlHandlingStrategy.merge(he.url,S.rawUrlTree),$n={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===S.urlUpdateStrategy||na(V.source)};S.scheduleNavigation(Kt,gs,null,$n,{resolve:V.resolve,reject:V.reject,promise:V.promise})}else V.resolve(!1)}else{S.restoreHistory(V,!0);const et=new ur(V.id,this.urlSerializer.serialize(V.extractedUrl),he,V.targetSnapshot??void 0);this.events.next(et);try{V.resolve(S.errorHandler(he))}catch(Kt){V.reject(Kt)}}return Ne.E}))}))}cancelNavigationTransition(S,V,Y){const ie=new dr(S.id,this.urlSerializer.serialize(S.extractedUrl),V,Y);this.events.next(ie),S.resolve(!1)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function na(x){return x!==gs}let sl=(()=>{class x{buildTitle(S){let V,Y=S.root;for(;void 0!==Y;)V=this.getResolvedTitleForRoute(Y)??V,Y=Y.children.find(ie=>ie.outlet===mn);return V}getResolvedTitleForRoute(S){return S.data[Zn]}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(ou)},providedIn:"root"}),x})(),ou=(()=>{class x extends sl{constructor(S){super(),this.title=S}updateTitle(S){const V=this.buildTitle(S);void 0!==V&&this.title.setTitle(V)}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(bn.Dx))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),zl=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(ra)},providedIn:"root"}),x})();class Oa{shouldDetach(R){return!1}store(R,S){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,S){return R.routeConfig===S.routeConfig}}let ra=(()=>{class x extends Oa{}return x.\u0275fac=function(){let R;return function(V){return(R||(R=w.n5z(x)))(V||x)}}(),x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Wa=new w.OlP("",{providedIn:"root",factory:()=>({})});let Hd=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:function(){return(0,w.f3M)(Ps)},providedIn:"root"}),x})(),Ps=(()=>{class x{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,V){return S}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function ba(x){throw x}function qc(x,R,S){return R.parse("/")}const ia={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Du={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ws=(()=>{class x{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(Wa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ba,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(Hd),this.routeReuseStrategy=(0,w.f3M)(zl),this.urlCreationStrategy=(0,w.f3M)(Sn),this.titleStrategy=(0,w.f3M)(sl),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rr((0,w.f3M)(xi,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(js),this.urlSerializer=(0,w.f3M)(En),this.location=(0,w.f3M)(bt.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pe(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(S=>{this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const S=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gs,S)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const V="popstate"===S.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{this.navigateToSyncWithBrowser(S.url,V,S.state)},0)}))}navigateToSyncWithBrowser(S,V,Y){const ie={replaceUrl:!0},he=Y?.navigationId?Y:null;if(Y){const Kt={...Y};delete Kt.navigationId,delete Kt.\u0275routerPageId,0!==Object.keys(Kt).length&&(ie.state=Kt)}const et=this.parseUrl(S);this.scheduleNavigation(et,V,he,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(S){this.config=S.map(fn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,V={}){const{relativeTo:Y,queryParams:ie,fragment:he,queryParamsHandling:et,preserveFragment:Kt}=V,$n=Kt?this.currentUrlTree.fragment:he;let In=null;switch(et){case"merge":In={...this.currentUrlTree.queryParams,...ie};break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=ie||null}return null!==In&&(In=this.removeEmptyProps(In)),this.urlCreationStrategy.createUrlTree(Y,this.routerState,this.currentUrlTree,S,In,$n??null)}navigateByUrl(S,V={skipLocationChange:!1}){const Y=ve(S)?S:this.parseUrl(S),ie=this.urlHandlingStrategy.merge(Y,this.rawUrlTree);return this.scheduleNavigation(ie,gs,null,V)}navigate(S,V={skipLocationChange:!1}){return function Gi(x){for(let R=0;R<x.length;R++){if(null==x[R])throw new w.vHH(4008,!1)}}(S),this.navigateByUrl(this.createUrlTree(S,V),V)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let V;try{V=this.urlSerializer.parse(S)}catch(Y){V=this.malformedUriErrorHandler(Y,this.urlSerializer,S)}return V}isActive(S,V){let Y;if(Y=!0===V?{...ia}:!1===V?{...Du}:V,ve(S))return dn(this.currentUrlTree,S,Y);const ie=this.parseUrl(S);return dn(this.currentUrlTree,ie,Y)}removeEmptyProps(S){return Object.keys(S).reduce((V,Y)=>{const ie=S[Y];return null!=ie&&(V[Y]=ie),V},{})}scheduleNavigation(S,V,Y,ie,he){if(this.disposed)return Promise.resolve(!1);let et,Kt,$n,In;return he?(et=he.resolve,Kt=he.reject,$n=he.promise):$n=new Promise((ti,ui)=>{et=ti,Kt=ui}),In="computed"===this.canceledNavigationResolution?Y&&Y.\u0275routerPageId?Y.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:In,source:V,restoredState:Y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:ie,resolve:et,reject:Kt,promise:$n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$n.catch(ti=>Promise.reject(ti))}setBrowserUrl(S,V){const Y=this.urlSerializer.serialize(S),ie={...V.extras.state,...this.generateNgRouterState(V.id,V.targetPageId)};this.location.isCurrentPathEqualTo(Y)||V.extras.replaceUrl?this.location.replaceState(Y,"",ie):this.location.go(Y,"",ie)}restoreHistory(S,V=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===Y?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,V){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:V}:{navigationId:S}}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),Su=(()=>{class x{constructor(S,V,Y,ie,he,et){this.router=S,this.route=V,this.tabIndexAttribute=Y,this.renderer=ie,this.el=he,this.locationStrategy=et,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new tt.x;const Kt=he.nativeElement.tagName;this.isAnchorElement="A"===Kt||"AREA"===Kt,this.isAnchorElement?this.subscription=S.events.subscribe($n=>{$n instanceof Ns&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,w.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,w.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,w.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(S,V,Y,ie,he){return!!(null===this.urlTree||this.isAnchorElement&&(0!==S||V||Y||ie||he||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const S=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(S,V){const Y=this.renderer,ie=this.el.nativeElement;null!==V?Y.setAttribute(ie,S,V):Y.removeAttribute(ie,S)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return x.\u0275fac=function(S){return new(S||x)(w.Y36(Ws),w.Y36(Ji),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(bt.S$))},x.\u0275dir=w.lG2({type:x,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,V){1&S&&w.NdJ("click",function(ie){return V.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&S&&w.uIk("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),x})();class Gu{}let ol=(()=>{class x{constructor(S,V,Y,ie,he){this.router=S,this.injector=Y,this.preloadingStrategy=ie,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.h)(S=>S instanceof Ns),(0,Dt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,V){const Y=[];for(const ie of V){ie.providers&&!ie._injector&&(ie._injector=(0,w.MMx)(ie.providers,S,`Route: ${ie.path}`));const he=ie._injector??S,et=ie._loadedInjector??he;ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent?Y.push(this.preloadConfig(he,ie)):(ie.children||ie._loadedRoutes)&&Y.push(this.processRoutes(et,ie.children??ie._loadedRoutes))}return(0,M.D)(Y).pipe((0,zn.J)())}preloadConfig(S,V){return this.preloadingStrategy.preload(V,()=>{let Y;Y=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(S,V):(0,l.of)(null);const ie=Y.pipe((0,vt.z)(he=>null===he?(0,l.of)(void 0):(V._loadedRoutes=he.routes,V._loadedInjector=he.injector,this.processRoutes(he.injector??S,he.routes))));if(V.loadComponent&&!V._loadedComponent){const he=this.loader.loadComponent(V);return(0,M.D)([ie,he]).pipe((0,zn.J)())}return ie})}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(Ws),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Gu),w.LFG(zr))},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const wa=new w.OlP("");let Ta=(()=>{class x{constructor(S,V,Y,ie,he={}){this.urlSerializer=S,this.transitions=V,this.viewportScroller=Y,this.zone=ie,this.options=he,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},he.scrollPositionRestoration=he.scrollPositionRestoration||"disabled",he.anchorScrolling=he.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof on?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Ns&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof De&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new De(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return x.\u0275fac=function(S){w.$Z()},x.\u0275prov=w.Yz7({token:x,factory:x.\u0275fac}),x})();function Zs(x,R){return{\u0275kind:x,\u0275providers:R}}function sa(){const x=(0,w.f3M)(w.zs3);return R=>{const S=x.get(w.z2F);if(R!==S.components[0])return;const V=x.get(Ws),Y=x.get(Qr);1===x.get(Go)&&V.initialNavigation(),x.get(wc,null,w.XFs.Optional)?.setUpPreloading(),x.get(wa,null,w.XFs.Optional)?.init(),V.resetRootComponentType(S.componentTypes[0]),Y.closed||(Y.next(),Y.unsubscribe())}}const Qr=new w.OlP("",{factory:()=>new tt.x}),Go=new w.OlP("",{providedIn:"root",factory:()=>1});const wc=new w.OlP("");function Wu(x){return Zs(0,[{provide:wc,useExisting:ol},{provide:Gu,useExisting:x}])}const uc=new w.OlP("ROUTER_FORROOT_GUARD"),Tc=[bt.Ye,{provide:En,useClass:us},Ws,zi,{provide:Ji,useFactory:function so(x){return x.routerState.root},deps:[Ws]},zr,[]];function lc(){return new w.PXZ("Router",Ws)}let Zl=(()=>{class x{constructor(S){}static forRoot(S,V){return{ngModule:x,providers:[Tc,[],{provide:xi,multi:!0,useValue:S},{provide:uc,useFactory:Il,deps:[[Ws,new w.FiY,new w.tp0]]},{provide:Wa,useValue:V||{}},V?.useHash?{provide:bt.S$,useClass:bt.Do}:{provide:bt.S$,useClass:bt.b0},{provide:wa,useFactory:()=>{const x=(0,w.f3M)(bt.EM),R=(0,w.f3M)(w.R0b),S=(0,w.f3M)(Wa),V=(0,w.f3M)(js),Y=(0,w.f3M)(En);return S.scrollOffset&&x.setOffset(S.scrollOffset),new Ta(Y,V,x,R,S)}},V?.preloadingStrategy?Wu(V.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:lc},V?.initialNavigation?Ra(V):[],[{provide:pr,useFactory:sa},{provide:w.tb,multi:!0,useExisting:pr}]]}}static forChild(S){return{ngModule:x,providers:[{provide:xi,multi:!0,useValue:S}]}}}return x.\u0275fac=function(S){return new(S||x)(w.LFG(uc,8))},x.\u0275mod=w.oAB({type:x}),x.\u0275inj=w.cJS({imports:[ro]}),x})();function Il(x){return"guarded"}function Ra(x){return["disabled"===x.initialNavigation?Zs(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const R=(0,w.f3M)(Ws);return()=>{R.setUpLocationChangeListener()}}},{provide:Go,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?Zs(2,[{provide:Go,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:R=>{const S=R.get(bt.V_,Promise.resolve());return()=>S.then(()=>new Promise(Y=>{const ie=R.get(Ws),he=R.get(Qr);(function V(Y){R.get(Ws).events.pipe((0,Ct.h)(he=>he instanceof Ns||he instanceof dr||he instanceof ur),(0,ft.U)(he=>he instanceof Ns||he instanceof dr&&(0===he.code||1===he.code)&&null),(0,Ct.h)(he=>null!==he),(0,lt.q)(1)).subscribe(()=>{Y()})})(()=>{Y(!0)}),R.get(js).afterPreactivation=()=>(Y(!0),he.closed?(0,l.of)(void 0):he),ie.initialNavigation()}))}}]).\u0275providers:[]]}const pr=new w.OlP("")},3942:(je,be,F)=>{"use strict";F.d(be,{Z:()=>bt});var w=F(2090),M=F(4859),l=F(9681),pe=F(1877);class me{constructor(Ye,lt){this._delegate=Ye,this.firebase=lt,(0,l._addComponent)(Ye,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,l.deleteApp)(this._delegate)))}_getService(Ye,lt=l._DEFAULT_ENTRY_NAME){var ut;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(Ye);return!Ct.isInitialized()&&"EXPLICIT"===(null===(ut=Ct.getComponent())||void 0===ut?void 0:ut.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:lt})}_removeServiceInstance(Ye,lt=l._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(lt)}_addComponent(Ye){(0,l._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,l._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ge=function Ee(){const ft=function _e(ft){const Ye={},lt={__esModule:!0,initializeApp:function vt(Ze,pt={}){const Vt=l.initializeApp(Ze,pt);if((0,w.r3)(Ye,Vt.name))return Ye[Vt.name];const We=new ft(Vt,lt);return Ye[Vt.name]=We,We},app:Ct,registerVersion:l.registerVersion,setLogLevel:l.setLogLevel,onLog:l.onLog,apps:null,SDK_VERSION:l.SDK_VERSION,INTERNAL:{registerComponent:function Dt(Ze){const pt=Ze.name,Vt=pt.replace("-compat","");if(l._registerComponent(Ze)&&"PUBLIC"===Ze.type){const We=(Ge=Ct())=>{if("function"!=typeof Ge[Vt])throw Ie.create("invalid-app-argument",{appName:pt});return Ge[Vt]()};void 0!==Ze.serviceProps&&(0,w.ZB)(We,Ze.serviceProps),lt[Vt]=We,ft.prototype[Vt]=function(...Ge){return this._getService.bind(this,pt).apply(this,Ze.multipleInstances?Ge:[])}}return"PUBLIC"===Ze.type?lt[Vt]:null},removeApp:function ut(Ze){delete Ye[Ze]},useAsService:function $t(Ze,pt){return"serverAuth"===pt?null:pt},modularAPIs:l}};function Ct(Ze){if(!(0,w.r3)(Ye,Ze=Ze||l._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:Ze});return Ye[Ze]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function Nt(){return Object.keys(Ye).map(Ze=>Ye[Ze])}}),Ct.App=ft,lt}(me);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Ye(lt){(0,w.ZB)(ft,lt)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),ft}(),we=new pe.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){we.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&we.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bt=ge;!function tt(ft){(0,l.registerVersion)("@firebase/app-compat","0.2.1",ft)}()},9681:(je,be,F)=>{"use strict";F.r(be),F.d(be,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>fi,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>mn,_addOrOverwriteComponent:()=>Zn,_apps:()=>zn,_clearComponents:()=>ai,_components:()=>bn,_getProvider:()=>On,_registerComponent:()=>nr,_removeServiceInstance:()=>rs,deleteApp:()=>Qn,getApp:()=>fr,getApps:()=>pi,initializeApp:()=>Br,onLog:()=>dn,registerVersion:()=>qr,setLogLevel:()=>br});var w=F(5861),M=F(4859),l=F(1877),pe=F(2090),me=F(8766);class Me{constructor(jt){this.container=jt}getPlatformInfoString(){return this.container.getProviders().map(gn=>{if(function Ie(rn){return"VERSION"===rn.getComponent()?.type}(gn)){const Vn=gn.getImmediate();return`${Vn.library}/${Vn.version}`}return null}).filter(gn=>gn).join(" ")}}const _e="@firebase/app",ge=new l.Yd("@firebase/app"),Jn="[DEFAULT]",Dn={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zn=new Map,bn=new Map;function mn(rn,jt){try{rn.container.addComponent(jt)}catch(gn){ge.debug(`Component ${jt.name} failed to register with FirebaseApp ${rn.name}`,gn)}}function Zn(rn,jt){rn.container.addOrOverwriteComponent(jt)}function nr(rn){const jt=rn.name;if(bn.has(jt))return ge.debug(`There were multiple attempts to register component ${jt}.`),!1;bn.set(jt,rn);for(const gn of zn.values())mn(gn,rn);return!0}function On(rn,jt){const gn=rn.container.getProvider("heartbeat").getImmediate({optional:!0});return gn&&gn.triggerHeartbeat(),rn.container.getProvider(jt)}function rs(rn,jt,gn=Jn){On(rn,jt).clearInstance(gn)}function ai(){bn.clear()}const Or=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rr{constructor(jt,gn,Vn){this._isDeleted=!1,this._options=Object.assign({},jt),this._config=Object.assign({},gn),this._name=gn.name,this._automaticDataCollectionEnabled=gn.automaticDataCollectionEnabled,this._container=Vn,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(jt){this.checkDestroyed(),this._automaticDataCollectionEnabled=jt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(jt){this._isDeleted=jt}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const fi="9.16.0";function Br(rn,jt={}){let gn=rn;"object"!=typeof jt&&(jt={name:jt});const Vn=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},jt),Yt=Vn.name;if("string"!=typeof Yt||!Yt)throw Or.create("bad-app-name",{appName:String(Yt)});if(gn||(gn=(0,pe.aH)()),!gn)throw Or.create("no-options");const Cr=zn.get(Yt);if(Cr){if((0,pe.vZ)(gn,Cr.options)&&(0,pe.vZ)(Vn,Cr.config))return Cr;throw Or.create("duplicate-app",{appName:Yt})}const Ue=new M.H0(Yt);for(const qe of bn.values())Ue.addComponent(qe);const Se=new rr(gn,Vn,Ue);return zn.set(Yt,Se),Se}function fr(rn=Jn){const jt=zn.get(rn);if(!jt&&rn===Jn)return Br();if(!jt)throw Or.create("no-app",{appName:rn});return jt}function pi(){return Array.from(zn.values())}function Qn(rn){return jn.apply(this,arguments)}function jn(){return(jn=(0,w.Z)(function*(rn){const jt=rn.name;zn.has(jt)&&(zn.delete(jt),yield Promise.all(rn.container.getProviders().map(gn=>gn.delete())),rn.isDeleted=!0)})).apply(this,arguments)}function qr(rn,jt,gn){var Vn;let Yt=null!==(Vn=Dn[rn])&&void 0!==Vn?Vn:rn;gn&&(Yt+=`-${gn}`);const Cr=Yt.match(/\s|\//),Ue=jt.match(/\s|\//);if(Cr||Ue){const Se=[`Unable to register library "${Yt}" with version "${jt}":`];return Cr&&Se.push(`library name "${Yt}" contains illegal characters (whitespace or "/")`),Cr&&Ue&&Se.push("and"),Ue&&Se.push(`version name "${jt}" contains illegal characters (whitespace or "/")`),void ge.warn(Se.join(" "))}nr(new M.wA(`${Yt}-version`,()=>({library:Yt,version:jt}),"VERSION"))}function dn(rn,jt){if(null!==rn&&"function"!=typeof rn)throw Or.create("invalid-log-argument");(0,l.Am)(rn,jt)}function br(rn){(0,l.Ub)(rn)}const Xr="firebase-heartbeat-store";let jr=null;function At(){return jr||(jr=(0,me.X3)("firebase-heartbeat-database",1,{upgrade:(rn,jt)=>{0===jt&&rn.createObjectStore(Xr)}}).catch(rn=>{throw Or.create("idb-open",{originalErrorMessage:rn.message})})),jr}function un(){return(un=(0,w.Z)(function*(rn){try{return(yield At()).transaction(Xr).objectStore(Xr).get(Ur(rn))}catch(jt){if(jt instanceof pe.ZR)ge.warn(jt.message);else{const gn=Or.create("idb-get",{originalErrorMessage:jt?.message});ge.warn(gn.message)}}})).apply(this,arguments)}function Mn(rn,jt){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,w.Z)(function*(rn,jt){try{const Vn=(yield At()).transaction(Xr,"readwrite");return yield Vn.objectStore(Xr).put(jt,Ur(rn)),Vn.done}catch(gn){if(gn instanceof pe.ZR)ge.warn(gn.message);else{const Vn=Or.create("idb-set",{originalErrorMessage:gn?.message});ge.warn(Vn.message)}}})).apply(this,arguments)}function Ur(rn){return`${rn.name}!${rn.options.appId}`}class us{constructor(jt){this.container=jt,this._heartbeatsCache=null;const gn=this.container.getProvider("app").getImmediate();this._storage=new or(gn),this._heartbeatsCachePromise=this._storage.read().then(Vn=>(this._heartbeatsCache=Vn,Vn))}triggerHeartbeat(){var jt=this;return(0,w.Z)(function*(){const Vn=jt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yt=lr();if(null===jt._heartbeatsCache&&(jt._heartbeatsCache=yield jt._heartbeatsCachePromise),jt._heartbeatsCache.lastSentHeartbeatDate!==Yt&&!jt._heartbeatsCache.heartbeats.some(Cr=>Cr.date===Yt))return jt._heartbeatsCache.heartbeats.push({date:Yt,agent:Vn}),jt._heartbeatsCache.heartbeats=jt._heartbeatsCache.heartbeats.filter(Cr=>{const Ue=new Date(Cr.date).valueOf();return Date.now()-Ue<=2592e6}),jt._storage.overwrite(jt._heartbeatsCache)})()}getHeartbeatsHeader(){var jt=this;return(0,w.Z)(function*(){if(null===jt._heartbeatsCache&&(yield jt._heartbeatsCachePromise),null===jt._heartbeatsCache||0===jt._heartbeatsCache.heartbeats.length)return"";const gn=lr(),{heartbeatsToSend:Vn,unsentEntries:Yt}=function vs(rn,jt=1024){const gn=[];let Vn=rn.slice();for(const Yt of rn){const Cr=gn.find(Ue=>Ue.agent===Yt.agent);if(Cr){if(Cr.dates.push(Yt.date),ls(gn)>jt){Cr.dates.pop();break}}else if(gn.push({agent:Yt.agent,dates:[Yt.date]}),ls(gn)>jt){gn.pop();break}Vn=Vn.slice(1)}return{heartbeatsToSend:gn,unsentEntries:Vn}}(jt._heartbeatsCache.heartbeats),Cr=(0,pe.L)(JSON.stringify({version:2,heartbeats:Vn}));return jt._heartbeatsCache.lastSentHeartbeatDate=gn,Yt.length>0?(jt._heartbeatsCache.heartbeats=Yt,yield jt._storage.overwrite(jt._heartbeatsCache)):(jt._heartbeatsCache.heartbeats=[],jt._storage.overwrite(jt._heartbeatsCache)),Cr})()}}function lr(){return(new Date).toISOString().substring(0,10)}class or{constructor(jt){this.app=jt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var jt=this;return(0,w.Z)(function*(){return(yield jt._canUseIndexedDBPromise)&&(yield function xn(rn){return un.apply(this,arguments)}(jt.app))||{heartbeats:[]}})()}overwrite(jt){var gn=this;return(0,w.Z)(function*(){var Vn;if(yield gn._canUseIndexedDBPromise){const Cr=yield gn.read();return Mn(gn.app,{lastSentHeartbeatDate:null!==(Vn=jt.lastSentHeartbeatDate)&&void 0!==Vn?Vn:Cr.lastSentHeartbeatDate,heartbeats:jt.heartbeats})}})()}add(jt){var gn=this;return(0,w.Z)(function*(){var Vn;if(yield gn._canUseIndexedDBPromise){const Cr=yield gn.read();return Mn(gn.app,{lastSentHeartbeatDate:null!==(Vn=jt.lastSentHeartbeatDate)&&void 0!==Vn?Vn:Cr.lastSentHeartbeatDate,heartbeats:[...Cr.heartbeats,...jt.heartbeats]})}})()}}function ls(rn){return(0,pe.L)(JSON.stringify({version:2,heartbeats:rn})).length}!function gi(rn){nr(new M.wA("platform-logger",jt=>new Me(jt),"PRIVATE")),nr(new M.wA("heartbeat",jt=>new us(jt),"PRIVATE")),qr(_e,"0.9.1",rn),qr(_e,"0.9.1","esm2017"),qr("fire-js","")}("")},4859:(je,be,F)=>{"use strict";F.d(be,{H0:()=>_e,wA:()=>l});var w=F(5861),M=F(2090);class l{constructor(ge,we,Ne){this.name=ge,this.instanceFactory=we,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ge){return this.instantiationMode=ge,this}setMultipleInstances(ge){return this.multipleInstances=ge,this}setServiceProps(ge){return this.serviceProps=ge,this}setInstanceCreatedCallback(ge){return this.onInstanceCreated=ge,this}}const pe="[DEFAULT]";class me{constructor(ge,we){this.name=ge,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ge){const we=this.normalizeInstanceIdentifier(ge);if(!this.instancesDeferred.has(we)){const Ne=new M.BH;if(this.instancesDeferred.set(we,Ne),this.isInitialized(we)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:we});dt&&Ne.resolve(dt)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(ge){var we;const Ne=this.normalizeInstanceIdentifier(ge?.identifier),dt=null!==(we=ge?.optional)&&void 0!==we&&we;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(tt){if(dt)return null;throw tt}}getComponent(){return this.component}setComponent(ge){if(ge.name!==this.name)throw Error(`Mismatching Component ${ge.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ge,this.shouldAutoInitialize()){if(function Ie(Ee){return"EAGER"===Ee.instantiationMode}(ge))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[we,Ne]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(we);try{const tt=this.getOrInitializeService({instanceIdentifier:dt});Ne.resolve(tt)}catch{}}}}clearInstance(ge=pe){this.instancesDeferred.delete(ge),this.instancesOptions.delete(ge),this.instances.delete(ge)}delete(){var ge=this;return(0,w.Z)(function*(){const we=Array.from(ge.instances.values());yield Promise.all([...we.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...we.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ge=pe){return this.instances.has(ge)}getOptions(ge=pe){return this.instancesOptions.get(ge)||{}}initialize(ge={}){const{options:we={}}=ge,Ne=this.normalizeInstanceIdentifier(ge.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:Ne,options:we});for(const[tt,bt]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(tt)&&bt.resolve(dt);return dt}onInit(ge,we){var Ne;const dt=this.normalizeInstanceIdentifier(we),tt=null!==(Ne=this.onInitCallbacks.get(dt))&&void 0!==Ne?Ne:new Set;tt.add(ge),this.onInitCallbacks.set(dt,tt);const bt=this.instances.get(dt);return bt&&ge(bt,dt),()=>{tt.delete(ge)}}invokeOnInitCallbacks(ge,we){const Ne=this.onInitCallbacks.get(we);if(Ne)for(const dt of Ne)try{dt(ge,we)}catch{}}getOrInitializeService({instanceIdentifier:ge,options:we={}}){let Ne=this.instances.get(ge);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=ge,Ee===pe?void 0:Ee),options:we}),this.instances.set(ge,Ne),this.instancesOptions.set(ge,we),this.invokeOnInitCallbacks(Ne,ge),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ge,Ne)}catch{}var Ee;return Ne||null}normalizeInstanceIdentifier(ge=pe){return this.component?this.component.multipleInstances?ge:pe:ge}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(ge){this.name=ge,this.providers=new Map}addComponent(ge){const we=this.getProvider(ge.name);if(we.isComponentSet())throw new Error(`Component ${ge.name} has already been registered with ${this.name}`);we.setComponent(ge)}addOrOverwriteComponent(ge){this.getProvider(ge.name).isComponentSet()&&this.providers.delete(ge.name),this.addComponent(ge)}getProvider(ge){if(this.providers.has(ge))return this.providers.get(ge);const we=new me(ge,this);return this.providers.set(ge,we),we}getProviders(){return Array.from(this.providers.values())}}},1877:(je,be,F)=>{"use strict";F.d(be,{Am:()=>Ee,Ub:()=>_e,Yd:()=>Ie,in:()=>M});const w=[];var M=(()=>{return(ge=M||(M={}))[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",M;var ge})();const l={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},pe=M.INFO,me={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},Me=(ge,we,...Ne)=>{if(we<ge.logLevel)return;const dt=(new Date).toISOString(),tt=me[we];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[tt](`[${dt}]  ${ge.name}:`,...Ne)};class Ie{constructor(we){this.name=we,this._logLevel=pe,this._logHandler=Me,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in M))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?l[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...we),this._logHandler(this,M.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...we),this._logHandler(this,M.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,M.INFO,...we),this._logHandler(this,M.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,M.WARN,...we),this._logHandler(this,M.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...we),this._logHandler(this,M.ERROR,...we)}}function _e(ge){w.forEach(we=>{we.setLogLevel(ge)})}function Ee(ge,we){for(const Ne of w){let dt=null;we&&we.level&&(dt=l[we.level]),Ne.userLogHandler=null===ge?null:(tt,bt,...ft)=>{const Ye=ft.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");bt>=(dt??tt.logLevel)&&ge({level:M[bt].toLowerCase(),message:Ye,args:ft,type:tt.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rM:()=>provideStoreDevtools});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(be,F){if(this.action=be,this.timestamp=F,this.type=PERFORM_ACTION,typeof be.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(be){this.timestamp=be,this.type=RESET}}class Rollback{constructor(be){this.timestamp=be,this.type=ROLLBACK}}class Commit{constructor(be){this.timestamp=be,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(be){this.id=be,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(be,F,w=!0){this.start=be,this.end=F,this.active=w,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(be){this.index=be,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(be){this.actionId=be,this.type=JUMP_TO_ACTION}}class ImportState{constructor(be){this.nextLiftedState=be,this.type=IMPORT_STATE}}class LockChanges{constructor(be){this.status=be,this.type=LOCK_CHANGES}}class PauseRecording{constructor(be){this.status=be,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(je){const be={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},F="function"==typeof je?je():je,l=Object.assign({},be,{features:F.features||!!F.logOnly&&{pause:!0,export:!0,test:!0}||be.features},F);if(l.maxAge&&l.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${l.maxAge}`);return l}function difference(je,be){return je.filter(F=>be.indexOf(F)<0)}function unliftState(je){const{computedStates:be,currentStateIndex:F}=je;if(F>=be.length){const{state:M}=be[be.length-1];return M}const{state:w}=be[F];return w}function unliftAction(je){return je.actionsById[je.nextActionId-1]}function liftAction(je){return new PerformAction(je,+Date.now())}function sanitizeActions(je,be){return Object.keys(be).reduce((F,w)=>{const M=Number(w);return F[M]=sanitizeAction(je,be[M],M),F},{})}function sanitizeAction(je,be,F){return{...be,action:je(be.action,F)}}function sanitizeStates(je,be){return be.map((F,w)=>({state:sanitizeState(je,F.state,w),error:F.error}))}function sanitizeState(je,be,F){return je(be,F)}function shouldFilterActions(je){return je.predicate||je.actionsSafelist||je.actionsBlocklist}function filterLiftedState(je,be,F,w){const M=[],l={},pe=[];return je.stagedActionIds.forEach((me,Me)=>{const Ie=je.actionsById[me];Ie&&(Me&&isActionFiltered(je.computedStates[Me],Ie,be,F,w)||(l[me]=Ie,M.push(me),pe.push(je.computedStates[Me])))}),{...je,stagedActionIds:M,actionsById:l,computedStates:pe}}function isActionFiltered(je,be,F,w,M){const l=F&&!F(je,be.action),pe=w&&!be.action.type.match(w.map(Me=>escapeRegExp(Me)).join("|")),me=M&&be.action.type.match(M.map(Me=>escapeRegExp(Me)).join("|"));return l||pe||me}function escapeRegExp(je){return je.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class je extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return je.\u0275fac=function(){let be;return function(w){return(be||(be=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(je)))(w||je)}}(),je.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:je,factory:je.\u0275fac}),je})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(je,be,F){this.config=be,this.dispatcher=F,this.devtoolsExtension=je,this.createActionStreams()}notify(je,be){if(this.devtoolsExtension)if(je.type===PERFORM_ACTION){if(be.isLocked||be.isPaused)return;const F=unliftState(be);if(shouldFilterActions(this.config)&&isActionFiltered(F,je,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const w=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,F,be.currentStateIndex):F,M=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,je,be.nextActionId):je;this.sendToReduxDevtools(()=>this.extensionConnection.send(M,w))}else{const F={...be,stagedActionIds:be.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,be.actionsById):be.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,be.computedStates):be.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,F,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(je=>{const be=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=be,be.init(),be.subscribe(F=>je.next(F)),be.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const je=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),be=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.START)),F=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.STOP)),w=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(me=>this.unwrapAction(me.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(me=>me.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Me=>Me.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>me),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(me)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(me))),l=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(me=>me.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(me=>this.unwrapAction(me.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F)),pe=w.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F));this.start$=be.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(F)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>l)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>pe))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(je){const be={name:je.name,features:je.features,serialize:je.serialize,autoPause:je.autoPause??!1,trace:je.trace??!1,traceLimit:je.traceLimit??75};return!1!==je.maxAge&&(be.maxAge=je.maxAge),be}sendToReduxDevtools(je){try{je()}catch(be){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",be)}}}return DevtoolsExtension.\u0275fac=function je(be){return new(be||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(je,be,F,w,M){if(w)return{state:F,error:"Interrupted by an error up the chain"};let pe,l=F;try{l=je(F,be)}catch(me){pe=me.toString(),M.handleError(me)}return{state:l,error:pe}}function recomputeStates(je,be,F,w,M,l,pe,me,Me){if(be>=je.length&&je.length===l.length)return je;const Ie=je.slice(0,be),_e=l.length-(Me?1:0);for(let Ee=be;Ee<_e;Ee++){const ge=l[Ee],we=M[ge].action,Ne=Ie[Ee-1],dt=Ne?Ne.state:w,tt=Ne?Ne.error:void 0,ft=pe.indexOf(ge)>-1?Ne:computeNextEntry(F,we,dt,tt,me);Ie.push(ft)}return Me&&Ie.push(je[je.length-1]),Ie}function liftInitialState(je,be){return{monitorState:be(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:je,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(je,be,F,w,M={}){return l=>(pe,me)=>{let{monitorState:Me,actionsById:Ie,nextActionId:_e,stagedActionIds:Ee,skippedActionIds:ge,committedState:we,currentStateIndex:Ne,computedStates:dt,isLocked:tt,isPaused:bt}=pe||be;function ft(ut){let Ct=ut,vt=Ee.slice(1,Ct+1);for(let Nt=0;Nt<vt.length;Nt++){if(dt[Nt+1].error){Ct=Nt,vt=Ee.slice(1,Ct+1);break}delete Ie[vt[Nt]]}ge=ge.filter(Nt=>-1===vt.indexOf(Nt)),Ee=[0,...Ee.slice(Ct+1)],we=dt[Ct].state,dt=dt.slice(Ct),Ne=Ne>Ct?Ne-Ct:0}function Ye(){Ie={0:liftAction(INIT_ACTION)},_e=1,Ee=[0],ge=[],we=dt[Ne].state,Ne=0,dt=[]}pe||(Ie=Object.create(Ie));let lt=0;switch(me.type){case LOCK_CHANGES:tt=me.status,lt=1/0;break;case PAUSE_RECORDING:bt=me.status,bt?(Ee=[...Ee,_e],Ie[_e]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),_e++,lt=Ee.length-1,dt=dt.concat(dt[dt.length-1]),Ne===Ee.length-2&&Ne++,lt=1/0):Ye();break;case RESET:Ie={0:liftAction(INIT_ACTION)},_e=1,Ee=[0],ge=[],we=je,Ne=0,dt=[];break;case COMMIT:Ye();break;case ROLLBACK:Ie={0:liftAction(INIT_ACTION)},_e=1,Ee=[0],ge=[],Ne=0,dt=[];break;case TOGGLE_ACTION:{const{id:ut}=me;ge=-1===ge.indexOf(ut)?[ut,...ge]:ge.filter(vt=>vt!==ut),lt=Ee.indexOf(ut);break}case SET_ACTIONS_ACTIVE:{const{start:ut,end:Ct,active:vt}=me,Nt=[];for(let Dt=ut;Dt<Ct;Dt++)Nt.push(Dt);ge=vt?difference(ge,Nt):[...ge,...Nt],lt=Ee.indexOf(ut);break}case JUMP_TO_STATE:Ne=me.index,lt=1/0;break;case JUMP_TO_ACTION:{const ut=Ee.indexOf(me.actionId);-1!==ut&&(Ne=ut),lt=1/0;break}case SWEEP:Ee=difference(Ee,ge),ge=[],Ne=Math.min(Ne,Ee.length-1);break;case PERFORM_ACTION:{if(tt)return pe||be;if(bt||pe&&isActionFiltered(pe.computedStates[Ne],me,M.predicate,M.actionsSafelist,M.actionsBlocklist)){const Ct=dt[dt.length-1];dt=[...dt.slice(0,-1),computeNextEntry(l,me.action,Ct.state,Ct.error,F)],lt=1/0;break}M.maxAge&&Ee.length===M.maxAge&&ft(1),Ne===Ee.length-1&&Ne++;const ut=_e++;Ie[ut]=me,Ee=[...Ee,ut],lt=Ee.length-1;break}case IMPORT_STATE:({monitorState:Me,actionsById:Ie,nextActionId:_e,stagedActionIds:Ee,skippedActionIds:ge,committedState:we,currentStateIndex:Ne,computedStates:dt,isLocked:tt,isPaused:bt}=me.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:lt=0,M.maxAge&&Ee.length>M.maxAge&&(dt=recomputeStates(dt,lt,l,we,Ie,Ee,ge,F,bt),ft(Ee.length-M.maxAge),lt=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(dt.filter(Ct=>Ct.error).length>0)lt=0,M.maxAge&&Ee.length>M.maxAge&&(dt=recomputeStates(dt,lt,l,we,Ie,Ee,ge,F,bt),ft(Ee.length-M.maxAge),lt=1/0);else{if(!bt&&!tt){Ne===Ee.length-1&&Ne++;const Ct=_e++;Ie[Ct]=new PerformAction(me,+Date.now()),Ee=[...Ee,Ct],lt=Ee.length-1,dt=recomputeStates(dt,lt,l,we,Ie,Ee,ge,F,bt)}dt=dt.map(Ct=>({...Ct,state:l(Ct.state,RECOMPUTE_ACTION)})),Ne=Ee.length-1,M.maxAge&&Ee.length>M.maxAge&&ft(Ee.length-M.maxAge),lt=1/0}break;default:lt=1/0}return dt=recomputeStates(dt,lt,l,we,Ie,Ee,ge,F,bt),Me=w(Me,me),{monitorState:Me,actionsById:Ie,nextActionId:_e,stagedActionIds:Ee,skippedActionIds:ge,committedState:we,currentStateIndex:Ne,computedStates:dt,isLocked:tt,isPaused:bt}}}let StoreDevtools=(()=>{class je{constructor(F,w,M,l,pe,me,Me,Ie){const _e=liftInitialState(Me,Ie.monitor),Ee=liftReducerWith(Me,_e,me,Ie.monitor,Ie),ge=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(w.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),l.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),F,l.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),we=M.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Ee)),Ne=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),dt=ge.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(we),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ye},[lt,ut])=>{let Ct=ut(Ye,lt);return lt.type!==PERFORM_ACTION&&shouldFilterActions(Ie)&&(Ct=filterLiftedState(Ct,Ie.predicate,Ie.actionsSafelist,Ie.actionsBlocklist)),l.notify(lt,Ct),{state:Ct,action:lt}},{state:_e,action:null})).subscribe(({state:Ye,action:lt})=>{Ne.next(Ye),lt.type===PERFORM_ACTION&&pe.next(lt.action)}),tt=l.start$.subscribe(()=>{this.refresh()}),bt=Ne.asObservable(),ft=bt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=tt,this.stateSubscription=dt,this.dispatcher=F,this.liftedState=bt,this.state=ft}dispatch(F){this.dispatcher.next(F)}next(F){this.dispatcher.next(F)}error(F){}complete(){}performAction(F){this.dispatch(new PerformAction(F,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(F){this.dispatch(new ToggleAction(F))}jumpToAction(F){this.dispatch(new JumpToAction(F))}jumpToState(F){this.dispatch(new JumpToState(F))}importState(F){this.dispatch(new ImportState(F))}lockChanges(F){this.dispatch(new LockChanges(F))}pauseRecording(F){this.dispatch(new PauseRecording(F))}}return je.\u0275fac=function(F){return new(F||je)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},je.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:je,factory:je.\u0275fac}),je})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(je,be){return Boolean(je)||be.monitor!==noMonitor}function createReduxDevtoolsExtension(){const je="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[je]<"u"?window[je]:null}function provideStoreDevtools(je={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:je},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(je){return je.state}let StoreDevtoolsModule=(()=>{class je{static instrument(F={}){return{ngModule:je,providers:[provideStoreDevtools(F)]}}}return je.\u0275fac=function(F){return new(F||je)},je.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:je}),je.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),je})()},9653:(je,be,F)=>{"use strict";F.d(be,{UO:()=>$t,Py:()=>rr,qg:()=>Dt,Y6:()=>We,qY:()=>Or,mK:()=>qr,n$:()=>jn,Y$:()=>Ti,FR:()=>jr,yh:()=>Mn,wb:()=>dn,PH:()=>tt,ZF:()=>$e,Lq:()=>wt,P1:()=>Et,on:()=>Pi,Ky:()=>bt,mW:()=>_a,Ys:()=>Ur});var w=F(4650),M=F(1135),l=F(9751),pe=F(7579),me=F(233),Me=F(5363),Ie=F(1365),_e=F(5026),Ee=F(4004),we=F(1884);const Ne={};function tt(ke,yt){if(Ne[ke]=(Ne[ke]||0)+1,"function"==typeof yt)return Ye(ke,(...Bt)=>({...yt(...Bt),type:ke}));switch(yt?yt._as:"empty"){case"empty":return Ye(ke,()=>({type:ke}));case"props":return Ye(ke,Bt=>({...Bt,type:ke}));default:throw new Error("Unexpected config.")}}function bt(){return{_as:"props",_p:void 0}}function Ye(ke,yt){return Object.defineProperty(yt,"type",{value:ke,writable:!1})}const Dt="@ngrx/store/init";let $t=(()=>{class ke extends M.X{constructor(){super({type:Dt})}next(st){if("function"==typeof st)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof st>"u")throw new TypeError("Actions must be objects");if(typeof st.type>"u")throw new TypeError("Actions must have a type property");super.next(st)}complete(){}ngOnDestroy(){super.complete()}}return ke.\u0275fac=function(st){return new(st||ke)},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Ze=[$t],pt=new w.OlP("@ngrx/store Internal Root Guard"),Vt=new w.OlP("@ngrx/store Internal Initial State"),We=new w.OlP("@ngrx/store Initial State"),Ge=new w.OlP("@ngrx/store Reducer Factory"),Tt=new w.OlP("@ngrx/store Internal Reducer Factory Provider"),ct=new w.OlP("@ngrx/store Initial Reducers"),Xt=new w.OlP("@ngrx/store Internal Initial Reducers"),pn=(new w.OlP("@ngrx/store Store Features"),new w.OlP("@ngrx/store Internal Store Reducers")),mn=(new w.OlP("@ngrx/store Internal Feature Reducers"),new w.OlP("@ngrx/store Internal Feature Configs"),new w.OlP("@ngrx/store Internal Store Features"),new w.OlP("@ngrx/store Internal Feature Reducers Token"),new w.OlP("@ngrx/store Feature Reducers"),new w.OlP("@ngrx/store User Provided Meta Reducers")),Zn=new w.OlP("@ngrx/store Meta Reducers"),nr=new w.OlP("@ngrx/store Internal Resolved Meta Reducers"),On=new w.OlP("@ngrx/store User Runtime Checks Config"),rs=new w.OlP("@ngrx/store Internal User Runtime Checks Config"),ai=new w.OlP("@ngrx/store Internal Runtime Checks"),Pr=new w.OlP("@ngrx/store Check if Action types are unique"),Or=new w.OlP("@ngrx/store Root Store Provider"),rr=new w.OlP("@ngrx/store Feature State Provider");function fi(ke,yt={}){const st=Object.keys(ke),Bt={};for(let Te=0;Te<st.length;Te++){const Xe=st[Te];"function"==typeof ke[Xe]&&(Bt[Xe]=ke[Xe])}const De=Object.keys(Bt);return function(Xe,Pt){Xe=void 0===Xe?yt:Xe;let en=!1;const Sn={};for(let Tn=0;Tn<De.length;Tn++){const _r=De[Tn],ki=Xe[_r],ds=(0,Bt[_r])(ki,Pt);Sn[_r]=ds,en=en||ds!==ki}return en?Sn:Xe}}function fr(...ke){return function(yt){if(0===ke.length)return yt;const st=ke[ke.length-1];return ke.slice(0,-1).reduceRight((De,Te)=>Te(De),st(yt))}}function pi(ke,yt){return Array.isArray(yt)&&yt.length>0&&(ke=fr.apply(null,[...yt,ke])),(st,Bt)=>{const De=ke(st);return(Te,Xe)=>De(Te=void 0===Te?Bt:Te,Xe)}}class jn extends l.y{}class qr extends $t{}const dn="@ngrx/store/update-reducers";let br=(()=>{class ke extends M.X{constructor(st,Bt,De,Te){super(Te(De,Bt)),this.dispatcher=st,this.initialState=Bt,this.reducers=De,this.reducerFactory=Te}get currentReducers(){return this.reducers}addFeature(st){this.addFeatures([st])}addFeatures(st){const Bt=st.reduce((De,{reducers:Te,reducerFactory:Xe,metaReducers:Pt,initialState:en,key:Sn})=>{const Tn="function"==typeof Te?function Qn(ke){const yt=Array.isArray(ke)&&ke.length>0?fr(...ke):st=>st;return(st,Bt)=>(st=yt(st),(De,Te)=>st(De=void 0===De?Bt:De,Te))}(Pt)(Te,en):pi(Xe,Pt)(Te,en);return De[Sn]=Tn,De},{});this.addReducers(Bt)}removeFeature(st){this.removeFeatures([st])}removeFeatures(st){this.removeReducers(st.map(Bt=>Bt.key))}addReducer(st,Bt){this.addReducers({[st]:Bt})}addReducers(st){this.reducers={...this.reducers,...st},this.updateReducers(Object.keys(st))}removeReducer(st){this.removeReducers([st])}removeReducers(st){st.forEach(Bt=>{this.reducers=function Br(ke,yt){return Object.keys(ke).filter(st=>st!==yt).reduce((st,Bt)=>Object.assign(st,{[Bt]:ke[Bt]}),{})}(this.reducers,Bt)}),this.updateReducers(st)}updateReducers(st){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:dn,features:st})}ngOnDestroy(){this.complete()}}return ke.\u0275fac=function(st){return new(st||ke)(w.LFG(qr),w.LFG(We),w.LFG(ct),w.LFG(Ge))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Ri=[br,{provide:jn,useExisting:br},{provide:qr,useExisting:$t}];let Ti=(()=>{class ke extends pe.x{ngOnDestroy(){this.complete()}}return ke.\u0275fac=function(){let yt;return function(Bt){return(yt||(yt=w.n5z(ke)))(Bt||ke)}}(),ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Xr=[Ti];class jr extends l.y{}let At=(()=>{class ke extends M.X{constructor(st,Bt,De,Te){super(Te);const Sn=st.pipe((0,Me.Q)(me.N)).pipe((0,Ie.M)(Bt)).pipe((0,_e.R)(xn,{state:Te}));this.stateSubscription=Sn.subscribe(({state:Tn,action:_r})=>{this.next(Tn),De.next(_r)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ke.INIT=Dt,ke.\u0275fac=function(st){return new(st||ke)(w.LFG($t),w.LFG(jn),w.LFG(Ti),w.LFG(We))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();function xn(ke={state:void 0},[yt,st]){const{state:Bt}=ke;return{state:st(Bt,yt),action:yt}}const un=[At,{provide:jr,useExisting:At}];let Mn=(()=>{class ke extends l.y{constructor(st,Bt,De){super(),this.actionsObserver=Bt,this.reducerManager=De,this.source=st}select(st,...Bt){return Ur.call(null,st,...Bt)(this)}lift(st){const Bt=new ke(this,this.actionsObserver,this.reducerManager);return Bt.operator=st,Bt}dispatch(st){this.actionsObserver.next(st)}next(st){this.actionsObserver.next(st)}error(st){this.actionsObserver.error(st)}complete(){this.actionsObserver.complete()}addReducer(st,Bt){this.reducerManager.addReducer(st,Bt)}removeReducer(st){this.reducerManager.removeReducer(st)}}return ke.\u0275fac=function(st){return new(st||ke)(w.LFG(jr),w.LFG($t),w.LFG(br))},ke.\u0275prov=w.Yz7({token:ke,factory:ke.\u0275fac}),ke})();const Fn=[Mn];function Ur(ke,yt,...st){return function(De){let Te;if("string"==typeof ke){const Xe=[yt,...st].filter(Boolean);Te=De.pipe(function ge(...ke){const yt=ke.length;if(0===yt)throw new Error("list of properties cannot be empty.");return(0,Ee.U)(st=>{let Bt=st;for(let De=0;De<yt;De++){const Te=Bt?.[ke[De]];if(!(typeof Te<"u"))return;Bt=Te}return Bt})}(ke,...Xe))}else{if("function"!=typeof ke)throw new TypeError(`Unexpected type '${typeof ke}' in select operator, expected 'string' or 'function'`);Te=De.pipe((0,Ee.U)(Xe=>ke(Xe,yt)))}return Te.pipe((0,we.x)())}}const Zi="https://ngrx.io/guide/store/configuration/runtime-checks";function En(ke){return void 0===ke}function us(ke){return null===ke}function lr(ke){return Array.isArray(ke)}function gi(ke){return"object"==typeof ke&&null!==ke}function gn(ke){return"function"==typeof ke}function qe(ke,yt){return ke===yt}function Ce(ke,yt,st){for(let Bt=0;Bt<ke.length;Bt++)if(!st(ke[Bt],yt[Bt]))return!0;return!1}function Ae(ke,yt=qe,st=qe){let Te,Bt=null,De=null;return{memoized:function Sn(){if(void 0!==Te)return Te.result;if(!Bt)return De=ke.apply(null,arguments),Bt=arguments,De;if(!Ce(arguments,Bt,yt))return De;const Tn=ke.apply(null,arguments);return Bt=arguments,st(De,Tn)?De:(De=Tn,Tn)},reset:function Xe(){Bt=null,De=null},setResult:function Pt(Tn){Te={result:Tn}},clearResult:function en(){Te=void 0}}}function Et(...ke){return function vn(ke,yt={stateFn:qt}){return function(...st){let Bt=st;if(Array.isArray(Bt[0])){const[Tn,..._r]=Bt;Bt=[...Tn,..._r]}else 1===Bt.length&&function Le(ke){return!!ke&&"object"==typeof ke&&Object.values(ke).every(yt=>"function"==typeof yt)}(Bt[0])&&(Bt=function ve(ke){const yt=Object.values(ke),st=Object.keys(ke);return[...yt,(...De)=>st.reduce((Te,Xe,Pt)=>({...Te,[Xe]:De[Pt]}),{})]}(Bt[0]));const De=Bt.slice(0,Bt.length-1),Te=Bt[Bt.length-1],Xe=De.filter(Tn=>Tn.release&&"function"==typeof Tn.release),Pt=ke(function(...Tn){return Te.apply(null,Tn)}),en=Ae(function(Tn,_r){return yt.stateFn.apply(null,[Tn,De,_r,Pt])});return Object.assign(en.memoized,{release:function Sn(){en.reset(),Pt.reset(),Xe.forEach(Tn=>Tn.release())},projector:Pt.memoized,setResult:en.setResult,clearResult:en.clearResult})}}(Ae)(...ke)}function qt(ke,yt,st,Bt){if(void 0===st){const Te=yt.map(Xe=>Xe(ke));return Bt.memoized.apply(null,Te)}const De=yt.map(Te=>Te(ke,st));return Bt.memoized.apply(null,[...De,st])}function $e(ke){return Et(yt=>{const st=yt[ke];return(0,w.X6Q)()&&!(ke in yt)&&console.warn(`@ngrx/store: The feature name "${ke}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ke}', ...) or StoreModule.forFeature('${ke}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),st},yt=>yt)}function wn(ke){return ke instanceof w.OlP?(0,w.f3M)(ke):ke}function ys(ke){return"function"==typeof ke?ke():ke}function Rr(ke,yt){return ke.concat(yt)}function Ui(){if((0,w.f3M)(Mn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function wo(ke){Object.freeze(ke);const yt=gn(ke);return Object.getOwnPropertyNames(ke).forEach(st=>{if(!st.startsWith("\u0275")&&function Yt(ke,yt){return Object.prototype.hasOwnProperty.call(ke,yt)}(ke,st)&&(!yt||"caller"!==st&&"callee"!==st&&"arguments"!==st)){const Bt=ke[st];(gi(Bt)||gn(Bt))&&!Object.isFrozen(Bt)&&wo(Bt)}}),ke}function ii(ke,yt=[]){return(En(ke)||us(ke))&&0===yt.length?{path:["root"],value:ke}:Object.keys(ke).reduce((Bt,De)=>{if(Bt)return Bt;const Te=ke[De];return function Vn(ke){return gn(ke)&&ke.hasOwnProperty("\u0275cmp")}(Te)?Bt:!(En(Te)||us(Te)||function ls(ke){return"number"==typeof ke}(Te)||function or(ke){return"boolean"==typeof ke}(Te)||function vs(ke){return"string"==typeof ke}(Te)||lr(Te))&&(function jt(ke){if(!function rn(ke){return gi(ke)&&!lr(ke)}(ke))return!1;const yt=Object.getPrototypeOf(ke);return yt===Object.prototype||null===yt}(Te)?ii(Te,[...yt,De]):{path:[...yt,De],value:Te})},!1)}function qs(ke,yt){if(!1===ke)return;const st=ke.path.join("."),Bt=new Error(`Detected unserializable ${yt} at "${st}". ${Zi}#strict${yt}serializability`);throw Bt.value=ke.value,Bt.unserializablePath=st,Bt}function mi(ke){return(0,w.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ke}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ci({strictActionSerializability:ke,strictStateSerializability:yt}){return st=>ke||yt?function ws(ke,yt){return function(st,Bt){yt.action(Bt)&&qs(ii(Bt),"action");const De=ke(st,Bt);return yt.state()&&qs(ii(De),"state"),De}}(st,{action:Bt=>ke&&!Di(Bt),state:()=>yt}):st}function yi({strictActionImmutability:ke,strictStateImmutability:yt}){return st=>ke||yt?function Ms(ke,yt){return function(st,Bt){const De=yt.action(Bt)?wo(Bt):Bt,Te=ke(st,De);return yt.state()?wo(Te):Te}}(st,{action:Bt=>ke&&!Di(Bt),state:()=>yt}):st}function Di(ke){return ke.type.startsWith("@ngrx")}function ei({strictActionWithinNgZone:ke}){return yt=>ke?function Kr(ke,yt){return function(st,Bt){if(yt.action(Bt)&&!w.R0b.isInAngularZone())throw new Error(`Action '${Bt.type}' running outside NgZone. ${Zi}#strictactionwithinngzone`);return ke(st,Bt)}}(yt,{action:st=>ke&&!Di(st)}):yt}function An(ke){return[{provide:rs,useValue:ke},{provide:On,useFactory:Yi,deps:[rs]},{provide:ai,deps:[On],useFactory:mi},{provide:Zn,multi:!0,deps:[ai],useFactory:yi},{provide:Zn,multi:!0,deps:[ai],useFactory:Ci},{provide:Zn,multi:!0,deps:[ai],useFactory:ei}]}function Yi(ke){return ke}function gs(ke){if(!ke.strictActionTypeUniqueness)return;const yt=Object.entries(Ne).filter(([,st])=>st>1).map(([st])=>st);if(yt.length)throw new Error(`Action types are registered more than once, ${yt.map(st=>`"${st}"`).join(", ")}. ${Zi}#strictactiontypeuniqueness`)}function on(ke={},yt={}){return[{provide:pt,useFactory:Ui},{provide:Vt,useValue:yt.initialState},{provide:We,useFactory:ys,deps:[Vt]},{provide:Xt,useValue:ke},{provide:pn,useExisting:ke instanceof w.OlP?ke:Xt},{provide:ct,deps:[Xt,[new w.tBr(pn)]],useFactory:wn},{provide:mn,useValue:yt.metaReducers?yt.metaReducers:[]},{provide:nr,deps:[Zn,mn],useFactory:Rr},{provide:Tt,useValue:yt.reducerFactory?yt.reducerFactory:fi},{provide:Ge,deps:[Tt,nr],useFactory:pi},Ze,Ri,Xr,un,Fn,An(yt.runtimeChecks),[{provide:Pr,multi:!0,deps:[ai],useFactory:gs}]]}const dr=[{provide:Or,useFactory:function Ns(){(0,w.f3M)($t),(0,w.f3M)(jn),(0,w.f3M)(Ti),(0,w.f3M)(Mn),(0,w.f3M)(pt,{optional:!0}),(0,w.f3M)(Pr,{optional:!0})}},{provide:w.Xts,multi:!0,useFactory:()=>()=>(0,w.f3M)(Or)}];function _a(ke,yt){return(0,w.MR2)([...on(ke,yt),dr])}function Pi(...ke){return{reducer:ke.pop(),types:ke.map(Bt=>Bt.type)}}function wt(ke,...yt){const st=new Map;for(const Bt of yt)for(const De of Bt.types){const Te=st.get(De);st.set(De,Te?(Pt,en)=>Bt.reducer(Te(Pt,en),en):Bt.reducer)}return function(Bt=ke,De){const Te=st.get(De.type);return Te?Te(Bt,De):Bt}}},259:(je,be,F)=>{"use strict";F.d(be,{C6:()=>w.getApps,Mq:()=>w.getApp});var w=F(9681);(0,w.registerVersion)("firebase","9.16.0","app")},9260:(je,be,F)=>{"use strict";F.d(be,{Z:()=>w.Z});var w=F(3942);w.Z.registerVersion("firebase","9.16.0","app-compat")},9568:(je,be,F)=>{"use strict";F.r(be);var w=F(5861),M=F(3942),l=F(1808),pe=F(2090),Ie=(F(9681),F(1877),F(4859));function _e(){return window}function we(){return(we=(0,w.Z)(function*(Ce,ue,Ae){var Et;const{BuildInfo:qt}=_e();(0,l.ap)(ue.sessionId,"AuthEvent did not contain a session ID");const vn=yield lt(ue.sessionId),$e={};return(0,l.aq)()?$e.ibi=qt.packageName:(0,l.ar)()?$e.apn=qt.packageName:(0,l.as)(Ce,"operation-not-supported-in-this-environment"),qt.displayName&&($e.appDisplayName=qt.displayName),$e.sessionId=vn,(0,l.at)(Ce,Ae,ue.type,void 0,null!==(Et=ue.eventId)&&void 0!==Et?Et:void 0,$e)})).apply(this,arguments)}function dt(){return(dt=(0,w.Z)(function*(Ce){const{BuildInfo:ue}=_e(),Ae={};(0,l.aq)()?Ae.iosBundleId=ue.packageName:(0,l.ar)()?Ae.androidPackageName=ue.packageName:(0,l.as)(Ce,"operation-not-supported-in-this-environment"),yield(0,l.au)(Ce,Ae)})).apply(this,arguments)}function ft(){return(ft=(0,w.Z)(function*(Ce,ue,Ae){const{cordova:Et}=_e();let qt=()=>{};try{yield new Promise((vn,$e)=>{let Le=null;function ve(){var Zt;vn();const wn=null===(Zt=Et.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof wn&&wn(),"function"==typeof Ae?.close&&Ae.close()}function it(){Le||(Le=window.setTimeout(()=>{$e((0,l.aw)(Ce,"redirect-cancelled-by-user"))},2e3))}function Wt(){"visible"===document?.visibilityState&&it()}ue.addPassiveListener(ve),document.addEventListener("resume",it,!1),(0,l.ar)()&&document.addEventListener("visibilitychange",Wt,!1),qt=()=>{ue.removePassiveListener(ve),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",Wt,!1),Le&&window.clearTimeout(Le)}})}finally{qt()}})).apply(this,arguments)}function lt(Ce){return ut.apply(this,arguments)}function ut(){return(ut=(0,w.Z)(function*(Ce){const ue=Ct(Ce),Ae=yield crypto.subtle.digest("SHA-256",ue);return Array.from(new Uint8Array(Ae)).map(qt=>qt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ct(Ce){if((0,l.ap)(/[0-9a-zA-Z]+/.test(Ce),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ce);const ue=new ArrayBuffer(Ce.length),Ae=new Uint8Array(ue);for(let Et=0;Et<Ce.length;Et++)Ae[Et]=Ce.charCodeAt(Et);return Ae}class Nt extends l.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ue=>{this.resolveInialized=ue})}addPassiveListener(ue){this.passiveListeners.add(ue)}removePassiveListener(ue){this.passiveListeners.delete(ue)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ue){return this.resolveInialized(),this.passiveListeners.forEach(Ae=>Ae(ue)),super.onEvent(ue)}initialized(){var ue=this;return(0,w.Z)(function*(){yield ue.initPromise})()}}function Ze(Ce){return pt.apply(this,arguments)}function pt(){return(pt=(0,w.Z)(function*(Ce){const ue=yield Ge()._get(Tt(Ce));return ue&&(yield Ge()._remove(Tt(Ce))),ue})).apply(this,arguments)}function We(){const Ce=[],ue="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Ae=0;Ae<20;Ae++){const Et=Math.floor(Math.random()*ue.length);Ce.push(ue.charAt(Et))}return Ce.join("")}function Ge(){return(0,l.az)(l.b)}function Tt(Ce){return(0,l.aA)("authEvent",Ce.config.apiKey,Ce.name)}function Ft(Ce){if(!Ce?.includes("?"))return{};const[ue,...Ae]=Ce.split("?");return(0,pe.zd)(Ae.join("?"))}const Jn=class Gn{constructor(){this._redirectPersistence=l.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=l.aB,this._overrideRedirectResult=l.aC}_initialize(ue){var Ae=this;return(0,w.Z)(function*(){const Et=ue._key();let qt=Ae.eventManagers.get(Et);return qt||(qt=new Nt(ue),Ae.eventManagers.set(Et,qt),Ae.attachCallbackListeners(ue,qt)),qt})()}_openPopup(ue){(0,l.as)(ue,"operation-not-supported-in-this-environment")}_openRedirect(ue,Ae,Et,qt){var vn=this;return(0,w.Z)(function*(){!function Ye(Ce){var ue,Ae,Et,qt,vn,$e,Le,ve,it,Wt;const Zt=_e();(0,l.ax)("function"==typeof(null===(ue=Zt?.universalLinks)||void 0===ue?void 0:ue.subscribe),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,l.ax)(typeof(null===(Ae=Zt?.BuildInfo)||void 0===Ae?void 0:Ae.packageName)<"u",Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,l.ax)("function"==typeof(null===(vn=null===(qt=null===(Et=Zt?.cordova)||void 0===Et?void 0:Et.plugins)||void 0===qt?void 0:qt.browsertab)||void 0===vn?void 0:vn.openUrl),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.ax)("function"==typeof(null===(ve=null===(Le=null===($e=Zt?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ve?void 0:ve.isAvailable),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,l.ax)("function"==typeof(null===(Wt=null===(it=Zt?.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===Wt?void 0:Wt.open),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ue);const $e=yield vn._initialize(ue);yield $e.initialized(),$e.resetRedirect(),(0,l.aD)(),yield vn._originValidation(ue);const Le=function Dt(Ce,ue,Ae=null){return{type:ue,eventId:Ae,urlResponse:null,sessionId:We(),postBody:null,tenantId:Ce.tenantId,error:(0,l.aw)(Ce,"no-auth-event")}}(ue,Et,qt);yield function $t(Ce,ue){return Ge()._set(Tt(Ce),ue)}(ue,Le);const ve=yield function ge(Ce,ue,Ae){return we.apply(this,arguments)}(ue,Le,Ae),it=yield function tt(Ce){const{cordova:ue}=_e();return new Promise(Ae=>{ue.plugins.browsertab.isAvailable(Et=>{let qt=null;Et?ue.plugins.browsertab.openUrl(Ce):qt=ue.InAppBrowser.open(Ce,(0,l.av)()?"_blank":"_system","location=yes"),Ae(qt)})})}(ve);return function bt(Ce,ue,Ae){return ft.apply(this,arguments)}(ue,$e,it)})()}_isIframeWebStorageSupported(ue,Ae){throw new Error("Method not implemented.")}_originValidation(ue){const Ae=ue._key();return this.originValidationPromises[Ae]||(this.originValidationPromises[Ae]=function Ne(Ce){return dt.apply(this,arguments)}(ue)),this.originValidationPromises[Ae]}attachCallbackListeners(ue,Ae){const{universalLinks:Et,handleOpenURL:qt,BuildInfo:vn}=_e(),$e=setTimeout((0,w.Z)(function*(){yield Ze(ue),Ae.onEvent(Dn())}),500),Le=function(){var Wt=(0,w.Z)(function*(Zt){clearTimeout($e);const wn=yield Ze(ue);let ni=null;wn&&Zt?.url&&(ni=function Vt(Ce,ue){var Ae,Et;const qt=function Xt(Ce){const ue=Ft(Ce),Ae=ue.link?decodeURIComponent(ue.link):void 0,Et=Ft(Ae).link,qt=ue.deep_link_id?decodeURIComponent(ue.deep_link_id):void 0;return Ft(qt).link||qt||Et||Ae||Ce}(ue);if(qt.includes("/__/auth/callback")){const vn=Ft(qt),$e=vn.firebaseError?function ct(Ce){try{return JSON.parse(Ce)}catch{return null}}(decodeURIComponent(vn.firebaseError)):null,Le=null===(Et=null===(Ae=$e?.code)||void 0===Ae?void 0:Ae.split("auth/"))||void 0===Et?void 0:Et[1],ve=Le?(0,l.aw)(Le):null;return ve?{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,error:ve,urlResponse:null,sessionId:null,postBody:null}:{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,sessionId:Ce.sessionId,urlResponse:qt,postBody:null}}return null}(wn,Zt.url)),Ae.onEvent(ni||Dn())});return function(wn){return Wt.apply(this,arguments)}}();typeof Et<"u"&&"function"==typeof Et.subscribe&&Et.subscribe(null,Le);const ve=qt,it=`${vn.packageName.toLowerCase()}://`;_e().handleOpenURL=function(){var Wt=(0,w.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(it)&&Le({url:Zt}),"function"==typeof ve)try{ve(Zt)}catch(wn){console.error(wn)}});return function(Zt){return Wt.apply(this,arguments)}}()}};function Dn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,l.aw)("no-auth-event")}}function nr(){var Ce;return(null===(Ce=self?.location)||void 0===Ce?void 0:Ce.protocol)||null}function rs(Ce=(0,pe.z$)()){return!("file:"!==nr()&&"ionic:"!==nr()&&"capacitor:"!==nr()||!Ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function fi(){try{const Ce=self.localStorage,ue=l.aI();if(Ce)return Ce.setItem(ue,"1"),Ce.removeItem(ue),!function rr(Ce=(0,pe.z$)()){return function Pr(){return(0,pe.w1)()&&11===document?.documentMode}()||function Or(Ce=(0,pe.z$)()){return/Edge\/\d+/.test(Ce)}(Ce)}()||(0,pe.hl)()}catch{return Br()&&(0,pe.hl)()}return!1}function Br(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function fr(){return(function On(){return"http:"===nr()||"https:"===nr()}()||(0,pe.ru)()||rs())&&!function ai(){return(0,pe.b$)()||(0,pe.UG)()}()&&fi()&&!Br()}function pi(){return rs()&&typeof document<"u"}function jn(){return(jn=(0,w.Z)(function*(){return!!pi()&&new Promise(Ce=>{const ue=setTimeout(()=>{Ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ue),Ce(!0)})})})).apply(this,arguments)}const dn={LOCAL:"local",NONE:"none",SESSION:"session"},br=l.ax,Ri="persistence";function Xr(Ce){return jr.apply(this,arguments)}function jr(){return(jr=(0,w.Z)(function*(Ce){yield Ce._initializationPromise;const ue=xn(),Ae=l.aA(Ri,Ce.config.apiKey,Ce.name);ue&&ue.setItem(Ae,Ce._getPersistence())})).apply(this,arguments)}function xn(){var Ce;try{return(null===(Ce=function qr(){return typeof window<"u"?window:null}())||void 0===Ce?void 0:Ce.sessionStorage)||null}catch{return null}}const un=l.ax;class Mn{constructor(){this.browserResolver=l.az(l.k),this.cordovaResolver=l.az(Jn),this.underlyingResolver=null,this._redirectPersistence=l.a,this._completeRedirectFn=l.aB,this._overrideRedirectResult=l.aC}_initialize(ue){var Ae=this;return(0,w.Z)(function*(){return yield Ae.selectUnderlyingResolver(),Ae.assertedUnderlyingResolver._initialize(ue)})()}_openPopup(ue,Ae,Et,qt){var vn=this;return(0,w.Z)(function*(){return yield vn.selectUnderlyingResolver(),vn.assertedUnderlyingResolver._openPopup(ue,Ae,Et,qt)})()}_openRedirect(ue,Ae,Et,qt){var vn=this;return(0,w.Z)(function*(){return yield vn.selectUnderlyingResolver(),vn.assertedUnderlyingResolver._openRedirect(ue,Ae,Et,qt)})()}_isIframeWebStorageSupported(ue,Ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ue,Ae)}_originValidation(ue){return this.assertedUnderlyingResolver._originValidation(ue)}get _shouldInitProactively(){return pi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return un(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ue=this;return(0,w.Z)(function*(){if(ue.underlyingResolver)return;const Ae=yield function Qn(){return jn.apply(this,arguments)}();ue.underlyingResolver=Ae?ue.cordovaResolver:ue.browserResolver})()}}function Fn(Ce){return Ce.unwrap()}function Zi(Ce){return us(Ce)}function us(Ce){const{_tokenResponse:ue}=Ce instanceof pe.ZR?Ce.customData:Ce;if(!ue)return null;if(!(Ce instanceof pe.ZR)&&"temporaryProof"in ue&&"phoneNumber"in ue)return l.P.credentialFromResult(Ce);const Ae=ue.providerId;if(!Ae||Ae===l.o.PASSWORD)return null;let Et;switch(Ae){case l.o.GOOGLE:Et=l.Q;break;case l.o.FACEBOOK:Et=l.N;break;case l.o.GITHUB:Et=l.T;break;case l.o.TWITTER:Et=l.W;break;default:const{oauthIdToken:qt,oauthAccessToken:vn,oauthTokenSecret:$e,pendingToken:Le,nonce:ve}=ue;return vn||$e||qt||Le?Le?Ae.startsWith("saml.")?l.aL._create(Ae,Le):l.J._fromParams({providerId:Ae,signInMethod:Ae,pendingToken:Le,idToken:qt,accessToken:vn}):new l.U(Ae).credential({idToken:qt,accessToken:vn,rawNonce:ve}):null}return Ce instanceof pe.ZR?Et.credentialFromError(Ce):Et.credentialFromResult(Ce)}function lr(Ce,ue){return ue.catch(Ae=>{throw Ae instanceof pe.ZR&&function En(Ce,ue){var Ae;const Et=null===(Ae=ue.customData)||void 0===Ae?void 0:Ae._tokenResponse;if("auth/multi-factor-auth-required"===ue?.code)ue.resolver=new ls(Ce,l.an(Ce,ue));else if(Et){const qt=us(ue),vn=ue;qt&&(vn.credential=qt,vn.tenantId=Et.tenantId||void 0,vn.email=Et.email||void 0,vn.phoneNumber=Et.phoneNumber||void 0)}}(Ce,Ae),Ae}).then(Ae=>{const qt=Ae.user;return{operationType:Ae.operationType,credential:Zi(Ae),additionalUserInfo:l.al(Ae),user:gi.getOrCreate(qt)}})}function vs(Ce,ue){return or.apply(this,arguments)}function or(){return(or=(0,w.Z)(function*(Ce,ue){const Ae=yield ue;return{verificationId:Ae.verificationId,confirm:Et=>lr(Ce,Ae.confirm(Et))}})).apply(this,arguments)}class ls{constructor(ue,Ae){this.resolver=Ae,this.auth=function Ur(Ce){return Ce.wrapped()}(ue)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ue){return lr(Fn(this.auth),this.resolver.resolveSignIn(ue))}}class gi{constructor(ue){this._delegate=ue,this.multiFactor=l.ao(ue)}static getOrCreate(ue){return gi.USER_MAP.has(ue)||gi.USER_MAP.set(ue,new gi(ue)),gi.USER_MAP.get(ue)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ue){return this._delegate.getIdTokenResult(ue)}getIdToken(ue){return this._delegate.getIdToken(ue)}linkAndRetrieveDataWithCredential(ue){return this.linkWithCredential(ue)}linkWithCredential(ue){var Ae=this;return(0,w.Z)(function*(){return lr(Ae.auth,l.Z(Ae._delegate,ue))})()}linkWithPhoneNumber(ue,Ae){var Et=this;return(0,w.Z)(function*(){return vs(Et.auth,l.l(Et._delegate,ue,Ae))})()}linkWithPopup(ue){var Ae=this;return(0,w.Z)(function*(){return lr(Ae.auth,l.d(Ae._delegate,ue,Mn))})()}linkWithRedirect(ue){var Ae=this;return(0,w.Z)(function*(){return yield Xr(l.aE(Ae.auth)),l.g(Ae._delegate,ue,Mn)})()}reauthenticateAndRetrieveDataWithCredential(ue){return this.reauthenticateWithCredential(ue)}reauthenticateWithCredential(ue){var Ae=this;return(0,w.Z)(function*(){return lr(Ae.auth,l._(Ae._delegate,ue))})()}reauthenticateWithPhoneNumber(ue,Ae){return vs(this.auth,l.r(this._delegate,ue,Ae))}reauthenticateWithPopup(ue){return lr(this.auth,l.e(this._delegate,ue,Mn))}reauthenticateWithRedirect(ue){var Ae=this;return(0,w.Z)(function*(){return yield Xr(l.aE(Ae.auth)),l.h(Ae._delegate,ue,Mn)})()}sendEmailVerification(ue){return l.ab(this._delegate,ue)}unlink(ue){var Ae=this;return(0,w.Z)(function*(){return yield l.ak(Ae._delegate,ue),Ae})()}updateEmail(ue){return l.ag(this._delegate,ue)}updatePassword(ue){return l.ah(this._delegate,ue)}updatePhoneNumber(ue){return l.u(this._delegate,ue)}updateProfile(ue){return l.af(this._delegate,ue)}verifyBeforeUpdateEmail(ue,Ae){return l.ac(this._delegate,ue,Ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gi.USER_MAP=new WeakMap;const rn=l.ax;let jt=(()=>{class Ce{constructor(Ae,Et){if(this.app=Ae,Et.isInitialized())return this._delegate=Et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qt}=Ae.options;rn(qt,"invalid-api-key",{appName:Ae.name}),rn(qt,"invalid-api-key",{appName:Ae.name});const vn=typeof window<"u"?Mn:void 0;this._delegate=Et.initialize({options:{persistence:Vn(qt,Ae.name),popupRedirectResolver:vn}}),this._delegate._updateErrorMap(l.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Ae){this._delegate.languageCode=Ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Ae){this._delegate.tenantId=Ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Ae,Et){l.G(this._delegate,Ae,Et)}applyActionCode(Ae){return l.a2(this._delegate,Ae)}checkActionCode(Ae){return l.a3(this._delegate,Ae)}confirmPasswordReset(Ae,Et){return l.a1(this._delegate,Ae,Et)}createUserWithEmailAndPassword(Ae,Et){var qt=this;return(0,w.Z)(function*(){return lr(qt._delegate,l.a5(qt._delegate,Ae,Et))})()}fetchProvidersForEmail(Ae){return this.fetchSignInMethodsForEmail(Ae)}fetchSignInMethodsForEmail(Ae){return l.aa(this._delegate,Ae)}isSignInWithEmailLink(Ae){return l.a8(this._delegate,Ae)}getRedirectResult(){var Ae=this;return(0,w.Z)(function*(){rn(fr(),Ae._delegate,"operation-not-supported-in-this-environment");const Et=yield l.j(Ae._delegate,Mn);return Et?lr(Ae._delegate,Promise.resolve(Et)):{credential:null,user:null}})()}addFrameworkForLogging(Ae){!function zn(Ce,ue){(0,l.aE)(Ce)._logFramework(ue)}(this._delegate,Ae)}onAuthStateChanged(Ae,Et,qt){const{next:vn,error:$e,complete:Le}=gn(Ae,Et,qt);return this._delegate.onAuthStateChanged(vn,$e,Le)}onIdTokenChanged(Ae,Et,qt){const{next:vn,error:$e,complete:Le}=gn(Ae,Et,qt);return this._delegate.onIdTokenChanged(vn,$e,Le)}sendSignInLinkToEmail(Ae,Et){return l.a7(this._delegate,Ae,Et)}sendPasswordResetEmail(Ae,Et){return l.a0(this._delegate,Ae,Et||void 0)}setPersistence(Ae){var Et=this;return(0,w.Z)(function*(){let qt;switch(function Ti(Ce,ue){br(Object.values(dn).includes(ue),Ce,"invalid-persistence-type"),(0,pe.b$)()?br(ue!==dn.SESSION,Ce,"unsupported-persistence-type"):(0,pe.UG)()?br(ue===dn.NONE,Ce,"unsupported-persistence-type"):Br()?br(ue===dn.NONE||ue===dn.LOCAL&&(0,pe.hl)(),Ce,"unsupported-persistence-type"):br(ue===dn.NONE||fi(),Ce,"unsupported-persistence-type")}(Et._delegate,Ae),Ae){case dn.SESSION:qt=l.a;break;case dn.LOCAL:qt=(yield l.az(l.i)._isAvailable())?l.i:l.b;break;case dn.NONE:qt=l.L;break;default:return l.as("argument-error",{appName:Et._delegate.name})}return Et._delegate.setPersistence(qt)})()}signInAndRetrieveDataWithCredential(Ae){return this.signInWithCredential(Ae)}signInAnonymously(){return lr(this._delegate,l.X(this._delegate))}signInWithCredential(Ae){return lr(this._delegate,l.Y(this._delegate,Ae))}signInWithCustomToken(Ae){return lr(this._delegate,l.$(this._delegate,Ae))}signInWithEmailAndPassword(Ae,Et){return lr(this._delegate,l.a6(this._delegate,Ae,Et))}signInWithEmailLink(Ae,Et){return lr(this._delegate,l.a9(this._delegate,Ae,Et))}signInWithPhoneNumber(Ae,Et){return vs(this._delegate,l.s(this._delegate,Ae,Et))}signInWithPopup(Ae){var Et=this;return(0,w.Z)(function*(){return rn(fr(),Et._delegate,"operation-not-supported-in-this-environment"),lr(Et._delegate,l.c(Et._delegate,Ae,Mn))})()}signInWithRedirect(Ae){var Et=this;return(0,w.Z)(function*(){return rn(fr(),Et._delegate,"operation-not-supported-in-this-environment"),yield Xr(Et._delegate),l.f(Et._delegate,Ae,Mn)})()}updateCurrentUser(Ae){return this._delegate.updateCurrentUser(Ae)}verifyPasswordResetCode(Ae){return l.a4(this._delegate,Ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ce.Persistence=dn,Ce})();function gn(Ce,ue,Ae){let Et=Ce;"function"!=typeof Ce&&({next:Et,error:ue,complete:Ae}=Ce);const qt=Et;return{next:$e=>qt($e&&gi.getOrCreate($e)),error:ue,complete:Ae}}function Vn(Ce,ue){const Ae=function At(Ce,ue){const Ae=xn();if(!Ae)return[];const Et=l.aA(Ri,Ce,ue);switch(Ae.getItem(Et)){case dn.NONE:return[l.L];case dn.LOCAL:return[l.i,l.a];case dn.SESSION:return[l.a];default:return[]}}(Ce,ue);if(typeof self<"u"&&!Ae.includes(l.i)&&Ae.push(l.i),typeof window<"u")for(const Et of[l.b,l.a])Ae.includes(Et)||Ae.push(Et);return Ae.includes(l.L)||Ae.push(l.L),Ae}class Yt{constructor(){this.providerId="phone",this._delegate=new l.P(Fn(M.Z.auth()))}static credential(ue,Ae){return l.P.credential(ue,Ae)}verifyPhoneNumber(ue,Ae){return this._delegate.verifyPhoneNumber(ue,Ae)}unwrap(){return this._delegate}}Yt.PHONE_SIGN_IN_METHOD=l.P.PHONE_SIGN_IN_METHOD,Yt.PROVIDER_ID=l.P.PROVIDER_ID;const Cr=l.ax;class Ue{constructor(ue,Ae,Et=M.Z.app()){var qt;Cr(null===(qt=Et.options)||void 0===qt?void 0:qt.apiKey,"invalid-api-key",{appName:Et.name}),this._delegate=new l.R(ue,Ae,Et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qe(Ce){Ce.INTERNAL.registerComponent(new Ie.wA("auth-compat",ue=>{const Ae=ue.getProvider("app-compat").getImmediate(),Et=ue.getProvider("auth");return new jt(Ae,Et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:l.A.EMAIL_SIGNIN,PASSWORD_RESET:l.A.PASSWORD_RESET,RECOVER_EMAIL:l.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:l.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:l.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:l.A.VERIFY_EMAIL}},EmailAuthProvider:l.M,FacebookAuthProvider:l.N,GithubAuthProvider:l.T,GoogleAuthProvider:l.Q,OAuthProvider:l.U,SAMLAuthProvider:l.V,PhoneAuthProvider:Yt,PhoneMultiFactorGenerator:l.m,RecaptchaVerifier:Ue,TwitterAuthProvider:l.W,Auth:jt,AuthCredential:l.H,Error:pe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ce.registerVersion("@firebase/auth-compat","0.3.1")}(M.Z)},8766:(je,be,F)=>{"use strict";F.d(be,{Lj:()=>vt,X3:()=>Ct});var w=F(5861);let l,pe;const Ie=new WeakMap,_e=new WeakMap,Ee=new WeakMap,ge=new WeakMap,we=new WeakMap;let tt={get(pt,Vt,We){if(pt instanceof IDBTransaction){if("done"===Vt)return _e.get(pt);if("objectStoreNames"===Vt)return pt.objectStoreNames||Ee.get(pt);if("store"===Vt)return We.objectStoreNames[1]?void 0:We.objectStore(We.objectStoreNames[0])}return lt(pt[Vt])},set:(pt,Vt,We)=>(pt[Vt]=We,!0),has:(pt,Vt)=>pt instanceof IDBTransaction&&("done"===Vt||"store"===Vt)||Vt in pt};function Ye(pt){return"function"==typeof pt?function ft(pt){return pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pt)?function(...Vt){return pt.apply(ut(this),Vt),lt(Ie.get(this))}:function(...Vt){return lt(pt.apply(ut(this),Vt))}:function(Vt,...We){const Ge=pt.call(ut(this),Vt,...We);return Ee.set(Ge,Vt.sort?Vt.sort():[Vt]),lt(Ge)}}(pt):(pt instanceof IDBTransaction&&function dt(pt){if(_e.has(pt))return;const Vt=new Promise((We,Ge)=>{const Tt=()=>{pt.removeEventListener("complete",ct),pt.removeEventListener("error",Xt),pt.removeEventListener("abort",Xt)},ct=()=>{We(),Tt()},Xt=()=>{Ge(pt.error||new DOMException("AbortError","AbortError")),Tt()};pt.addEventListener("complete",ct),pt.addEventListener("error",Xt),pt.addEventListener("abort",Xt)});_e.set(pt,Vt)}(pt),((pt,Vt)=>Vt.some(We=>pt instanceof We))(pt,function me(){return l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pt,tt):pt)}function lt(pt){if(pt instanceof IDBRequest)return function Ne(pt){const Vt=new Promise((We,Ge)=>{const Tt=()=>{pt.removeEventListener("success",ct),pt.removeEventListener("error",Xt)},ct=()=>{We(lt(pt.result)),Tt()},Xt=()=>{Ge(pt.error),Tt()};pt.addEventListener("success",ct),pt.addEventListener("error",Xt)});return Vt.then(We=>{We instanceof IDBCursor&&Ie.set(We,pt)}).catch(()=>{}),we.set(Vt,pt),Vt}(pt);if(ge.has(pt))return ge.get(pt);const Vt=Ye(pt);return Vt!==pt&&(ge.set(pt,Vt),we.set(Vt,pt)),Vt}const ut=pt=>we.get(pt);function Ct(pt,Vt,{blocked:We,upgrade:Ge,blocking:Tt,terminated:ct}={}){const Xt=indexedDB.open(pt,Vt),Ft=lt(Xt);return Ge&&Xt.addEventListener("upgradeneeded",pn=>{Ge(lt(Xt.result),pn.oldVersion,pn.newVersion,lt(Xt.transaction))}),We&&Xt.addEventListener("blocked",()=>We()),Ft.then(pn=>{ct&&pn.addEventListener("close",()=>ct()),Tt&&pn.addEventListener("versionchange",()=>Tt())}).catch(()=>{}),Ft}function vt(pt,{blocked:Vt}={}){const We=indexedDB.deleteDatabase(pt);return Vt&&We.addEventListener("blocked",()=>Vt()),lt(We).then(()=>{})}const Nt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],$t=new Map;function Ze(pt,Vt){if(!(pt instanceof IDBDatabase)||Vt in pt||"string"!=typeof Vt)return;if($t.get(Vt))return $t.get(Vt);const We=Vt.replace(/FromIndex$/,""),Ge=Vt!==We,Tt=Dt.includes(We);if(!(We in(Ge?IDBIndex:IDBObjectStore).prototype)||!Tt&&!Nt.includes(We))return;const ct=function(){var Xt=(0,w.Z)(function*(Ft,...pn){const Gn=this.transaction(Ft,Tt?"readwrite":"readonly");let Jn=Gn.store;return Ge&&(Jn=Jn.index(pn.shift())),(yield Promise.all([Jn[We](...pn),Tt&&Gn.done]))[0]});return function(pn){return Xt.apply(this,arguments)}}();return $t.set(Vt,ct),ct}!function bt(pt){tt=pt(tt)}(pt=>({...pt,get:(Vt,We,Ge)=>Ze(Vt,We)||pt.get(Vt,We,Ge),has:(Vt,We)=>!!Ze(Vt,We)||pt.has(Vt,We)}))},5861:(je,be,F)=>{"use strict";function w(l,pe,me,Me,Ie,_e,Ee){try{var ge=l[_e](Ee),we=ge.value}catch(Ne){return void me(Ne)}ge.done?pe(we):Promise.resolve(we).then(Me,Ie)}function M(l){return function(){var pe=this,me=arguments;return new Promise(function(Me,Ie){var _e=l.apply(pe,me);function Ee(we){w(_e,Me,Ie,Ee,ge,"next",we)}function ge(we){w(_e,Me,Ie,Ee,ge,"throw",we)}Ee(void 0)})}}F.d(be,{Z:()=>M})}},je=>{var be=w=>je(je.s=w);be(310),be(5596)}]);